(function(e,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.main=n.exports}})(this,function(_exports){"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function assign(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),s="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(s)&&(s=0),o()}function n(t){{var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n}e.style.overflowY=t}function a(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return arr}function i(){if(0!==e.scrollHeight){var t=a(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+s+"px",r=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),n&&(document.documentElement.scrollTop=n)}}function o(){i();var t=_Mathround(parseFloat(e.style.height)),a=window.getComputedStyle(e,null),o="content-box"===a.boxSizing?_Mathround(parseFloat(a.height)):e.offsetHeight;if(o<t?"hidden"===a.overflowY&&(n("scroll"),i(),o="content-box"===a.boxSizing?_Mathround(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==a.overflowY&&(n("hidden"),i(),o="content-box"===a.boxSizing?_Mathround(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),l!==o){l=o;var s=createEvent("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!map.has(e)){var s=null,r=null,l=null,d=function(){e.clientWidth!==r&&o()},c=function(t){window.removeEventListener("resize",d,!1),e.removeEventListener("input",o,!1),e.removeEventListener("keyup",o,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",o,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),map.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",o,!1),window.addEventListener("resize",d,!1),e.addEventListener("input",o,!1),e.addEventListener("autosize:update",o,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",map.set(e,{destroy:c,update:o}),t()}}function destroy(e){var t=map.get(e);t&&t.destroy()}function update(e){var t=map.get(e);t&&t.update()}function config_notify(){var e={},t=config.find(["instances","terminal","logging"]);return url_params.hasOwnProperty("notification")?(t=url_params.notification.split(","),e={delete:0<=t.indexOf("del"),favourite:0<=t.indexOf("fav"),reblog:0<=t.indexOf("reb"),mention:0<=t.indexOf("men"),following:0<=t.indexOf("fol")}):"object"===_typeof(t)?e={delete:!1!==t&&!0===t.delete,favourite:!1!==t&&!1!==t.favourite,reblog:!1!==t&&!1!==t.reblog,mention:!1!==t&&!1!==t.mention,following:!1!==t&&!1!==t.following}:e={delete:!1,favourite:!0,reblog:!0,mention:!0,following:!0},e}function is_monitoring(e){var t=!1;if("undefined"!=typeof e)t=!0===ws.monitor[e];else for(var n in ws.stream)t=t||ws.stream[n].ws.readyState===WebSocket.OPEN;return t}function talk(e){var t=new SpeechSynthesisUtterance(e);t.rate=1.3,t.lang="ja-JP",speechSynthesis.speak(t)}function upload_img(e){var t=new FormData,n=ins.get(),a=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+a)).slideDown("first"),t.append("file",e),$.ajax("https://"+n.domain+"/api/v1/media",{type:"POST",contentType:!1,processData:!1,headers:{Authorization:n.token_type+" "+n.access_token},data:t}).then(function(e){$("#media_"+a).attr("data-id",e.id).attr("data-url",e.text_url);var t=new Image;t.onload=function(){$("#media_"+a).attr("src",e.preview_url),$("#toot_box").val($("#toot_box").val()+" "+e.text_url),autosize.update($("#toot_box")),count_toot_size()},t.onerror=function(t){console.log(t)},t.src=e.preview_url},function(e){$.terminal.active().error("Media upload error.("+e.status+")"),$("#media_"+a).remove(),console.log(e)})}function makeStatus(e,t){var n=null!==e.reblog,a="mention"===e.type,o=n?e.reblog:a?e.status:e,s=new Date(o.created_at);"object"!==_typeof(t)&&(t={});var r="undefined"==typeof t.ins_name?ins.name():t.ins_name,l=ins.get(t.ins_name),d={html:"",text:"",is_reblog:n,is_mention:a,instance:r,visibility:!0,payload:e,notification:{voice:!1,desktop:!1,color:!1}},c;null===o.application?c="":o.application.website?(c=$("<a />").text(o.application.name).attr("href",o.application.website).attr("target","_blank").prop("outerHTML"),c=" via "+c):c=" via "+o.application.name;var p=(n?$.terminal.format("[[!i;;]reblogged by "+escapeHtml(e.account.display_name)+" @"+e.account.acct+"]")+"<br />":"")+"[ "+("undefined"==typeof o.account.display_name?"":escapeHtml(o.account.display_name))+" "+$.terminal.format("[[!;;]@"+o.account.acct+"]")+" "+$("<i />").addClass("fa fa-"+(o.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("direct"===o.visibility||"private"===o.visibility?"times-circle-o":o.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===o.visibility?"globe":"unlisted"===o.visibility?"unlock":"private"===o.visibility?"lock":"direct"===o.visibility?"envelope":"question")).attr("aria-hidden","true").prop("outerHTML")+(o.in_reply_to_id?" "+$($("<i />").addClass("fa fa-commenting")).attr("aria-hidden","true").prop("outerHTML")+" ":"")+" "+s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2)+" "+("0"+s.getHours()).slice(-2)+":"+("0"+s.getMinutes()).slice(-2)+":"+("0"+s.getSeconds()).slice(-2)+"."+("00"+s.getMilliseconds()).slice(-3)+" ]"+c;p="<span>"+p+"</span>",d.text=$(p).text(),p=parse_twemoji(p);var m="";if(0<o.mentions.length){for(var D=0;D<o.mentions.length;D++)m+="@"+o.mentions[D].acct+" ";m=m.replace("@"+l.user.acct+" ","")}var u=$("<div />").addClass("status_cell status_avatar"),h=config.find("instances.status.avatar");if("undefined"==typeof h)u.hide();else{var g=o.account.avatar_static,f=o.account.avatar;g.match(/^http/)||(g="https://"+l.domain+g),f.match(/^http/)||(f="https://"+l.domain+f),u.append($("<img />").addClass("avatar_static").attr("name","avatar_s_"+o.account.id).attr("src",g)).append($("<img />").addClass("avatar_animate").attr("name","avatar_m_"+o.account.id).attr("src",f));var i=new Image;if(i.onload=function(){$("[name=avatar_s_"+o.account.id+"]").attr("src",g),g===f&&$("[name=avatar_m_"+o.account.id+"]").attr("src",g)},i.onerror=function(t){console.log(t)},i.src=g,o.account.avatar_static!==o.account.avatar){var N=new Image;N.onload=function(){$("[name=avatar_m_"+o.account.id+"]").attr("src",f)},N.onerror=function(t){console.log(t)},N.src=f}if(e.reblog){var y=e.account.avatar_static,_=$("<div />").append($("<img />").addClass("avatar_reblog").attr("name","avatar_s_"+e.account.id).attr("src",y)),x=new Image;x.onload=function(){$("[name=avatar_m_"+e.account.id+"]").attr("src",y)},x.onerror=function(t){console.log(t)},x.src=y,u.append(_)}}var b,v;if("undefined"!=typeof o.enquete&&null!==o.enquete){v=JSON.parse(o.enquete),question=v.question,$(question).find("span.fa-spin").length&&(question=$("<p />").append($(question).find("span").text()).prop("outerHTML")),question=question.replace(/^(?:<p>)?(.*?)(?:<\/p>)?$/g,"<p><span>$1"+("enquete"===v.type?"(\u56DE\u7B54\u67A0)":"(\u7D50\u679C)")+"</span></p>"),b=$("<div />").append(question);for(var w=$("<div />").addClass("status_"+v.type).attr("data-created",o.created_at),k=0;k<v.items.length;k++)"enquete"===v.type?w.append($("<span />").html(v.items[k])):w.append($("<span />").append($("<span />").addClass("progress ratio").text(v.ratios[k]+"%")).append($("<span />").addClass("progress item").text(v.items[k])).append($("<span />").addClass("proceed").css("width",v.ratios[k].toString()+"%")));b=b.append(w).prop("outerHTML")}else b=o.content,b=b.match(/^<.+>$/)?b.replace(/<p>(.*?)<\/p>/g,"<p><span>$1</span></p>"):$("<p />").append($("<span />").html(b)).prop("outerHTML"),$(b).find("span.fa-spin").length&&(b=$("<p />").append($(b).find("span").text()).prop("outerHTML"));var T;if(0<o.media_attachments.length){T=$("<div />").addClass("status_thumbnail"),o.media_attachments.forEach(function(e){var t=e.preview_url.match(/^https?:\/\//)?e.preview_url:"https://"+l.domain+e.preview_url,n=e.remote_url?e.remote_url:e.url,a="media_"+e.id;T.append($("<img />").attr("id",a).attr("src",t).attr("data-url",n).attr("data-type",e.type));var i=new Image;i.onload=function(){$("#"+a).attr("src",t)},i.onerror=function(t){console.log(t)},i.src=t});var P=config.find("instances.status.thumbnail");"undefined"==typeof P&&T.hide()}var C=$("<div />").addClass("status_contents").attr("id","status_contents"),E=o.spoiler_text,S;d.text+=(E.length?$("<div />").html(E).text():"")+$(b).text(),o.account.hasOwnProperty("profile_emojis")&&0<o.account.profile_emojis.length&&(p=parse_emojis(p,o.account.profile_emojis)),o.hasOwnProperty("profile_emojis")&&0<o.profile_emojis.length&&(b=parse_emojis(b,o.profile_emojis),E=parse_emojis(E,o.profile_emojis)),o.account.hasOwnProperty("emojis")&&0<o.account.emojis.length&&(p=parse_emojis(p,o.account.emojis)),o.hasOwnProperty("emojis")&&0<o.emojis.length&&(b=parse_emojis(b,o.emojis),E=parse_emojis(E,o.emojis)),b=parse_twemoji(b),E=parse_twemoji(E),o.sensitive?(S=$("<div />"),0<E.length?(C.append("<span>"+E+"</span>"),S.append(b)):C.append(b),"undefined"!=typeof T&&S.append(T)):(0<E.length?(C.append("<span>"+E+"</span>"),S=$("<div />"),S.append(b)):C.append(b),"undefined"!=typeof T&&C.append(T)),"undefined"!=typeof S&&C.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(S.hide());var j=$("<div />").addClass("status_cell status_main").append($("<div />").addClass("status_head").html(p)).append(C),A=$("<div />").attr("name","id_"+o.id).attr("data-sid",o.id).attr("data-instance",r).attr("data-uid",o.account.id).attr("data-dispname",o.account.display_name).attr("data-acct",o.account.acct).attr("data-fav",o.favorited?"1":"0").attr("data-reb",o.reblogged?"1":"0").attr("data-reply",m).addClass("status").append($("<div />").addClass("status_table").append(u).append($(j)));if(0===o.id&&A.attr("data-uri",o.uri),"mouseover"===h?A.addClass("status_mouseover"):"animation"===h?A.addClass("status_animation"):("standard"===h||!0===h)&&A.addClass("status_standard"),"string"==typeof t.tl_name){var R="stream_"+o.id;if(0<$("[name="+R+"]").length)return d.visibility=!1,d;var I=ws.stream.length-(!ws.monitor.home&&ws.monitor.notification?1:0);if(1<I){var q=$("<div />").attr("name",R).append($("<span />").html(t.tl_name+" streaming updated."));d.text=q.text()+d.text,A.prepend(q)}}if(ins.acls.hasOwnProperty(r))for(var H in ins.acls[r]){var M=ins.acls[r][H];if(d.text.match(M.regexp)){if("deny"===M.type){d.visibility=!1;break}else if("drop"===M.type)break;var z=url_params.hasOwnProperty("acl")?url_params.acl:"";z=z.split(","),"permit"===M.type&&M.hasOwnProperty("color")&&0>z.indexOf("col")&&(A.addClass("status_"+M.color),d.notification.color=M.color);config.find(["instances","terminal","monitor","notification"]);if("permit"===M.type&&M.notify&&0>z.indexOf("not")){var L="ACL "+H+": "+o.account.display_name+" @"+o.account.acct,O=$(o.content).text();100<O.length&&(O=O.slice(0,100)),d.notification.desktop={title:L,body:O,icon:o.account.avatar_static}}"permit"===M.type&&M.hasOwnProperty("voice")&&0>z.indexOf("voi")&&(d.notification.voice=M.voice);break}}return config.find("instances.status.separator")&&A.append("<div><span>"+Array($.terminal.active().cols()-5).join("-")+"</span></div>"),A.append($("<div />").addClass("status_all").css("display","none").text(JSON.stringify(e))),d.html=A.prop("outerHTML"),d}function make_notification(e,t){var n="favourite"===e.type&&t.favourite,a="reblog"===e.type&&t.reblog,i="follow"===e.type&&t.following,o="mention"===e.type&&t.mention,s={html:""},r="";if(n||a||i||o){var l=e.status?$.terminal.escape_brackets($(e.status.content).text()):"(Status was deleted)";100<l.length&&(l=l.slice(0,100)+" ..."),r="<i class=\"fa fa-"+("favourite"===e.type?"star":"reblog"===e.type?"retweet":"mention"===e.type?"commenting":"follow"===e.type?"handshake-o":"bell")+"\" aria-hidden=\"true\"></i> "+e.account.display_name+" "+$.terminal.format("[[!;;]@"+e.account.acct+"]")+"<br />"+(e.status?l:""),r=$("<span />").html(r).addClass("status_notify").prop("outerHTML"),e.account.hasOwnProperty("profile_emojis")&&0<e.account.profile_emojis.length&&(r=parse_emojis(r,e.status.account.profile_emojis)),e.hasOwnProperty("emojis")&&0<e.emojis.length&&(r=parse_emojis(r,contents.emojis)),r=parse_twemoji(r),"mention"===e.type&&(s.status=makeStatus(e.status),r+=s.status.html)}return s.html=r,s}function parse_emojis(e){for(var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=function(n){var a="emoji_"+t[n].shortcode.replace(/^@/,"p-"),i=t[n].url,o=":"+t[n].shortcode+":",s=$("<img />").addClass("emoji").attr("name",a).attr("alt",o).attr("title",o).attr("src",i),r=new RegExp(o+"(?!\")","g");e=e.replace(r,s.prop("outerHTML"));var l=new Image;l.onload=function(){$("[name="+a+"]").attr("src",i)},l.onerror=function(t){console.log(t)},l.src=i},a=0;a<t.length;a++)n(a);return e}function parse_twemoji(e){return twemoji.parse(e,{attributes:function n(e,t){return{title:t}}})}function parse_sid(e){var t=new String(e),n={};return 16<t.length?(n.type="unix_id",n.unix=parseInt(t/65536),n.front=t.slice(0,-6),n.rear=t.slice(-6),n.id=t.toString()):parseInt(t.toString())?(n.type="number",n.id=t.toString()):n.type="error",n}function post_status(){var e=$("#toot_box").val().trim(),t=ins.get(),n=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===e.length||0>n)return!1;if("undefined"==typeof t&&"undefined"==typeof t.access_token)return!1;e=e.replace(/(:[a-zA-Z0-9_]{2,}:) /g,"$1\u200B").replace(/ (:[a-zA-Z0-9_]{2,}:)/g,"\u200B$1");var a=$("#toot_cw").val().trim(),o=$("#toot_visibility").val(),s={status:e,visibility:o};0!==a.length&&(a=a.replace(/(:[a-zA-Z0-9_]{2,}:) /g,"$1\u200B").replace(/ (:[a-zA-Z0-9_]{2,}:)/g,"\u200B$1"),s.spoiler_text=a);var r=$(".reply #sid").text();""!==r&&(s.in_reply_to_id=r),s.media_ids=[];for(var l=$("#toot_media img"),d=0;d<l.length;d++)s.media_ids.push($(l[d]).data("id"));return 0<s.media_ids.length&&(s.sensitive=$("#nsfw").prop("checked")),$.ajax({url:"https://"+t.domain+"/api/v1/statuses",type:"POST",headers:{Authorization:t.token_type+" "+t.access_token},data:s,timeout:5e3}).then(function(){var e=config.find("instances.visibility");"undefined"==typeof e&&(e="public"),$("#toot_cw").val(""),$("#toot_visibility").val(e),$("#reply_close").trigger("click"),$("#toot_media").html(""),$("#toot_box").val("").trigger("keyup").focus(),autosize.update($("#toot_box"))},function(e){$.terminal.active().error("Toot post error.("+e.status+")"),console.log(e)})}function reduce_output(){for(var e=$(".terminal-output>div"),t=e.length-220,n=0;n<t;n++)$(e[n]).remove()}function callAPI(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="undefined"==typeof t.instance_name?ins.get():ins.get(t.instance_name),a;return"undefined"==typeof e?(a=new $.Deferred,a.reject("Undefined path")):"undefined"==typeof n?(a=new $.Deferred,a.reject("No instance")):"undefined"==typeof n.access_token?(a=new $.Deferred,a.reject("No login")):a=$.ajax({url:"https://"+n.domain+e,type:"undefined"==typeof t.type?"GET":t.type,headers:{Authorization:n.token_type+" "+n.access_token},data:_typeof(t.data)?t.data:"",dataType:"json",timeout:5e3}).done(function(e,t,n){return n}).fail(function(n){return term_error("API Request Error",{path:e,opts:t}),n}),a}function callMore(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},a=20,o=[],i={},s=!0,r,l;n.hasOwnProperty("params")&&(i=n.params),n.hasOwnProperty("limit")&&(a=n.limit),r=n.hasOwnProperty("term")?n.term:$.terminal.active(),n.hasOwnProperty("raw")&&(s=n.raw),r.push(function(){reduce_output()},{name:"more",prompt:"--More-- ",onStart:function r(o){o.pause(),i.limit=a,callAPI(e,{type:"GET",data:i}).then(function(e,a,r){n.hasOwnProperty("header")&&o.echo(n.header);for(var d=0,i;d<e.length;d++)i=t(e[d]),i&&o.echo(i,{raw:s}),l=n.hasOwnProperty("next")?n.next(e,r):e[d].id;0>=l&&o.pop(),o.resume()},function(e){o.error("Getting data is failed.("+e.status+")"),console.log(e),o.pop(),o.resume()})},onExit:function t(e){n.hasOwnProperty("footer")&&e.echo(n.footer),setTimeout(function(){e.set_command("")},10),e.resume()},keydown:function p(r,d){function c(e){if(0<e){e=o.length<e?o.length:e;for(var t=0,n;t<e;t++)n=o.shift(),d.echo(n,{raw:s,flush:!1});d.flush()}}switch(r.keyCode){case 27:case 81:d.pop(),d.set_command("");case 16:case 17:case 18:break;case 13:default:d.pause();var m=13===r.keyCode?1:a;i.limit=100,0<l?i.max_id=l:0===o.length&&d.pop(),0<o.length?(c(m),d.resume(),0===o.length&&0>=l&&d.pop()):callAPI(e,{type:"GET",data:i}).then(function(e,a,s){if(0===e.length)return void d.pop();o=[];for(var r=0,i;r<e.length;r++)i=t(e[r]),i&&o.push(i),l=n.hasOwnProperty("next")?n.next(e,s):e[r].id;c(m),d.resume(),0===o.length&&0>=l&&d.pop()},function(e){console.log(e),d.error("Getting data is failed.("+e.status+")")}),setTimeout(function(){d.set_command("")},10);}return reduce_output(),!0}})}function favourite(e,t){if(0>=$(e).data("sid"))return void t.error("couldn't send a request (search engine status).");var n=1==$(e).data("fav"),a=$(e).find(".status_head i"),i="/api/v1/statuses/"+$(e).data("sid").toString()+(n?"/unfavourite":"/favourite");"undefined"==typeof t&&(t=$.terminal.active()),$(a[0]).removeClass().addClass("fa fa-spinner fa-pulse"),callAPI(i,{instance_name:$(e).data("instance"),type:"POST"}).then(function(i){$("[name=id_"+$(e).data("sid").toString()+"]").each(function(e,t){$(a[0]).removeClass().addClass("fa fa-"+(i.favourited?"star":"star-o")),$(t).data("fav",i.favourited?"1":"0")}),n===i.favourited&&t.error("favourited missed...")},function(e){$.terminal.active().error("Favorite failed.("+e.status+")"),$(a[0]).removeClass().addClass("fa fa-"+(n?"star":"star-o")),console.log(e)})}function closeTootbox(){$("#sid").text(""),$("#reply").hide(),$("#toot_box").val(""),$("#toot").slideUp("first"),$.terminal.active().enable()}function boost(e){if(0>=$(e).data("sid"))return void term.error("couldn't send a request (search engine status).");var t=$(e).find(".status_head i");if(!$(t[1]).hasClass("fa-times-circle-o")){var n=1==$(e).data("reb"),a="/api/v1/statuses/"+$(e).data("sid").toString()+(n?"/unreblog":"/reblog");"undefined"==typeof term&&(term=$.terminal.active()),$(t[1]).removeClass().addClass("fa fa-spinner fa-pulse"),callAPI(a,{instance_name:$(e).data("instance"),type:"POST"}).then(function(a){$("[name=id_"+$(e).data("sid").toString()+"]").each(function(e,n){$(t[1]).removeClass().addClass("fa fa-"+(a.reblogged?"check-circle-o":"retweet")),$(n).data("reb",a.reblogged?"1":"0")}),n===a.reblogged&&term.error("reblogged missed...")},function(e){$.terminal.active().error("Reblogged failed.("+e.status+")"),$(t[1]).removeClass().addClass("fa fa-"+(n?"check-circle-o":"retweet")),console.log(e)})}}function tab(e,t,n){for(var a=escape(e).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x"),o=a.length,s=n<=o?e.substr(0,n-4)+"... ":e,r=o;r<n;r++,s+=" ");return s+t}function term_error(e,t){var n=new Date,a=localStorage.getItem("configuration"),i=localStorage.getItem("term_error"),o;i=i?JSON.parse(i):[],a=a?a:{},o="object"===_typeof(t)?JSON.parse(JSON.stringify(t)):t?t:{};var s=JSON.stringify({running_config:config.config,startup_config:a,default_config:config.default,instances:ins.instances,status:{message:e,created_at:n.getTime()},params:o});i.push(JSON.parse(s)),5<i.length&&i.shift(),localStorage.setItem("term_error",JSON.stringify(i))}function OutputText(e,t){var n=new Blob(["\uFEFF",e]);if(navigator.msSaveBlob)navigator.msSaveOrOpenBlob(n,t);else{var i=$("<a />").attr("href",URL.createObjectURL(n)).attr("download",t).attr("target","_blank");$("body").append(i),i[0].click(),i.remove()}}function escapeHtml(e){return"string"==typeof e?e.replace(/[&'`"<>]/g,function(e){return{"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e]}):e}function more(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},a=e.rows(),o=e.get_command(),s=0;e.push(function(){},{name:"more",prompt:"--More-- ",onStart:function i(e){e.echo(t.slice(s,s+a).join("\n"),n.echo_opt),s+=a,s>t.length&&(e.pop(),n.reverse&&e.set_command(o)),e.resume()},keydown:function r(e,i){switch(e.keyCode){case 81:i.pop(),n.reverse&&i.set_command(o);break;case 13:i.echo(t.slice(s,s+1).join("\n"),n.echo_opt),s++,s>t.length&&(i.pop(),n.reverse&&i.set_command(o));break;default:i.echo(t.slice(s,s+a).join("\n"),n.echo_opt),s+=a,s>t.length&&(i.pop(),n.reverse&&i.set_command(o)),i.set_command("");}return!1}})}function begin(e,t,n,a){var o=0;for(o=0;o<t.length&&!t[o].match(a);o++);more(e,t.slice(o),n,a)}function include(e,t,n,a){for(var o=[],s=0;s<t.length;s++)t[s].match(a)&&o.push(t[s]);more(e,o,n)}function exclude(e,t,n,a){for(var o=[],s=0;s<t.length;s++)t[s].match(a)||o.push(t[s]);more(e,o,n)}var _Stringprototype=String.prototype,_Mathabs=Math.abs,_Mathmax=Math.max,_Mathround=Math.round,_StringfromCharCode=String.fromCharCode;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,function(e,t){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"==typeof window?void 0:window,function(e,t){function n(e,t,n){t=t||le;var a=t.createElement("script"),o;if(a.text=e,n)for(o in we)n[o]&&(a[o]=n[o]);t.head.appendChild(a).parentNode.removeChild(a)}function a(e){return null==e?e+"":"object"===_typeof(e)||"function"==typeof e?he[ge.call(e)]||"object":_typeof(e)}function o(e){var t=!!e&&"length"in e&&e.length,n=a(e);return!(be(e)||ve(e))&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function s(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function i(e,t,n){return be(t)?Te.grep(e,function(e,a){return!!t.call(e,a,e)!==n}):t.nodeType?Te.grep(e,function(e){return e===t!==n}):"string"==typeof t?Te.filter(t,e,n):Te.grep(e,function(e){return-1<ue.call(t,e)!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function l(e){var t={};return Te.each(e.match(Ie)||[],function(e,n){t[n]=!0}),t}function d(e){return e}function c(e){throw e}function p(e,t,n,a){var i;try{e&&be(i=e.promise)?i.call(e).done(t).fail(n):e&&be(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(e){n.apply(void 0,[e])}}function m(){le.removeEventListener("DOMContentLoaded",m),e.removeEventListener("load",m),Te.ready()}function u(e,t){return t.toUpperCase()}function h(e){return e.replace(ze,"ms-").replace(Fe,u)}function g(){this.expando=Te.expando+g.uid++}function f(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ge.test(e)?JSON.parse(e):e)}function y(e,t,n){var a;if(void 0===n&&1===e.nodeType)if(a="data-"+t.replace($e,"-$&").toLowerCase(),n=e.getAttribute(a),"string"==typeof n){try{n=f(n)}catch(t){}Ue.set(e,t,n)}else n=void 0;return n}function _(e,t,n,a){var i=20,o=a?function(){return a.cur()}:function(){return Te.css(e,t,"")},s=o(),r=n&&n[3]||(Te.cssNumber[t]?"":"px"),l=(Te.cssNumber[t]||"px"!==r&&+s)&&Ye.exec(Te.css(e,t)),d,c;if(l&&l[3]!==r){for(s/=2,r=r||l[3],l=+s||1;i--;)Te.style(e,t,l+r),0>=(1-c)*(1-(c=o()/s||.5))&&(i=0),l/=c;l*=2,Te.style(e,t,l+r),n=n||[]}return n&&(l=+l||+s||0,d=n[1]?l+(n[1]+1)*n[2]:+n[2],a&&(a.unit=r,a.start=l,a.end=d)),d}function x(e){var t=e.ownerDocument,n=e.nodeName,a=Qe[n],i;return a?a:(i=t.body.appendChild(t.createElement(n)),a=Te.css(i,"display"),i.parentNode.removeChild(i),"none"===a&&(a="block"),Qe[n]=a,a)}function b(e,t){for(var n=[],a=0,i=e.length,o,s;a<i;a++)(s=e[a],!!s.style)&&(o=s.style.display,t?("none"===o&&(n[a]=Be.get(s,"display")||null,!n[a]&&(s.style.display="")),""===s.style.display&&Ve(s)&&(n[a]=x(s))):"none"!==o&&(n[a]="none",Be.set(s,"display",o)));for(a=0;a<i;a++)null!=n[a]&&(e[a].style.display=n[a]);return e}function v(e,t){var n;return n="undefined"==typeof e.getElementsByTagName?"undefined"==typeof e.querySelectorAll?[]:e.querySelectorAll(t||"*"):e.getElementsByTagName(t||"*"),void 0===t||t&&s(e,t)?Te.merge([e],n):n}function w(e,t){for(var n=0,a=e.length;n<a;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function k(e,t,n,o,s){for(var r=t.createDocumentFragment(),d=[],c=0,p=e.length,l,m,u,h,g,f;c<p;c++)if(l=e[c],l||0===l)if("object"===a(l))Te.merge(d,l.nodeType?[l]:l);else if(!at.test(l))d.push(t.createTextNode(l));else{for(m=m||r.appendChild(t.createElement("div")),u=(et.exec(l)||["",""])[1].toLowerCase(),h=nt[u]||nt._default,m.innerHTML=h[1]+Te.htmlPrefilter(l)+h[2],f=h[0];f--;)m=m.lastChild;Te.merge(d,m.childNodes),m=r.firstChild,m.textContent=""}for(r.textContent="",c=0;l=d[c++];){if(o&&-1<Te.inArray(l,o)){s&&s.push(l);continue}if(g=Te.contains(l.ownerDocument,l),m=v(r.appendChild(l),"script"),g&&w(m),n)for(f=0;l=m[f++];)tt.test(l.type||"")&&n.push(l)}return r}function T(){return!0}function C(){return!1}function E(){try{return le.activeElement}catch(e){}}function S(e,t,n,a,i,o){var s,r;if("object"===_typeof(t)){for(r in"string"!=typeof n&&(a=a||n,n=void 0),t)S(e,r,n,a,t[r],o);return e}if(null==a&&null==i?(i=n,a=n=void 0):null==i&&("string"==typeof n?(i=a,a=void 0):(i=a,a=n,n=void 0)),!1===i)i=C;else if(!i)return e;return 1===o&&(s=i,i=function(e){return Te().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,i,a,n)})}function j(e,t){return s(e,"table")&&s(11===t.nodeType?t.firstChild:t,"tr")?Te(e).children("tbody")[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function O(e,t){var n,a,o,s,r,d,c,p;if(1===t.nodeType){if(Be.hasData(e)&&(s=Be.access(e),r=Be.set(t,s),p=s.events,p))for(o in delete r.handle,r.events={},p)for(n=0,a=p[o].length;n<a;n++)Te.event.add(t,o,p[o][n]);Ue.hasData(e)&&(d=Ue.access(e),c=Te.extend({},d),Ue.set(t,c))}}function D(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ze.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function N(e,t,a,o){t=pe.apply([],t);var s=0,r=e.length,l=t[0],d=be(l),c,p,m,u,h,g;if(d||1<r&&"string"==typeof l&&!xe.checkClone&&ct.test(l))return e.each(function(n){var i=e.eq(n);d&&(t[0]=l.call(this,n,i.html())),N(i,t,a,o)});if(r&&(c=k(t,e[0].ownerDocument,!1,e,o),p=c.firstChild,1===c.childNodes.length&&(c=p),p||o)){for(m=Te.map(v(c,"script"),A),u=m.length;s<r;s++)h=c,s!=r-1&&(h=Te.clone(h,!0,!0),u&&Te.merge(m,v(h,"script"))),a.call(e[s],h,s);if(u)for(g=m[m.length-1].ownerDocument,Te.map(m,L),s=0;s<u;s++)h=m[s],tt.test(h.type||"")&&!Be.access(h,"globalEval")&&Te.contains(g,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?Te._evalUrl&&Te._evalUrl(h.src):n(h.textContent.replace(pt,""),g,h))}return e}function P(e,t,n){for(var a=t?Te.filter(t,e):e,o=0,s;null!=(s=a[o]);o++)n||1!==s.nodeType||Te.cleanData(v(s)),s.parentNode&&(n&&Te.contains(s.ownerDocument,s)&&w(v(s,"script")),s.parentNode.removeChild(s));return e}function R(e,t,n){var a=e.style,i,o,s,r;return n=n||ut(e),n&&(r=n.getPropertyValue(t)||n[t],""===r&&!Te.contains(e.ownerDocument,e)&&(r=Te.style(e,t)),!xe.pixelBoxStyles()&&mt.test(r)&&ht.test(t)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0===r?r:r+""}function I(e,t){return{get:function n(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function q(e){if(e in bt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=xt.length;n--;)if(e=xt[n]+t,e in bt)return e}function H(e){var t=Te.cssProps[e];return t||(t=Te.cssProps[e]=q(e)||e),t}function M(e,t,n){var a=Ye.exec(t);return a?_Mathmax(0,a[2]-(n||0))+(a[3]||"px"):t}function z(e,t,n,a,o,s){var r="width"===t?1:0,l=0,d=0;if(n===(a?"border":"content"))return 0;for(;4>r;r+=2)"margin"===n&&(d+=Te.css(e,n+Xe[r],!0,o)),a?("content"===n&&(d-=Te.css(e,"padding"+Xe[r],!0,o)),"margin"!==n&&(d-=Te.css(e,"border"+Xe[r]+"Width",!0,o))):(d+=Te.css(e,"padding"+Xe[r],!0,o),"padding"===n?l+=Te.css(e,"border"+Xe[r]+"Width",!0,o):d+=Te.css(e,"border"+Xe[r]+"Width",!0,o));return!a&&0<=s&&(d+=_Mathmax(0,se(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-d-l-.5))),d}function F(e,t,n){var a=ut(e),i=R(e,t,a),o="border-box"===Te.css(e,"boxSizing",!1,a),s=o;if(mt.test(i)){if(!n)return i;i="auto"}return s=s&&(xe.boxSizingReliable()||i===e.style[t]),"auto"!==i&&(parseFloat(i)||"inline"!==Te.css(e,"display",!1,a))||(i=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),i=parseFloat(i)||0,i+z(e,t,n||(o?"border":"content"),s,a,i)+"px"}function W(e,t,n,a,i){return new W.prototype.init(e,t,n,a,i)}function B(){Tt&&(!1===le.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(B):e.setTimeout(B,Te.fx.interval),Te.fx.tick())}function U(){return e.setTimeout(function(){kt=void 0}),kt=Date.now()}function G(e,t){var n=0,a={height:e},o;for(t=t?1:0;4>n;n+=2-t)o=Xe[n],a["margin"+o]=a["padding"+o]=e;return t&&(a.opacity=a.width=e),a}function K(e,t,n){for(var a=(V.tweeners[t]||[]).concat(V.tweeners["*"]),i=0,o=a.length,s;i<o;i++)if(s=a[i].call(n,t,e))return s}function Y(e,t,n){var a="width"in t||"height"in t,i=this,o={},s=e.style,r=e.nodeType&&Ve(e),l=Be.get(e,"fxshow"),d,c,p,m,u,h,g,f;for(d in n.queue||(m=Te._queueHooks(e,"fx"),null==m.unqueued&&(m.unqueued=0,u=m.empty.fire,m.empty.fire=function(){m.unqueued||u()}),m.unqueued++,i.always(function(){i.always(function(){m.unqueued--,Te.queue(e,"fx").length||m.empty.fire()})})),t)if(c=t[d],vt.test(c)){if(delete t[d],p=p||"toggle"===c,c===(r?"hide":"show"))if("show"===c&&l&&void 0!==l[d])r=!0;else continue;o[d]=l&&l[d]||Te.style(e,d)}if(h=!Te.isEmptyObject(t),h||!Te.isEmptyObject(o))for(d in a&&1===e.nodeType&&(n.overflow=[s.overflow,s.overflowX,s.overflowY],g=l&&l.display,null==g&&(g=Be.get(e,"display")),f=Te.css(e,"display"),"none"===f&&(g?f=g:(b([e],!0),g=e.style.display||g,f=Te.css(e,"display"),b([e]))),("inline"===f||"inline-block"===f&&null!=g)&&"none"===Te.css(e,"float")&&(!h&&(i.done(function(){s.display=g}),null==g&&(f=s.display,g="none"===f?"":f)),s.display="inline-block")),n.overflow&&(s.overflow="hidden",i.always(function(){s.overflow=n.overflow[0],s.overflowX=n.overflow[1],s.overflowY=n.overflow[2]})),h=!1,o)h||(l?"hidden"in l&&(r=l.hidden):l=Be.access(e,"fxshow",{display:g}),p&&(l.hidden=!r),r&&b([e],!0),i.done(function(){for(d in r||b([e]),Be.remove(e,"fxshow"),o)Te.style(e,d,o[d])})),h=K(r?l[d]:0,d,i),d in l||(l[d]=h.start,r&&(h.end=h.start,h.start=0))}function X(e,t){var n,a,i,o,s;for(n in e)if(a=h(n),i=t[a],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==a&&(e[a]=o,delete e[n]),s=Te.cssHooks[a],s&&"expand"in s)for(n in o=s.expand(o),delete e[a],o)n in e||(e[n]=o[n],t[n]=i);else t[a]=i}function V(e,t,n){var a=0,i=V.prefilters.length,o=Te.Deferred().always(function(){delete s.elem}),s=function(){if(c)return!1;for(var t=kt||U(),n=_Mathmax(0,r.startTime+r.duration-t),a=n/r.duration||0,i=1-a,s=0,l=r.tweens.length;s<l;s++)r.tweens[s].run(i);return(o.notifyWith(e,[r,i,n]),1>i&&l)?n:(l||o.notifyWith(e,[r,1,0]),o.resolveWith(e,[r]),!1)},r=o.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},n),originalProperties:t,originalOptions:n,startTime:kt||U(),duration:n.duration,tweens:[],createTween:function(t,n){var a=Te.Tween(e,r.opts,t,n,r.opts.specialEasing[t]||r.opts.easing);return r.tweens.push(a),a},stop:function i(t){var n=0,a=t?r.tweens.length:0;if(c)return this;for(c=!0;n<a;n++)r.tweens[n].run(1);return t?(o.notifyWith(e,[r,1,0]),o.resolveWith(e,[r,t])):o.rejectWith(e,[r,t]),this}}),l=r.props,d,c;for(X(l,r.opts.specialEasing);a<i;a++)if(d=V.prefilters[a].call(r,e,l,r.opts),d)return be(d.stop)&&(Te._queueHooks(r.elem,r.opts.queue).stop=d.stop.bind(d)),d;return Te.map(l,K,r),be(r.opts.start)&&r.opts.start.call(e,r),r.progress(r.opts.progress).done(r.opts.done,r.opts.complete).fail(r.opts.fail).always(r.opts.always),Te.fx.timer(Te.extend(s,{elem:e,anim:r,queue:r.opts.queue})),r}function J(e){var t=e.match(Ie)||[];return t.join(" ")}function Q(e){return e.getAttribute&&e.getAttribute("class")||""}function Z(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Ie)||[]:[]}function ee(e,t,n,o){if(Array.isArray(t))Te.each(t,function(t,a){n||Rt.test(e)?o(e,a):ee(e+"["+("object"===_typeof(a)&&null!=a?t:"")+"]",a,n,o)});else if(!n&&"object"===a(t))for(var i in t)ee(e+"["+i+"]",t[i],n,o);else o(e,t)}function te(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var a=0,o=t.toLowerCase().match(Ie)||[],s;if(be(n))for(;s=o[a++];)"+"===s[0]?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(n)):(e[s]=e[s]||[]).push(n)}}function ne(e,t,n,a){function i(r){var l;return o[r]=!0,Te.each(e[r]||[],function(e,r){var d=r(t,n,a);return"string"!=typeof d||s||o[d]?s?!(l=d):void 0:(t.dataTypes.unshift(d),i(d),!1)}),l}var o={},s=e===Kt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ae(e,t){var n=Te.ajaxSettings.flatOptions||{},a,i;for(a in t)void 0!==t[a]&&((n[a]?e:i||(i={}))[a]=t[a]);return i&&Te.extend(!0,e,i),e}function ie(e,t,n){for(var a=e.contents,i=e.dataTypes,o,s,r,l;"*"===i[0];)i.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(s in a)if(a[s]&&a[s].test(o)){i.unshift(s);break}if(i[0]in n)r=i[0];else{for(s in n){if(!i[0]||e.converters[s+" "+i[0]]){r=s;break}l||(l=s)}r=r||l}return r?(r!==i[0]&&i.unshift(r),n[r]):void 0}function oe(e,t,n,a){var i={},o=e.dataTypes.slice(),s,r,l,d,c;if(o[1])for(l in e.converters)i[l.toLowerCase()]=e.converters[l];for(r=o.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!c&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=r,r=o.shift(),r)if("*"===r)r=c;else if("*"!==c&&c!=r){if(l=i[c+" "+r]||i["* "+r],!l)for(s in i)if(d=s.split(" "),d[1]===r&&(l=i[c+" "+d[0]]||i["* "+d[0]],l)){!0===l?l=i[s]:!0!==i[s]&&(r=d[0],o.unshift(d[1]));break}if(!0!==l)if(l&&e.throws)t=l(t);else try{t=l(t)}catch(t){return{state:"parsererror",error:l?t:"No conversion from "+c+" to "+r}}}return{state:"success",data:t}}var se=Math.ceil,re=[],le=e.document,de=Object.getPrototypeOf,ce=re.slice,pe=re.concat,me=re.push,ue=re.indexOf,he={},ge=he.toString,fe=he.hasOwnProperty,ye=fe.toString,_e=ye.call(Object),xe={},be=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},ve=function(e){return null!=e&&e===e.window},we={type:!0,src:!0,noModule:!0},ke="3.3.1",Te=function(e,t){return new Te.fn.init(e,t)},Ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.fn=Te.prototype={jquery:ke,constructor:Te,length:0,toArray:function e(){return ce.call(this)},get:function t(e){return null==e?ce.call(this):0>e?this[e+this.length]:this[e]},pushStack:function n(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function t(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function e(){return this.pushStack(ce.apply(this,arguments))},first:function e(){return this.eq(0)},last:function e(){return this.eq(-1)},eq:function a(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function e(){return this.prevObject||this.constructor()},push:me,sort:re.sort,splice:re.splice},Te.extend=Te.fn.extend=function(){var e=arguments[0]||{},t=1,n=arguments.length,a=!1,o,s,r,l,d,c;for("boolean"==typeof e&&(a=e,e=arguments[t]||{},t++),"object"===_typeof(e)||be(e)||(e={}),t===n&&(e=this,t--);t<n;t++)if(null!=(o=arguments[t]))for(s in o)(r=e[s],l=o[s],e!==l)&&(a&&l&&(Te.isPlainObject(l)||(d=Array.isArray(l)))?(d?(d=!1,c=r&&Array.isArray(r)?r:[]):c=r&&Te.isPlainObject(r)?r:{},e[s]=Te.extend(a,c,l)):void 0!==l&&(e[s]=l));return e},Te.extend({expando:"jQuery"+(ke+Math.random()).replace(/\D/g,""),isReady:!0,error:function t(e){throw new Error(e)},noop:function e(){},isPlainObject:function a(e){var t,n;return!!(e&&"[object Object]"===ge.call(e))&&((t=de(e),!!!t)||(n=fe.call(t,"constructor")&&t.constructor,"function"==typeof n&&ye.call(n)===_e))},isEmptyObject:function n(e){for(var t in e)return!1;return!0},globalEval:function t(e){n(e)},each:function s(e,t){var n=0,a;if(o(e))for(a=e.length;n<a&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function t(e){return null==e?"":(e+"").replace(Ce,"")},makeArray:function a(e,t){var n=t||[];return null!=e&&(o(Object(e))?Te.merge(n,"string"==typeof e?[e]:e):me.call(n,e)),n},inArray:function a(e,t,n){return null==t?-1:ue.call(t,e,n)},merge:function s(e,t){for(var n=+t.length,a=0,o=e.length;a<n;a++)e[o++]=t[a];return e.length=o,e},grep:function l(e,t,n){for(var a=[],o=0,s=e.length,r;o<s;o++)r=!t(e[o],o),r!==!n&&a.push(e[o]);return a},map:function(e,t,n){var a=0,s=[],r,l;if(o(e))for(r=e.length;a<r;a++)l=t(e[a],a,n),null!=l&&s.push(l);else for(a in e)l=t(e[a],a,n),null!=l&&s.push(l);return pe.apply([],s)},guid:1,support:xe}),"function"==typeof Symbol&&(Te.fn[Symbol.iterator]=re[Symbol.iterator]),Te.each(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error","Symbol"],function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Ee=function(e){function t(e,t,n,a){var o=t&&t.ownerDocument,s=t?t.nodeType:9,r,l,d,c,p,u,g;if(n=n||[],"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!a&&((t?t.ownerDocument||t:k)!==ge&&he(t),t=t||ge,ye)){if(11!==s&&(p=X.exec(e)))if(!(r=p[1])){if(p[2])return P.apply(n,t.getElementsByTagName(e)),n;if((r=p[3])&&ie.getElementsByClassName&&t.getElementsByClassName)return P.apply(n,t.getElementsByClassName(r)),n}else if(9===s){if(!(d=t.getElementById(r)))return n;if(d.id===r)return n.push(d),n}else if(o&&(d=o.getElementById(r))&&ve(t,d)&&d.id===r)return n.push(d),n;if(ie.qsa&&!j[e+" "]&&(!_e||!_e.test(e))){if(1!==s)o=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(Z,ee):t.setAttribute("id",c=w),u=le(e),l=u.length;l--;)u[l]="#"+c+" "+h(u[l]);g=u.join(","),o=V.test(e)&&m(t.parentNode)||t}if(g)try{return P.apply(n,o.querySelectorAll(g)),n}catch(e){}finally{c===w&&t.removeAttribute("id")}}}return ce(e.replace(H,"$1"),t,n,a)}function n(){function e(n,a){return t.push(n+" ")>oe.cacheLength&&delete e[t.shift()],e[n+" "]=a}var t=[];return e}function a(e){return e[w]=!0,e}function o(e){var t=ge.createElement("fieldset");try{return!!e(t)}catch(t){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),a=n.length;a--;)oe.attrHandle[n[a]]=t}function r(e,t){var n=t&&e,a=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(a)return a;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function d(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:!!("label"in t)&&t.disabled===e}}function p(e){return a(function(t){return t=+t,a(function(n,a){for(var o=e([],n.length,t),s=o.length,r;s--;)n[r=o[s]]&&(n[r]=!(a[r]=n[r]))})})}function m(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function h(e){for(var t=0,n=e.length,a="";t<n;t++)a+=e[t].value;return a}function g(e,t,n){var a=t.dir,i=t.next,o=i||a,s=n&&"parentNode"===o,r=C++;return t.first?function(t,n,i){for(;t=t[a];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var d=[T,r],c,p,m;if(l){for(;t=t[a];)if((1===t.nodeType||s)&&e(t,n,l))return!0;}else for(;t=t[a];)if(1===t.nodeType||s)if(m=t[w]||(t[w]={}),p=m[t.uniqueID]||(m[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[a]||t;else{if((c=p[o])&&c[0]===T&&c[1]===r)return d[2]=c[2];if(p[o]=d,d[2]=e(t,n,l))return!0}return!1}}function f(e){return 1<e.length?function(t,n,a){for(var o=e.length;o--;)if(!e[o](t,n,a))return!1;return!0}:e[0]}function y(e,n,a){for(var o=0,s=n.length;o<s;o++)t(e,n[o],a);return a}function _(e,t,n,a,o){for(var s=[],r=0,l=e.length,d;r<l;r++)(d=e[r])&&(!n||n(d,a,o))&&(s.push(d),null!=t&&t.push(r));return s}function x(e,t,n,o,s,i){return o&&!o[w]&&(o=x(o)),s&&!s[w]&&(s=x(s,i)),a(function(a,r,l,d){var c=[],p=[],m=r.length,u=a||y(t||"*",l.nodeType?[l]:l,[]),h=e&&(a||!t)?_(u,c,e,l,d):u,g=n?s||(a?e:m||o)?[]:r:h,f,x,b;if(n&&n(h,g,l,d),o)for(f=_(g,p),o(f,[],l,d),x=f.length;x--;)(b=f[x])&&(g[p[x]]=!(h[p[x]]=b));if(!a)g=_(g===r?g.splice(m,g.length):g),s?s(null,r,g,d):P.apply(r,g);else if(s||e){if(s){for(f=[],x=g.length;x--;)(b=g[x])&&f.push(h[x]=b);s(null,g=[],f,d)}for(x=g.length;x--;)(b=g[x])&&-1<(f=s?I(a,b):c[x])&&(a[f]=!(r[f]=b))}})}function b(e){for(var t=e.length,n=oe.relative[e[0].type],a=n||oe.relative[" "],o=n?1:0,s=g(function(e){return e===d},a,!0),r=g(function(e){return-1<I(d,e)},a,!0),l=[function(e,t,a){var i=!n&&(a||t!==pe)||((d=t).nodeType?s(e,t,a):r(e,t,a));return d=null,i}],d,c,p;o<t;o++)if(c=oe.relative[e[o].type])l=[g(f(l),c)];else{if(c=oe.filter[e[o].type].apply(null,e[o].matches),c[w]){for(p=++o;p<t&&!oe.relative[e[p].type];p++);return x(1<o&&f(l),1<o&&h(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(H,"$1"),c,o<p&&b(e.slice(o,p)),p<t&&b(e=e.slice(p)),p<t&&h(e))}l.push(c)}return f(l)}function v(e,n){var o=0<n.length,s=0<e.length,i=function(a,r,l,d,c){var p=0,m="0",u=a&&[],h=[],g=pe,f=a||s&&oe.find.TAG("*",c),y=T+=null==g?1:Math.random()||.1,x=f.length,b,v,w;for(c&&(pe=r===ge||r||c);m!==x&&null!=(b=f[m]);m++){if(s&&b){for(v=0,r||b.ownerDocument===ge||(he(b),l=!ye);w=e[v++];)if(w(b,r||ge,l)){d.push(b);break}c&&(T=y)}o&&((b=!w&&b)&&p--,a&&u.push(b))}if(p+=m,o&&m!==p){for(v=0;w=n[v++];)w(u,h,r,l);if(a){if(0<p)for(;m--;)u[m]||h[m]||(h[m]=D.call(d));h=_(h)}P.apply(d,h),c&&!a&&0<h.length&&1<p+n.length&&t.uniqueSort(d)}return c&&(T=y,pe=g),u};return o?a(i):i}var w="sizzle"+1*new Date,k=e.document,T=0,C=0,E=n(),S=n(),j=n(),A=function(e,t){return e===t&&(ue=!0),0},L={}.hasOwnProperty,O=[],D=O.pop,N=O.push,P=O.push,R=O.slice,I=function(e,t){for(var n=0,a=e.length;n<a;n++)if(e[n]===t)return n;return-1},q=/[\x20\t\r\n\f]+/g,H=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,M=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,z=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,F=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,W=/:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,B=/^(?:\\.|[\w-]|[^\0-\xa0])+$/,U={ID:/^#((?:\\.|[\w-]|[^\0-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\0-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\0-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\0-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\0-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\0-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},G=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,J=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Q=function(e,t,n){var a="0x"+t-65536;return a!=a||n?t:0>a?_StringfromCharCode(a+65536):_StringfromCharCode(55296|a>>10,56320|1023&a)},Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ee=function(e,t){return t?"\0"===e?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},te=function(){he()},ne=g(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"}),ae,ie,oe,se,re,le,de,ce,pe,me,ue,he,ge,fe,ye,_e,xe,be,ve;try{P.apply(O=R.call(k.childNodes),k.childNodes),O[k.childNodes.length].nodeType}catch(t){P={apply:O.length?function(e,t){N.apply(e,R.call(t))}:function(e,t){for(var n=e.length,a=0;e[n++]=t[a++];);e.length=n-1}}}for(ae in ie=t.support={},re=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},he=t.setDocument=function(e){var t=e?e.ownerDocument||e:k,n,a;return t!==ge&&9===t.nodeType&&t.documentElement?(ge=t,fe=ge.documentElement,ye=!re(ge),k!==ge&&(a=ge.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",te,!1):a.attachEvent&&a.attachEvent("onunload",te)),ie.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),ie.getElementsByTagName=o(function(e){return e.appendChild(ge.createComment("")),!e.getElementsByTagName("*").length}),ie.getElementsByClassName=Y.test(ge.getElementsByClassName),ie.getById=o(function(e){return fe.appendChild(e).id=w,!ge.getElementsByName||!ge.getElementsByName(w).length}),ie.getById?(oe.filter.ID=function(e){var t=e.replace(J,Q);return function(e){return e.getAttribute("id")===t}},oe.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&ye){var n=t.getElementById(e);return n?[n]:[]}}):(oe.filter.ID=function(e){var t=e.replace(J,Q);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},oe.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&ye){var n=t.getElementById(e),a,o,s;if(n){if(a=n.getAttributeNode("id"),a&&a.value===e)return[n];for(s=t.getElementsByName(e),o=0;n=s[o++];)if(a=n.getAttributeNode("id"),a&&a.value===e)return[n]}return[]}}),oe.find.TAG=ie.getElementsByTagName?function(e,t){return"undefined"==typeof t.getElementsByTagName?ie.qsa?t.querySelectorAll(e):void 0:t.getElementsByTagName(e)}:function(e,t){var n=[],a=0,o=t.getElementsByTagName(e),s;if("*"===e){for(;s=o[a++];)1===s.nodeType&&n.push(s);return n}return o},oe.find.CLASS=ie.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&ye)return t.getElementsByClassName(e)},xe=[],_e=[],(ie.qsa=Y.test(ge.querySelectorAll))&&(o(function(e){fe.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&_e.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||_e.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"),e.querySelectorAll("[id~="+w+"-]").length||_e.push("~="),e.querySelectorAll(":checked").length||_e.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||_e.push(".#.+[+~]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=ge.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&_e.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&_e.push(":enabled",":disabled"),fe.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&_e.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),_e.push(",.*:")})),(ie.matchesSelector=Y.test(be=fe.matches||fe.webkitMatchesSelector||fe.mozMatchesSelector||fe.oMatchesSelector||fe.msMatchesSelector))&&o(function(e){ie.disconnectedMatch=be.call(e,"*"),be.call(e,"[s!='']:x"),xe.push("!=",":((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\0-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\0-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),_e=_e.length&&new RegExp(_e.join("|")),xe=xe.length&&new RegExp(xe.join("|")),n=Y.test(fe.compareDocumentPosition),ve=n||Y.test(fe.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!!(a&&1===a.nodeType&&(n.contains?n.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=n?function(e,t){if(e===t)return ue=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!ie.sortDetached&&t.compareDocumentPosition(e)===n?e===ge||e.ownerDocument===k&&ve(k,e)?-1:t===ge||t.ownerDocument===k&&ve(k,t)?1:me?I(me,e)-I(me,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ue=!0,0;var n=0,a=e.parentNode,o=t.parentNode,s=[e],l=[t],d;if(!a||!o)return e===ge?-1:t===ge?1:a?-1:o?1:me?I(me,e)-I(me,t):0;if(a===o)return r(e,t);for(d=e;d=d.parentNode;)s.unshift(d);for(d=t;d=d.parentNode;)l.unshift(d);for(;s[n]===l[n];)n++;return n?r(s[n],l[n]):s[n]===k?-1:l[n]===k?1:0},ge):ge},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==ge&&he(e),n=n.replace(F,"='$1']"),ie.matchesSelector&&ye&&!j[n+" "]&&(!xe||!xe.test(n))&&(!_e||!_e.test(n)))try{var a=be.call(e,n);if(a||ie.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(t){}return 0<t(n,ge,null,[e]).length},t.contains=function(e,t){return(e.ownerDocument||e)!==ge&&he(e),ve(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==ge&&he(e);var n=oe.attrHandle[t.toLowerCase()],a=n&&L.call(oe.attrHandle,t.toLowerCase())?n(e,t,!ye):void 0;return void 0===a?ie.attributes||!ye?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null:a},t.escape=function(e){return(e+"").replace(Z,ee)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t=[],n=0,a=0,o;if(ue=!ie.detectDuplicates,me=!ie.sortStable&&e.slice(0),e.sort(A),ue){for(;o=e[a++];)o===e[a]&&(n=t.push(a));for(;n--;)e.splice(t[n],1)}return me=null,e},se=t.getText=function(e){var t="",n=0,a=e.nodeType,o;if(!a)for(;o=e[n++];)t+=se(o);else if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=se(e)}else if(3===a||4===a)return e.nodeValue;return t},oe=t.selectors={cacheLength:50,createPseudo:a,match:U,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function t(e){return e[1]=e[1].replace(J,Q),e[3]=(e[3]||e[4]||e[5]||"").replace(J,Q),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function n(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(!e[3]&&t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function a(e){var t=!e[6]&&e[2],n;return U.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":t&&W.test(t)&&(n=le(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(e[0]=e[0].slice(0,n),e[2]=t.slice(0,n)),e.slice(0,3))}},filter:{TAG:function n(e){var t=e.replace(J,Q).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function n(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"([\\x20\\t\\r\\n\\f]|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function i(e,n,a){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===a:"!="===n?o!==a:"^="===n?a&&0===o.indexOf(a):"*="===n?a&&-1<o.indexOf(a):"$="===n?a&&o.slice(-a.length)===a:"~="===n?-1<(" "+o.replace(q," ")+" ").indexOf(a):"|="==n&&(o===a||o.slice(0,a.length+1)===a+"-"))}},CHILD:function l(e,t,n,a,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),r="of-type"===t;return 1===a&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var d=o==s?"previousSibling":"nextSibling",c=t.parentNode,p=r&&t.nodeName.toLowerCase(),m=!l&&!r,u=!1,h,g,f,y,_,x;if(c){if(o){for(;d;){for(y=t;y=y[d];)if(r?y.nodeName.toLowerCase()===p:1===y.nodeType)return!1;x=d="only"===e&&!x&&"nextSibling"}return!0}if(x=[s?c.firstChild:c.lastChild],s&&m){for(y=c,f=y[w]||(y[w]={}),g=f[y.uniqueID]||(f[y.uniqueID]={}),h=g[e]||[],_=h[0]===T&&h[1],u=_&&h[2],y=_&&c.childNodes[_];y=++_&&y&&y[d]||(u=_=0)||x.pop();)if(1===y.nodeType&&++u&&y===t){g[e]=[T,_,u];break}}else if(m&&(y=t,f=y[w]||(y[w]={}),g=f[y.uniqueID]||(f[y.uniqueID]={}),h=g[e]||[],_=h[0]===T&&h[1],u=_),!1===u)for(;(y=++_&&y&&y[d]||(u=_=0)||x.pop())&&!((r?y.nodeName.toLowerCase()===p:1===y.nodeType)&&++u&&(m&&(f=y[w]||(y[w]={}),g=f[y.uniqueID]||(f[y.uniqueID]={}),g[e]=[T,u]),y===t)););return u-=i,u===a||0==u%a&&0<=u/a}}},PSEUDO:function s(e,n){var o=oe.pseudos[e]||oe.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e),i;return o[w]?o(n):1<o.length?(i=[e,e,"",n],oe.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a=o(e,n),s=a.length,r;s--;)r=I(e,a[s]),e[r]=!(t[r]=a[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:a(function(e){var t=[],n=[],o=de(e.replace(H,"$1"));return o[w]?a(function(e,t,n,a){for(var s=o(e,null,a,[]),r=e.length,l;r--;)(l=s[r])&&(e[r]=!(t[r]=l))}):function(e,a,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:a(function(e){return function(n){return 0<t(e,n).length}}),contains:a(function(e){return e=e.replace(J,Q),function(t){return-1<(t.textContent||t.innerText||se(t)).indexOf(e)}}),lang:a(function(e){return B.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(J,Q).toLowerCase(),function(t){var n;do if(n=ye?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function a(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function t(e){return e===fe},focus:function t(e){return e===ge.activeElement&&(!ge.hasFocus||ge.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function n(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function t(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function t(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function t(e){return!oe.pseudos.empty(e)},header:function t(e){return K.test(e.nodeName)},input:function t(e){return G.test(e.nodeName)},button:function n(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function n(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:p(function(){return[0]}),last:p(function(e,t){return[t-1]}),eq:p(function(e,t,n){return[0>n?n+t:n]}),even:p(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:p(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:p(function(e,t,n){for(var a=0>n?n+t:n;0<=--a;)e.push(a);return e}),gt:p(function(e,t,n){for(var a=0>n?n+t:n;++a<t;)e.push(a);return e})}},oe.pseudos.nth=oe.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})oe.pseudos[ae]=l(ae);for(ae in{submit:!0,reset:!0})oe.pseudos[ae]=d(ae);return u.prototype=oe.filters=oe.pseudos,oe.setFilters=new u,le=t.tokenize=function(e,n){var a=S[e+" "],i,o,s,r,l,d,c;if(a)return n?0:a.slice(0);for(l=e,d=[],c=oe.preFilter;l;){for(r in(!i||(o=M.exec(l)))&&(o&&(l=l.slice(o[0].length)||l),d.push(s=[])),i=!1,(o=z.exec(l))&&(i=o.shift(),s.push({value:i,type:o[0].replace(H," ")}),l=l.slice(i.length)),oe.filter)(o=U[r].exec(l))&&(!c[r]||(o=c[r](o)))&&(i=o.shift(),s.push({value:i,type:r,matches:o}),l=l.slice(i.length));if(!i)break}return n?l.length:l?t.error(e):S(e,d).slice(0)},de=t.compile=function(e,t){var n=[],a=[],o=j[e+" "],s;if(!o){for(t||(t=le(e)),s=t.length;s--;)o=b(t[s]),o[w]?n.push(o):a.push(o);o=j(e,v(a,n)),o.selector=e}return o},ce=t.select=function(e,t,n,a){var o="function"==typeof e&&e,s=!a&&le(e=o.selector||e),r,l,d,c,p;if(n=n||[],1===s.length){if(l=s[0]=s[0].slice(0),2<l.length&&"ID"===(d=l[0]).type&&9===t.nodeType&&ye&&oe.relative[l[1].type]){if(t=(oe.find.ID(d.matches[0].replace(J,Q),t)||[])[0],!t)return n;o&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=U.needsContext.test(e)?0:l.length;r--&&(d=l[r],!oe.relative[c=d.type]);)if((p=oe.find[c])&&(a=p(d.matches[0].replace(J,Q),V.test(l[0].type)&&m(t.parentNode)||t))){if(l.splice(r,1),e=a.length&&h(l),!e)return P.apply(n,a),n;break}}return(o||de(e,s))(a,t,!ye,n,!t||V.test(e)&&m(t.parentNode)||t),n},ie.sortStable=w.split("").sort(A).join("")===w,ie.detectDuplicates=!!ue,he(),ie.sortDetached=o(function(e){return 1&e.compareDocumentPosition(ge.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),ie.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(e,t,n){var a;if(!n)return!0===e[t]?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);Te.find=Ee,Te.expr=Ee.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Ee.uniqueSort,Te.text=Ee.getText,Te.isXMLDoc=Ee.isXML,Te.contains=Ee.contains,Te.escapeSelector=Ee.escape;var Se=function(e,t,n){for(var a=[];(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(void 0!==n&&Te(e).is(n))break;a.push(e)}return a},je=function i(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a},Ae=Te.expr.match.needsContext,Le=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?Te.find.matchesSelector(a,e)?[a]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function s(e){var t=this.length,n=this,a,o;if("string"!=typeof e)return this.pushStack(Te(e).filter(function(){for(a=0;a<t;a++)if(Te.contains(n[a],this))return!0}));for(o=this.pushStack([]),a=0;a<t;a++)Te.find(e,n[a],o);return 1<t?Te.uniqueSort(o):o},filter:function t(e){return this.pushStack(i(this,e||[],!1))},not:function t(e){return this.pushStack(i(this,e||[],!0))},is:function t(e){return!!i(this,"string"==typeof e&&Ae.test(e)?Te(e):e||[],!1).length}});var Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,De=Te.fn.init=function(e,t,n){var a,i;if(!e)return this;if(n=n||Ne,"string"==typeof e){if(a="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Oe.exec(e),a&&(a[1]||!t)){if(a[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:le,!0)),Le.test(a[1])&&Te.isPlainObject(t))for(a in t)be(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}return i=le.getElementById(a[2]),i&&(this[0]=i,this.length=1),this}return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e)}return e.nodeType?(this[0]=e,this.length=1,this):be(e)?void 0===n.ready?e(Te):n.ready(e):Te.makeArray(e,this)},Ne;De.prototype=Te.fn,Ne=Te(le);var Pe=/^(?:parents|prev(?:Until|All))/,Re={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function a(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function l(e,t){var n=0,a=this.length,o=[],s="string"!=typeof e&&Te(e),r;if(!Ae.test(e))for(;n<a;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(11>r.nodeType&&(s?-1<s.index(r):1===r.nodeType&&Te.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(1<o.length?Te.uniqueSort(o):o)},index:function t(e){return e?"string"==typeof e?ue.call(Te(e),this[0]):ue.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function n(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function t(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function t(e){return Se(e,"parentNode")},parentsUntil:function a(e,t,n){return Se(e,"parentNode",n)},next:function t(e){return r(e,"nextSibling")},prev:function t(e){return r(e,"previousSibling")},nextAll:function t(e){return Se(e,"nextSibling")},prevAll:function t(e){return Se(e,"previousSibling")},nextUntil:function a(e,t,n){return Se(e,"nextSibling",n)},prevUntil:function a(e,t,n){return Se(e,"previousSibling",n)},siblings:function t(e){return je((e.parentNode||{}).firstChild,e)},children:function t(e){return je(e.firstChild)},contents:function t(e){return s(e,"iframe")?e.contentDocument:(s(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(n,a){var i=Te.map(this,t,n);return"Until"!==e.slice(-5)&&(a=n),a&&"string"==typeof a&&(i=Te.filter(a,i)),1<this.length&&(!Re[e]&&Te.uniqueSort(i),Pe.test(e)&&i.reverse()),this.pushStack(i)}});var Ie=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"==typeof e?l(e):Te.extend({},e);var t=[],n=[],i=-1,o=function(){for(p=p||e.once,c=r=!0;n.length;i=-1)for(d=n.shift();++i<t.length;)!1===t[i].apply(d[0],d[1])&&e.stopOnFalse&&(i=t.length,d=!1);e.memory||(d=!1),r=!1,p&&(d?t=[]:t="")},s={add:function l(){return t&&(d&&!r&&(i=t.length-1,n.push(d)),function n(i){Te.each(i,function(i,o){be(o)?(!e.unique||!s.has(o))&&t.push(o):o&&o.length&&"string"!==a(o)&&n(o)})}(arguments),d&&!r&&o()),this},remove:function e(){return Te.each(arguments,function(e,n){for(var a;-1<(a=Te.inArray(n,t,a));)t.splice(a,1),a<=i&&i--}),this},has:function n(e){return e?-1<Te.inArray(e,t):0<t.length},empty:function e(){return t&&(t=[]),this},disable:function e(){return p=n=[],t=d="",this},disabled:function e(){return!t},lock:function e(){return p=n=[],d||r||(t=d=""),this},locked:function e(){return!!p},fireWith:function a(e,t){return p||(t=t||[],t=[e,t.slice?t.slice():t],n.push(t),!r&&o()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function e(){return!!c}},r,d,c,p;return s},Te.extend({Deferred:function i(t){var n=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],a="pending",o={state:function e(){return a},always:function e(){return s.done(arguments).fail(arguments),this},catch:function t(e){return o.then(null,e)},pipe:function t(){var e=arguments;return Te.Deferred(function(t){Te.each(n,function(n,a){var i=be(e[a[4]])&&e[a[4]];s[a[1]](function(){var e=i&&i.apply(this,arguments);e&&be(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[a[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function r(t,a,i){function o(t,n,a,i){return function(){var r=this,l=arguments,p=function(){var e,p;if(!(t<s)){if(e=a.apply(r,l),e===n.promise())throw new TypeError("Thenable self-resolution");p=e&&("object"===_typeof(e)||"function"==typeof e)&&e.then,be(p)?i?p.call(e,o(s,n,d,i),o(s,n,c,i)):(s++,p.call(e,o(s,n,d,i),o(s,n,c,i),o(s,n,d,n.notifyWith))):(a!==d&&(r=void 0,l=[e]),(i||n.resolveWith)(r,l))}},m=i?p:function(){try{p()}catch(i){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(i,m.stackTrace),t+1>=s&&(a!==c&&(r=void 0,l=[i]),n.rejectWith(r,l))}};t?m():(Te.Deferred.getStackHook&&(m.stackTrace=Te.Deferred.getStackHook()),e.setTimeout(m))}}var s=0;return Te.Deferred(function(e){n[0][3].add(o(0,e,be(i)?i:d,e.notifyWith)),n[1][3].add(o(0,e,be(t)?t:d)),n[2][3].add(o(0,e,be(a)?a:c))}).promise()},promise:function t(e){return null==e?o:Te.extend(e,o)}},s={};return Te.each(n,function(e,t){var i=t[2],r=t[5];o[t[1]]=i.add,r&&i.add(function(){a=r},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),i.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=i.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function l(e){var t=arguments.length,n=t,a=Array(n),o=ce.call(arguments),s=Te.Deferred(),r=function(e){return function(n){a[e]=this,o[e]=1<arguments.length?ce.call(arguments):n,--t||s.resolveWith(a,o)}};if(1>=t&&(p(e,s.done(r(n)).resolve,s.reject,!t),"pending"===s.state()||be(o[n]&&o[n].then)))return s.then();for(;n--;)p(o[n],r(n),s.reject);return s.promise()}});var qe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&qe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Te.readyException=function(t){e.setTimeout(function(){throw t})};var He=Te.Deferred();Te.fn.ready=function(e){return He.then(e).catch(function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function t(e){(!0===e?! --Te.readyWait:!Te.isReady)&&(Te.isReady=!0,!0!==e&&0<--Te.readyWait||He.resolveWith(le,[Te]))}}),Te.ready.then=He.then,"complete"!==le.readyState&&("loading"===le.readyState||le.documentElement.doScroll)?(le.addEventListener("DOMContentLoaded",m),e.addEventListener("load",m)):e.setTimeout(Te.ready);var Me=function(e,t,n,o,s,r,l){var d=0,c=e.length,p=null==n;if("object"===a(n))for(d in s=!0,n)Me(e,t,d,n[d],!0,r,l);else if(void 0!==o&&(s=!0,be(o)||(l=!0),p&&(l?(t.call(e,o),t=null):(p=t,t=function(e,t,n){return p.call(Te(e),n)})),t))for(;d<c;d++)t(e[d],n,l?o:o.call(e[d],d,t(e[d],n)));return s?e:p?t.call(e):c?t(e[0],n):r},ze=/^-ms-/,Fe=/-([a-z])/g,We=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function n(e){var t=e[this.expando];return t||(t={},We(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function o(e,t,n){var a=this.cache(e),i;if("string"==typeof t)a[h(t)]=n;else for(i in t)a[h(i)]=t[i];return a},get:function n(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0===n?t:n)},remove:function o(e,t){var n=e[this.expando],a;if(void 0!==n){if(void 0!==t)for(Array.isArray(t)?t=t.map(h):(t=h(t),t=(t in n)?[t]:t.match(Ie)||[]),a=t.length;a--;)delete n[t[a]];(void 0===t||Te.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function n(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var Be=new g,Ue=new g,Ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/[A-Z]/g;Te.extend({hasData:function t(e){return Ue.hasData(e)||Be.hasData(e)},data:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t,n){return Ue.access(e,t,n)}),removeData:function n(e,t){Ue.remove(e,t)},_data:function a(e,t,n){return Be.access(e,t,n)},_removeData:function n(e,t){Be.remove(e,t)}}),Te.fn.extend({data:function(e,t){var n=this[0],a=n&&n.attributes,o,s,r;if(void 0===e){if(this.length&&(r=Ue.get(n),1===n.nodeType&&!Be.get(n,"hasDataAttrs"))){for(o=a.length;o--;)a[o]&&(s=a[o].name,0===s.indexOf("data-")&&(s=h(s.slice(5)),y(n,s,r[s])));Be.set(n,"hasDataAttrs",!0)}return r}return"object"===_typeof(e)?this.each(function(){Ue.set(this,e)}):Me(this,function(t){var a;return n&&void 0===t?(a=Ue.get(n,e),void 0!==a)?a:(a=y(n,e),void 0===a?void 0:a):void this.each(function(){Ue.set(this,e,t)})},null,t,1<arguments.length,null,!0)},removeData:function t(e){return this.each(function(){Ue.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=Be.get(e,t),n&&(!a||Array.isArray(n)?a=Be.access(e,t,Te.makeArray(n)):a.push(n)),a||[]},dequeue:function r(e,t){t=t||"fx";var n=Te.queue(e,t),a=n.length,i=n.shift(),o=Te._queueHooks(e,t),s=function(){Te.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),a--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!a&&o&&o.empty.fire()},_queueHooks:function a(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:Te.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),Te.fn.extend({queue:function a(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Te.queue(this[0],e):void 0===t?this:this.each(function(){var n=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Te.dequeue(this,e)})},dequeue:function t(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function t(e){return this.queue(e||"fx",[])},promise:function d(e,t){var n=1,a=Te.Deferred(),o=this,s=this.length,r=function(){--n||a.resolveWith(o,[o])},l;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)l=Be.get(o[s],e+"queueHooks"),l&&l.empty&&(n++,l.empty.add(r));return r(),a.promise(t)}});var Ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ye=new RegExp("^(?:([+-])=|)("+Ke+")([a-z%]*)$","i"),Xe=["Top","Right","Bottom","Left"],Ve=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Te.contains(e.ownerDocument,e)&&"none"===Te.css(e,"display")},Je=function(e,t,n,a){var i={},o,s;for(s in t)i[s]=e.style[s],e.style[s]=t[s];for(s in o=n.apply(e,a||[]),t)e.style[s]=i[s];return o},Qe={};Te.fn.extend({show:function e(){return b(this,!0)},hide:function e(){return b(this)},toggle:function t(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ve(this)?Te(this).show():Te(this).hide()})}});var Ze=/^(?:checkbox|radio)$/i,et=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,tt=/^$|^module$|\/(?:java|ecma)script/i,nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};nt.optgroup=nt.option,nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td;var at=/<|&#?\w+;/;(function(){var e=le.createDocumentFragment(),t=e.appendChild(le.createElement("div")),n=le.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),xe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",xe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var it=le.documentElement,ot=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rt=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function _(n,e,a,i,o){var s=Be.get(n),r,l,d,c,p,m,u,h,g,f,y;if(s)for(a.handler&&(r=a,a=r.handler,o=r.selector),o&&Te.find.matchesSelector(it,o),a.guid||(a.guid=Te.guid++),(c=s.events)||(c=s.events={}),(l=s.handle)||(l=s.handle=function(t){return"undefined"!=typeof Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(n,arguments):void 0}),e=(e||"").match(Ie)||[""],p=e.length;p--;)(d=rt.exec(e[p])||[],g=y=d[1],f=(d[2]||"").split(".").sort(),!!g)&&(u=Te.event.special[g]||{},g=(o?u.delegateType:u.bindType)||g,u=Te.event.special[g]||{},m=Te.extend({type:g,origType:y,data:i,handler:a,guid:a.guid,selector:o,needsContext:o&&Te.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=c[g])||(h=c[g]=[],h.delegateCount=0,(!u.setup||!1===u.setup.call(n,i,f,l))&&n.addEventListener&&n.addEventListener(g,l)),u.add&&(u.add.call(n,m),!m.handler.guid&&(m.handler.guid=a.guid)),o?h.splice(h.delegateCount++,0,m):h.push(m),Te.event.global[g]=!0)},remove:function _(e,n,a,i,o){var s=Be.hasData(e)&&Be.get(e),r,l,d,c,p,m,u,h,g,f,y;if(s&&(c=s.events)){for(n=(n||"").match(Ie)||[""],p=n.length;p--;){if(d=rt.exec(n[p])||[],g=y=d[1],f=(d[2]||"").split(".").sort(),!g){for(g in c)Te.event.remove(e,g+n[p],a,i,!0);continue}for(u=Te.event.special[g]||{},g=(i?u.delegateType:u.bindType)||g,h=c[g]||[],d=d[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)m=h[r],(o||y===m.origType)&&(!a||a.guid===m.guid)&&(!d||d.test(m.namespace))&&(!i||i===m.selector||"**"===i&&m.selector)&&(h.splice(r,1),m.selector&&h.delegateCount--,u.remove&&u.remove.call(e,m));l&&!h.length&&((!u.teardown||!1===u.teardown.call(e,f,s.handle))&&Te.removeEvent(e,g,s.handle),delete c[g])}Te.isEmptyObject(c)&&Be.remove(e,"handle events")}},dispatch:function m(e){var t=Te.event.fix(e),n=Array(arguments.length),a=(Be.get(this,"events")||{})[t.type]||[],o=Te.event.special[t.type]||{},s,r,l,d,c,p;for(n[0]=t,s=1;s<arguments.length;s++)n[s]=arguments[s];if(t.delegateTarget=this,!(o.preDispatch&&!1===o.preDispatch.call(this,t))){for(p=Te.event.handlers.call(this,t,a),s=0;(d=p[s++])&&!t.isPropagationStopped();)for(t.currentTarget=d.elem,r=0;(c=d.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||t.rnamespace.test(c.namespace))&&(t.handleObj=c,t.data=c.data,l=((Te.event.special[c.origType]||{}).handle||c.handler).apply(d.elem,n),void 0!==l&&!1===(t.result=l)&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function p(e,t){var n=[],a=t.delegateCount,o=e.target,s,r,l,d,c;if(a&&o.nodeType&&!("click"===e.type&&1<=e.button))for(;o!==this;o=o.parentNode||this)if(1===o.nodeType&&("click"!==e.type||!0!==o.disabled)){for(d=[],c={},s=0;s<a;s++)r=t[s],l=r.selector+" ",void 0===c[l]&&(c[l]=r.needsContext?-1<Te(l,this).index(o):Te.find(l,this,null,[o]).length),c[l]&&d.push(r);d.length&&n.push({elem:o,handlers:d})}return o=this,a<t.length&&n.push({elem:o,handlers:t.slice(a)}),n},addProp:function n(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:be(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function n(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function t(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function e(){if(this!==E()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function e(){if(this===E()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function e(){if("checkbox"===this.type&&this.click&&s(this,"input"))return this.click(),!1},_default:function t(e){return s(e.target,"a")}},beforeunload:{postDispatch:function t(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){return this instanceof Te.Event?void(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?T:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Te.expando]=!0):new Te.Event(e,t)},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function e(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function e(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function e(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function n(e){var t=e.button;return null==e.which&&ot.test(e.type)?null==e.charCode?e.keyCode:e.charCode:!e.which&&void 0!==t&&st.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function s(e){var n=this,a=e.relatedTarget,i=e.handleObj,o;return a&&(a===n||Te.contains(n,a))||(e.type=i.origType,o=i.handler.apply(this,arguments),e.type=t),o}}}),Te.fn.extend({on:function i(e,t,n,a){return S(this,e,t,n,a)},one:function i(e,t,n,a){return S(this,e,t,n,a,1)},off:function o(e,t,n){var a,i;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,Te(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"===_typeof(e)){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=C),this.each(function(){Te.event.remove(this,e,n,t)})}});var lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,dt=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function t(e){return e.replace(lt,"<$1></$2>")},clone:function(e,t,n){var a=e.cloneNode(!0),o=Te.contains(e.ownerDocument,e),s,r,d,c;if(!xe.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!Te.isXMLDoc(e))for(c=v(a),d=v(e),(s=0,r=d.length);s<r;s++)D(d[s],c[s]);if(t)if(n)for(d=d||v(e),c=c||v(a),(s=0,r=d.length);s<r;s++)O(d[s],c[s]);else O(e,a);return c=v(a,"script"),0<c.length&&w(c,!o&&v(e,"script")),a},cleanData:function r(e){for(var t=Te.event.special,n=0,a,o,s;void 0!==(o=e[n]);n++)if(We(o)){if(a=o[Be.expando]){if(a.events)for(s in a.events)t[s]?Te.event.remove(o,s):Te.removeEvent(o,s,a.handle);o[Be.expando]=void 0}o[Ue.expando]&&(o[Ue.expando]=void 0)}}}),Te.fn.extend({detach:function t(e){return P(this,e,!0)},remove:function t(e){return P(this,e)},text:function t(e){return Me(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function e(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.appendChild(e)}})},prepend:function e(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=j(this,e);t.insertBefore(e,t.firstChild)}})},before:function e(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function e(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function n(){for(var e=0,t;null!=(t=this[e]);e++)1===t.nodeType&&(Te.cleanData(v(t,!1)),t.textContent="");return this},clone:function n(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function t(e){return Me(this,function(e){var t=this[0]||{},n=0,a=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!dt.test(e)&&!nt[(et.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<a;n++)t=this[n]||{},1===t.nodeType&&(Te.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(t){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function t(){var e=[];return N(this,arguments,function(t){var n=this.parentNode;0>Te.inArray(this,e)&&(Te.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var n=[],a=Te(e),o=a.length-1,s=0,r;s<=o;s++)r=s===o?this:this.clone(!0),Te(a[s])[t](r),me.apply(n,r.get());return this.pushStack(n)}});var mt=new RegExp("^("+Ke+")(?!px)[a-z%]+$","i"),ut=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ht=new RegExp(Xe.join("|"),"i");(function(){function t(){if(i){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",i.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(a).appendChild(i);var t=e.getComputedStyle(i);o="1%"!==t.top,d=12===n(t.marginLeft),i.style.right="60%",l=36===n(t.right),s=36===n(t.width),i.style.position="absolute",r=36===i.offsetWidth||"absolute",it.removeChild(a),i=null}}function n(e){return _Mathround(parseFloat(e))}var a=le.createElement("div"),i=le.createElement("div"),o,s,r,l,d;i.style&&(i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",xe.clearCloneStyle="content-box"===i.style.backgroundClip,Te.extend(xe,{boxSizingReliable:function e(){return t(),s},pixelBoxStyles:function e(){return t(),l},pixelPosition:function e(){return t(),o},reliableMarginLeft:function e(){return t(),d},scrollboxSize:function e(){return t(),r}}))})();var gt=/^(none|table(?!-c[ea]).+)/,ft=/^--/,yt={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","Moz","ms"],bt=le.createElement("div").style;Te.extend({cssHooks:{opacity:{get:function a(e,t){if(t){var n=R(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i=h(t),o=ft.test(t),s=e.style,r,l,d;if(o||(t=H(i)),d=Te.cssHooks[t]||Te.cssHooks[i],void 0!==n){if(l=_typeof(n),"string"===l&&(r=Ye.exec(n))&&r[1]&&(n=_(e,t,r),l="number"),null==n||n!==n)return;"number"===l&&(n+=r&&r[3]||(Te.cssNumber[i]?"":"px")),xe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(s[t]="inherit"),d&&"set"in d&&void 0===(n=d.set(e,n,a))||(o?s.setProperty(t,n):s[t]=n)}else return d&&"get"in d&&void 0!==(r=d.get(e,!1,a))?r:s[t]}},css:function d(e,t,n,a){var i=h(t),o=ft.test(t),s,r,l;return o||(t=H(i)),l=Te.cssHooks[t]||Te.cssHooks[i],l&&"get"in l&&(s=l.get(e,!0,n)),void 0===s&&(s=R(e,t,a)),"normal"===s&&t in _t&&(s=_t[t]),""===n||n?(r=parseFloat(s),!0===n||isFinite(r)?r||0:s):s}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function i(e,n,a){if(n)return!gt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?F(e,t,a):Je(e,yt,function(){return F(e,t,a)})},set:function l(e,n,a){var i=ut(e),o="border-box"===Te.css(e,"boxSizing",!1,i),s=a&&z(e,t,a,o,i),r;return o&&xe.scrollboxSize()===i.position&&(s-=se(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-z(e,t,"border",!1,i)-.5)),s&&(r=Ye.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=Te.css(e,t)),M(e,n,s)}}}),Te.cssHooks.marginLeft=I(xe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(R(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function r(n){for(var a=0,o={},s="string"==typeof n?n.split(" "):[n];4>a;a++)o[e+Xe[a]+t]=s[a]||s[a-2]||s[0];return o}},"margin"!==e&&(Te.cssHooks[e+t].set=M)}),Te.fn.extend({css:function n(e,t){return Me(this,function(e,t,n){var a={},o=0,s,r;if(Array.isArray(t)){for(s=ut(e),r=t.length;o<r;o++)a[t[o]]=Te.css(e,t[o],!1,s);return a}return void 0===n?Te.css(e,t):Te.style(e,t,n)},e,t,1<arguments.length)}}),Te.Tween=W,W.prototype={constructor:W,init:function(e,t,n,a,i,o){this.elem=e,this.prop=n,this.easing=i||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=o||(Te.cssNumber[n]?"":"px")},cur:function t(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function a(e){var t=W.propHooks[this.prop],n;return this.pos=this.options.duration?n=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):n=e,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),t&&t.set?t.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function n(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function t(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1===e.elem.nodeType&&(null!=e.elem.style[Te.cssProps[e.prop]]||Te.cssHooks[e.prop])?Te.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function t(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function t(e){return e},swing:function t(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=W.prototype.init,Te.fx.step={};var vt=/^(?:toggle|show|hide)$/,wt=/queueHooks$/,kt,Tt;Te.Animation=Te.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _(n.elem,e,Ye.exec(t),n),n}]},tweener:function o(e,t){be(e)?(t=e,e=["*"]):e=e.match(Ie);for(var n=0,a=e.length,i;n<a;n++)i=e[n],V.tweeners[i]=V.tweeners[i]||[],V.tweeners[i].unshift(t)},prefilters:[Y],prefilter:function n(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),Te.speed=function(e,t,n){var a=e&&"object"===_typeof(e)?Te.extend({},e):{complete:n||!n&&t||be(e)&&e,duration:e,easing:n&&t||t&&!be(t)&&t};return Te.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in Te.fx.speeds?a.duration=Te.fx.speeds[a.duration]:a.duration=Te.fx.speeds._default),(null==a.queue||!0===a.queue)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){be(a.old)&&a.old.call(this),a.queue&&Te.dequeue(this,a.queue)},a},Te.fn.extend({fadeTo:function i(e,t,n,a){return this.filter(Ve).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function r(e,t,n,a){var i=Te.isEmptyObject(e),o=Te.speed(t,n,a),s=function(){var t=V(this,Te.extend({},e),o);(i||Be.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function i(e,t,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Te.timers,s=Be.get(this);if(i)s[i]&&s[i].stop&&a(s[i]);else for(i in s)s[i]&&s[i].stop&&wt.test(i)&&a(s[i]);for(i=o.length;i--;)o[i].elem===this&&(null==e||o[i].queue===e)&&(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&Te.dequeue(this,e)})},finish:function t(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t=Be.get(this),n=t[e+"queue"],a=t[e+"queueHooks"],i=Te.timers,o=n?n.length:0,s;for(t.finish=!0,Te.queue(this,e,[]),a&&a.stop&&a.stop.call(this,!0),s=i.length;s--;)i[s].elem===this&&i[s].queue===e&&(i[s].anim.stop(!0),i.splice(s,1));for(s=0;s<o;s++)n[s]&&n[s].finish&&n[s].finish.call(this);delete t.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var n=Te.fn[t];Te.fn[t]=function(e,a,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(G(t,!0),e,a,i)}}),Te.each({slideDown:G("show"),slideUp:G("hide"),slideToggle:G("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,n,a){return this.animate(t,e,n,a)}}),Te.timers=[],Te.fx.tick=function(){var e=0,t=Te.timers,n;for(kt=Date.now();e<t.length;e++)n=t[e],n()||t[e]!==n||t.splice(e--,1);t.length||Te.fx.stop(),kt=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){Tt||(Tt=!0,B())},Te.fx.stop=function(){Tt=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(t,n){return t=Te.fx?Te.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,a){var i=e.setTimeout(n,t);a.stop=function(){e.clearTimeout(i)}})},function(){var e=le.createElement("input"),t=le.createElement("select"),n=t.appendChild(le.createElement("option"));e.type="checkbox",xe.checkOn=""!==e.value,xe.optSelected=n.selected,e=le.createElement("input"),e.value="t",e.type="radio",xe.radioValue="t"===e.value}();var Ct=Te.expr.attrHandle,Et;Te.fn.extend({attr:function n(e,t){return Me(this,Te.attr,e,t,1<arguments.length)},removeAttr:function t(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function s(e,t,n){var a=e.nodeType,i,o;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof e.getAttribute?Te.prop(e,t,n):(1===a&&Te.isXMLDoc(e)||(o=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Et:void 0)),void 0!==n)?null===n?void Te.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:(i=Te.find.attr(e,t),null==i?void 0:i)},attrHooks:{type:{set:function a(e,t){if(!xe.radioValue&&"radio"===t&&s(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function s(e,t){var n=0,a=t&&t.match(Ie),o;if(a&&1===e.nodeType)for(;o=a[n++];)e.removeAttribute(o)}}),Et={set:function a(e,t,n){return!1===t?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||Te.find.attr;Ct[t]=function(e,t,a){var i=t.toLowerCase(),o,s;return a||(s=Ct[i],Ct[i]=o,o=null==n(e,t,a)?null:i,Ct[i]=s),o}});var St=/^(?:input|select|textarea|button)$/i,jt=/^(?:a|area)$/i;Te.fn.extend({prop:function n(e,t){return Me(this,Te.prop,e,t,1<arguments.length)},removeProp:function t(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function s(e,t,n){var a=e.nodeType,i,o;if(3!==a&&8!==a&&2!==a)return 1===a&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,o=Te.propHooks[t]),void 0===n?o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]:o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n},propHooks:{tabIndex:{get:function n(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),xe.optSelected||(Te.propHooks.selected={get:function n(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function n(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function c(e){var t=0,n,a,o,s,r,l,d;if(be(e))return this.each(function(t){Te(this).addClass(e.call(this,t,Q(this)))});if(n=Z(e),n.length)for(;a=this[t++];)if(s=Q(a),o=1===a.nodeType&&" "+J(s)+" ",o){for(l=0;r=n[l++];)0>o.indexOf(" "+r+" ")&&(o+=r+" ");d=J(o),s!==d&&a.setAttribute("class",d)}return this},removeClass:function c(e){var t=0,n,a,o,s,r,l,d;if(be(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,Q(this)))});if(!arguments.length)return this.attr("class","");if(n=Z(e),n.length)for(;a=this[t++];)if(s=Q(a),o=1===a.nodeType&&" "+J(s)+" ",o){for(l=0;r=n[l++];)for(;-1<o.indexOf(" "+r+" ");)o=o.replace(" "+r+" "," ");d=J(o),s!==d&&a.setAttribute("class",d)}return this},toggleClass:function i(e,t){var n=_typeof(e),a="string"===n||Array.isArray(e);return"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):be(e)?this.each(function(n){Te(this).toggleClass(e.call(this,n,Q(this),t),t)}):this.each(function(){var t,o,s,r;if(a)for(o=0,s=Te(this),r=Z(e);t=r[o++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(void 0===e||"boolean"===n)&&(t=Q(this),t&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Be.get(this,"__className__")||""))})},hasClass:function o(e){var t=0,n,a;for(n=" "+e+" ";a=this[t++];)if(1===a.nodeType&&-1<(" "+J(Q(a))+" ").indexOf(n))return!0;return!1}});var At=/\r/g;Te.fn.extend({val:function i(e){var t=this[0],n,a,o;return arguments.length?(o=be(e),this.each(function(t){var a;1!==this.nodeType||(a=o?e.call(this,t,Te(this).val()):e,null==a?a="":"number"==typeof a?a+="":Array.isArray(a)&&(a=Te.map(a,function(e){return null==e?"":e+""})),n=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||void 0===n.set(this,a,"value"))&&(this.value=a))})):t?(n=Te.valHooks[t.type]||Te.valHooks[t.nodeName.toLowerCase()],n&&"get"in n&&void 0!==(a=n.get(t,"value")))?a:(a=t.value,"string"==typeof a?a.replace(At,""):null==a?"":a):void 0}}),Te.extend({valHooks:{option:{get:function n(e){var t=Te.find.attr(e,"value");return null==t?J(Te.text(e)):t}},select:{get:function p(e){var t=e.options,n=e.selectedIndex,a="select-one"===e.type,o=a?null:[],r=a?n+1:t.length,l,d,c;for(c=0>n?r:a?n:0;c<r;c++)if(d=t[c],(d.selected||c===n)&&!d.disabled&&(!d.parentNode.disabled||!s(d.parentNode,"optgroup"))){if(l=Te(d).val(),a)return l;o.push(l)}return o},set:function l(e,t){for(var n=e.options,a=Te.makeArray(t),o=n.length,s,r;o--;)r=n[o],(r.selected=-1<Te.inArray(Te.valHooks.option.get(r),a))&&(s=!0);return s||(e.selectedIndex=-1),a}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function n(e,t){if(Array.isArray(t))return e.checked=-1<Te.inArray(Te(e).val(),t)}},xe.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),xe.focusin="onfocusin"in e;var Lt=/^(?:focusinfocus|focusoutblur)$/,Ot=function(t){t.stopPropagation()};Te.extend(Te.event,{trigger:function y(t,n,a,o){var s=[a||le],r=fe.call(t,"type")?t.type:t,l=fe.call(t,"namespace")?t.namespace.split("."):[],d,c,p,m,u,h,g,f;if((c=f=p=a=a||le,3!==a.nodeType&&8!==a.nodeType)&&!Lt.test(r+Te.event.triggered)&&(-1<r.indexOf(".")&&(l=r.split("."),r=l.shift(),l.sort()),u=0>r.indexOf(":")&&"on"+r,t=t[Te.expando]?t:new Te.Event(r,"object"===_typeof(t)&&t),t.isTrigger=o?2:3,t.namespace=l.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),n=null==n?[t]:Te.makeArray(n,[t]),g=Te.event.special[r]||{},o||!g.trigger||!1!==g.trigger.apply(a,n))){if(!o&&!g.noBubble&&!ve(a)){for(m=g.delegateType||r,Lt.test(m+r)||(c=c.parentNode);c;c=c.parentNode)s.push(c),p=c;p===(a.ownerDocument||le)&&s.push(p.defaultView||p.parentWindow||e)}for(d=0;(c=s[d++])&&!t.isPropagationStopped();)f=c,t.type=1<d?m:g.bindType||r,h=(Be.get(c,"events")||{})[t.type]&&Be.get(c,"handle"),h&&h.apply(c,n),h=u&&c[u],h&&h.apply&&We(c)&&(t.result=h.apply(c,n),!1===t.result&&t.preventDefault());return t.type=r,o||t.isDefaultPrevented()||g._default&&!1!==g._default.apply(s.pop(),n)||!We(a)||!u||!be(a[r])||ve(a)||(p=a[u],p&&(a[u]=null),Te.event.triggered=r,t.isPropagationStopped()&&f.addEventListener(r,Ot),a[r](),t.isPropagationStopped()&&f.removeEventListener(r,Ot),Te.event.triggered=void 0,p&&(a[u]=p)),t.result}},simulate:function e(t,n,a){var i=Te.extend(new Te.Event,a,{type:t,isSimulated:!0});Te.event.trigger(i,null,n)}}),Te.fn.extend({trigger:function n(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function a(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),xe.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function o(){var a=this.ownerDocument||this,i=Be.access(a,t);i||a.addEventListener(e,n,!0),Be.access(a,t,(i||0)+1)},teardown:function o(){var a=this.ownerDocument||this,i=Be.access(a,t)-1;i?Be.access(a,t,i):(a.removeEventListener(e,n,!0),Be.remove(a,t))}}});var Dt=e.location,Nt=Date.now(),Pt=/\?/;Te.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=new e.DOMParser().parseFromString(t,"text/xml")}catch(t){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&Te.error("Invalid XML: "+t),n};var Rt=/\[\]$/,It=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n=[],a=function(e,t){var a=be(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==a?"":a)},i;if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){a(this.name,this.value)});else for(i in e)ee(i,e[i],t,a);return n.join("&")},Te.fn.extend({serialize:function e(){return Te.param(this.serializeArray())},serializeArray:function e(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Ht.test(this.nodeName)&&!qt.test(e)&&(this.checked||!Ze.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(It,"\r\n")}}):{name:t.name,value:n.replace(It,"\r\n")}}).get()}});var Mt=/%20/g,zt=/#.*$/,Ft=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/mg,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Gt=/^\/\//,$t={},Kt={},Yt="*/".concat("*"),Xt=le.createElement("a");Xt.href=Dt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:Bt.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function n(e,t){return t?ae(ae(e,Te.ajaxSettings),t):ae(Te.ajaxSettings,e)},ajaxPrefilter:te($t),ajaxTransport:te(Kt),ajax:function C(t,n){function a(t,n,a,i){var p=n,m,u,_,b,k;v||(v=!0,x&&e.clearTimeout(x),g=void 0,y=i||"",h.readyState=0<t?4:0,m=200<=t&&300>t||304===t,a&&(b=ie(o,h,a)),b=oe(o,b,h,m),m?(o.ifModified&&(k=h.getResponseHeader("Last-Modified"),k&&(Te.lastModified[f]=k),k=h.getResponseHeader("etag"),k&&(Te.etag[f]=k)),204===t||"HEAD"===o.type?p="nocontent":304===t?p="notmodified":(p=b.state,u=b.data,_=b.error,m=!_)):(_=p,(t||!p)&&(p="error",0>t&&(t=0))),h.status=t,h.statusText=(n||p)+"",m?l.resolveWith(s,[u,p,h]):l.rejectWith(s,[h,p,_]),h.statusCode(c),c=void 0,w&&r.trigger(m?"ajaxSuccess":"ajaxError",[h,o,m?u:_]),d.fireWith(s,[h,p]),w&&(r.trigger("ajaxComplete",[h,o]),! --Te.active&&Te.event.trigger("ajaxStop")))}"object"===_typeof(t)&&(n=t,t=void 0),n=n||{};var o=Te.ajaxSetup({},n),s=o.context||o,r=o.context&&(s.nodeType||s.jquery)?Te(s):Te.event,l=Te.Deferred(),d=Te.Callbacks("once memory"),c=o.statusCode||{},p={},m={},u="canceled",h={readyState:0,getResponseHeader:function n(e){var t;if(v){if(!_)for(_={};t=Wt.exec(y);)_[t[1].toLowerCase()]=t[2];t=_[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function e(){return v?y:null},setRequestHeader:function n(e,t){return null==v&&(e=m[e.toLowerCase()]=m[e.toLowerCase()]||e,p[e]=t),this},overrideMimeType:function t(e){return null==v&&(o.mimeType=e),this},statusCode:function n(e){if(e)if(v)h.always(e[h.status]);else for(var t in e)c[t]=[c[t],e[t]];return this},abort:function n(e){var t=e||u;return g&&g.abort(t),a(0,t),this}},g,f,y,_,x,b,v,w,k,T;if(l.promise(h),o.url=((t||o.url||Dt.href)+"").replace(Gt,Dt.protocol+"//"),o.type=n.method||n.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Ie)||[""],null==o.crossDomain){b=le.createElement("a");try{b.href=o.url,b.href=b.href,o.crossDomain=Xt.protocol+"//"+Xt.host!=b.protocol+"//"+b.host}catch(t){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=Te.param(o.data,o.traditional)),ne($t,o,n,h),v)return h;for(k in w=Te.event&&o.global,w&&0==Te.active++&&Te.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Ut.test(o.type),f=o.url.replace(zt,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Mt,"+")):(T=o.url.slice(f.length),o.data&&(o.processData||"string"==typeof o.data)&&(f+=(Pt.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(Ft,"$1"),T=(Pt.test(f)?"&":"?")+"_="+Nt++ +T),o.url=f+T),o.ifModified&&(Te.lastModified[f]&&h.setRequestHeader("If-Modified-Since",Te.lastModified[f]),Te.etag[f]&&h.setRequestHeader("If-None-Match",Te.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||n.contentType)&&h.setRequestHeader("Content-Type",o.contentType),h.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"===o.dataTypes[0]?"":", */*; q=0.01"):o.accepts["*"]),o.headers)h.setRequestHeader(k,o.headers[k]);if(o.beforeSend&&(!1===o.beforeSend.call(s,h,o)||v))return h.abort();if(u="abort",d.add(o.complete),h.done(o.success),h.fail(o.error),g=ne(Kt,o,n,h),!g)a(-1,"No Transport");else{if(h.readyState=1,w&&r.trigger("ajaxSend",[h,o]),v)return h;o.async&&0<o.timeout&&(x=e.setTimeout(function(){h.abort("timeout")},o.timeout));try{v=!1,g.send(p,a)}catch(t){if(v)throw t;a(-1,t)}}return h},getJSON:function a(e,t,n){return Te.get(e,t,n,"json")},getScript:function n(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,n,a,i){return be(n)&&(i=i||a,a=n,n=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:i,data:n,success:a},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},Te.fn.extend({wrapAll:function n(e){var t;return this[0]&&(be(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function t(e){return be(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function n(e){var t=be(e);return this.each(function(n){Te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function t(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Vt={0:200,1223:204},Jt=Te.ajaxSettings.xhr();xe.cors=!!Jt&&"withCredentials"in Jt,xe.ajax=Jt=!!Jt,Te.ajaxTransport(function(t){var n,a;if(xe.cors||Jt&&!t.crossDomain)return{send:function d(o,s){var r=t.xhr(),l;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(l in t.xhrFields)r[l]=t.xhrFields[l];for(l in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)r.setRequestHeader(l,o[l]);n=function t(e){return function(){n&&(n=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"==typeof r.status?s(r.status,r.statusText):s(0,"error"):s(Vt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=n(),a=r.onerror=r.ontimeout=n("error"),void 0===r.onabort?r.onreadystatechange=function(){4===r.readyState&&e.setTimeout(function(){n&&a()})}:r.onabort=a,n=n("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(n)throw t}},abort:function e(){n&&n()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function t(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function o(a,i){t=Te("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function a(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),le.head.appendChild(t[0])},abort:function e(){n&&n()}}}});var Qt=[],Zt=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function t(){var e=Qt.pop()||Te.expando+"_"+Nt++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(t,n,a){var i=!1!==t.jsonp&&(Zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(t.data)&&"data"),o,s,r;if(i||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=be(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,i?t[i]=t[i].replace(Zt,"$1"+o):!1!==t.jsonp&&(t.url+=(Pt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||Te.error(o+" was not called"),r[0]},t.dataTypes[0]="json",s=e[o],e[o]=function(){r=arguments},a.always(function(){void 0===s?Te(e).removeProp(o):e[o]=s,t[o]&&(t.jsonpCallback=n.jsonpCallback,Qt.push(o)),r&&be(s)&&s(r[0]),r=s=void 0}),"script"}),xe.createHTMLDocument=function(){var e=le.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var a,i,o;return(t||(xe.createHTMLDocument?(t=le.implementation.createHTMLDocument(""),a=t.createElement("base"),a.href=le.location.href,t.head.appendChild(a)):t=le),i=Le.exec(e),o=!n&&[],i)?[t.createElement(i[1])]:(i=k([e],t,o),o&&o.length&&Te(o).remove(),Te.merge([],i.childNodes))},Te.fn.load=function(e,t,n){var a=this,i=e.indexOf(" "),o,s,r;return-1<i&&(o=J(e.slice(i)),e=e.slice(0,i)),be(t)?(n=t,t=void 0):t&&"object"===_typeof(t)&&(s="POST"),0<a.length&&Te.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(o?Te("<div>").append(Te.parseHTML(e)).find(o):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function u(e,t,n){var a=Te.css(e,"position"),i=Te(e),o={},s,r,l,d,c,p,m;"static"===a&&(e.style.position="relative"),c=i.offset(),l=Te.css(e,"top"),p=Te.css(e,"left"),m=("absolute"===a||"fixed"===a)&&-1<(l+p).indexOf("auto"),m?(s=i.position(),d=s.top,r=s.left):(d=parseFloat(l)||0,r=parseFloat(p)||0),be(t)&&(t=t.call(e,n,Te.extend({},c))),null!=t.top&&(o.top=t.top-c.top+d),null!=t.left&&(o.left=t.left-c.left+r),"using"in t?t.using.call(e,o):i.css(o)}},Te.fn.extend({offset:function i(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t=this[0],n,a;if(t)return t.getClientRects().length?(n=t.getBoundingClientRect(),a=t.ownerDocument.defaultView,{top:n.top+a.pageYOffset,left:n.left+a.pageXOffset}):{top:0,left:0}},position:function o(){if(this[0]){var e=this[0],t={top:0,left:0},n,a,i;if("fixed"===Te.css(e,"position"))a=e.getBoundingClientRect();else{for(a=this.offset(),i=e.ownerDocument,n=e.offsetParent||i.documentElement;n&&(n===i.body||n===i.documentElement)&&"static"===Te.css(n,"position");)n=n.parentNode;n&&n!==e&&1===n.nodeType&&(t=Te(n).offset(),t.top+=Te.css(n,"borderTopWidth",!0),t.left+=Te.css(n,"borderLeftWidth",!0))}return{top:a.top-t.top-Te.css(e,"marginTop",!0),left:a.left-t.left-Te.css(e,"marginLeft",!0)}}},offsetParent:function e(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||it})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Te.fn[e]=function(a){return Me(this,function(e,a,i){var o;return ve(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[a]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[a]=i)},e,a,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=I(xe.pixelPosition,function(e,n){if(n)return n=R(e,t),mt.test(n)?Te(e).position()[t]+"px":n})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){Te.fn[a]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),r=n||(!0===i||!0===o?"margin":"border");return Me(this,function(t,n,i){var o;return ve(t)?0===a.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,_Mathmax(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Te.css(t,n,r):Te.style(t,n,i,r)},t,s?i:void 0,s)}})}),Te.each(["blur","focus","focusin","focusout","resize","scroll","click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","change","select","submit","keydown","keypress","keyup","contextmenu"],function(e,t){Te.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}),Te.fn.extend({hover:function n(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function a(e,t,n){return this.on(e,null,t,n)},unbind:function n(e,t){return this.off(e,null,t)},delegate:function i(e,t,n,a){return this.on(t,e,n,a)},undelegate:function a(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Te.proxy=function(e,t){var n,a,i;if("string"==typeof t&&(n=e[t],t=e,e=n),!!be(e))return a=ce.call(arguments,2),i=function(){return e.apply(t||this,a.concat(ce.call(arguments)))},i.guid=e.guid=e.guid||Te.guid++,i},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=s,Te.isFunction=be,Te.isWindow=ve,Te.camelCase=h,Te.type=a,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Te});var en=e.jQuery,tn=e.$;return Te.noConflict=function(t){return e.$===Te&&(e.$=tn),t&&e.jQuery===Te&&(e.jQuery=en),Te},t||(e.jQuery=e.$=Te),Te}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:e(jQuery)}(function(e){function t(t){var i=t||window.event,o=r.call(arguments,1),s=0,c=0,p=0,m=0;if(t=e.event.fix(i),t.type="mousewheel","detail"in i&&(p=-1*i.detail),"wheelDelta"in i&&(p=i.wheelDelta),"wheelDeltaY"in i&&(p=i.wheelDeltaY),"wheelDeltaX"in i&&(c=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(c=-1*p,p=0),s=0===p?c:p,"deltaY"in i&&(p=-1*i.deltaY,s=p),"deltaX"in i&&(c=i.deltaX,0===p&&(s=-1*c)),0!==p||0!==c){if(1===i.deltaMode){var u=e.data(this,"mousewheel-line-height");s*=u,p*=u,c*=u}else if(2===i.deltaMode){var h=e.data(this,"mousewheel-page-height");s*=h,p*=h,c*=h}return m=_Mathmax(_Mathabs(p),_Mathabs(c)),(!d||m<d)&&(d=m,a(i,m)&&(d/=40)),a(i,m)&&(s/=40,c/=40,p/=40),s=Math[1<=s?"floor":"ceil"](s/d),c=Math[1<=c?"floor":"ceil"](c/d),p=Math[1<=p?"floor":"ceil"](p/d),t.deltaX=c,t.deltaY=p,t.deltaFactor=d,t.deltaMode=0,o.unshift(t,s,c,p),l&&clearTimeout(l),l=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,o)}}function n(){d=null}function a(e,t){return p.settings.adjustOldDeltas&&"mousewheel"===e.type&&0==t%120}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,l,d;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var p=e.event.special.mousewheel={version:"3.1.9",setup:function a(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",p.getLineHeight(this)),e.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function n(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function n(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function n(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function t(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function t(e){return this.unbind("mousewheel",e)}})}),function(e){function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,t){for(var n=[];0<t;n[--t]=e);return n.join("")}var a=function(){return a.cache.hasOwnProperty(arguments[0])||(a.cache[arguments[0]]=a.parse(arguments[0])),a.format.call(null,a.cache[arguments[0]],arguments)};a.format=function(e,o){var s=1,r=e.length,l="",d=[],c,p,m,u,h,g,f;for(p=0;p<r;p++)if(l=t(e[p]),"string"===l)d.push(e[p]);else if("array"===l){if(u=e[p],u[2])for(c=o[s],m=0;m<u[2].length;m++){if(!c.hasOwnProperty(u[2][m]))throw a("[sprintf] property \"%s\" does not exist",u[2][m]);c=c[u[2][m]]}else c=u[1]?o[u[1]]:o[s++];if(/[^s]/.test(u[8])&&"number"!==t(c))throw a("[sprintf] expecting number but found %s",t(c));switch(u[8]){case"b":c=c.toString(2);break;case"c":c=_StringfromCharCode(c);break;case"d":c=parseInt(c,10);break;case"e":c=u[7]?c.toExponential(u[7]):c.toExponential();break;case"f":c=u[7]?parseFloat(c).toFixed(u[7]):parseFloat(c);break;case"o":c=c.toString(8);break;case"s":c=(c+="")&&u[7]?c.substring(0,u[7]):c;break;case"u":c>>>=0;break;case"x":c=c.toString(16);break;case"X":c=c.toString(16).toUpperCase();}c=/[def]/.test(u[8])&&u[3]&&0<=c?" +"+c:c,g=u[4]?"0"===u[4]?"0":u[4].charAt(1):" ",f=u[6]-(c+"").length,h=u[6]?n(g,f):"",d.push(u[5]?c+h:h+c)}return d.join("")},a.cache={},a.parse=function(e){for(var t=e,n=[],a=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))a.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))a.push("%");else if(null!==(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))){if(n[2]){i|=1;var o=[],s=n[2],r=[];if(null!==(r=/^([a-z_][a-z_\d]*)/i.exec(s))){for(o.push(r[1]);""!==(s=s.substring(r[0].length));)if(null!==(r=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(r[1]);else if(null!==(r=/^\[(\d+)\]/.exec(s)))o.push(r[1]);else throw"[sprintf] huh?";}else throw"[sprintf] huh?";n[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";a.push(n)}else throw"[sprintf] huh?";t=t.substring(n[0].length)}return a};e.sprintf=a,e.vsprintf=function i(e,t,n){return n=t.slice(0),n.splice(0,0,e),a.apply(null,n)}}("undefined"==typeof global?window:global),function(e){var t="undefined"==typeof window?global:window;"function"==typeof define&&define.amd?define(["jquery","wcwidth"],e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(t,n,a){return void 0===n&&(void 0===window?n=require("jquery")(t):n=require("jquery")),void 0===a&&(a=require("wcwidth")),e(n,a),n}:e(t.jQuery,t.wcwidth)}(function($,wcwidth,undefined){function debug(){}function DelayQueue(){var e=$.Callbacks(),t=!1;this.resolve=function(){e.fire(),t=!0},this.add=function(n){t?n():e.add(n)}}function a11y_hide(e){e.attr({role:"presentation","aria-hidden":"true"})}function alert_exception(t,n){var e=(t?t+": ":"")+exception_message(n);-1===excepctions.indexOf(e)&&(excepctions.push(e),alert(e+(n.stack?"\n"+n.stack:"")))}function scrollbar_event(t,e){var n=e.offset().left;return e.outerWidth()<=t.clientX-n}function exception_message(t){return"string"==typeof t?t:"string"==typeof t.fileName?t.fileName+": "+t.message:t.message}function Cycle(){var e=[].slice.call(arguments),t=0;$.extend(this,{get:function t(){return e},index:function e(){return t},rotate:function i(n){if(!n){var a=e.filter(function(e){return"undefined"!=typeof e});if(!a.length)return}return e.length?1===e.length?e[0]:(t===e.length-1?t=0:++t,"undefined"==typeof e[t]?this.rotate(!0):e[t]):void 0},length:function t(){return e.length},remove:function n(t){delete e[t]},set:function o(n){for(var a=e.length;a--;)if(e[a]===n)return void(t=a);this.append(n),t=e.length-1},front:function i(){if(e.length){for(var n=t,a=!1;!e[n];)if(n++,n>e.length){if(a)break;n=0,a=!0}return e[n]}},map:function(t){return e.map(function(e,n){return"undefined"==typeof e?null:t(e,n)}).filter(Boolean)},forEach:function n(t){return e.forEach(function(e,n){"undefined"!=typeof e&&t(e,n)})},append:function n(t){e.push(t)}})}function Stack(e){var t=e instanceof Array?e:e?[e]:[];$.extend(this,{data:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return t}),map:function(e){return $.map(t,e)},size:function e(){return t.length},pop:function n(){if(0===t.length)return null;var e=t[t.length-1];return t=t.slice(0,t.length-1),e},push:function n(e){return t=t.concat([e]),e},top:function e(){return 0<t.length?t[t.length-1]:null},clone:function(){return new Stack(t.slice(0))}})}function History(e,t,n){var a=!0,i="";"string"==typeof e&&""!==e&&(i=e+"_"),i+="commands";var o;n?o=[]:(o=$.Storage.get(i),o=o?JSON.parse(o):[]);var s=o.length-1;$.extend(this,{append:function r(e){a&&o[o.length-1]!==e&&(o.push(e),t&&o.length>t&&(o=o.slice(-t)),s=o.length-1,!n&&$.Storage.set(i,JSON.stringify(o)))},set:function t(e){e instanceof Array&&(o=e,!n&&$.Storage.set(i,JSON.stringify(o)))},data:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return o}),reset:function e(){s=o.length-1},last:function e(){return o[o.length-1]},end:function e(){return s==o.length-1},position:function e(){return s},current:function e(){return o[s]},next:function t(){var e=s;if(s<o.length-1&&++s,e!=s)return o[s]},previous:function t(){var e=s;if(0<s&&--s,e!=s)return o[s]},clear:function e(){o=[],this.purge()},enabled:function e(){return a},enable:function e(){a=!0},purge:function e(){n||$.Storage.remove(i)},disable:function e(){a=!1},toggle:function t(e){a="undefined"==typeof e?!a:e}})}function bare_text(e){return e.match(/&/)?$("<span>"+safe(e)+"</span>").text():e}function text(e){return bare_text($.terminal.strip(e))}function safe(e){return e.match(/[<>&]/)?e.replace(/&(?![^;]+;)/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;"):e}function crlf(e){return e.replace(/\r/g,"")}function get_next_character(e){var t=e.match(emoji_re);if(t)return t[1];if(1===e.substring(0,2).replace(astral_symbols_re,"_"))return e.substring(1).match(combine_chr_re)?e.substring(0,3):e.substring(0,2);var n=e.match(combine_chr_re);return n?n[1]:e[0]}function normalize_position(e,t){if(0===t)return t;e=$.terminal.strip(e);var n=$.terminal.split_characters(e).reduce(function(e,n){if("number"==typeof e)return e;var a=e.length+n.length;return a>=t?e.position+1:{position:e.position+1,length:a}},{position:0,length:0});return"number"==typeof n?n:n.position}function char_width_prop(e,t){if(is_ch_unit_supported)return"width: "+e+"ch";if(!!is_css_variables_supported)return"--length: "+e;return t.char_width?"width: "+t.char_width*e+"px":""}function extra_css(e,t){if("undefined"!=typeof wcwidth){var n=bare_text(e),a=strlen(n);if(a!==$.terminal.length(n))return char_width_prop(a,t)}return""}function wide_characters(e,t){if("undefined"!=typeof wcwidth){var n=bare_text(e),a=$.terminal.split_characters(n);if(1===a.length)return e;var i=a.map(function(e){return{len:strlen(e),chr:e}}).reduce(function(e,t){var n=e[e.length-1];return n?n.len===t.len?(e.pop(),e.concat([{sum:n.sum+t.len,len:n.len,str:n.str+t.chr}])):e.concat([{sum:t.len,len:t.len,str:t.chr}]):[{sum:t.len,str:t.chr,len:t.len}]},[]);return i.map(function(e){if(1===e.len)return e.str;var n=char_width_prop(e.sum,t);return e.sum!==a.length&&n.length?"<span style=\""+n+"\">"+e.str+"</span>":"<span>"+e.str+"</span>"}).join("")}return e}function binary_search(e,t,n,a){var i=t-e,o=e+_Mathfloor(i/2),s=a(n,o);return 0===s?o:0<s&&1<i?binary_search(o,t,n,a):0>s&&1<i?binary_search(e,o,n,a):-1}function text_to_clipboard(e,t){var n=$("<div>"+t.replace(/\n/,"<br/>")+"<div>");n.appendTo("body"),select_all(n[0]);try{document.execCommand("copy")}catch(t){}n.remove()}function clear_textarea_selection(e){e.selectionStart=e.selectionEnd=0}function common_string(e,t,n){if(!t.length)return"";for(var a=string_case(e),o=[],s=e.length;s<t[0].length;++s){for(var r=!1,l=t[0].charAt(s),d=l.toLowerCase(),c=1;c<t.length;++c){r=!0;var p=t[c].charAt(s),m=p.toLowerCase();if(l!==p)if(n||"mixed"===a){r=!1;break}else if(d!==m){r=!1;break}else if("lower"===a)l=l.toLowerCase();else if("upper"===a)l=l.toUpperCase();else{r=!1;break}}if(r)o.push(l);else break}return e+o.join("")}function trigger_terminal_change(e){terminals.forEach(function(t){t.settings().onTerminalChange.call(t,e)})}function select_all(e){if(window.getSelection){var t=window.getSelection();if(t.setBaseAndExtent)t.setBaseAndExtent(e,0,e,1);else if(document.createRange){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}}function process_command(e,t){var n=e.match(command_re)||[];if(n.length){var a=n.shift(),i=$.map(n,function(e){return e.match(/^["']/)?(e=e.replace(/\n/g,"\\u0000\\u0000\\u0000\\u0000"),e=t(e),e.replace(/\x00\x00\x00\x00/g,"\n")):t(e)}),o=$.map(n,function(e){var t=e.match(/^(['"]).*\1$/);return t&&t[1]||""}),s=e.substring(a.length).trim();return{command:e,name:a,args:i,args_quotes:o,rest:s}}return{command:e,name:"",args:[],args_quotes:o,rest:""}}function warn(e){e="[jQuery Terminal] "+e,-1===warnings.indexOf(e)&&(warnings.push(e),console?console.warn?console.warn(e):console.log&&console.log(e):setTimeout(function(){throw new Error("WARN: "+e)},0))}function get_char_size(e){var t=$("<div class=\"terminal temp\"><div class=\"terminal-output\"><div><div class=\"line\" style=\"float: left\"><span>&nbsp;</span></div></div></div></div>").appendTo("body");if(t.addClass(e.attr("class")),e){var n=e.attr("style");n&&(n=n.split(/\s*;\s*/).filter(function(e){return!e.match(/display\s*:\s*none/i)}).join(";"),t.attr("style",n))}var a=t.find(".line")[0].getBoundingClientRect(),i={width:a.width,height:a.height};return t.remove(),i}function get_num_chars(e,t){var n=e.find(".terminal-fill").width(),a=_Mathfloor(n/t.width);return a||1e3}function get_num_rows(e,t){return _Mathfloor(e.find(".terminal-fill").height()/t.height)}function all(e,t){var n=e.filter(function(e){return e[t]()===e});return n.length===e.length}function string_case(e){var t=e.split("");return all(t,"toLowerCase")?"lower":all(t,"toUpperCase")?"upper":"mixed"}function same_case(e){return"mixed"!==string_case(e)}function is_function(e){return"function"===get_type(e)}function get_type(e){return"function"==typeof e?"function":$.type(e)}var _Mathfloor=Math.floor;$.omap=function(e,t){var n={};return $.each(e,function(a,i){n[a]=t.call(e,a,i)}),n},$.fn.text_length=function(){return this.map(function(){return $(this).text().length}).get().reduce(function(e,t){return e+t},0)};var Clone={clone_object:function a(e){var t={};if("object"===_typeof(e)){if($.isArray(e))return this.clone_array(e);if(null===e)return e;for(var n in e)t[n]=$.isArray(e[n])?this.clone_array(e[n]):"object"===_typeof(e[n])?this.clone_object(e[n]):e[n]}return t},clone_array:function t(e){if(!is_function(Array.prototype.map))throw new Error("Your browser don't support ES5 array map use es5-shim");return e.slice(0).map(function(e){return"object"===_typeof(e)?this.clone_object(e):e}.bind(this))}},clone=function(e){return Clone.clone_object(e)},localStorage;(function(){function e(e,t){if("string"==typeof e&&"string"==typeof t)return localStorage[e]=t,!0;if("object"===_typeof(e)&&"undefined"==typeof t){for(var n in e)e.hasOwnProperty(n)&&(localStorage[n]=e[n]);return!0}return!1}function t(t,n){var a,i,o;if(a=new Date,a.setTime(a.getTime()+31536e6),i="; expires="+a.toGMTString(),"string"==typeof t&&"string"==typeof n)return document.cookie=t+"="+n+i+"; path=/",!0;if("object"===_typeof(t)&&"undefined"==typeof n){for(o in t)t.hasOwnProperty(o)&&(document.cookie=o+"="+t[o]+i+"; path=/");return!0}return!1}function n(e){return localStorage[e]}function a(e){return delete localStorage[e]}var i=function t(){try{var e=window.localStorage;return e.setItem("test","1"),e.removeItem("test"),!0}catch(e){return!1}}();(function e(){try{return document.cookie.split(";"),!0}catch(t){return!1}})()||i?(i&&(localStorage=window.localStorage),$.extend({Storage:{set:i?e:t,get:i?n:function(e){var t,n,a,o;for(t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(o=n[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},remove:i?a:function(e){return t(e,"",-1)}}})):(localStorage={},$.extend({Storage:{set:e,get:n,remove:a}}))})();var jQuery=$;(function(e){jQuery.fn.extend({everyTime:function o(e,t,n,a,i){return this.each(function(){jQuery.timer.add(this,e,t,n,a,i)})},oneTime:function a(e,t,n){return this.each(function(){jQuery.timer.add(this,e,t,n,1)})},stopTime:function n(e,t){return this.each(function(){jQuery.timer.remove(this,e,t)})}}),jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function i(e){if(e===void 0||null===e)return null;var t=this.regex.exec(jQuery.trim(e.toString()));if(t[2]){var n=parseInt(t[1],10),a=this.powers[t[2]]||1;return n*a}return e},add:function l(e,t,n,a,i,o){var s=0;if(jQuery.isFunction(n)&&(!i&&(i=a),a=n,n=t),t=jQuery.timer.timeParse(t),!("number"!=typeof t||isNaN(t)||0>=t)){i&&i.constructor!==Number&&(o=!!i,i=0),i=i||0,o=o||!1,e.$timers||(e.$timers={}),e.$timers[n]||(e.$timers[n]={}),a.$timerID=a.$timerID||this.guid++;var r=function(){o&&r.inProgress||(r.inProgress=!0,(++s>i&&0!==i||!1===a.call(e,s))&&jQuery.timer.remove(e,n,a),r.inProgress=!1)};r.$timerID=a.$timerID,e.$timers[n][a.$timerID]||(e.$timers[n][a.$timerID]=window.setInterval(r,t)),this.global[n]||(this.global[n]=[]),this.global[n].push(e)}},remove:function r(e,t,n){var a=e.$timers,i;if(a){if(!t)for(var o in a)a.hasOwnProperty(o)&&this.remove(e,o,n);else if(a[t]){if(n)n.$timerID&&(window.clearInterval(a[t][n.$timerID]),delete a[t][n.$timerID]);else for(var s in a[t])a[t].hasOwnProperty(s)&&(window.clearInterval(a[t][s]),delete a[t][s]);for(i in a[t])if(a[t].hasOwnProperty(i))break;i||(i=null,delete a[t])}for(i in a)if(a.hasOwnProperty(i))break;i||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&e(window).one("unload",function(){var e=jQuery.timer.global;for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t],a=n.length;--a;)jQuery.timer.remove(n[a],t)})})(jQuery),function(e){if(_Stringprototype.split.toString().match(/\[native/)){var t=_Stringprototype.split,n=/()??/.exec("")[1]===e,a;return a=function(a,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return t.call(a,i,o);var s=[],r=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),l=0,d,c,p,m;for(i=new RegExp(i.source,r+"g"),a+="",n||(d=new RegExp("^"+i.source+"$(?!\\s)",r)),o=o===e?4294967295:o>>>0;(c=i.exec(a))&&(p=c.index+c[0].length,!(p>l&&(s.push(a.slice(l,c.index)),!n&&1<c.length&&c[0].replace(d,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(c[t]=e)}),1<c.length&&c.index<a.length&&Array.prototype.push.apply(s,c.slice(1)),m=c[0].length,l=p,s.length>=o)));)i.lastIndex===c.index&&i.lastIndex++;return l===a.length?(m||!i.test(""))&&s.push(""):s.push(a.slice(l)),s.length>o?s.slice(0,o):s},_Stringprototype.split=function(e,t){return a(this,e,t)},a}}(),$.fn.caret=function(e){var t=this[0],n="true"===t.contentEditable;if(0===arguments.length){if(window.getSelection){if(n){t.focus();var a=window.getSelection().getRangeAt(0),i=a.cloneRange();return i.selectNodeContents(t),i.setEnd(a.endContainer,a.endOffset),i.toString().length}return t.selectionStart}if(document.selection){if(t.focus(),n){var a=document.selection.createRange(),i=document.body.createTextRange();return i.moveToElementText(t),i.setEndPoint("EndToEnd",a),i.text.length}var e=0,o=t.createTextRange(),i=document.selection.createRange().duplicate(),s=i.getBookmark();for(o.moveToBookmark(s);0!==o.moveStart("character",-1);)e++;return e}return 0}if(-1===e&&(e=this[n?"text":"val"]().length),window.getSelection)n?(t.focus(),window.getSelection().collapse(t.firstChild,e)):t.setSelectionRange(e,e);else if(document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(t),o.moveStart("character",e),o.collapse(!0),o.select()}return n||this.is(":focus")||t.focus(),e},$.fn.resizer=function(e){var t="unbind"===arguments[0];if(!t&&!is_function(e))throw new Error("Invalid argument, it need to a function or string \"unbind\".");return t&&(e=is_function(arguments[1])?arguments[1]:null),this.each(function(){function n(){o.fire()}var a=$(this),i,o;if(t){if(o=a.data("callbacks"),e&&o?(o.remove(e),!o.has()&&(o=null)):o=null,!o)if(a.removeData("callbacks"),window.ResizeObserver){var s=a.data("observer");s&&(s.unobserve(this),a.removeData("observer"))}else i=a.find("> iframe"),i.length?($(i[0].contentWindow).off("resize").remove(),i.remove()):a.is("body")&&$(window).off("resize.resizer");}else if(a.data("callbacks"))$(this).data("callbacks").add(e);else{o=$.Callbacks(),o.add(e),a.data("callbacks",o);var r=!0,l;window.ResizeObserver?(l=new ResizeObserver(function(){r||n(),r=!1}),l.observe(this),a.data("observer",l)):a.is("body")?$(window).on("resize.resizer",n):(i=$("<iframe/>").addClass("resizer").appendTo(this)[0],$(i.contentWindow).on("resize",n))}})};var excepctions=[],cmd_index=0;$.cmd={defaults:{mask:!1,caseSensitiveSearch:!0,historySize:60,prompt:"> ",enabled:!0,history:!0,onPositionChange:$.noop,onCommandChange:$.noop,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,tabs:4}},$.fn.cmd=function(e){function t(t){var e=$(t.target);if(e.is("span"))return e=e.closest("[data-text]"),e.index()+e.parent("span").prevAll().find("[data-text]").length+e.closest("[role=\"presentation\"]").prevUntil(".prompt").find("[data-text]").length;if(e.is("div[role=\"presentation\"]")){var n=!e.nextUntil("textarea").length;return e.find("span[data-text]").length+e.prevUntil(".prompt").find("span[data-text]").length-(n?0:1)}}function n(t){if(t.key){var e=t.key.toUpperCase();if(ee[e]&&(e=ee[e]),"CONTROL"===e)return"CTRL";var n=[];return t.ctrlKey&&n.push("CTRL"),t.metaKey&&"META"!==e&&n.push("META"),t.shiftKey&&"SHIFT"!==e&&n.push("SHIFT"),t.altKey&&"ALT"!==e&&n.push("ALT"),n.length&&" "===e&&(e="SPACEBAR"),t.key&&n.push(e),n.join("+")}}function a(e){return function(){var t=/ *[^ ]+ *(?= )|[^ ]+$/,n=Y.slice(V),a=n.match(t);return a&&(X=a[0],e&&text_to_clipboard(M,X)),M.set(Y.slice(0,V)+Y.slice(V).replace(t,""),!0),!1}}function i(e){return function(){if(""!==Y&&0!==V){var t=Y.slice(0,V).match(/([^ ]+ *$)/);t[0].length&&(X=M["delete"](-t[0].length),e&&text_to_clipboard(M,X))}return!1}}function o(){return!0}function s(){return W.val(""),Z=0,M.isenabled()&&!W.is(":focus")&&W.trigger("focus",[!0]),W.one("input",j),!0}function r(){return xe?(re=Y,M.set(pe.current())):M.set(pe.previous()),xe=!1,!1}function l(){return M.set(pe.end()?re:pe.next()),!1}function d(){U?(G=G.slice(0,-1),_()):""!==Y&&0<V&&M["delete"](-1),M.oneTime(1,function(){Ce=!0})}function c(){0<V&&(M.position(-1,!0),fe())}function p(){return V<Y.length&&M.position(1,!0),!1}function m(){M.position(0)}function u(){M.position(Y.length)}function h(){var e=W.is(":focus");de?(!e,M.oneTime(10,function(){W.is(":focus")||de})):e&&(is_mobile||!de)&&W.trigger("blur",[!0])}function g(){if(animation_supported){var e=window.getComputedStyle(Q[0]),t=e.getPropertyValue("--animation");t=t.replace(/^\s*|\s*$/g,"");var n=M.attr("class");if(t&&!t.match(/blink/)){var a=t.replace(/terminal-/,"")+"-animation";n.match(a)||M.addClass(a)}else n.match(/-animation/)&&M.attr("class",n.replace(/[a-z]+-animation/g,""))}}function f(e){M.isenabled()&&M.oneTime(10,function(){W.val()===Y||e||W.val(" "+Y),de&&M.oneTime(10,function(){try{W.caret()!==V+1&&W.caret(V+1)}catch(t){}})})}function y(){Q.toggleClass("inverted")}function _(){le="(reverse-i-search)`"+G+"': ",_e()}function x(){le=se,U=!1,K=null,G=""}function b(e){var t=pe.data(),n=t.length,a,o;if(e&&0<K&&(n-=K),0<G.length)for(var s=G.length;0<s;s--){o=$.terminal.escape_regex(G.substring(0,s)),a=H.caseSensitiveSearch?new RegExp(o):new RegExp(o,"i");for(var r=n;r--;)if(a.test(t[r]))return K=t.length-r,M.position(t[r].indexOf(o)),M.set(t[r],!0),fe(),void(G.length!==s&&(G=G.substring(0,s),_()))}G=""}function v(){var e=M.find(".prompt").html("<span>&nbsp;</span>"),t=M.width(),n=e.find("span")[0].getBoundingClientRect().width;ne=_Mathfloor(t/n)}function w(e){function t(e){return $.terminal.split_equal(e,ne)}function n(e){return e.filter(function(e){return!$.terminal.strip(e).match(/^ $/)})}var a=B.find(".line"),o;o=a.length?a.nextUntil(".line").text():B.text(),o=$.terminal.escape_brackets(o);var s=new RegExp("^"+$.terminal.escape_regex(o)),r;if(e.match(/\n/)){for(var l=e.split("\n"),d=ne-oe-1,c=0;c<l.length-1;++c)l[c]+=" ";for(strlen(l[0])>d?(r=t(o+l[0]),r[0]=r[0].replace(s,""),r=n(r)):r=[l[0]],c=1;c<l.length;++c)if(strlen(l[c])>ne){var p=t(l[c]);c<l.length-1&&(p=n(p)),r=r.concat(p)}else r.push(l[c])}else r=t(o+e,ne),r[0]=r[0].replace(s,"");return 1<r.length&&r[r.length-1].length===ne&&r.push(""),r}function k(t,e){try{t=$.terminal.escape_formatting(t);var n=$.extend({},H,{unixFormattingEscapeBrackets:!0,position:V}),a=$.terminal.apply_formatters(t,n);t=a[0],e||(J=a[1]),t=$.terminal.normalize(t);var i=$.terminal.length(t);return J>i&&(J=i),t}catch(n){return alert_exception("[Formatting]",n.stack),t}}function T(e,t){var n=$.terminal.encode(C(e),{tabs:H.tabs,before:t});e=$.terminal.format(n,{char_width:H.char_width});var a=/(<span[^>]+data-text[^>]+>)(.*?)(<\/span>)/g;return e.replace(a,"$1<span>$2</span>$3")}function C(e){function t(e){return $.terminal.is_formatting(e)?e.match(/\]\\\]/)&&(e=e.replace(/\]\\\]/g,"]\\\\]")):(e.match(/\\$/)&&(e+="\\"),e="[[;;]"+e+"]"),e}var n=E(e);if(1===n)return t(e);for(var a=[],o=0,s;o<n;++o)s=$.terminal.substring(e,o,o+1),a.push(t(s));return a.join("")}function E(e){return $.terminal.length(e)}function S(e,t,n){return $.terminal.substring(e,t,n)}function j(){0<Z++||M.isenabled()&&M.oneTime(100,function(){M.insert(W.val()),W.val(Y),f()})}function A(){is_function(H.onCommandChange)&&H.onCommandChange.call(M,Y)}function L(t){return"BACKSPACE"===t.key.toUpperCase()||8===t.which}function O(t){return t.key&&1===t.key.length&&!t.ctrlKey}function D(t){return 35===t.which||36===t.which||37===t.which||38===t.which||39===t.which||40===t.which||13===t.which||27===t.which}function N(t){debug("keydown \""+t.key+"\" "+t.fake+" "+t.which),Se="process"===(t.key||"").toLowerCase()||0===t.which;var e;ve=ke&&we&&!L(t);try{t.fake||(we=O(t),Te="unidentified"===(t.key+"").toLowerCase(),Ee=L(t))}catch(e){}if("Unidentified"===t.key)return void(Ce=!0);t.fake||(ke=!0,Ce=!1),W.off("input",j);var a=n(t);if(is_function(H.keydown)&&(e=H.keydown.call(M,t),void 0!==e))return e||(De=!0),e;if(de){if(M.oneTime(H.holdTimeout,"hold",function(){je=!0}),je){if(a="HOLD+"+a,Ae)return;0<H.holdRepeatTimeout&&(Ae=!0,M.oneTime(H.holdRepeatTimeout,"delay",function(){Ae=!1}))}if(ue(),De=-1!==["CTRL+V","META+V"].indexOf(a),38===t.which||80===t.which&&t.ctrlKey||(xe=!0),U&&D(t))x(),_e(),27===t.which&&M.set(""),fe(),13===t.which&&N.call(this,t);else if(is_function(he[a])){if(e=he[a](t),!0===e)return;if(void 0!==e)return e}else return t.altKey?void 0:void(be=!1)}}function P(){M.stopTime("hold"),Ae=je=!1}function R(t){debug("keypress \""+t.key+"\" "+t.fake),P();var e;if((t.fake||(ke=!1),!((t.ctrlKey||t.metaKey)&&!t.altKey))&&!be){if(is_function(H.keypress)&&(e=H.keypress.call(M,t),void 0!==e))return e||(De=!0),e;if(de){if(t.fake)return;var n;if(is_key_native||t.fake){n=t.key;var a=n.toUpperCase();ee[a]&&(n=ee[a])}if((!n||Te)&&(n=_StringfromCharCode(t.which)),-1<$.inArray(t.which,[13,0,8]))return 123===t.keyCode&&void 0;n&&(!t.ctrlKey||t.ctrlKey&&t.ctrlKey)&&(!(t.altKey&&100===t.which)||t.altKey)&&!ve&&(U?(G+=n,b(),_()):1===n.length&&M.insert(n))}}}function I(e,t,n){var a=$.Event(e);a.which=n,a.key=t,a.fake=!0,Oe.trigger(a)}function q(){debug("input "+Ce+" || "+Se+" (("+ke+" || "+ve+") && !"+De+" && ("+we+" || "+Te+") && !"+Ee+")");var e=W.val().replace(/^ /,"");if((Ce||Se||(ke||ve)&&!De&&(we||Te)&&!Ee)&&e!==Y){var t=V;if(Ce){var n=Le;Ee=n.substring(0,n.length-1).length===e.length}if(U)G=e,b(),_();else{var a=e.substring(V);if(1===a.length||Ee){if(Ce){var i;i=Ee?8:a.toUpperCase().charCodeAt(0),I("keydown",Ee?"Backspace":a,i)}ke&&!Ee&&I("keypress",a,a.charCodeAt(0))}if(Ee)return void(Le=Y);if(De)return void(De=!1);M.set(e)}Ee?M.position(t-1):M.position(t+_Mathabs(e.length-Le.length))}Le=Y,De=!1,Ce=!0}var H=$.extend({},$.cmd.defaults,e),M=this,z=M.data("cmd");if(z)return z;var F=cmd_index++;M.addClass("cmd"),M.append("<span class=\"prompt\"></span>"),M.append("<div class=\"cursor-line\"><span></span><span class=\"cursor\">&nbsp;</span><span></span></div>"),a11y_hide(M.find(".cursor-line"));var W=$("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(M).val(" ");H.width&&M.width(H.width);var B=M.find(".prompt"),U=!1,G="",K=null,Y="",X="",V=0,J=0,Q=M.find(".cursor"),Z=0,ee={SPACEBAR:" ",UP:"ARROWUP",DOWN:"ARROWDOWN",LEFT:"ARROWLEFT",RIGHT:"ARROWRIGHT",DEL:"DELETE",MULTIPLY:"*",DIVIDE:"/",SUBTRACT:"-",ADD:"+"},te={"ALT+D":a(!0),"HOLD+DELETE":a(!1),"HOLD+SHIFT+DELETE":a(!1),ENTER:function t(){(pe&&Y&&!H.mask&&is_function(H.historyFilter)&&H.historyFilter(Y)||H.historyFilter instanceof RegExp&&Y.match(H.historyFilter)||!H.historyFilter)&&pe.append(Y);var e=Y;return pe.reset(),Le="",Ce=!0,M.set(""),H.commands&&H.commands.call(M,e),is_function(le)&&_e(),W.val(""),!1},"SHIFT+ENTER":function e(){return M.insert("\n"),!0},BACKSPACE:d,"SHIFT+BACKSPACE":d,TAB:function e(){M.insert("\t")},"CTRL+D":function e(){return M["delete"](1),!1},DELETE:function e(){return M["delete"](1),!0},ARROWUP:r,"CTRL+P":r,ARROWDOWN:l,"CTRL+N":l,ARROWLEFT:c,"HOLD+ARROWLEFT":c,"CTRL+B":c,"CTRL+ARROWLEFT":function a(){var e=V-1,t=0;" "===Y[e]&&--e;for(var n=e;0<n;--n)if(" "===Y[n]&&" "!==Y[n+1]){t=n+1;break}else if("\n"===Y[n]&&"\n"!==Y[n+1]){t=n;break}M.position(t)},"CTRL+R":function e(){return U?b(!0):(se=le,_(),re=Y,M.set(""),fe(),U=!0),!1},"CTRL+G":function e(){if(U)return le=se,_e(),M.set(re),fe(),U=!1,G="",!1},ARROWRIGHT:p,"HOLD+ARROWRIGHT":p,"CTRL+F":p,"CTRL+ARROWRIGHT":function n(){" "===Y[V]&&++V;var e=/\S[\n\s]{2,}|[\n\s]+\S?/,t=Y.slice(V).match(e);!t||t[0].match(/^\s+$/)?M.position(Y.length):" "===t[0][0]?(V+=t.index+t[0].length-1," "!==t[0][t[0].length-1]&&--V):V+=t.index+1,fe()},F12:o,END:u,"CTRL+E":u,HOME:m,"CTRL+A":m,"SHIFT+INSERT":s,"CTRL+SHIFT+T":o,"CTRL+W":i(!0),"HOLD+BACKSPACE":i(!1),"HOLD+SHIFT+BACKSPACE":i(!1),"CTRL+H":function e(){return""!==Y&&0<V&&M["delete"](-1),!1},"CTRL+X":o,"CTRL+C":o,"CTRL+T":o,"CTRL+Y":function e(){""!==X&&M.insert(X)},"CTRL+V":s,"META+V":s,"CTRL+K":function e(){return Y.length-V&&(X=M["delete"](Y.length-V),text_to_clipboard(M,X)),!1},"CTRL+U":function e(){return""!==Y&&0!==V&&(X=M["delete"](-V),text_to_clipboard(M,X)),!1},"CTRL+TAB":function e(){return!1},"META+`":o,"META+R":o,"META+L":o},ne,ae,ie,oe,se,re,le,de,ce,pe,me,ue,he;if(animation_supported&&!is_android)me=function(e){e?Q.addClass("blink"):Q.removeClass("blink")},ue=function(){var e=Q.clone();e.insertBefore(Q),Q.remove(),Q=e};else{var ge=!1;me=function(e){e&&!ge?(ge=!0,Q.addClass("inverted blink"),M.everyTime(500,"blink",y)):ge&&!e&&(ge=!1,M.stopTime("blink",y),Q.removeClass("inverted blink"))},ue=function(){me(!1),me(!0)}}var fe=function(){function e(e,t){var n=$.extend({prompt:"",last:!1},t),a=n.position,i=E(e),r=n.prompt,l;if(a===i)o.html(T(e)),Q.html("&nbsp;"),s.html("");else if(0===a)o.html(""),l=S(e,0,1),Q.html(T(l)),s.html(T(S(e,1),r+l));else{var d=$.terminal.substring(e,0,a);o.html(T(d,r)),l=S(e,a,a+1);var p=(r+d).replace(/^.*\t/,"");Q.html(T(l,p)),a===i-1?s.html(""):(l.match(/\t/)?p="":p+=l,s.html(T(S(e,a+1),p)))}var m=n.position===(n.last?i:i-1);Q.toggleClass("noselect",m),g(),ue()}function t(e,t){return"<div role=\"presentation\" aria-hidden=\"true\">"+T(e,t||"")+"</div>"}function n(e){var n=r;$.each(e,function(e,a){n=$(t(a)).insertAfter(n)})}function a(e){$.each(e,function(e,n){r.before(t(n,0===e?ie:""))})}var o=Q.prev(),s=Q.next(),r=Q.parent();return function(){var l;switch(_typeof(H.mask)){case"boolean":l=H.mask?Y.replace(/./g,"*"):Y;break;case"string":l=Y.replace(/./g,H.mask);}l=k(l);var d=J,c;if(M.find("div:not(.cursor-line,.clipboard-wrapper)").remove(),o.html(""),strlen(text(l))>ne-oe-1||l.match(/\n/)){var p=l.match(/\t/g),m=l;p&&(l=l.replace(/\t/g,"\0\0\0\0"));var u=w(l);p&&(u=$.map(u,function(e){return e.replace(/\x00\x00\x00\x00/g,"\t")}));var h=E(u[0]);if(0===h&&1===u.length);else if(d<h)e(u[0],{position:d,prompt:ie}),n(u.slice(1));else if(d===h)r.before(t(u[0],ie)),e(u[1]||"",{position:0}),1<u.length&&n(u.slice(2));else{var g=u.slice(-1)[0],f=E(m),y=f-d,_=E(g),x=0;if(-1===y&&(y=0),y<=_)a(u.slice(0,-1)),x=_===y?0:_-y,e(g,{position:x,last:!0});else{var b,v;for(x=d,c=0;c<u.length;++c){var T=$.terminal.length(u[c]);if(x>T)x-=T;else break}if(v=u[c],b=c,x===E(v)&&(x=0,v=u[++b],void 0===v)){var C=$.terminal.defaults.strings.redrawError;throw new Error(C)}e(v,{position:x}),a(u.slice(0,b)),n(u.slice(b+1))}}M.find(".cursor-line ~ div:last-of-type").append("<span></span>")}else""===l?(o.html(""),Q.html("&nbsp;"),s.html("")):e(l,{position:d})}}(),ye=function(){function e(e,t){var n=$.extend({},H,{position:t}),a=$.terminal.apply_formatters(Y,n)[1];return a===e?0:a<e?1:-1}return function(t,n){if(0===n)return 0;t=text(t);var a=t.length,o=binary_search(0,a,n,e),s=$.terminal.split_characters(t);if(a>s.length)for(var r=0,l=0;l<s.length;++l)if(r+=s[l].length,r>=o)return r;return o}}(),_e=function(){function e(e){e=$.terminal.apply_formatters(e,{}),e=$.terminal.normalize(e),e=crlf(e),ae=e;var t=$.terminal.split_equal(e,ne),n={char_width:H.char_width};ie=t[t.length-1];var a=$.terminal.encode(t[t.length-1],{tabs:H.tabs}),i=$.terminal.format(a,n),o=t.slice(0,-1).map(function(e){return e=$.terminal.encode(e,{tabs:H.tabs}),"<span class=\"line\">"+$.terminal.format(e,n)+"</span>"}).concat([i]).join("\n");B.html()!==o&&(B.html(o),oe=strlen(text(i)))}return function(){switch(_typeof(le)){case"string":e(le);break;case"function":le.call(M,e);}}}();$.extend(M,{option:function n(e,t){return"undefined"==typeof t?H[e]:(H[e]=t,M)},name:function n(e){if(void 0!==e){ce=e;var t=pe&&pe.enabled()||!pe;return pe=new History(ce,H.historySize,"memory"===H.history),t||pe.disable(),M}return ce},purge:function e(){return pe.clear(),M},history:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return pe}),delete:function a(e,t){var n;return 0===e?"":(0>e?0<V&&(n=Y.slice(0,V).slice(e),Y=Y.slice(0,V+e)+Y.slice(V,Y.length),!t&&M.position(V+e),A()):""!==Y&&V<Y.length&&(n=Y.slice(V).slice(0,e),Y=Y.slice(0,V)+Y.slice(V+e,Y.length),A()),fe(),f(),n)},set:function a(e,t,n){return void 0!==e&&(Y=e,!t&&M.position(Y.length),fe(),f(),!n&&A()),M},keymap:function a(e,t){function n(e,t){var n=te[e];return is_function(n)&&(n=n.bind(M)),function(a){return t.call(M,a,n)}}if("undefined"==typeof e)return he;if("string"!=typeof e)return he=$.extend({},he?he:te,$.omap(e||{},n)),M;if("undefined"==typeof t){if(he[e])return he[e];if(te[e])return te[e]}else he[e]=n(e,t)},insert:function n(e,t){return V===Y.length?Y+=e:0===V?Y=e+Y:Y=Y.slice(0,V)+e+Y.slice(V),t?f():M.position(e.length,!0,!0),fe(),A(),f(),M},get:function e(){return Y},commands:function t(e){return e?(H.commands=e,M):e},destroy:function(){return Oe.unbind("keypress.cmd",R),Oe.unbind("keydown.cmd",N),Oe.unbind("input.cmd",q),M.stopTime("blink",y),M.find(".cursor").next().remove().end().prev().remove().end().remove(),M.find(".prompt, .clipboard").remove(),M.removeClass("cmd").removeData("cmd").off(".cmd"),M},prompt:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(!0===e)return ae;if(void 0===e)return le;if("string"==typeof e||"function"==typeof e)le=e;else throw new Error("prompt must be a function or string");return _e(),fe(),M}),kill_text:function e(){return X},position:function i(e,t,n){if("number"==typeof e){var a=V;return t?V+=e:0>e?V=0:e>Y.length?V=Y.length:V=e,a===V||n||(fe(),is_function(H.onPositionChange)&&H.onPositionChange(V,J),f(!0)),M}return V},refresh:function e(){return _e(),fe(),M},display_position:function r(e,t){if(void 0===e)return J;var n=k(Y,!0),a=$.terminal.length(n),i=text(Y).length,o;if(o=t?J+e:e>a?a:e,a===o)return J=o,M.position(i);var s=ye(Y,o);return-1!==s&&(J=o,M.position(s)),M},visible:function(){var e=M.visible;return function(){return e.apply(M,[]),fe(),_e(),M}}(),show:function(){var e=M.show;return function(){return e.apply(M,[]),fe(),_e(),M}}(),resize:function t(e){return e?ne=e:v(),fe(),_e(),M},enable:function t(e){if(!de){de=!0,M.addClass("enabled");try{W.caret(V)}catch(t){}me(!0),e||_e(),g(),f()}return h(),M},isenabled:function e(){return de},disable:function t(e){return de=!1,M.removeClass("enabled"),me(!1),e||h(),M},mask:function t(e){return"undefined"==typeof e?H.mask:(H.mask=e,fe(),M)}}),M.name(H.name||H.prompt||""),le="string"==typeof H.prompt?H.prompt:"> ",_e(),!0===H.enabled&&M.enable(),H.history||pe.disable();var xe=!0,be=!1,ve=!1,we=!1,ke=!1,Te=!1,Ce=!0,Ee=!1,Se=!1,je=!1,Ae=!1,Le="",Oe=$(document.documentElement||window),De;return M.keymap(H.keymap||{}),Oe.bind("keypress.cmd",R).bind("keydown.cmd",N).bind("keyup.cmd",P).bind("input.cmd",q),function(){var n=!1,a=0;M.on("mousedown.cmd",function(){n=!0}).on("mouseup.cmd",function(i){function e(){var e=$(i.target);!e.is(".prompt")&&r&&de&&(e.is(".cmd")?M.position(Y.length):M.display_position(t(i))),a=0}var o;if(o=void 0===i.originalEvent?i.button:i.originalEvent.button,0===o&&""===get_selected_text()){var s="click_"+F;if(1==++a){var r=n;de?0===H.clickTimeout?e():M.oneTime(H.clickTimeout,s,e):a=0}else M.stopTime(s),a=0}n=!1})}(),M.data("cmd",M),"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw new Error("key event property not supported try https://github.com/inexorabletash/polyfill/blob/master/keyboard.js")},0),M};var combine_chr_re=/^(.(?:[\u0300-\u036F]|[\u1AB0-\u1abE]|[\u1DC0-\u1DF9]|[\u1DFB-\u1DFF]|[\u20D0-\u20F0]|[\uFE20-\uFE2F])+)/,astral_symbols_re=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,emoji_re=/^(\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD]))/,mobile_re=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,tablet_re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,format_split_re=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*[^\\](\\\\)*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,format_parts_re=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_re=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,format_exist_re=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,format_full_re=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,color_hex_re=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,url_re=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)/gi,url_nf_re=/\b(?![^\s[\]]*])(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)/gi,email_re=/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,command_re=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimsuy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,extended_command_re=/^\s*((terminal|cmd)::([a-z_]+)\(([\s\S]*)\))\s*$/,format_begin_re=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,format_start_re=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,format_end_re=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,format_exec_re=/(\[\[(?:[^\][]|\\\])+\]\])/,float_re=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,re_re=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimsuy]*)$/,string_re=/("(?:[^"\\]|\\(?:\\\\)*"|\\\\)*"|'(?:[^'\\]|\\(?:\\\\)*'|\\\\)*')/,unclosed_strings_re=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,animation_supported=function(){var e=!1,t=["Webkit","Moz","O","ms","Khtml"],n=document.createElement("div");if(n.style.animationName&&(e=!0),!1==e)for(var a=0,o;a<t.length;a++)if(o=t[a]+"AnimationName",void 0!==n.style[o]){e=!0;break}return n=null,e}(),is_ch_unit_supported=function(){var e=window.navigator.userAgent;if(e.match(/MSIE|Trident/)&&!e.match(/IEMobile/))return!1;var t=document.createElement("div");return t.style.width="1ch","1ch"===t.style.width}(),is_css_variables_supported=window.CSS&&window.CSS.supports&&window.CSS.supports("--fake-var",0),is_android=-1!==navigator.userAgent.toLowerCase().indexOf("android"),is_safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),is_key_native=function(){if(!("KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype))return!1;var e=window.KeyboardEvent.prototype,t=Object.getOwnPropertyDescriptor(e,"key").get;return t.toString().match(/\[native code\]/)}(),is_mobile=function(e){var t=!1;return(mobile_re.test(e)||tablet_re.test(e.substr(0,4)))&&(t=!0),t}(navigator.userAgent||navigator.vendor||window.opera),strlen=function(){return"undefined"==typeof wcwidth?function(e){return $.terminal.length(e)}:wcwidth}(),get_selected_text=function(){if(window.getSelection||document.getSelection)return function(){var e=(window.getSelection||document.getSelection)();return e.text?e.text:e.toString()};return document.selection&&"Control"!==document.selection.type?function(){return document.selection.createRange().text}:function(){return""}}(),get_textarea_selection=function(){var e=document.createElement("textarea"),t="selectionStart"in e;return e=null,t?function(e){var t=e.selectionEnd-e.selectionStart;return e.value.substr(e.selectionStart,t)}:document.selection?function(){var e=document.selection.createRange();return e.text()}:function(){return""}}(),select=function(){if(window.getSelection){var e=window.getSelection();return e.setBaseAndExtent?function(e,t){var n=window.getSelection();n.setBaseAndExtent(e,0,t,1)}:function(e,t){var n=window.getSelection(),a=document.createRange();a.setStart(e,0),a.setEnd(t,t.childNodes.length),n.removeAllRanges(),n.addRange(a)}}return $.noop}();$.terminal={version:"1.22.7",date:"Thu, 13 Sep 2018 19:38:25 +0000",color_names:["transparent","currentcolor","black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],Cycle:Cycle,History:History,Stack:Stack,valid_color:function(e){return!!e.match(color_hex_re)||-1!==$.inArray(e.toLowerCase(),$.terminal.color_names)},unclosed_strings:function(e){return!!e.match(unclosed_strings_re)},escape_regex:function(e){if("string"==typeof e){var t=/([-\\^$[\]()+{}?*.|])/g;return e.replace(t,"\\$1")}},have_formatting:function(e){return"string"==typeof e&&!!e.match(format_exist_re)},is_formatting:function(e){return"string"==typeof e&&!!e.match(format_full_re)},format_split:function(e){return e.split(format_split_re).filter(Boolean)},tracking_replace:function(e,t,n,a){function o(e,t,n){return e.substring(t,n)}function s(e){return $.terminal.strip(e).length}function r(t){for(var n=s(e.substring(0,t)),a=t,o;a<e.length;++a){if(o=s(e.substring(0,a)),o===n+1)return n;n=o}return n}var l="",d=0,c=r(a),p=-1!==t.flags.indexOf("g"),u,m,h;for(t.lastIndex=0;u=t.exec(e);){if(p){var g=r(t.lastIndex),i=s(o(e,0,g));h=i-s(u[0])}else h=r(u.index),i=h+s(u[0]);if(d<h&&(l+=o(e,d,h)),d=i,m="function"==typeof n?n.apply(null,u):n.replace(/\$(\$|\d)/g,function(e,t){return"$"===t?"$":u[t]}),l+=m,h<a&&(i<a?c=_Mathmax(0,c+s(m)-s(u[0])):c+=s(m)-(a-h)),!p)break}return d<s(e)&&(l+=o(e,d)),e===l?[e,a]:[l,c]},iterate_formatting:function(e,t){function n(t){return"&nbsp;"===e.substring(t-6,t)||e.substring(t-1,t).match(/\s/)}function a(t){return e.substring(t).match(l)}function o(t){return"["===e[t]&&"["===e[t+1]}function s(t){return"]"===e[t]&&"\\"===e[t-1]}function r(t){return x&&("]"!==e[t]||!d)&&!b}for(var l=/^(&(?:[a-z\d]+|#\d+|#x[a-f\d]+);)/i,d=$.terminal.have_formatting(e),c="",p=!1,m=0,u=-1,h=0,g=0,f,y,_;g<e.length;g++){_=e.substring(g),f=_.match(format_start_re),f?(c=f[1],p=!1):c?"]"===e[g]&&(p?(c="",p=!1):p=!0):p=!0;var x=c&&p||!c,b=o(g);n(g)&&(x||b)&&(-1===u&&y!==g||-1!==u)&&(u=g);var v=e[g].match(/[[\]]/);if(x)if("&"===e[g]){if(f=a(g),f){g+=f[1].length-2;continue}++m,++h}else s(g)?(--m,--h):v&&d||(++m,++h);if(r(g)){2===strlen(e[g])&&h++;var w={count:m,index:g,formatting:c,length:h,text:p,space:u},k=t(w);if(!1===k)break;else if(k&&(void 0!==k.count&&(m=k.count),void 0!==k.length&&(h=k.length),void 0!==k.space&&(y=u,u=k.space),void 0!==k.index)){g=k.index;continue}}else g===e.length-1&&t({count:m+1,index:g,formatting:c,length:0,text:p,space:u});var T=get_next_character(_);1<T.length&&(g+=T.length-1)}},substring:function(e,t,n){var a=$.terminal.split_characters(text(e));if(!a.slice(t,n).length)return"";var i=0,o="",s="",r=/(&[^;]+);$/,l,d;return($.terminal.iterate_formatting(e,function(a){var c;t&&a.count===t+1&&(i=a.index,c=e.substring(0,i+1).match(r),c&&(i-=c[1].length),a.formatting&&(o=a.formatting)),n&&a.count===n&&(s=a.formatting,d=a.index),a.count===n+1&&(l=a.index,c=e.substring(0,l+1).match(r),c&&(l-=c[1].length),a.formatting&&(l=d+1))}),t&&!i)?"":(void 0===l&&(l=e.length),e=o+e.substring(i,l),s&&(e=e.replace(/(\[\[^\]]+)?\]$/,""),e+="]"),e)},normalize:function(e){return e.replace(format_re,function(e,t,n){function a(e){return e.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ")}if(""===n)return"";t=a(t);var i=t.match(/;/g).length;if(4<=i){var o=t.split(/;/),s=o.slice(0,4).join(";"),r=o.slice(4).join(";");return"[["+s+";"+(r||n)+"]"+n+"]"}return i=2===i?";;":3===i?";":"","[["+t+i+a(n)+"]"+n+"]"})},split_equal:function(e,t,n){for(var a="",o=[],s=$.terminal.normalize(e).split(/\n/g),r=0,l=s.length;r<l;++r){if(""===s[r]){o.push("");continue}var d=s[r],c=0,p=d.length,m=$.terminal.split_characters(text(d)),u=m[m.length-1],h;$.terminal.iterate_formatting(d,function(e){var i=e.index===p-u.length,s,r;if(e.length>=t||i||e.length===t-1&&2===strlen(d[e.index+1])){var l=!1;if(n&&-1!==e.space){var m=text(d.substring(e.space)),g=m.length,f=e.index+t+1;m=m.substring(0,f),(m.match(/\s|&nbsp;/)||f>g)&&(l=!0)}var y;if(n&&-1!==e.space&&e.index!==p-1&&l?(h=d.substring(c,e.space),y=e.space-1):(r=d.substring(e.index),s=get_next_character(r),h=d.substring(c,e.index)+s,y=e.index+s.length-1),n&&(h=h.replace(/^(&nbsp;|\s)+|(&nbsp;|\s)+$/g,"")),c=(y||e.index)+1,a){var _=h.match(/^[^\]]*\]/);h=a+h,_&&(a="")}var x=h.match(format_re);if(x){var b=x[x.length-1];"]"===b[b.length-1]?h.match(format_end_re)&&(h=h.replace(format_end_re,""),a=b.match(format_begin_re)[1]):(a=b.match(format_begin_re)[1],h+="]")}return o.push(h),{index:y,length:0,space:-1}}})}return o},amp:function(e){return e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;")},encode:function(e,t){var n=$.extend({tabs:4,before:""},t);return $.terminal.amp(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").split("\n").map(function(e){var t=e.split(/((?:\[\[[^\]]+\])?\t(?:\])?)/);return t=t.filter(Boolean),t.map(function(e,a){return e.match(/\t/)?e.replace(/\t([^\t]*)$/,function(e,i){if(0!==a&&t[a-1].match(/\t\]?$/)){var o=Array(n.tabs+1).join("&nbsp;");return o+i}var s=t.slice(a-1,a).join("");n.before&&1>=a&&(s=n.before+s);var r=$.terminal.length(s),l=n.tabs-r%n.tabs;return 0===l&&(l=4),Array(l+1).join("&nbsp;")+i}):e}).join("")}).join("\n")},nested_formatting:function(e){if(!$.terminal.have_formatting(e))return e;var t=[],n=/((?:\[\[(?:[^\][]|\\\])+\])?(?:[^\][]|\\\])*\]?)/,a=/(\[\[(?:[^\][]|\\\])+\])[\s\S]*/;return e.split(n).filter(Boolean).map(function(e){if(e.match(/^\[\[/))$.terminal.is_formatting(e)||(e+="]",t.push(e.replace(a,"$1")));else{var n=!1;e.match(/\]/)&&(n=!0),t.length&&(e=t[t.length-1]+e),n?t.pop():t.length&&(e+="]")}return e}).join("")},escape_formatting:function(e){return $.terminal.escape_brackets(e)},apply_formatters:function(e,t){function n(e,t,n,a){e.__no_warn__||$.terminal.length(n)===$.terminal.length(a)||warn("Your formatter["+t+"] change length of the string, you should use [regex, replacement] formatter or function  that return [replacement, position] instead")}function a(e,a){var i=$.extend({},t,{position:a[1]}),o=e(a[0],i);return"string"==typeof o?(n(e,s-1,o,a[0]),"string"==typeof o?[o,i.position]:a):o instanceof Array&&2===o.length?o:a}if(""===e)return"number"==typeof t.position?["",t.position]:"";var o=$.terminal.defaults.formatters;t=t||{};var s=0,r;r="number"==typeof t.position?[e,t.position]:[e,0];try{var l=o.reduce(function(e,t){if(s++,"function"==typeof t&&t.__meta__)return a(t,e);var n=0,i=!1,o=$.terminal.format_split(e[0]),r=o.map(function(o){var s=text(o).length,r;e[1]<=n+s&&!i?(r=e[1]-n,i=!0):r=-1;var l=n,d;if(n+=s,$.terminal.is_formatting(o))return[o,-1];if(t instanceof Array){var c=t[2]||{};if(d=[o,0>r?0:r],d[0].match(t[0]))if(c.loop)for(;d[0].match(t[0]);)d=$.terminal.tracking_replace(d[0],t[0],t[1],d[1]);else d=$.terminal.tracking_replace(d[0],t[0],t[1],d[1]);if(0>r)return[d[0],-1]}else"function"==typeof t&&(d=a(t,[o,r]));return"undefined"==typeof d?[o,-1]:(-1!==d[1]&&(d[1]+=l),d)}),l=r.filter(function(e){return-1!==e[1]})[0],d=r.map(function(e){return e[0]}).join(""),c;c="undefined"==typeof l?e[1]:l[1];var p=text(d).length;return c>p&&(c=p),d===e[0]?e:[d,c]},r);if("number"==typeof t.position){var d=$.terminal.strip(l[0]).length;if($.terminal.length(l[0])<d){var c=l[1];c=normalize_position(l[0],c);var p=$.terminal.length(l[0]);c>p&&(c=p),l[1]=c}return l}return l[0]}catch(t){var m="Error in formatter ["+(s-1)+"]";throw o.splice(s-1),new $.terminal.Exception("formatting",m,t.stack)}},format:function(e,t){function n(e){return e.match(/\\]/)&&(e=e.replace(/(\\+)]/g,function(e,t){return 1==t.length%2?"]":t.replace(/../,"\\")})),safe(e)}var a=$.extend({},{linksNoReferrer:!1,linksNoFollow:!1,anyLinks:!1},t||{});if("string"==typeof e){var i=$.terminal.format_split(e);return e=$.map(i,function(e){if(""===e)return e;if($.terminal.is_formatting(e))return e=e.replace(/\[\[[^\]]+\]/,function(e){return e.replace(/&nbsp;/g," ")}),e.replace(format_parts_re,function(e,i,o,s,r,l,d){if(""===d)return"";d=n(d);var c="";-1!==i.indexOf("b")&&(c+="font-weight:bold;");var p=[];-1!==i.indexOf("u")&&p.push("underline"),-1!==i.indexOf("s")&&p.push("line-through"),-1!==i.indexOf("o")&&p.push("overline"),p.length&&(c+="text-decoration:"+p.join(" ")+";"),-1!==i.indexOf("i")&&(c+="font-style:italic;"),$.terminal.valid_color(o)&&(c+="color:"+o+";--color:"+o+";",-1!==i.indexOf("g")&&(c+="text-shadow:0 0 5px "+o+";")),$.terminal.valid_color(s)&&(c+="background-color:"+s);var m=""===l?d:l.replace(/&#93;/g,"]").replace(/>/g,"&gt;").replace(/</g,"&lt;");var u=extra_css(d,t);u&&(d=wide_characters(d,t),c+=u);var h;if(-1!==i.indexOf("!")){if(m.match(url_re)){a.anyLinks||m.match(/^(https?|ftp):\/\//)||(m=""),h="<a target=\"_blank\" href=\""+m+"\"";var g=["noopener"];a.linksNoReferrer&&g.unshift("noreferrer"),a.linksNoFollow&&g.unshift("nofollow"),h+=" rel=\""+g.join(" ")+"\""}else h="<a class=\"a_acct\" name=\"a_acct\"";h+=" tabindex=\"1000\""}else h="<span";return""!==c&&(h+=" style=\""+c+"\""),""!==r&&(h+=" class=\""+r+"\""),h+=-1===i.indexOf("!")?" data-text=\""+m.replace(/"/g,"&quote;")+"\">"+d+"</span>":">"+d+"</a>",h});e=n(e);var i=extra_css(e,t);return i.length?(e=wide_characters(e,t),"<span style=\""+i+"\">"+e+"</span>"):"<span>"+e+"</span>"}).join(""),e.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},unescape_brackets:function(e){return e.replace(/&#91;/g,"[").replace(/&#93;/g,"]")},length:function t(e){return $.terminal.split_characters(text(e)).length},split_characters:function(e){for(var t=[];e.length;){var n=get_next_character(e);e=e.substring(n.length),t.push(n)}return t},columns:function u(e,t,n){var a=e.map(function(e){return $.terminal.strip(e)}),o=a.map(function(e){return strlen(e)});"undefined"==typeof n&&(n=4);var s=_Mathmax.apply(null,o)+n,r=_Mathfloor(t/s)-1;if(1>r)return e.join("\n");for(var l=[],d=0,c=e.length;d<c;d+=r){var p=e.slice(d,d+r),m=p.pop();l.push(p.reduce(function(e,t){var n=$.terminal.strip(t),a=Array(s-n.length+1).join(" ");return e.push(t+a),e},[]).join("")+m)}return l.join("\n")},strip:function(e){return e=e.replace(format_parts_re,"$6"),e.replace(/\\([[\]])/g,function(e,t){return t})},active:function(){return terminals.front()},last_id:function(){var e=terminals.length();return e-1},parse_argument:function(e,t){function n(e){return e.split(string_re).map(function(e){if(e.match(/^['"]/)){if("\"\""===e||"''"===e)return"";var t=e[0],n=new RegExp("(^|(?:\\\\(?:\\\\)*)?)"+t,"g");e=e.replace(n,"$1")}return e="\""+e+"\"",JSON.parse(e)}).join("")}if(!1===t)return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):"\""===e[0]&&"\""===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e.match(/\/.*\/[gimy]*$/)?e:e.match(/['"]]/)?n(e):e.replace(/\\ /g," ");var a=e.match(re_re);return a?new RegExp(a[1],a[2]):e.match(/['"]/)?n(e):e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(float_re)?parseFloat(e):e.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(e){return $.map(e.match(command_re)||[],$.terminal.parse_argument)},split_arguments:function(e){return $.map(e.match(command_re)||[],function(e){return $.terminal.parse_argument(e,!1)})},parse_command:function(e){return process_command(e,$.terminal.parse_argument)},split_command:function(e){return process_command(e,function(e){return $.terminal.parse_argument(e,!1)})},parse_options:function e(t,n){function a(e){this.value=e}var i=$.extend({},{boolean:[]},n);if("string"==typeof t)return e($.terminal.split_arguments(t),n);var o={_:[]},s=t.reduce(function(e,t){if("string"!=typeof t&&(t+=""),t.match(/^-/)&&e instanceof a&&(o[e.value]=!0),t.match(/^--/)){var n=t.replace(/^--/,"");if(-1===i.boolean.indexOf(n))return new a(n);o[n]=!0}else if(t.match(/^-/)){var s=t.replace(/^-/,"").split("");if(-1===i.boolean.indexOf(s.slice(-1)[0]))var r=s.pop();if(s.forEach(function(e){o[e]=!0}),r)return new a(r)}else e instanceof a?o[e.value]=t:t&&o._.push(t);return null},null);return s instanceof a&&(o[s.value]=!0),o},extended_command:function(term,string,options){var settings=$.extend({invokeMethods:!1},options);try{change_hash=!1;var m=string.match(extended_command_re);if(m){if(!settings.invokeMethods)return void warn("To invoke terminal or cmd methods you need to enable invokeMethods option");string=m[1];var obj="terminal"===m[2]?term:term.cmd(),fn=m[3];try{var args=eval("["+m[4]+"]");obj[fn]?obj[fn].apply(term,args):term.error("Unknow function "+fn)}catch(t){term.error("Invalid invocation in "+$.terminal.escape_brackets(string))}}else term.exec(string,!0).done(function(){change_hash=!0})}catch(t){}},formatter:new function(){try{this[Symbol.split]=function(e){return $.terminal.format_split(e)},this[Symbol.match]=function(e){return e.match(format_re)},this[Symbol.replace]=function(e,t){return e.replace(format_parts_re,t)},this[Symbol.search]=function(e){return e.search(format_re)}}catch(t){}},new_formatter:function a(e){for(var t=$.terminal.defaults.formatters,n=0;n<t.length;++n)if(t[n]===$.terminal.nested_formatting)return void t.splice(n,0,e);t.push(e)}},$.terminal.Exception=function(e,t,n){1===arguments.length?(this.message=arguments[0],this.type="TERMINAL"):(this.type=e,this.message=t,n&&(this.stack=n))},$.terminal.Exception.prototype=new Error,$.fn.visible=function(){return this.css("visibility","visible")},$.fn.hidden=function(){return this.css("visibility","hidden")};var warnings=[],ids={};$.jrpc=function(e,t,n,a,i){function o(e){return $.isNumeric(e.id)&&("undefined"!=typeof e.result||"undefined"!=typeof e.error)}var s=new $.Deferred,r;r=$.isPlainObject(e)?e:{url:e,method:t,params:n,success:a,error:i},ids[r.url]=ids[r.url]||0;var l={jsonrpc:"2.0",method:r.method,params:r.params,id:++ids[r.url]};return $.ajax({url:r.url,beforeSend:function(e,t){is_function(r.request)&&r.request(e,l),t.data=JSON.stringify(l)},success:function(t,e,n){var a=n.getResponseHeader("Content-Type");a.match(/(application|text)\/json/)||warn("Response Content-Type is neither application/json nor text/json");var i;try{i=JSON.parse(t)}catch(a){if(r.error)r.error(n,"Invalid JSON",a);else throw new $.terminal.Exception("JSON","Invalid JSON",a.stack);return void s.reject({message:"Invalid JSON",response:t})}is_function(r.response)&&r.response(n,i),o(i)||"system.describe"===r.method?(r.success&&r.success(i,e,n),s.resolve(i)):(r.error&&r.error(n,"Invalid JSON-RPC"),s.reject({message:"Invalid JSON-RPC",response:t}))},error:r.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"}),s.promise()};var version_set=!$.terminal.version.match(/^\{\{/),copyright="Copyright (c) 2011-2018 Jakub Jankiewicz <http://jcubic.pl/me>",version_string=version_set?" v. "+$.terminal.version:" ",reg=new RegExp(" {"+version_string.length+"}$"),name_ver="jQuery Terminal Emulator"+(version_set?version_string:""),signatures=[["jQuery Terminal","(c) 2011-2018 jcubic"],[name_ver,copyright.replace(/^Copyright | *<.*>/g,"")],[name_ver,copyright.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/_/_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(reg," ")+version_string,copyright],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(reg,"")+version_string,copyright]];$.terminal.nested_formatting.__meta__=!0,$.terminal.nested_formatting.__no_warn__=!0,$.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,invokeMethods:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,anyLinks:!1,linksNoFollow:!1,processRPCResponse:null,completionEscape:!0,onCommandChange:null,convertLinks:!0,extra:{},tabs:4,historySize:60,scrollObject:null,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[$.terminal.nested_formatting],onAjaxError:null,pasteImage:!0,scrollBottomOffset:20,wordAutocomplete:!0,caseSensitiveAutocomplete:!0,caseSensitiveSearch:!0,clickTimeout:200,holdTimeout:400,holdRepeatTimeout:200,request:$.noop,response:$.noop,describe:"procs",onRPCError:null,doubleTab:null,completion:!1,onInit:$.noop,onClear:$.noop,onBlur:$.noop,onFocus:$.noop,onTerminalChange:$.noop,onExit:$.noop,onPush:$.noop,onPop:$.noop,keypress:$.noop,keydown:$.noop,onAfterRedraw:$.noop,onEchoCommand:$.noop,onFlush:$.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:"Sorry, but terminal said that you use invalid selector!",invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",invalidStrings:"Command %s have unclosed strings",defunctTerminal:"You can't call method on terminal that was destroyed"}};var requests=[],terminals=new Cycle,_save_state=[],change_hash=!1,fire_hash_change=!0,first_instance=!0,hash_commands;$.fn.terminal=function(e,t){function n(e){if($.terminal.unclosed_strings(e)){var t=$.terminal.escape_brackets(e),n=sprintf(R().invalidStrings,"`"+t+"`");throw new $.terminal.Exception(n)}else return is_function(ae.processArguments)?process_command(e,ae.processArguments):ae.processArguments?$.terminal.parse_command(e):$.terminal.split_command(e)}function a(e){"string"==typeof e?B.echo(e):e instanceof Array?B.echo($.map(e,function(e){return JSON.stringify(e)}).join(" ")):"object"===_typeof(e)?B.echo(JSON.stringify(e)):B.echo(e)}function o(e){var t=/(.*):([0-9]+):([0-9]+)$/,a=e.match(t);a&&(B.pause(ae.softPause),$.get(a[1],function(e){var t=a[1];B.echo("[[b;white;]"+t+"]");var i=e.split("\n"),o=+a[2]-1;B.echo(i.slice(o-2,o+3).map(function(e,t){return 2===t&&(e="[[;#f00;]"+$.terminal.escape_brackets(e)+"]"),"["+(o+t-1)+"]: "+e}).join("\n")).resume()},"text"))}function s(e){if(is_function(ae.onRPCError))ae.onRPCError.call(B,e);else if(B.error("&#91;RPC&#93; "+e.message),e.error&&e.error.message){e=e.error;var t="\t"+e.message;e.file&&(t+=" in file \""+e.file.replace(/.*\//,"")+"\""),e.at&&(t+=" at line "+e.at),B.error(t)}}function r(e,t){var i=function(t,n){B.pause(ae.softPause),$.jrpc({url:e,method:t,params:n,request:function n(e,t){try{ae.request.call(B,e,t,B)}catch(t){u(t,"USER")}},response:function n(e,t){try{ae.response.call(B,e,t,B)}catch(t){u(t,"USER")}},success:function(e){e.error?s(e.error):is_function(ae.processRPCResponse)?ae.processRPCResponse.call(B,e.result,B):a(e.result),B.resume()},error:d})};return function(e,a){if(""!==e){try{e=n(e)}catch(t){return void u(t,"TERMINAL (get_processed_command)")}if(!t||"help"===e.name)i(e.name,e.args);else{var o=a.token();o?i(e.name,[o].concat(e.args)):a.error("&#91;AUTH&#93; "+R().noTokenError)}}}}function l(e,t,a,i){return function(o,s){if(""!==o){var r;try{r=n(o)}catch(t){return void(is_function(ae.exception)?ae.exception(t,B):B.error(t.toString()))}var d=e[r.name],c=get_type(d);if("function"===c){if(t&&d.length!==r.args.length)B.error("&#91;Arity&#93; "+sprintf(R().wrongArity,r.name,d.length,r.args.length));else return d.apply(B,r.args);}else if("object"===c||"string"===c){var p=[];"object"===c&&(p=Object.keys(d),d=l(d,t,a)),s.push(d,{prompt:r.name+"> ",name:r.name,completion:"object"===c?p:void 0})}else is_function(i)?i(o,B):is_function(ae.onCommandNotFound)?ae.onCommandNotFound.call(B,o,B):s.error(sprintf(R().commandNotFound,r.name))}}}function d(e,t,n){B.resume(),is_function(ae.onAjaxError)?ae.onAjaxError.call(B,e,t,n):"abort"!==t&&B.error("&#91;AJAX&#93; "+t+" - "+R().serverResponse+":\n"+$.terminal.escape_brackets(e.responseText))}function c(e,t,n){function i(e){e.error?s(e.error):is_function(ae.processRPCResponse)?ae.processRPCResponse.call(B,e.result,B):a(e.result),B.resume()}function o(e,t){try{ae.request.call(B,e,t,B)}catch(t){u(t,"USER")}}function r(e,t){try{ae.response.call(B,e,t,B)}catch(t){u(t,"USER")}}function l(a){var s=a;if(""!==ae.describe&&ae.describe.split(".").forEach(function(e){s=s[e]}),s&&s.length){var l={};$.each(s,function(n,a){$.isPlainObject(a)&&"string"==typeof a.name&&(l[a.name]=function(){var n=t&&"help"!==a.name,s=Array.prototype.slice.call(arguments),l=s.length+(n?1:0);if(ae.checkArity&&a.params&&a.params.length!==l)B.error("&#91;Arity&#93; "+sprintf(R().wrongArity,a.name,a.params.length,l));else{if(B.pause(ae.softPause),n){var c=B.token(!0);c?s=[c].concat(s):B.error("&#91;AUTH&#93; "+R().noTokenError)}$.jrpc({url:e,method:a.name,params:s,request:o,response:r,success:i,error:d})}})});var c="string"==typeof t?t:"login";l.help=l.help||function(e){if("undefined"==typeof e){var n=a.procs.map(function(e){return e.name}).join(", ")+", help";B.echo("Available commands: "+n)}else{var i=!1;if($.each(s,function(n,a){if(a.name===e){i=!0;var o="";if(o+="[[bu;;]"+a.name+"]",a.params){var s=a.params;t&&a.name!==c&&(s=s.slice(1)),o+=" "+s.join(" ")}return a.help&&(o+="\n"+a.help),B.echo(o),!1}}),!i)if("help"===e)B.echo("[[bu;;]help] [method]\ndisplay help for the method or list of methods if not specified");else{B.error("Method `"+e+"' not found ")}}},n(l)}else n(null)}return $.jrpc({url:e,method:"system.describe",params:[],success:l,request:o,response:r,error:function(){n(null)}})}function p(e,t,n){n=n||$.noop;var a=get_type(e),i={},o=0,s,d;if("array"===a)s={},function e(n,a){if(n.length){var i=n[0],l=n.slice(1),p=get_type(i);"string"===p?(B.pause(ae.softPause),!1===ae.describe?(1==++o?d=r(i,t):B.error(R().oneRPCWithIgnore),e(l,a)):c(i,t,function(n){n?$.extend(s,n):1==++o?d=r(i,t):B.error(R().oneRPCWithIgnore),B.resume(),e(l,a)})):"function"===p?(d?B.error(R().oneInterpreterFunction):d=i,e(l,a)):"object"===p&&($.extend(s,i),e(l,a))}else a()}(e,function(){n({interpreter:l(s,!1,t,d.bind(B)),completion:Object.keys(s)})});else if("string"===a)ae.ignoreSystemDescribe?(s={interpreter:r(e,t)},$.isArray(ae.completion)&&(s.completion=ae.completion),n(s)):(B.pause(ae.softPause),c(e,t,function(a){a?(i.interpreter=l(a,!1,t),i.completion=Object.keys(a)):i.interpreter=r(e,t),n(i),B.resume()}));else if("object"===a)n({interpreter:l(e,ae.checkArity,t),completion:Object.keys(e)});else{if("undefined"===a)e=$.noop;else if("function"!==a){throw new $.terminal.Exception(a+" is invalid interpreter value")}n({interpreter:e,completion:ae.completion})}}function m(e,t){var n="boolean"===get_type(t)?"login":t;return function(t,a,i){B.pause(ae.softPause),$.jrpc({url:e,method:n,params:[t,a],request:function n(e,t){try{ae.request.call(B,e,t,B)}catch(t){u(t,"USER")}},response:function n(e,t){try{ae.response.call(B,e,t,B)}catch(t){u(t,"USER")}},success:function(e){!e.error&&e.result?i(e.result):i(null),B.resume()},error:d})}}function u(t,e,n){is_function(ae.exceptionHandler)?ae.exceptionHandler.call(B,t,e):(B.exception(t,e),!n&&setTimeout(function(){throw t},0))}function h(e,t,n){var a,o;if(M.push(1),""===e);else if(!n.raw){var s={linksNoReferrer:ae.linksNoReferrer,linksNoFollow:ae.linksNoFollow,anyLinks:ae.anyLinks,char_width:Q.width},r=B.cols();if((strlen(e)>r||e.match(/\n/))&&(!0===ae.wrap&&void 0===n.wrap||!1===ae.wrap&&!0===n.wrap)){var l=n.keepWords,d=$.terminal.split_equal(e,r,l);for(a=0,o=d.length;a<o;++a)""===d[a]||"\r"===d[a]?M.push("<span></span>"):M.push($.terminal.format(d[a],s))}else e=$.terminal.normalize(e),e=$.terminal.format(e,s),e.split(/\n/).forEach(function(e){M.push(e)})}else M.push(e);M.push({finalize:n.finalize,index:t})}function g(e){try{var t=$.extend({exec:!0,raw:!1,finalize:$.noop},e.options||{}),n=e.string,a=is_function(n),i;if(a&&(n=n()),"string"===get_type(n))i=n;else if(is_function(ae.parseObject)){var o=ae.parseObject(n);"string"===get_type(o)&&(i=o)}else i=n instanceof Array?$.terminal.columns(n,B.cols(),ae.tabs):n+"";if(""!==i&&""!==i){if(!t.raw){if(ae.convertLinks&&(i.match(url_nf_re)?i=i.replace(url_nf_re,"[[!;;]$1]"):i.match(email_re)&&(i=i.replace(email_re,"[[!;;]$1]"))),t.formatters)try{i=$.terminal.apply_formatters(i,ae)}catch(t){u(t,"FORMATTING")}i.split(format_exec_re)}""!==i&&h(i,e.index,t)}""===i&&a&&h(i,e.index,t)}catch(t){M=[],is_function(ae.exceptionHandler)?ae.exceptionHandler.call(B,t,"TERMINAL"):alert_exception("[Internal Exception(process_line)]",t)}}function f(e){if(e=$.extend({},{update:!1,scroll:!0},e||{}),!e.update){be.resize(re);var t=se.empty().detach()}var n=[];if(0<=ae.outputLimit){var a;a=0===ae.outputLimit?B.rows():ae.outputLimit,ue.forEach(function(e,t){var a=e[0],i=e[1];"function"===get_type(a)&&(a=a()),"string"!==get_type(a)&&(a+=""),n.push({string:a,index:t,options:i})}),n=n.slice(n.length-a-1)}else n=ue.map(function(e,t){return{string:e[0],index:t,options:e[1]}});try{M=[],$.each(n,function(e,t){g(t)}),e.update||be.before(t),B.flush(e);try{ae.onAfterRedraw.call(B,B)}catch(t){ae.onAfterRedraw=$.noop,u(t,"onAfterRedraw")}}catch(t){is_function(ae.exceptionHandler)?ae.exceptionHandler.call(B,t,"TERMINAL (redraw)"):alert_exception("[redraw]",t)}}function y(){if(0<=ae.outputLimit){var e=0===ae.outputLimit?B.rows():ae.outputLimit;var t=se.find("> div > div");if(t.length+1>e){var n=t.length-e+1,a=t.slice(0,n),i=a.parent();a.remove(),i.each(function(){var e=$(this);e.is(":empty")&&e.remove()})}}}function _(){if(void 0===ae.greetings)B.echo(B.signature,{finalize:a11y_hide,formatters:!1});else if(ae.greetings){var e=_typeof(ae.greetings);if("string"===e)B.echo(ae.greetings);else if("function"===e)try{ae.greetings.call(B,B.echo)}catch(t){ae.greetings=null,u(t,"greetings")}else B.error(R().wrongGreetings)}}function x(e){"undefined"==typeof e&&(e=B.get_command());var t=be.prompt(!0),n=be.mask();switch(_typeof(n)){case"string":e=e.replace(/./g,n);break;case"boolean":e=n?e.replace(/./g,ae.maskChar):$.terminal.escape_formatting(e);}var a={finalize:function(t){a11y_hide(t.addClass("command"));try{ae.onEchoCommand.call(B,t,e)}catch(t){ae.onEchoCommand=$.noop,B.exception(t)}}};if(is_function(t)){var i=t(function(t){B.echo(t+e,a)});i&&is_function(i.then)&&i.then(function(t){"string"==typeof t&&B.echo(t+e,a)})}else B.echo(t+e,a)}function b(){return B.is("body")?0<window.innerWidth-document.documentElement.clientWidth:Ae.outerWidth()!==B.outerWidth()}function v(e){var t=terminals.get()[e[0]];if(!t)throw new $.terminal.Exception(R().invalidTerminalId);var n=e[1];if(_save_state[n])t.import_view(_save_state[n]);else{change_hash=!1;var a=e[2];a&&t.exec(a).done(function(){change_hash=!0,_save_state[n]=t.export_view()})}}function w(){change_hash&&(fire_hash_change=!1,location.hash="#"+JSON.stringify(hash_commands),setTimeout(function(){fire_hash_change=!0},100))}function k(e,t,n){function i(){(ae.historyState||ae.execHash&&n)&&(_save_state.length?B.save_state(null):B.save_state())}function o(){n||(change_hash=!0,ae.historyState&&B.save_state(e,!1),change_hash=c),d.resolve(),is_function(ae.onAfterCommand)&&ae.onAfterCommand.call(B,B,e)}function s(e){"undefined"!=typeof e&&a(e),o(),B.resume()}function r(){var t=l.interpreter.call(B,e,B);if(!t)ye?F.push(function(){o()}):o();else if(B.pause(ae.softPause),is_function(t.done||t.then))(t.done||t.then).call(t,s);else return $.when(t).done(s)}z&&(z=!1,i());try{if(is_function(ae.onBeforeCommand)&&!1===ae.onBeforeCommand.call(B,B,e))return;n||(oe=$.terminal.split_command(e)),!L()&&n&&(is_function(ae.historyFilter)&&ae.historyFilter(e)||e.match(ae.historyFilter))&&be.history().append(e);var l=xe.top();!t&&ae.echoCommand&&x(e);var d=new $.Deferred,c=change_hash;if(e.match(/^\s*login\s*$/)&&B.token(!0))1<B.level()?B.logout(!0):B.logout(),o();else if(ae.exit&&e.match(/^\s*exit\s*$/)&&!ee){var p=B.level();(1===p&&B.get_token()||1<p)&&(B.get_token(!0)&&B.set_token(void 0,!0),B.pop()),o()}else if(ae.clear&&e.match(/^\s*clear\s*$/)&&!ee)B.clear(),o();else{var m=r();if(m)return m}return d.promise()}catch(t){if(u(t,"USER",n),B.resume(),n)throw t}}function T(){if(is_function(ae.onBeforeLogout))try{if(!1===ae.onBeforeLogout.call(B,B))return}catch(t){ae.onBeforeLogout=$.noop,u(t,"onBeforeLogout")}if(C(),is_function(ae.onAfterLogout))try{ae.onAfterLogout.call(B,B)}catch(t){ae.onAfterLogout=$.noop,u(t,"onAfterlogout")}B.login(Ne,!0,A)}function C(){var e=B.prefix_name(!0)+"_";he.remove(e+"token"),he.remove(e+"login")}function E(e){var t=B.prefix_name()+"_interpreters",n=he.get(t);n=n?JSON.parse(n):[],-1===$.inArray(e,n)&&(n.push(e),he.set(t,JSON.stringify(n)))}function S(e){var t=xe.top(),n=B.prefix_name(!0);L()||E(n);var a=B.login_name(!0);be.name(n+(a?"_"+a:"")),t.prompt!==be.prompt()&&(is_function(t.prompt)?be.prompt(function(e){var n=t.prompt.call(B,e,B);n&&is_function(n.then)&&n.then(function(t){"string"==typeof t&&e(t)})}):be.prompt(t.prompt)),"undefined"!=typeof t.history&&B.history().toggle(t.history),$.isPlainObject(t.keymap)&&be.keymap($.omap(t.keymap,function(e,t){return function(){var e=[].slice.call(arguments);try{return t.apply(B,e)}catch(t){u(t,"USER KEYMAP")}}})),be.set(""),V.resolve(),!e&&is_function(t.onStart)&&t.onStart.call(B,B)}function j(){if(fire_hash_change&&ae.execHash)try{if(location.hash){var e=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(e))}else hash_commands=[];hash_commands.length?v(hash_commands[hash_commands.length-1]):_save_state[0]&&B.import_view(_save_state[0])}catch(t){u(t,"TERMINAL")}}function A(){S(),_(),ue.length&&B.refresh();var e=!1;if(is_function(ae.onInit)){te=function(){e=!0};try{ae.onInit.call(B,B)}catch(t){u(t,"OnInit")}finally{te=$.noop,!e&&B.enabled()&&B.resume()}}first_instance&&(first_instance=!1,$(window).on("hashchange",j))}function L(){return ee||!1!==be.mask()}function O(t){var e=xe.top(),n;if(is_function(e.keydown)){if(n=e.keydown.call(B,t,B),void 0!==n)return n;}else if(is_function(ae.keydown)&&(n=ae.keydown.call(B,t,B),void 0!==n))return n}function D(t){var e,n;if(B.enabled())if(!B.paused()){if(e=O(t),void 0!==e)return e;9!==t.which&&(G=0)}else{if(!ae.pauseEvents&&(e=O(t),void 0!==e))return e;if(68===t.which&&t.ctrlKey){if(ae.pauseEvents&&(e=O(t),void 0!==e))return e;if(requests.length){for(n=requests.length;n--;){var a=requests[n];if(4!==a.readyState)try{a.abort()}catch(e){is_function(ae.exceptionHandler)?ae.exceptionHandler.call(B,t,"AJAX ABORT"):B.error(R().ajaxAbortError)}}requests=[]}B.resume()}return!1}}function N(t){var e=xe.top();if(ge&&(!ye||!ae.pauseEvents)){if(is_function(e.keypress))return e.keypress.call(B,t,B);if(is_function(ae.keypress))return ae.keypress.call(B,t,B)}}function P(e){return function(t){e.add(t)}}function R(){return $.extend({},$.terminal.defaults.strings,ae&&ae.strings||{})}function I(){}function q(){ve=ge,B.disable().find(".cmd textarea").trigger("blur",[!0])}function H(t){function n(e,t){return-1!==e.type.indexOf(t)}if(t=t.originalEvent,t.clipboardData&&B.enabled()){var a=t.clipboardData.items;if(a){for(var o=0;o<a.length;o++)if(n(a[o],"image")&&ae.pasteImage){var s=a[o].getAsFile(),r=window.URL||window.webkitURL,l=r.createObjectURL(s);B.echo("<img src=\""+l+"\"/>",{raw:!0})}else n(a[o],"text/plain")&&a[o].getAsString(B.insert);}else if(t.clipboardData.getData){var d=t.clipboardData.getData("text/plain");B.insert(d)}return!1}}var M=[],z=!0,F=[],W={"CTRL+D":function n(t,e){return ee||(""===be.get()?1<xe.size()||is_function(Ne)?B.pop(""):(B.resume(),B.echo("")):e()),!1},"CTRL+C":function n(){if(""===get_selected_text()){var e=B.get_command(),t=B.get_position();e=e.substring(0,t)+"^C"+e.substring(t+2),x(e),B.set_command("")}},"CTRL+L":function e(){B.clear()},TAB:function d(t,e){function n(e){B.complete(e,{echo:!0,word:ae.wordAutocomplete,escape:ae.completionEscape,caseSensitive:o,doubleTab:ae.doubleTab})}var a=xe.top(),i,o;if(o="undefined"==typeof a.caseSensitiveAutocomplete?ae.caseSensitiveAutocomplete:a.caseSensitiveAutocomplete,i=ae.completion&&"boolean"!==get_type(ae.completion)&&void 0===a.completion?ae.completion:a.completion,"settings"===i&&(i=ae.completion),i)switch(get_type(i)){case"function":var s=B.before_cursor(ae.wordAutocomplete);if(3===i.length){var r=new Error(R().comletionParameters);return u(r,"USER"),!1}var l=i.call(B,s,n);l&&is_function(l.then)&&l.then(n);break;case"array":n(i);break;default:throw new $.terminal.Exception(R().invalidCompletion);}else e();return!1},"CTRL+V":function n(t,e){return e(t),B.oneTime(200,function(){B.scroll_to_bottom()}),!0},"CTRL+TAB":function e(){if(1<terminals.length())return B.focus(!1),!1},PAGEDOWN:function e(){B.scroll(B.height())},PAGEUP:function e(){B.scroll(-B.height())}},B=this;if(1<this.length)return this.each(function(){$.fn.terminal.call($(this),e,$.extend({name:B.selector},t))});if(B.data("terminal"))return B.data("terminal");if(0===B.length){var U=sprintf(R().invalidSelector);throw new $.terminal.Exception(U)}var G=0,K=terminals.length(),Y=new Stack,X=new DelayQueue,V=new DelayQueue,J=P(V),Q=get_char_size(B),Z=P(X),ee=!1,te=$.noop,ne=[],ae=$.extend({},$.terminal.defaults,{name:B.selector,exit:!!(t&&t.login||!t)},t||{}),ie,oe,se,re,le,de,ce,pe;delete ae.formatters;var me=!1,ue=[],he=new function(e){e&&(this.storage={}),this.set=function(t,n){e?this.storage[t]=n:$.Storage.set(t,n)},this.get=function(t){return e?this.storage[t]:$.Storage.get(t)},this.remove=function(t){e?delete this.storage[t]:$.Storage.remove(t)}}(ae.memory),ge=ae.enabled,fe=!1,ye=!1,_e=!0,xe,be,ve,we,ke;$.extend(B,$.omap({id:function e(){return K},clear:function e(){se.html(""),ue=[];try{ae.onClear.call(B,B)}catch(t){u(t,"onClear")}return B.attr({scrollTop:0}),B},export_view:function t(){var e={};if(is_function(ae.onExport))try{e=ae.onExport.call(B)}catch(t){u(t,"onExport")}return $.extend({},{focus:ge,mask:be.mask(),prompt:B.get_prompt(),command:B.get_command(),position:be.position(),lines:clone(ue),interpreters:xe.clone(),history:be.history().data},e)},import_view:function t(e){if(ee)throw new Error(sprintf(R().notWhileLogin,"import_view"));if(is_function(ae.onImport))try{ae.onImport.call(B,e)}catch(t){ae.onImport=$.noop,u(t,"onImport")}return J(function(){B.set_prompt(e.prompt),B.set_command(e.command),be.position(e.position),be.mask(e.mask),e.focus&&B.focus(),ue=clone(e.lines).filter(function(e){return e[0]}),e.interpreters instanceof Stack&&(xe=e.interpreters),ae.importHistory&&be.history().set(e.history),f()}),B},save_state:function i(e,t,n){if("undefined"==typeof n?_save_state.push(B.export_view()):_save_state[n]=B.export_view(),$.isArray(hash_commands)||(hash_commands=[]),void 0!==e&&!t){var a=[K,_save_state.length-1,e];hash_commands.push(a),w()}return B},exec:function i(e,t,n){var a=n||new $.Deferred;return Z(function(){if($.isArray(e))(function n(){var i=e.shift();i?B.exec(i,t).done(n):a.resolve()})();else if(ye)ne.push([e,t,a]);else{var n=k(e,t,!0);n&&(n.done||n.then)&&(n.done||n.then).call(n,function(){a.resolve(B)})}}),a.promise()},autologin:function(e,t,n){return B.trigger("terminal.autologin",[e,t,n]),B},login:function s(e,t,n,a){function i(e,i,s){if(i){for(;B.level()>o;)B.pop(void 0,!0);ae.history&&be.history().enable();var r=B.prefix_name(!0)+"_";he.set(r+"token",i),he.set(r+"login",e),ee=!1,is_function(n)&&n()}else t?(!s&&B.error(R().wrongPasswordTryAgain),B.pop(void 0,!0).set_mask(!1)):(ee=!1,!s&&B.error(R().wrongPassword),B.pop(void 0,!0).pop(void 0,!0)),is_function(a)&&a();B.off("terminal.autologin")}if(Y.push([].slice.call(arguments)),ee)throw new Error(sprintf(R().notWhileLogin,"login"));if(!is_function(e))throw new Error(R().loginIsNotAFunction);if(ee=!0,B.token()&&1===B.level()&&!_e)ee=!1,B.logout(!0);else if(B.token(!0)&&B.login_name(!0))return ee=!1,is_function(n)&&n(),B;ae.history&&be.history().disable();var o=B.level();return B.on("terminal.autologin",function(e,t,n,a){i(t,n,a)}),B.push(function(t){B.set_mask(ae.maskChar).push(function(n){try{var a=e.call(B,t,n,function(e,n){i(t,e,n)});a&&is_function(a.then)&&(B.pause(),a.then(function(e){i(t,e),B.resume()}))}catch(t){u(t,"AUTH")}},{prompt:R().password+": ",name:"password"})},{prompt:R().login+": ",name:"login"}),B},settings:function e(){return ae},before_cursor:function d(e){var t=be.position(),n=be.get().substring(0,t),a=n.split(" "),i;if(!e)i=n;else if(1===a.length)i=a[0];else{var o=n.match(/(\\?")/g),s=o?o.filter(function(e){return!e.match(/^\\/)}).length:0;o=n.match(/'/g);var r=o?o.length:0;if(1==r%2)i=n.match(/('[^']*)$/)[0];else if(1==s%2)i=n.match(/("(?:[^"]|\\")*)$/)[0];else for(i=a[a.length-1],Oe=a.length-1;0<Oe;Oe--){var l=a[Oe-1];if("\\"===l[l.length-1])i=a[Oe-1]+" "+i;else break}}return i},complete:function g(e,t){function n(){for(var n=[],a=e.length;a--;)if(c.test(e[a])){var l=e[a];"\""===r&&(l=l.replace(/"/g,"\\\"")),!r&&t.escape&&(l=l.replace(/(["'() ])/g,"\\$1")),!o&&same_case(l)&&(s.toLowerCase()===s?l=l.toLowerCase():s.toUpperCase()===s&&(l=l.toUpperCase())),n.push(l)}return n}function a(e,t){var n=B.get_command(),a=B.get_position(),i=new RegExp("^"+e,"i"),o=n.substring(0,a),s=n.substring(a),l=t.replace(i,"")+(r||"");B.set_command(o+l+s),B.set_position((o+l).length)}t=$.extend({word:!0,echo:!1,escape:!0,caseSensitive:!0,doubleTab:null},t||{});var o=t.caseSensitive,s=B.before_cursor(t.word).replace(/\\"/g,"\""),r=!1;if(t.word&&(s.match(/^"/)?r="\"":s.match(/^'/)&&(r="'"),r&&(s=s.replace(/^["']/,""))),e=e.slice(),ae.clear&&-1===$.inArray("clear",e)&&e.push("clear"),ae.exit&&-1===$.inArray("exit",e)&&e.push("exit"),0==G%2)de=B.before_cursor(t.word);else{var i=B.before_cursor(t.word);if(i!==de)return}var l=$.terminal.escape_regex(s);t.escape&&(l=l.replace(/(\\+)(["'() ])/g,function(e,t,n){return n.match(/[()]/)?t+"\\?\\"+n:t+"?"+n}));var d=o?"":"i",c=new RegExp("^"+l,d),p=n();if(1===p.length)return t.escape?a(l,p[0]):B.insert(p[0].replace(c,"")+(r||"")),de=B.before_cursor(t.word),!0;if(1<p.length)if(!(2<=++G)){var m=common_string(s,p,o);if(m)return a(s,m),de=B.before_cursor(t.word),!0}else if(G=0,t.echo){if(is_function(t.doubleTab)){var u=t.doubleTab.call(B,s,p,x);return"undefined"==typeof u||u}if(!1!==t.doubleTab){x();var h=p.reverse().join("\t");B.echo($.terminal.escape_brackets(h),{keepWords:!0,formatters:!1})}return!0}},commands:function(){return xe.top().interpreter},set_interpreter:function a(e,t){function n(){B.pause(ae.softPause),p(e,t,function(e){B.resume();var t=xe.top();$.extend(t,e),S(!0)})}return is_function(t)?B.login(t,!0,n):"string"===get_type(e)&&t?B.login(m(e,t),!0,n):n(),B},greetings:function e(){return _(),B},paused:function e(){return ye},pause:function t(e){return Z(function(){te(),ye=!0,be.disable(e||is_android),e||be.find(".prompt").hidden(),is_function(ae.onPause)&&ae.onPause.call(B)}),B},resume:function e(){return Z(function(){ye=!1,ge&&terminals.front()===B&&be.enable(!0),be.find(".prompt").visible();var e=ne;ne=[];for(var t=0;t<e.length;++t)B.exec.apply(B,e[t]);B.trigger("resume");var n=F.shift();n&&n(),B.scroll_to_bottom(),is_function(ae.onResume)&&ae.onResume.call(B)}),B},cols:function e(){return ae.numChars?ae.numChars:(("undefined"==typeof re||1e3===re)&&(re=get_num_chars(B,Q)),re)},rows:function e(){return ae.numRows?ae.numRows:("undefined"==typeof le&&(le=get_num_rows(B,Q)),le)},history:function e(){return be.history()},history_state:function n(e){function t(){ae.historyState=!0,_save_state.length?1<terminals.length()&&B.save_state(null):B.save_state()}return e?"undefined"==typeof window.setImmediate?setTimeout(t,0):setImmediate(t):ae.historyState=!1,B},clear_history_state:function e(){return hash_commands=[],_save_state=[],B},next:function(){if(1===terminals.length())return B;terminals.front().disable();var e=terminals.rotate().enable(),t=e.offset().top-50;$("html,body").animate({scrollTop:t},500);try{trigger_terminal_change(e)}catch(t){u(t,"onTerminalChange")}return e},focus:function n(e,t){return Z(function(){if(1===terminals.length())!1===e?B.disable(t):B.enable(t);else if(!1===e)B.next();else{var n=terminals.front();if(n!==B&&(terminals.forEach(function(e){e!==B&&e.enabled()&&e.disable(t)}),!t))try{trigger_terminal_change(B)}catch(t){u(t,"onTerminalChange")}terminals.set(B),B.enable(t)}}),B},freeze:function t(e){return J(function(){e?(B.disable(),fe=!0):(fe=!1,B.enable())}),B},frozen:function e(){return fe},enable:function t(e){return ge||fe||(void 0===re&&B.resize(),Z(function(){var t;if(!e&&!ge)try{t=ae.onFocus.call(B,B)}catch(t){ae.onFocus=$.noop,u(t,"onFocus")}(!e&&void 0===t||e)&&(ge=!0,!B.paused()&&be.enable(!0))})),B},disable:function t(e){return Z(function(){var t;if(!e&&ge)try{t=ae.onBlur.call(B,B)}catch(t){ae.onBlur=$.noop,u(t,"onBlur")}(!e&&void 0===t||e)&&(ge=!1,be.disable())}),B},enabled:function e(){return ge},signature:function a(){for(var e=B.cols(),t=signatures.length,n;t--;)if(n=signatures[t].map(function(e){return e.length}),_Mathmax.apply(null,n)<=e)return signatures[t].join("\n")+"\n";return""},version:function e(){return $.terminal.version},cmd:function e(){return be},get_command:function e(){return be.get()},set_command:function n(e,t){return J(function(){"string"!=typeof e&&(e=JSON.stringify(e)),be.set(e,void 0,t)}),B},set_position:function n(e,t){return J(function(){be.position(e,t)}),B},get_position:function e(){return be.position()},insert:function n(e,t){if("string"==typeof e)return J(function(){var n=B.is_bottom();be.insert(e,t),(ae.scrollOnEcho||n)&&B.scroll_to_bottom()}),B;throw new Error(sprintf(R().notAString,"insert"))},set_prompt:function t(e){return J(function(){is_function(e)?be.prompt(function(t){e.call(B,t,B)}):be.prompt(e),xe.top().prompt=e}),B},get_prompt:function e(){return xe.top().prompt},set_mask:function t(e){return J(function(){be.mask(!0===e?ae.maskChar:e)}),B},get_output:function t(e){return e?ue:$.map(ue,function(e){return is_function(e[0])?e[0]():e[0]}).join("\n")},resize:function o(e,t){if(!B.is(":visible"))B.stopTime("resize"),B.oneTime(500,"resize",function(){B.resize(e,t)});else{if(e&&t&&(B.width(e),B.height(t)),e=B.width(),t=B.height(),"undefined"!=typeof ae.numChars||"undefined"!=typeof ae.numRows)return be.resize(ae.numChars),void B.refresh();var n=get_num_chars(B,Q),a=get_num_rows(B,Q);if(n!==re||a!==le){re=n,le=a,be.resize(re),B.refresh();var i=xe.top();is_function(i.resize)?i.resize.call(B,B):is_function(ae.onResize)&&ae.onResize.call(B,B)}}return B},refresh:function e(){return 0!==Q.width&&B[0].style.setProperty("--char-width",Q.width),f({scroll:!1,update:!0}),B},flush:function a(e){e=$.extend({},{update:!1,scroll:!0},e||{});try{var t=B.is_bottom(),n;$.each(M,function(t,a){if(a===1)n=$("<div></div>");else if($.isPlainObject(a)&&is_function(a.finalize)){if(e.update){var i="> div[data-index="+a.index+"]",o=se.find(i);o.html()!==n.html()&&o.replaceWith(n)}else n.appendTo(se);a.finalize(n.attr("data-index",a.index))}else $("<div/>").html(a).appendTo(n).width("100%")}),y();try{ae.onFlush.call(B,B)}catch(t){ae.onFlush=$.noop,u(t,"onFlush")}(ae.scrollOnEcho&&e.scroll||t)&&B.scroll_to_bottom(),M=[]}catch(t){is_function(ae.exceptionHandler)?ae.exceptionHandler.call(B,t,"TERMINAL (Flush)"):alert_exception("[Flush]",t)}return B},update:function(e,t,n){return J(function(){0>e&&(e=ue.length+e),ue[e]?null===t?(ue.splice(e,1),se.find("[data-index="+e+"]").remove()):(ue[e][0]=t,n&&(ue[e][1]=n),g({string:t,index:e,options:n}),B.flush({scroll:!1,update:!0})):B.error("Invalid line number "+e)}),B},remove_line:function t(e){return B.update(e,null)},last_index:function e(){return ue.length-1},echo:function(e,t){function n(e){try{var n=$.extend({flush:!0,raw:ae.raw,finalize:$.noop,keepWords:!1,formatters:!0},t||{});(function(t){n.finalize=function(e){n.raw&&e.addClass("raw");try{is_function(t)&&t(e)}catch(n){u(n,"USER:echo(finalize)"),t=null}}})(n.finalize),n.flush&&(M.length&&B.flush(),M=[]),"function"==typeof e&&(e=e.bind(B)),g({string:e,options:n,index:ue.length}),ue.push([e,$.extend(n,{exec:!1})]),n.flush&&B.flush()}catch(t){is_function(ae.exceptionHandler)?ae.exceptionHandler.call(B,t,"TERMINAL (echo)"):alert_exception("[Terminal.echo]",t)}}return void 0!==e&&is_function(e.then)?$.when(e).done(n):n(e),B},error:function a(e,t){function n(e){"string"!=typeof e&&(e+="");var t=$.terminal.escape_brackets(e).replace(/\\$/,"&#92;").replace(url_re,"]$1[[;;;error]");return"[[;;;error]"+t+"]"}return t=$.extend({},t,{raw:!1,formatters:!1}),"function"==typeof e?B.echo(function(){return n(e.call(B))},t):e&&e.then?(e.then(function(e){B.echo(n(e))}),B):B.echo(n(e),t)},exception:function i(t,e){var n=exception_message(t);if(e&&(n="&#91;"+e+"&#93;: "+n),n&&B.error(n,{finalize:function t(e){e.addClass("exception message")},keepWords:!0}),"string"==typeof t.fileName&&(B.pause(ae.softPause),$.get(t.fileName,function(e){var n=t.lineNumber-1,a=e.split("\n")[n];a&&B.error("["+t.lineNumber+"]: "+a),B.resume()},"text")),t.stack){var a=$.terminal.escape_brackets(t.stack);B.echo(a.split(/\n/g).map(function(e){return"[[;;;error]"+e.replace(url_re,function(e){return"]"+e+"[[;;;error]"})+"]"}).join("\n"),{finalize:function t(e){e.addClass("exception stack-trace")},formatters:!1})}return B},scroll:function n(e){var t;return e=_Mathround(e),ie.prop?(e>ie.prop("scrollTop")&&0<e&&ie.prop("scrollTop",0),t=ie.prop("scrollTop"),ie.scrollTop(t+e)):(e>ie.attr("scrollTop")&&0<e&&ie.attr("scrollTop",0),t=ie.attr("scrollTop"),ie.scrollTop(t+e)),B},logout:function t(e){if(ee)throw new Error(sprintf(R().notWhileLogin,"logout"));return J(function(){if(e){var t=Y.pop();B.set_token(void 0,!0),B.login.apply(B,t)}else if(1===xe.size()&&B.token())B.logout(!0);else for(;1<xe.size();)B.token()?B.logout(!0).pop().pop():B.pop()}),B},token:function t(e){return he.get(B.prefix_name(e)+"_token")},set_token:function a(e,t){var n=B.prefix_name(t)+"_token";return"undefined"==typeof e?he.remove(n):he.set(n,e),B},get_token:function t(e){return B.token(e)},login_name:function t(e){return he.get(B.prefix_name(e)+"_login")},name:function e(){return xe.top().name},prefix_name:function a(e){var t=(ae.name?ae.name+"_":"")+K;if(e&&1<xe.size()){var n=xe.map(function(e){return e.name||""}).slice(1).join("_");n&&(t+="_"+n)}return t},read:function(e,t,n){var a=jQuery.Deferred(),i=!1;return B.push(function(e){i=!0,a.resolve(e),is_function(t)&&t(e),B.pop(),ae.history&&be.history().enable()},{name:"read",history:!1,prompt:e||"",onExit:function e(){i||(a.reject(),is_function(n)&&n())}}),ae.history&&be.history().disable(),a.promise()},push:function n(e,t){return Z(function(){function n(){ae.onPush.call(B,i,xe.top(),B),S()}t=t||{};var a=$.extend({},{infiniteLogin:!1},t);!a.name&&oe&&(a.name=oe.name),void 0===a.prompt&&(a.prompt=(a.name||">")+" ");var i=xe.top();i&&(i.mask=be.mask());var o=ye;p(e,t.login,function(t){if(xe.push($.extend({},t,a)),!0===a.completion&&($.isArray(t.completion)?xe.top().completion=t.completion:!t.completion&&(xe.top().completion=!1)),a.login){var i=get_type(a.login),s;"function"===i?(s=a.infiniteLogin?$.noop:B.pop,B.login(a.login,a.infiniteLogin,n,s)):("string"===get_type(e)&&"string"===i||"boolean"===i)&&(s=a.infiniteLogin?$.noop:B.pop,B.login(m(e,a.login),a.infiniteLogin,n,s))}else n();!o&&B.enabled()&&B.resume()})}),B},pop:function o(e,t){void 0!==e&&x(e);var n=B.token(!0),a;if(1!==xe.size()){n&&C();var i=xe.pop();if(a=xe.top(),S(),t||ae.onPop.call(B,i,a),ee&&B.get_prompt()!==R().login+": "&&(ee=!1),is_function(i.onExit))try{i.onExit.call(B,B)}catch(t){i.onExit=$.noop,u(t,"onExit")}B.set_mask(a.mask)}else if(a=xe.top(),!ae.login)B.error(R().canExitError);else if(t||ae.onPop.call(B,a,null,B),T(),is_function(ae.onExit))try{ae.onExit.call(B,B)}catch(t){ae.onExit=$.noop,u(t,"onExit")}return B},option:function n(e,t){if("undefined"==typeof t){if("string"==typeof e)return ae[e];"object"===_typeof(e)&&$.each(e,function(e,t){ae[e]=t})}else ae[e]=t,e.match(/^num(Chars|Rows)$/)&&f();return B},invoke_key:function c(t){var n=t.toUpperCase().split("+"),a=n.pop(),i=-1!==n.indexOf("CTRL"),o=-1!==n.indexOf("SHIFT"),s=-1!==n.indexOf("ALT"),r=-1!==n.indexOf("META"),l=$.Event("keydown",{ctrlKey:i,shiftKey:o,altKey:s,metaKey:r,which:Ee[a],key:a}),d=$(document.documentElement||window);return d.trigger(l),l=$.Event("keypress"),l.key=a,l.which=l.keyCode=0,d.trigger(l),B},keymap:function(e,t){if(0===arguments.length)return be.keymap();if("undefined"==typeof t){if("string"==typeof e)return be.keymap(e);$.isPlainObject(e)&&(e=$.omap(e||{},function(t,n){return Pe[t]?function(a,e){return n.call(B,a,function(){return Pe[t](a,e)})}:n.bind(B)}),be.keymap(e))}else if("function"==typeof t){var n=e;Pe[n]?be.keymap(n,function(a,e){return t.call(B,a,function(){return Pe[n](a,e)})}):be.keymap(n,t.bind(B))}},level:function e(){return xe.size()},reset:function e(){return J(function(){for(B.clear();1<xe.size();)xe.pop();A()}),B},purge:function e(){return J(function(){var e=B.prefix_name()+"_",t=he.get(e+"interpreters");t&&$.each(JSON.parse(t),function(e,t){he.remove(t+"_commands"),he.remove(t+"_token"),he.remove(t+"_login")}),be.purge(),he.remove(e+"interpreters")}),B},destroy:function(){return J(function(){be.destroy().remove(),se.remove(),Se.remove(),$(document).unbind(".terminal_"+B.id()),$(window).unbind(".terminal_"+B.id()),B.unbind("click wheel mousewheel mousedown mouseup"),B.removeData("terminal").removeClass("terminal").unbind(".terminal"),ae.width&&B.css("width",""),ae.height&&B.css("height",""),$(window).off("blur",q).off("focus",I),B.find(".terminal-fill").remove(),B.stopTime(),terminals.remove(K),we&&we.unobserve(B[0]),ke&&ke.disconnect(),B.resizer("unbind"),je.resizer("unbind").remove(),terminals.length()||$(window).off("hashchange"),me=!0}),B},scroll_to_bottom:function t(){var e;return e=ie.prop?ie.prop("scrollHeight"):ie.attr("scrollHeight"),ie.scrollTop(e),B},is_bottom:function i(){if(-1===ae.scrollBottomOffset)return!1;var e,t,n;B.is("body")?(e=$(document).height(),t=$(window).scrollTop(),n=window.innerHeight):(e=ie[0].scrollHeight,t=ie.scrollTop(),n=ie.outerHeight());var a=e-ae.scrollBottomOffset;return t+n>a}},function(t,e){return function(){if(me&&!ae.exceptionHandler)throw new $.terminal.Exception(R().defunctTerminal);try{return e.apply(B,[].slice.apply(arguments))}catch(n){if("exec"!==t&&"resume"!==t&&u(n,n.type||"TERMINAL",!0),!ae.exceptionHandler)throw n}}}));var Te={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'","\""],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"};for(Oe=1;25>Oe;Oe++)Te[111+Oe]="F"+Oe;var Ce="";for(Oe=65;91>Oe;Oe++)Ce=_StringfromCharCode(Oe),Te[Oe]=[Ce.toLowerCase(),Ce.toUpperCase()];var Ee={};Object.keys(Te).forEach(function(e){Te[e]instanceof Array?Te[e].forEach(function(t){Ee[t.toUpperCase()]=e}):Ee[Te[e].toUpperCase()]=e}),!0===ae.ignoreSystemDescribe&&(ae.describe=!1),ae.width&&B.width(ae.width),ae.height&&B.height(ae.height),ie=null===ae.scrollObject?B:$(ae.scrollObject),ie.is("body")&&!is_safari&&(ie=$("html,body")),$(document).bind("ajaxSend.terminal_"+B.id(),function(t,e){requests.push(e)});var Se=$("<div class=\"terminal-wrapper\"/>").appendTo(B),je=$("<div class=\"font\">&nbsp;</div>").appendTo(B),Ae=$("<div class=\"terminal-fill\"/>").appendTo(B);if(se=$("<div>").addClass("terminal-output").attr("role","log").appendTo(Se),B.addClass("terminal"),ae.login&&is_function(ae.onBeforeLogin))try{!1===ae.onBeforeLogin.call(B,B)&&(_e=!1)}catch(t){ae.onBeforeLogin=$.noop,u(t,"onBeforeLogin")}var Le;if("string"==typeof e)Le=e;else if(e instanceof Array)for(var Oe=0,De=e.length;Oe<De;++Oe)if("string"==typeof e[Oe]){Le=e[Oe];break}var Ne;is_function(ae.login)?Ne=ae.login:Le&&("string"==typeof ae.login||!0===ae.login)&&(Ne=m(Le,ae.login)),terminals.append(B),$(document).on("paste.terminal_"+B.id(),H);var Pe=$.extend({},W,$.omap(ae.keymap||{},function(t,n){return W[t]?function(a,e){return n.call(B,a,function(){return W[t](a,e)})}:n.bind(B)}));return p(e,ae.login,function(e){function t(t){if(t=t.originalEvent,t){var n=document.elementFromPoint(t.clientX,t.clientY);!$(n).closest(".terminal").length&&B.enabled()&&B.disable()}}function n(){var e=Q.width;Q=get_char_size(B),e!==Q.width&&be.option("char_width",Q.width).refresh()}function a(){if(B.is(":visible")){var e=Ae.width(),t=Ae.height();(pe!==t||ce!==e)&&B.resize(),pe=t,ce=e}}function i(){B.resizer("unbind").resizer(a),je.resizer("unbind").resizer(function(){n(),B.resize()})}function s(){we&&we.unobserve(B[0]);var e=B.enabled(),t=B.is(":visible");t&&i(),we=new window.IntersectionObserver(function(){B.is(":visible")&&!t?(t=!0,i(),n(),a(),e&&B.enable()):t&&!B.is(":visible")&&(t=!1,e=$.terminal.active()===B&&B.enabled(),B.disable())},{root:document.body}),we.observe(B[0])}function r(e){var t=terminals.get()[e[0]];if(t&&K===t.id()){if(!e[2])return n.resolve(),n.promise();if(ye){var n=$.Deferred();return F.push(function(){return t.exec(e[2]).done(function(){t.save_state(e[2],!0,e[1]),n.resolve()})}),n.promise()}return t.exec(e[2]).done(function(){t.save_state(e[2],!0,e[1])})}}(ae.completion&&"boolean"!=typeof ae.completion||!ae.completion)&&(e.completion="settings"),xe=new Stack($.extend({},ae.extra,{name:ae.name,prompt:ae.prompt,keypress:ae.keypress,keydown:ae.keydown,resize:ae.onResize,greetings:ae.greetings,mousewheel:ae.mousewheel,history:ae.history,keymap:Pe},e)),be=$("<div/>").appendTo(Se).cmd({prompt:ae.prompt,history:ae.memory?"memory":ae.history,historyFilter:ae.historyFilter,historySize:ae.historySize,caseSensitiveSearch:ae.caseSensitiveSearch,width:"100%",enabled:!1,char_width:Q.width,keydown:D,keymap:Pe,clickTimeout:ae.clickTimeout,holdTimeout:ae.holdTimeout,holdRepeatTimeout:ae.holdRepeatTimeout,keypress:N,tabs:ae.tabs,onCommandChange:function t(e){if(is_function(ae.onCommandChange))try{ae.onCommandChange.call(B,e,B)}catch(t){ae.onCommandChange=$.noop,u(t,"onCommandChange")}B.scroll_to_bottom()},commands:k}),B.oneTime(100,function(){$(document).bind("click.terminal_"+B.id(),t).bind("contextmenu.terminal_"+B.id(),t)});var l=$(window);document.addEventListener("resume",function(){B.disable()}),is_mobile?B.click(function(){fe||(B.enabled()?B.disable():be.enable())}):(l.on("focus.terminal_"+B.id(),I).on("blur.terminal_"+B.id(),q),function(){function e(){if(o.is(".terminal")||o.is(".terminal-wrapper")){var e=B.get_command().length;B.set_position(e)}else o.closest(".prompt").length&&B.set_position(0);i.is(":focus")||i.focus(),t()}function t(){n=0,o=null}var n=0,a="click_"+B.id(),i=B.find(".cmd textarea"),o,s;B.find(".cmd textarea").on("focus",function(){"undefined"!=typeof s&&ie.scrollTop(s)}).on("blur",function(){s=ie.scrollTop()}),B.mousedown(function(t){scrollbar_event(t,Ae)||(o=$(t.target))}).mouseup(function(){if(""===get_selected_text()&&o)if(1!=++n)B.stopTime(a);else if(!fe)if(!ge);else{var i=ae.clickTimeout;return void B.oneTime(i,a,e)}t()}).dblclick(function(){t(),B.stopTime(a)})}(),function(){var t=B.find(".cmd textarea");B.on("contextmenu.terminal",function(n){if(""===get_selected_text()&&!$(n.target).is("img,value,audio,object,canvas,a")){B.enabled()||B.enable();var e=be.offset();t.css({left:n.pageX-e.left-20,top:n.pageY-e.top-20,width:"5em",height:"4em"}),t.is(":focus")||t.focus(),B.stopTime("textarea"),B.oneTime(100,"textarea",function(){t.css({left:"",top:"",width:"",height:""})}),B.stopTime("selection"),B.everyTime(20,"selection",function(){t[0].selection!==t[0].value&&get_textarea_selection(t[0])&&(clear_textarea_selection(t[0]),select(B.find(".terminal-output")[0],B.find(".cmd div:last-of-type")[0]),B.stopTime("selection"))})}})}()),B.on("click","a",function(t){var e=$(this);if(e.closest(".exception").length){var n=e.attr("href");n.match(/:[0-9]+$/)&&(t.preventDefault(),o(n))}ge&&B.find(".cmd textarea").focus()}),a(),B.is(":visible")&&i();var d=!!B.closest("body").length,c=window.MutationObserver||window.WebKitMutationObserver;c&&(ke=new c(function(){B.closest("body").length?(!d&&(B.scroll_to_bottom(),window.IntersectionObserver&&s(),a()),d=!0):d&&(d=!1)}),ke.observe(document.body,{childList:!0})),window.IntersectionObserver&&d&&s(),X.resolve(),ge&&B.is(":visible")&&!is_mobile?B.focus(void 0,!0):B.disable(),is_function(Ne)?B.login(Ne,!0,A):A(),ae.execHash?location.hash?setTimeout(function(){try{var e=location.hash.replace(/^#/,"");hash_commands=JSON.parse(decodeURIComponent(e));var t=0;(function e(){var n=hash_commands[t++];n?r(n).done(e):change_hash=!0})()}catch(t){}}):change_hash=!0:change_hash=!0,function(){function t(e,t){if(!n){var a=xe.top(),i;if(is_function(a.mousewheel)?i=a.mousewheel(e,t,B):is_function(ae.mousewheel)&&(i=ae.mousewheel(e,t,B)),(b()||!1===i)&&(e.stopPropagation(),e.preventDefault()),!1===i)return!1;if(!0===i)return;0<t?B.scroll(-40):B.scroll(40)}}var n=!1;if($(document).bind("keydown.terminal_"+B.id(),function(t){t.shiftKey&&(n=!0)}).bind("keyup.terminal_"+B.id(),function(t){(t.shiftKey||16===t.which)&&(n=!1)}),$.event.special.mousewheel)B.on("mousewheel",t);else{var e=document.createElement("div"),a;a="onwheel"in e?"wheel":void 0===document.onmousewheel?"DOMMouseScroll":"mousewheel",e=null,B.on(a,function(n){var e;e="mousewheel"===a?-1/40*n.originalEvent.wheelDelta:n.originalEvent.deltaY||n.originalEvent.detail,t(n,-e)})}}()}),B.data("terminal",B),B}});var map="function"==typeof Map?new Map:function(){var e=[],t=[];return{has:function n(t){return-1<e.indexOf(t)},get:function a(n){return t[e.indexOf(n)]},set:function i(n,a){-1===e.indexOf(n)&&(e.push(n),t.push(a))},delete:function i(n){var a=e.indexOf(n);-1<a&&(e.splice(a,1),t.splice(a,1))}}}(),createEvent=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(t){createEvent=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var autosize=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(autosize=function(e){return e},autosize.destroy=function(e){return e},autosize.update=function(e){return e}):(autosize=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return assign(e,t)}),e},autosize.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],destroy),e},autosize.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],update),e});var _default2=autosize;_exports.default=_default2;var twemoji=function(){function e(e,t){return document.createTextNode(t?e.replace(g,""):e)}function t(e){return e.replace(f,r)}function n(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function a(e,t){for(var n=e.childNodes,i=n.length,o,s;i--;)o=n[i],s=o.nodeType,3===s?t.push(o):1===s&&!("ownerSVGElement"in o)&&!y.test(o.nodeName.toLowerCase())&&a(o,t);return t}function o(e){return p(0>e.indexOf("\u200D")?e.replace(g,""):e)}function i(t,n){for(var s=a(t,[]),r=s.length,l,d,c,p,m,u,g,f,y,_,x,b,v;r--;){for(c=!1,p=document.createDocumentFragment(),m=s[r],u=m.nodeValue,f=0;g=h.exec(u);){if(y=g.index,y!==f&&p.appendChild(e(u.slice(f,y),!0)),x=g[0],b=o(x),f=y+x.length,v=n.callback(b,n),b&&v){for(d in _=new Image,_.onerror=n.onerror,_.setAttribute("draggable","false"),l=n.attributes(x,b),l)l.hasOwnProperty(d)&&0!==d.indexOf("on")&&!_.hasAttribute(d)&&_.setAttribute(d,l[d]);_.className=n.className,_.alt=x,_.src=v,c=!0,p.appendChild(_)}_||p.appendChild(e(x,!1)),_=null}c&&(f<u.length&&p.appendChild(e(u.slice(f),!0)),m.parentNode.replaceChild(p,m))}return t}function s(e,n){return c(e,function(e){var a=e,i=o(e),s=n.callback(i,n),r,l;if(i&&s){for(l in a="<img ".concat("class=\"",n.className,"\" ","draggable=\"false\" ","alt=\"",e,"\""," src=\"",s,"\""),r=n.attributes(e,i),r)r.hasOwnProperty(l)&&0!==l.indexOf("on")&&-1===a.indexOf(" "+l+"=")&&(a=a.concat(" ",l,"=\"",t(r[l]),"\""));a=a.concat("/>")}return a})}function r(e){return u[e]}function l(){return null}function d(e){return"number"==typeof e?e+"x"+e:e}function c(e,t){return(e+"").replace(h,t)}function p(e,t){for(var n=[],a=0,o=0,s=0;s<e.length;)a=e.charCodeAt(s++),o?(n.push((65536+(o-55296<<10)+(a-56320)).toString(16)),o=0):55296<=a&&56319>=a?o=a:n.push(a.toString(16));return n.join(t||"-")}var m={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"==typeof e?parseInt(e,16):e;return 65536>t?_(t):(t-=65536,_(55296+(t>>10),56320+(1023&t)))},toCodePoint:p},onerror:function(){this.parentNode&&this.parentNode.replaceChild(e(this.alt,!1),this)},parse:function(e,t){return t&&"function"!=typeof t||(t={callback:t}),("string"==typeof e?s:i)(e,{callback:t.callback||n,attributes:"function"==typeof t.attributes?t.attributes:l,base:"string"==typeof t.base?t.base:m.base,ext:t.ext||m.ext,size:t.folder||d(t.size||m.size),className:t.className||m.className,onerror:t.onerror||m.onerror})},replace:c,test:function(e){h.lastIndex=0;var t=h.test(e);return h.lastIndex=0,t}},u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},h=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,g=/\uFE0F/g,f=/[&<>'"]/g,y=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,_=_StringfromCharCode;return m}(),ModeManager=function(){function e(e){this.element=e,this.dataset=e.dataset,this.parse("")}return e.prototype.execute=function(e,t){var n=this.parse(e);return n.is_parsed?"1001"==n.code||(""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"==typeof n.cmd_list[0].execute?n.cmd_list[0].execute(t,this):(console.log("ElementError: Undefined execution function."),12034)):(console.log("AnalyzeError: "+n.message),n.code)},e.prototype.getCompletion=function(){for(var e=this.result.cmd_list,t=[],n=0;n<e.length;n++)t.push("paramater"===e[n].type?"<"+e[n].name+">":"number"===e[n].type?"["+e[n].name+"]":e[n].name);return t},e.prototype.information=function(e){for(var t=this.parse(e).cmd_list,n=["Exec commands:"],a=0,o;a<t.length;a++){if("paramater"==t[a].type)o="<"+t[a].name+">";else if("number"==t[a].type){var s=parseInt(t[a].max),r=parseInt(t[a].min);o="<"+(isNaN(r)?"":r)+"-"+(isNaN(s)?"":s)+">"}else o=t[a].name;n.push({command:o,description:t[a].description})}var l=this.line_parsed[this.line_parsed.length-1];return"undefined"!=typeof l&&"function"==typeof l.execute&&"paramater"!==l.type&&"number"!==l.type&&(2===n.length&&n.pop(),n.push({command:"<cr>",description:""})),n},e.prototype.parse=function(e,t){void 0===t&&(t=0),this.line=e,this.line_parsed=[],this.is_parsed=!0,this.err_code=0,this.err_msg="",this.position=t,this.completion="",this.cmd_list=this.dataset,this.paramaters={},this.optional={};var n=0,a="",o="",s="";if(0>=e.length)return this.result;if(e.match(/^\s*!/))return this.is_parsed=!0,this.err_code=4097,this.err_msg="comment",this.result;for(n=this.position;n<=e.length;n++){if(a=e.charAt(n)," "===a&&""===s){for(o="",s="";a=e.charAt(++n)," "===a&&""!==a;);if(this.completion=e.substring(0,n),1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===_typeof(this.cmd_list[0].children)?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938,this.err_msg="% Ambiguous command:  \""+this.line+"\"";break}}o+=a;var u=o.match(/^(?:(')[^']+|(")[^"]+)$/);s=u?u[1]?"'":u[2]?"\"":"":"";for(var r=[],l=0;l<this.cmd_list.length;l++)if("command"===this.cmd_list[l].type){var h=new RegExp("^"+o,"i");this.cmd_list[l].name.match(h)&&r.push(this.cmd_list[l])}else if("number"===this.cmd_list[l].type){var d=parseInt(o),c=parseInt(this.cmd_list[l].max),m=parseInt(this.cmd_list[l].min);if(0===o.length)this.cmd_list[l].param=parseInt(o),r.push(this.cmd_list[l]);else if(isNaN(d))continue;else if(!isNaN(c)&&c<d)continue;else if(!isNaN(m)&&m>d)continue;else this.cmd_list[l].param=parseInt(o),r.push(this.cmd_list[l])}else if("paramater"===this.cmd_list[l].type){var g=/^["']?(.*?)["']?$/;this.cmd_list[l].param=o.replace(g,"$1"),r.push(this.cmd_list[l])}else{if("description"!==this.cmd_list[l].type)return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[l].type+"'",this.result;if(1===this.cmd_list.length){n=e.length;break}}if(this.cmd_list=r,0===this.cmd_list.length){this.is_parsed=!1,this.err_code=7937;var f=void 0;for(f="";f.length<n;f+=" ");f+=$.terminal.active().get_prompt().replace(/\S/g," "),this.err_msg=f+"^\n% Invalid input detected at '^' marker.",this.cmd_list=[];break}}if(this.position=n,1===this.cmd_list.length){this.line_parsed.push(this.cmd_list[0]),"undefined"==typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command.");for(var y=0;y<this.line_parsed.length;y++)("paramater"===this.line_parsed[y].type||"number"===this.line_parsed[y].type)&&(this.paramaters[this.line_parsed[y].name]=this.line_parsed[y].param),this.line_parsed[y].hasOwnProperty("optional")&&(this.optional[this.line_parsed[y].optional]=!0)}return 1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+=this.cmd_list[0].name+" ":this.completion=this.line,this.result},Object.defineProperty(e.prototype,"func_name",{get:function t(){if(0!==this.err_code)return"";var e=this.line_parsed[this.line_parsed.length-1];return"undefined"==typeof e.execute?"":e.execute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"result",{get:function e(){return{is_parsed:this.is_parsed,cmd_list:this.cmd_list,code:this.err_code.toString(16),message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0}),e.prototype.debug=function(){console.log("**************************************************"),console.log("===== line"),console.log(this.line),console.log("===== line_parsed"),console.log(this.line_parsed),console.log("===== is_parsed"),console.log(this.is_parsed),console.log("===== err_code"),console.log(this.err_code.toString(16)),console.log("===== err_msg"),console.log(this.err_msg),console.log("===== line.length"),console.log(this.line.length),console.log("===== position"),console.log(this.position),console.log("===== completion"),console.log(this.completion),console.log("===== dataset"),console.log(this.dataset),console.log("===== cmd_list"),console.log(this.cmd_list)},e}(),ConfigManager=function(){function e(e,t){this.default=JSON.parse(JSON.stringify(e)),this.config=t?t:e,this.config=Object.assign(e,this.config)}return e.prototype.find=function(e){if("string"==typeof e&&(e=e.split(".")),!!Array.isArray(e)){for(var t=this.config,n=0;n<e.length;n++)if("undefined"!=typeof t[e[n]])t=t[e[n]];else{t=void 0;break}if("undefined"!=typeof t)return t;t=this.default;for(var a=0;a<e.length&&(t=t[e[a]],"undefined"!=typeof t);a++);return t}},e.prototype.write=function(e,t){if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))return!1;for(var n=this.config,a=0,o;a<e.length-1;a++)o=e[a],"undefined"==typeof n[o]&&(n[o]={}),n=n[o];return o=e.pop(),n[o]=t,!0},e.prototype.erase=function(e){if("string"==typeof e&&(e=e.split(".")),!Array.isArray(e))return!1;for(var t=this.config,n=0,a;n<e.length-1;n++){if(a=e[n],"undefined"==typeof t[a])return!0;t=t[a]}return a=e.pop(),delete t[a],!0},e}(),InstanceManager=function(){function e(){var e=localStorage.getItem("instances");e?(this.instances=JSON.parse(e),this.parse_acl()):this.instances={},this._ins=void 0,this._name=""}return e.prototype.parse_acl=function(){for(var i in this.acls={},this.instances)if(this.acls[i]={},!!this.instances[i].hasOwnProperty("acl"))for(var o in this.instances[i].acl){var e=this.instances[i].acl[o],t=e.regexp,n=t.match(/^\/(.+)\/([igym]*)$/),a=void 0;a=n?new RegExp(n[1],n[2]):new RegExp(t),this.acls[i][o]={type:e.type,regexp:a,notify:!0===e.notify},e.color&&(this.acls[i][o].color=e.color),e.voice&&(this.acls[i][o].voice=e.voice)}},e.prototype.ck_version=function(e){var t={is_checked:!1,type:"",compared:0,version:""};if("undefined"==typeof e||"undefined"==typeof this._ins)return t;var n;if(!this._ins.info.hasOwnProperty("version"))return t.is_checked=!0,t.type="mastodon",t.compared=-1,t;if(n=this._ins.info.version.match(/^Pleroma (\S+)/))return t.is_checked=!0,t.type="pleroma",t.version=n[1],t.compared=n[1]===e?0:-1,t;if(n=this._ins.info.version.match(/(\d+)\.(\d+)\.(\d+)/))t.is_checked=!0,t.type="mastodon",t.version=n[0];else return t;for(var a=e.match(/(\d+)\.(\d+)\.(\d+)/),o=3;0<o;o--)t.compared=a[o]>n[o]?1:a[o]<n[o]?-1:t.compared;return t},e.prototype.name=function(e){return"string"==typeof e&&(this._name=e,this._ins=this.instances[e]),this._name},e.prototype.save=function(){for(var t in this.instances)this.instances[t].hasOwnProperty("client_id")||delete this.instances[t];var e=JSON.stringify(this.instances);return localStorage.setItem("instances",e),!0},e.prototype.get=function(e){return"undefined"==typeof e?this._ins:this.instances[e]},e.prototype.set=function(e,t){return"undefined"==typeof t&&(t=this.name()),!!t&&void(this.instances[t]=e,this._ins=e,this.save())},e.prototype.delete=function(e){return"undefined"==typeof e&&(e=this._name),result=delete this.instances[e],result&&(this._name="",this._ins=void 0),this.save(),result},e.prototype.create=function(e){return this.instances.hasOwnProperty(e)||(this.instances[e]={},this.name(e)),this.instances[e]},e}(),GlobalModeElement=function(){function e(){this._cmd_mode="global",this._dataset=[{type:"command",name:"show",description:"\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306E\u6982\u8981\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306E\u6982\u8981\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5B9A\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306E\u8A73\u7D30\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-config",description:"\u8A2D\u5B9A\u3055\u308C\u305F\u30B3\u30F3\u30D5\u30A3\u30B0\u3092\u78BA\u8A8D\u3057\u307E\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-config",description:"\u4FDD\u5B58\u3055\u308C\u305F\u30B3\u30F3\u30D5\u30A3\u30B0\u3092\u78BA\u8A8D\u3057\u307E\u3059\u3002",execute:this.show_startup_config},{type:"command",name:"version",description:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u306E\u30D0\u30FC\u30B8\u30E7\u30F3\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73FE\u5728\u6642\u523B\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_clock},{type:"command",name:"tech-support",description:"\u30B5\u30DD\u30FC\u30C8\u554F\u3044\u5408\u308F\u305B\u7528\u30EC\u30DD\u30FC\u30C8\u30D5\u30A1\u30A4\u30EB\u3092\u51FA\u529B\u3057\u307E\u3059\u3002",execute:this.show_tech,children:[{type:"command",name:"encrypt",optional:"encrypt",description:"\u30D5\u30A1\u30A4\u30EB\u3092\u6697\u53F7\u5316\u3057\u307E\u3059\u3002",execute:this.show_tech}]}]},{type:"command",name:"instance",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u30E2\u30FC\u30C9\u306B\u79FB\u884C\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"instance_name",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u3092\u767B\u9332\u3057\u307E\u3059\u3002",execute:this.entry_instance}]},{type:"command",name:"delete",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306E\u524A\u9664\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u540D",execute:this.delete_instance}]}]},{type:"command",name:"configure",description:"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306E\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059",children:[{type:"command",name:"terminal",description:"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u306E\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059",execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753B\u9762\u3092\u518D\u8AAD\u307F\u8FBC\u307F\u3057\u307E\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753B\u9762\u3092\u6D88\u53BB\u3057\u307E\u3059\u3002",execute:this.clear},{type:"command",name:"write",description:"\u8A2D\u5B9A\u3092\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3057\u307E\u3059\u3002",execute:this.write_memory,children:[{type:"command",name:"memory",description:"\u8A2D\u5B9A\u3092\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3057\u307E\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ED\u30FC\u30AB\u30EB\u30B9\u30C8\u30EC\u30FC\u30B8\u306B\u4FDD\u5B58\u3055\u308C\u305F\u8A2D\u5B9A\u3092\u524A\u9664\u3057\u307E\u3059\u3002",execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30BF\u30FC\u30DF\u30CA\u30EB\u306E\u72B6\u614B\u3092\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059\u3002",children:[{type:"command",name:"display-size",description:"\u30BF\u30FC\u30DF\u30CA\u30EB\u30B5\u30A4\u30BA\u3092\u81EA\u52D5\u8ABF\u6574\u3057\u307E\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30D8\u30EB\u30D7\u30A6\u30A4\u30F3\u30C9\u30A6\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.help}]}return Object.defineProperty(e.prototype,"dataset",{get:function e(){return this._dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cmd_mode",{get:function e(){return this._cmd_mode},enumerable:!0,configurable:!0}),e.prototype.show_running_config=function(e){var t=JSON.stringify(config.config,null,"    ").replace(/\[/g,"\uFF3B");return e.echo(t),!0},e.prototype.show_startup_config=function(e){var t=localStorage,n=t.getItem("configuration"),a;return n?(a=JSON.parse(n),a=JSON.stringify(a,null,"    ")):a="startup-config is not present",e.echo(a),!0},e.prototype.show_version=function(e){return e.echo(["Mastodon Client Tooterminal, Version "+client_info.version+", RELEASE SERVICE(Beta)","Technical Support: "+client_info.website,"Copyright (c) "+client_info.modified.getFullYear()+" by "+client_info.auther,"Updated "+client_info.modified.toDateString()+" by "+client_info.acct,"","Powered by:","jQuery ("+$.fn.jquery+")","https://jquery.org","jQuery Terminal Emulator Plugin ("+$.terminal.version+")","http://terminal.jcubic.pl","autosize (4.0.2)","http://www.jacklmoore.com/autosize","twemoji(v11.0.1)","https://twitter.github.io/twemoji/","","License info:","Tooterminal, jQuery, jQuery Terminal Emulator Plugin, autosize is licensed by MIT LICENSE","https://tldrlegal.com/license/mit-license"].join("\n")),!0},e.prototype.reset_display_size=function(e){return e.resize(window.innerWidth-36,window.innerHeight-36),!0},e.prototype.show_instance_statistics=function(e){var t=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],n=0;for(var a in ins.instances){var i=ins.get(a);t.push(("| "+("undefined"==typeof i.user?"":"@"+i.user.username)).addTab("|  "+(i.application.scopes.read?"r":"-")+(i.application.scopes.write?"w":"-")+(i.application.scopes.follow?"f":"-"),8).addTab("| "+i.domain,30).addTab(a,10)),n++}return t.push("--------------------------------------------------------------------"),t.push(" \u767B\u9332\u4EF6\u6570: "+n+"\u4EF6"),t.push(""),e.echo(t.join("\n")),!0},e.prototype.show_instance_detail=function(e,t){var n=ins.name(t.paramaters.instance_name),a=ins.get();if(!a)return e.error("instance has no regist"),!1;var i=["Instance",tab("Name:",n,15),tab("Domain:",a.domain,15),"","Application",tab("Client Name:",a.application.name,17),tab("Client ID:",a.client_id,17),tab("Client Secret:",a.client_secret,17),tab("Website:",a.application.website,17),tab("Redirect URI:",a.application.uris,17),tab("Read:",a.application.scopes.read,17),tab("Write:",a.application.scopes.write,17),tab("Follow:",a.application.scopes.follow,17),"","Autheorized user",tab("Access Token:",a.access_token,20),tab("Monitor defaults:",a.monitor,20),tab("User Account:","@"+a.user.acct,20),tab("User ID:",a.user.id,20)];return more(e,i,!0),!0},e.prototype.entry_instance=function(e,t){function n(){var t=this,n=callAPI("/api/v1/accounts/verify_credentials"),i=callAPI("/api/v1/instance");$.when(n,i).then(function(n,i){var o=n[0],s=o.display_name;o.hasOwnProperty("profile_emojis")&&0<o.profile_emojis.length&&(s=parse_emojis(s,o.profile_emojis)),s=parse_twemoji(s),e.echo("<span>Hello! "+escapeHtml(s)+" @"+o.username+"</span>",{raw:!0}),a.user=o,a.info=i[0],ins.save(),e.resume();var r=a.user.username;return r+="@"+a.domain+"# ",delete a.auth_code,e.push(enterCommand,{name:"instance",prompt:r,onStart:init_instance,onExit:exit_instance,exit:!1}),t},function(n){return console.log(n),e.error("Getting user status failed.("+n.status+")"),e.resume(),t})}ins.name(t.paramaters.instance_name);var a=ins.get();if("undefined"==typeof a)ins.create(t.paramaters.instance_name),e.push(regist_instance,{prompt:"Input instance domain: ",onExit:function e(){ins.save()},keydown:function n(t,e){67===t.keyCode&&t.ctrlKey&&(e.echo(e.get_prompt()+e.get_command()),e.pop(),e.set_command(""))}});else if(a.hasOwnProperty("auth_code"))e.pause(),$.ajax({url:"https://"+a.domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",client_id:a.client_id,client_secret:a.client_secret,code:a.auth_code,redirect_uri:a.application.uris}}).then(function(e){return a.access_token=e.access_token,a.token_type=e.token_type,delete a.auth_code,ins.save(),n()},function(t){e.error("User token updating error.("+t.status+")"),delete a.auth_code,console.log(t)}).then(function(){},function(){e.push(enterCommand,{name:"instance",prompt:prompt,onStart:function t(e){term_mode=mode_instance,e.exec("login")},onExit:exit_instance,exit:!1})});else if(a.hasOwnProperty("access_token"))e.pause(),n();else{var i="@"+a.domain+"# ";e.echo("Enter 'login' and regist your access_token"),e.resume(),e.push(enterCommand,{name:"instance",prompt:i,onStart:function t(e){term_mode=mode_instance,e.exec("login")},onExit:exit_instance,exit:!1})}return!0},e.prototype.delete_instance=function(e,t){var n=ins.name(t.paramaters.instance_name),a=ins.get(),i="Instance \""+n+"\" registration will delete! Continue? [confirm]";return"undefined"==typeof a?(e.error("no instance registration."),!1):(e.push(function(){ins.delete(),e.echo("[OK]"),e.echo("Erase of instance: complete"),e.pop()},{prompt:i,keypress:function n(e,t){t.set_command(""),t.echo(i+e.key),t.echo("File system erase is not confirmed or Could not be completed"),t.pop()}}),!0)},e.prototype.configure_terminal=function(e){return e.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",onStart:function e(){term_mode=mode_configuration},onExit:function e(){term_mode=mode_global},exit:!0}),!0},e.prototype.write_memory=function(e){var t=localStorage;return e.echo("Building configuration..."),t.setItem("configuration",JSON.stringify(config.config)),e.echo("[OK]"),!0},e.prototype.write_erase=function(e){e.push(function(){var t=localStorage;t.removeItem("configuration"),e.echo("[OK]"),e.echo("Erase of nvram: complete"),e.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",keypress:function n(e,t){t.set_command(""),t.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+e.key),t.echo("File system erase is not confirmed or Could not be completed"),t.pop()}})},e.prototype.reload=function(){return location.reload(),!0},e.prototype.clear=function(e){return e.clear(),!0},e.prototype.show_clock=function(e){return e.echo(Date().toString()),!0},e.prototype.show_tech=function(e,t){var n=localStorage.getItem("configuration");n=n?JSON.parse(n):{};var a=new Date,i=localStorage.getItem("term_error");i=i?JSON.parse(i):[];var o=JSON.stringify({running_config:config.config,startup_config:n,default_config:config.default,instances:ins.instances,status:{created_at:a.getTime(),location:location.href},errors:i}),s="tech-support_"+a.getFullYear()+("0"+(a.getMonth()+1)).substr(-2)+("0"+a.getDate()).substr(-2)+("0"+a.getHours()).substr(-2)+("0"+a.getMinutes()).substr(-2)+("0"+a.getSeconds()).substr(-2)+".txt",r="";if(t.optional.encrypt){var d=[];for(o=encodeURIComponent(o);o.length;){var l=o.slice(0,30);d.push(l.cipher),o=o.slice(30)}r=d.join("\n")}else r=o;return OutputText(r,s),!0},e.prototype.help=function(e){return $("#help").slideDown("first"),e.disable(),$(document).on("keydown.help",function(e){27===e.keyCode&&$("#help_close").trigger("click")}),!0},e}(),regist_instance=function(e,t){if(e=e.trim(),!e.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/))t.error("domain couldn't unrecognize"),ins.delete();else if(0<e.length){t.pause();var n="https://"+e+"/api/v1/apps",a=location.origin+location.pathname,i=a.match(/^https?:\/\/([^\/:]+)(?::(\d+))?/),o=i&&!i[1].match(/(?:\d+\.){3}\d+$/);o||(a="urn:ietf:wg:oauth:2.0:oob");var s={client_name:config.find("application.name"),redirect_uris:a,website:config.find("application.website"),scopes:(config.find("application.scopes.read")?"read ":"")+(config.find("application.scopes.write")?"write ":"")+(config.find("application.scopes.follow")?"follow":"")};$.ajax({url:n,dataType:"json",type:"POST",data:s}).then(function(n){var a=n.redirect_uri,i=ins.name();"undefined"==typeof a&&(a=s.redirect_uris),o&&(a+="?instance_name="+i);var r=JSON.parse(JSON.stringify(config.find("instances")));r.client_id=n.client_id,r.client_secret=n.client_secret,r.domain=e,r.application=config.find("application"),r.application.uris=a;var l="@"+r.domain+"# ";t.echo("New instance registed. enter 'login' and regist your access_token"),ins.set(r),t.resume(),t.push(enterCommand,{name:"instance",prompt:l,onStart:function t(e){term_mode=mode_instance,l="@"+r.domain+"# ",r.hasOwnProperty("user")?(l=r.user.username+l,e.set_prompt(l)):e.exec("login")},onExit:function e(){term_mode=mode_global,ins.name("")},exit:!1})},function(a){var i="Failed to connect the instance \""+e+"\"";ins.delete(),t.error(i),term_error(i,{path:n,opts:data,jqxhr:a}),t.resume()})}t.pop()},ConfigurationModeElement=function(){function e(){this._cmd_mode="configuration",this._dataset=[{type:"command",name:"application",description:"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u767B\u9332\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002",children:[{type:"command",name:"name",description:"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u540D\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"string",description:"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3\u540D",execute:this.set_paramater}]},{type:"command",name:"website",description:"\u30A2\u30D7\u30EA\u30B1\u30FC\u30B7\u30E7\u30F3Web\u30DA\u30FC\u30B8\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"string",description:"URL",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30A2\u30AF\u30BB\u30B9\u6A29\u9650\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"read",description:"\u8AAD\u307F\u53D6\u308A",execute:this.set_default},{type:"command",name:"write",description:"\u66F8\u304D\u8FBC\u307F",execute:this.set_default},{type:"command",name:"follow",description:"\u30D5\u30A9\u30ED\u30FC",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30BF\u30FC\u30DF\u30CA\u30EB\u8868\u793A\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002",children:[{type:"command",name:"length",description:"\u30C8\u30A5\u30FC\u30C8\u8868\u793A\u4EF6\u6570\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"number",name:"posts",min:1,max:40,description:"\u8868\u793A\u4EF6\u6570(\u30C7\u30D5\u30A9\u30EB\u30C820)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u767B\u9332\u306E\u969B\u306E\u96DB\u5F62\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53D6\u5F97\u3059\u308B\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"home",description:"\u30DB\u30FC\u30E0\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array},{type:"command",name:"local",description:"\u30ED\u30FC\u30AB\u30EB\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array},{type:"command",name:"public",description:"\u9023\u5408\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array},{type:"command",name:"notification",description:"\u9023\u5408\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array}]},{type:"command",name:"logging",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u306B\u8868\u793A\u3059\u308B\u901A\u77E5\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524A\u9664\u3055\u308C\u305F\u30C8\u30A5\u30FC\u30C8ID\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true},{type:"command",name:"favourite",description:"\u304A\u6C17\u306B\u5165\u308A\u767B\u9332\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30D6\u30FC\u30B9\u30C8\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30EA\u30D7\u30E9\u30A4\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"following",description:"\u30D5\u30A9\u30ED\u30FC\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_default}]},{type:"command",name:"notification",optional:"desktop_notification",description:"\u30C7\u30B9\u30AF\u30C8\u30C3\u30D7\u901A\u77E5\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"favourite",description:"\u304A\u6C17\u306B\u5165\u308A\u767B\u9332\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true},{type:"command",name:"reblog",description:"\u30D6\u30FC\u30B9\u30C8\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true},{type:"command",name:"mention",description:"\u30EA\u30D7\u30E9\u30A4\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true},{type:"command",name:"following",description:"\u30D5\u30A9\u30ED\u30FC\u306E\u901A\u77E5\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true}]},{type:"command",name:"boop",description:"\u901A\u77E5\u97F3\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",execute:this.set_true},{type:"command",name:"length",description:"\u30C8\u30A5\u30FC\u30C8\u306E\u53D6\u5F97\u6570\u306B\u3064\u3044\u3066\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"number",name:"number",max:100,min:0,description:"\u53D6\u5F97\u6570(\u521D\u671F\u502420)",execute:this.set_number}]},{type:"command",name:"auto",description:"\u30ED\u30B0\u30A4\u30F3\u5F8C\u3001terminal monitor\u3092\u81EA\u52D5\u767A\u884C\u3057\u307E\u3059\u3002",execute:this.set_true}]},{type:"command",name:"status",description:"\u30C8\u30A5\u30FC\u30C8\u8868\u793A\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30A2\u30A4\u30B3\u30F3\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true,children:[{type:"command",name:"standard",description:"\u5E38\u306B\u30A2\u30A4\u30B3\u30F3\u3092\u8868\u793A\u3057\u3001\u30DE\u30A6\u30B9\u30AA\u30FC\u30D0\u30FC\u3067\u52D5\u753BGIF\u3092\u518D\u751F\u3057\u307E\u3059\u3002",execute:this.set_command},{type:"command",name:"animation",description:"\u5E38\u306B\u52D5\u753BGIF\u3092\u518D\u751F\u3057\u307E\u3059\u3002",execute:this.set_command},{type:"command",name:"mouseover",description:"\u30A2\u30A4\u30B3\u30F3\u306F\u975E\u8868\u793A\u3001\u30DE\u30A6\u30B9\u30AA\u30FC\u30D0\u30FC\u3067\u8868\u793A\u3068\u52D5\u753BGIF\u3092\u518D\u751F\u3057\u307E\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30B5\u30E0\u30CD\u30A4\u30EB\u753B\u50CF\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true},{type:"command",name:"separator",description:"\u30B9\u30C6\u30FC\u30BF\u30B9\u8868\u793A\u306B\u533A\u5207\u308A\u7DDA\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7A3F\u7BC4\u56F2\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"public",description:"\u516C\u958B",execute:this.set_command},{type:"command",name:"unlisted",description:"\u672A\u53CE\u8F09",execute:this.set_command},{type:"command",name:"private",description:"\u975E\u516C\u958B",execute:this.set_command},{type:"command",name:"direct",description:"\u30C0\u30A4\u30EC\u30AF\u30C8",execute:this.set_command}]}]},{type:"command",name:"emojis",description:"\u7D75\u6587\u5B57\u95A2\u9023\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"visible_in_picker",description:"unlisted\u30AB\u30B9\u30BF\u30E0\u7D75\u6587\u5B57\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.set_true}]},{type:"command",name:"debug",description:"\u30C7\u30D0\u30C3\u30B0\u95A2\u9023\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"development",description:"\u958B\u767A\u8005\u30E2\u30FC\u30C9\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_true}]},{type:"command",name:"no",optional:"is_no",description:"\u8A2D\u5B9A\u306E\u524A\u9664\u3092\u884C\u3044\u307E\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30BF\u30FC\u30DF\u30CA\u30EB\u8868\u793A\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002",children:[{type:"command",name:"length",description:"\u30BF\u30FC\u30DF\u30CA\u30EB\u8868\u793A\u884C\u6570\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u767B\u9332\u306E\u969B\u306E\u96DB\u5F62\u8A2D\u5B9A\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53D6\u5F97\u3059\u308B\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u8A2D\u5B9A\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"command",name:"home",description:"\u30DB\u30FC\u30E0\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array},{type:"command",name:"local",description:"\u30ED\u30FC\u30AB\u30EB\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array},{type:"command",name:"public",description:"\u9023\u5408\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array},{type:"command",name:"notification",description:"\u9023\u5408\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_array}]},{type:"command",name:"logging",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u306B\u8868\u793A\u3059\u308B\u901A\u77E5\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",execute:this.set_false,children:[{type:"command",name:"delete",description:"\u524A\u9664\u3055\u308C\u305F\u30C8\u30A5\u30FC\u30C8ID\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"favourite",description:"\u304A\u6C17\u306B\u5165\u308A\u767B\u9332\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30D6\u30FC\u30B9\u30C8\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_false},{type:"command",name:"mention",description:"\u30EA\u30D7\u30E9\u30A4\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30D5\u30A9\u30ED\u30FC\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_false}]},{type:"command",name:"notification",optional:"desktop_notification",description:"\u30C7\u30B9\u30AF\u30C8\u30C3\u30D7\u901A\u77E5\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",execute:this.set_false,children:[{type:"command",name:"favourite",description:"\u304A\u6C17\u306B\u5165\u308A\u767B\u9332\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30D6\u30FC\u30B9\u30C8\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30EA\u30D7\u30E9\u30A4\u306E\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"following",description:"\u30D5\u30A9\u30ED\u30FC\u901A\u77E5\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default}]},{type:"command",name:"boop",description:"\u901A\u77E5\u97F3\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_default}]},{type:"command",name:"broadcast-to",description:"\u6295\u7A3F\u7BC4\u56F2\u3092\u524A\u9664\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"status",description:"\u30C8\u30A5\u30FC\u30C8\u8868\u793A\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30A2\u30A4\u30B3\u30F3\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30B5\u30E0\u30CD\u30A4\u30EB\u753B\u50CF\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default},{type:"command",name:"separator",description:"\u30B9\u30C6\u30FC\u30BF\u30B9\u8868\u793A\u306B\u533A\u5207\u308A\u7DDA\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default}]}]},{type:"command",name:"emojis",description:"\u7D75\u6587\u5B57\u95A2\u9023\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"visible_in_picker",description:"unlisted\u30AB\u30B9\u30BF\u30E0\u7D75\u6587\u5B57\u3092\u975E\u8868\u793A\u306B\u3057\u307E\u3059\u3002",execute:this.set_default}]},{type:"command",name:"debug",description:"\u30C7\u30D0\u30C3\u30B0\u95A2\u9023\u306E\u8A2D\u5B9A\u3092\u3057\u307E\u3059\u3002",children:[{type:"command",name:"development",description:"\u958B\u767A\u8005\u30E2\u30FC\u30C9\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.set_default}]}]},{type:"command",name:"exit",description:"\u30B3\u30F3\u30D5\u30A3\u30AE\u30E5\u30EC\u30FC\u30B7\u30E7\u30F3\u30E2\u30FC\u30C9\u306B\u623B\u308A\u307E\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30B3\u30F3\u30D5\u30A3\u30AE\u30E5\u30EC\u30FC\u30B7\u30E7\u30F3\u30E2\u30FC\u30C9\u3092\u7D42\u4E86\u3057\u307E\u3059\u3002",execute:this.exit_configuration}]}return Object.defineProperty(e.prototype,"dataset",{get:function e(){return this._dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cmd_mode",{get:function e(){return this._cmd_mode},enumerable:!0,configurable:!0}),e.prototype.set_paramater=function(e,t){for(var n=t.line_parsed.length-1,a=[],o=0;o<t.line_parsed.length-1;o++)a.push(t.line_parsed[o].name);return config.write(a,t.paramaters.string)},e.prototype.set_default=function(e,t){"no"===t.line_parsed[0].name&&t.line_parsed.shift();for(var n=[],a=0;a<t.line_parsed.length-1;a++)n.push(t.line_parsed[a].name);return config.erase(n)},e.prototype.set_number=function(e,t){var n=parseInt(t.paramaters.number);return config.write(["instances","terminal","length"],n)},e.prototype.set_true=function(e,t){"no"===t.line_parsed[0].name&&t.line_parsed.shift();for(var n=[],a=0;a<t.line_parsed.length;a++)n.push(t.line_parsed[a].name);return!0===t.optional.desktop_notification?Notification.requestPermission(function(e){"granted"===e?config.write(n,!0):console.log("Desktop-Notification is rejected: "+e)}):config.write(n,!0),!0},e.prototype.set_false=function(e,t){"no"===t.line_parsed[0].name&&t.line_parsed.shift();for(var n=[],a=0;a<t.line_parsed.length;a++)n.push(t.line_parsed[a].name);return config.write(n,!1)},e.prototype.set_command=function(e,t){for(var n=[],a=0;a<t.line_parsed.length-1;a++)n.push(t.line_parsed[a].name);return config.write(n,t.line_parsed.pop().name)},e.prototype.set_object=function(e,t){for(var n=[],a=0;a<t.line_parsed.length;a++)n.push(t.line_parsed[a].name);return"object"===_typeof(config.find(n))||config.write(n,{})},e.prototype.set_array=function(e,t){!0===t.optional.is_no&&t.line_parsed.shift();for(var n=[],a=0;a<t.line_parsed.length-1;a++)n.push(t.line_parsed[a].name);var o=config.find(n);return"object"!==_typeof(o)&&(o=[]),o=o.filter(function(e){return e!==t.line_parsed[3].name}),!0!==t.optional.is_no&&o.unshift(t.line_parsed[3].name),config.write(n,o)},e.prototype.entry_instance=function(e,t){return ins.instances.hasOwnProperty(t.paramaters.instance_name)?(e.push(enterCommand,{name:"ins_config",prompt:"Tooterminal(config-ins)# ",onStart:function e(){term_mode=mode_config_instance,ins.name(t.paramaters.instance_name)},onExit:function e(){term_mode=mode_configuration,ins.name("")}}),!0):(e.error("No instance name."),!1)},e.prototype.set_broadcast=function(e){return e.echo("executed!"),!0},e.prototype.exit_configuration=function(e){return e.pop(),!0},e}(),ws={stream:[],startup:"local",monitor:{home:!1,local:!1,public:!1,tag:!1,notification:!1}},InstanceModeElement=function(){function e(){this._cmd_mode="global",this._user_max=9999999,this._list_max=99999,this._sh_stats_opt=[{type:"command",name:"limit",optional:"limit",description:"\u53D6\u5F97\u30C8\u30A5\u30FC\u30C8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30C8\u30A5\u30FC\u30C8\u6570(\u521D\u671F\u502420)",execute:this.show_statuses,children:[{type:"command",name:"max_id",optional:"max_id",description:"\u6307\u5B9AID\u4EE5\u524D\u306E\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A",children:[{type:"paramater",name:"status_id",description:"\u30C8\u30A5\u30FC\u30C8ID",execute:this.show_statuses}]}]}]},{type:"command",name:"max_id",optional:"max_id",description:"\u6307\u5B9AID\u4EE5\u524D\u306E\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A",children:[{type:"paramater",name:"status_id",description:"\u30C8\u30A5\u30FC\u30C8ID",execute:this.show_statuses,children:[{type:"command",name:"limit",optional:"limit",description:"\u53D6\u5F97\u30C8\u30A5\u30FC\u30C8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30C8\u30A5\u30FC\u30C8\u6570(\u521D\u671F\u502420)",execute:this.show_statuses}]}]}]}],this._acl_opts=[{type:"command",name:"color",optional:"is_color",description:"\u80CC\u666F\u8272\u3092\u8A2D\u5B9A\u3057\u307E\u3059",children:[{type:"command",name:"red",description:"\u8D64\u8272",execute:this.set_acl},{type:"command",name:"green",description:"\u7DD1\u8272",execute:this.set_acl},{type:"command",name:"blue",description:"\u9752\u8272",execute:this.set_acl},{type:"command",name:"yellow",description:"\u9EC4\u8272",execute:this.set_acl},{type:"command",name:"purple",description:"\u7D2B\u8272",execute:this.set_acl},{type:"command",name:"cyan",description:"\u6C34\u8272",execute:this.set_acl},{type:"command",name:"dark-red",description:"\u6FC3\u8D64\u8272",execute:this.set_acl},{type:"command",name:"dark-blue",description:"\u7D3A\u8272",execute:this.set_acl},{type:"command",name:"dark-green",description:"\u6DF1\u7DD1\u8272",execute:this.set_acl},{type:"command",name:"dark-yellow",description:"\u5C71\u5439\u8272",execute:this.set_acl},{type:"command",name:"dark-purple",description:"\u7D2B\u7D3A\u8272",execute:this.set_acl},{type:"command",name:"dark-cyan",description:"\u85CD\u8272",execute:this.set_acl}]},{type:"command",name:"notification",optional:"is_notify",description:"\u30C7\u30B9\u30AF\u30C8\u30C3\u30D7\u901A\u77E5\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",execute:this.set_acl},{type:"command",name:"voice",optional:"is_voice",description:"\u5408\u6210\u97F3\u58F0\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"voice_text",description:"\u6587\u5B57",execute:this.set_acl}]}],this._request_api=[{type:"paramater",name:"path",description:"API\u306E\u30D1\u30B9\u3092\u6307\u5B9A\u3057\u307E\u3059\u3002",execute:this.request_api,children:[{type:"command",name:"json",optional:"json",description:"JSON\u5F62\u5F0F\u306E\u30C7\u30FC\u30BF\u3092\u6307\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"json",description:"JSON\u5F62\u5F0F\u306E\u30C7\u30FC\u30BF\u3092\u6307\u5B9A\u3057\u307E\u3059\u3002",execute:this.request_api}]}]}],this._lists=[{type:"command",name:"delete",description:"\u30EA\u30B9\u30C8\u3092\u524A\u9664\u3057\u307E\u3059\u3002",execute:this.list_delete},{type:"command",name:"add_account",description:"\u30EA\u30B9\u30C8\u306B\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8FFD\u52A0\u3057\u307E\u3059\u3002",children:[{type:"command",name:"id",description:"\u30E6\u30FC\u30B6\u30FCID\u3092\u6307\u5B9A",children:[{type:"number",name:"user_id",max:this._user_max,min:1,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.list_account}]}]},{type:"command",name:"remove_account",description:"\u30EA\u30B9\u30C8\u304B\u3089\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"command",name:"id",description:"\u30E6\u30FC\u30B6\u30FCID\u3092\u6307\u5B9A",children:[{type:"number",name:"user_id",max:this._user_max,min:1,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.list_account}]}]}],this._dataset=[{type:"command",name:"toot",description:"\u66F8\u304D\u8FBC\u307F\u3092\u6295\u7A3F\u3057\u307E\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:"\u516C\u958B\u7BC4\u56F2\u3092 \"\u516C\u958B\" \u306B\u8A2D\u5B9A\u3057\u307E\u3059\u3002",execute:this.toot},{type:"command",name:"unlisted",description:"\u516C\u958B\u7BC4\u56F2\u3092 \"\u672A\u53CE\u8F09\" \u306B\u8A2D\u5B9A\u3057\u307E\u3059\u3002",execute:this.toot},{type:"command",name:"private",description:"\u516C\u958B\u7BC4\u56F2\u3092 \"\u975E\u516C\u958B\" \u306B\u8A2D\u5B9A\u3057\u307E\u3059\u3002",execute:this.toot}]},{type:"command",name:"show",description:"\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"access-list",description:"\u6B63\u898F\u8868\u73FE\u30D5\u30A3\u30EB\u30BF\u30FC\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_acl},{type:"command",name:"terminal",description:"\u518D\u751F\u4E2D\u306E\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_terminal},{type:"command",name:"emojis",description:"\u7D75\u6587\u5B57\u3092\u8868\u793A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"custom",description:"\u30AB\u30B9\u30BF\u30E0\u7D75\u6587\u5B57\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_emojis_custom,children:[{type:"command",name:"picker",description:"\u7D75\u6587\u5B57\u30D1\u30EC\u30C3\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_emojis_custom,children:[{type:"paramater",name:"keyword",description:"\u691C\u7D22\u30EF\u30FC\u30C9",execute:this.show_emojis_custom}]},{type:"command",name:"summary",description:"\u30AB\u30B9\u30BF\u30E0\u7D75\u6587\u5B57\u306E\u4E00\u89A7\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_emojis_custom,children:[{type:"paramater",name:"keyword",description:"\u691C\u7D22\u30EF\u30FC\u30C9",execute:this.show_emojis_custom}]},{type:"command",name:"detail",description:"\u30AB\u30B9\u30BF\u30E0\u7D75\u6587\u5B57\u306E\u8A73\u7D30\u3092\u8868\u793A\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"shortcode",description:"\u30B7\u30E7\u30FC\u30C8\u30B3\u30FC\u30C9",execute:this.show_emojis_custom_detail}]}]}]},{type:"command",name:"user",description:"\u30E6\u30FC\u30B6\u30FC\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_user,children:[{type:"command",name:"id",description:"\u30E6\u30FC\u30B6\u30FCID\u3092\u6307\u5B9A",children:[{type:"number",name:"userid",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6ID",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30E6\u30FC\u30B6\u306E\u6700\u65B0\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A",execute:this.show_statuses,children:this._sh_stats_opt.concat([{type:"command",name:"pinned",optional:"pinned",description:"\u56FA\u5B9A\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_statuses},{type:"command",name:"media",optional:"media",description:"\u30E1\u30C7\u30A3\u30A2\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_statuses}])},{type:"command",name:"following",description:"\u30D5\u30A9\u30ED\u30FC\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30D5\u30A9\u30ED\u30EF\u30FC\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_follows}]}]},{type:"command",name:"self",description:"\u30ED\u30B0\u30A4\u30F3\u30E6\u30FC\u30B6\u30FC",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30E6\u30FC\u30B6\u306E\u6700\u65B0\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A",execute:this.show_statuses,children:this._sh_stats_opt.concat([{type:"command",name:"pinned",optional:"pinned",description:"\u56FA\u5B9A\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_statuses},{type:"command",name:"media",optional:"media",description:"\u30E1\u30C7\u30A3\u30A2\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_statuses}])},{type:"command",name:"following",description:"\u30D5\u30A9\u30ED\u30FC\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30D5\u30A9\u30ED\u30EF\u30FC\u30A2\u30AB\u30A6\u30F3\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_follows}]},{type:"command",name:"name",description:"\u30E6\u30FC\u30B6\u540D\u30FB\u30A2\u30AB\u30A6\u30F3\u30C8\u540D\u304B\u3089\u691C\u7D22\u8868\u793A",children:[{type:"paramater",name:"account",description:"\u30E6\u30FC\u30B6\u540D\u30FB\u30A2\u30AB\u30A6\u30F3\u30C8\u540D",execute:this.show_user}]}]},{type:"command",name:"instance",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_instance},{type:"command",name:"application",description:"\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_application},{type:"command",name:"timeline",description:"\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u306E\u6700\u65B0\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30DB\u30FC\u30E0\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3",execute:this.show_statuses,children:this._sh_stats_opt},{type:"command",name:"local",description:"\u30ED\u30FC\u30AB\u30EB\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3",execute:this.show_statuses,children:this._sh_stats_opt},{type:"command",name:"public",description:"\u9023\u5408\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3",execute:this.show_statuses,children:this._sh_stats_opt},{type:"command",name:"tag",description:"\u30CF\u30C3\u30B7\u30E5\u30BF\u30B0",children:[{type:"paramater",name:"tag_name",description:"\u30BF\u30B0\u540D",execute:this.show_statuses,children:this._sh_stats_opt}]},{type:"command",name:"notifications",description:"\u901A\u77E5\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3",execute:this.show_notifications,children:this._sh_stats_opt.concat([{type:"command",name:"mention",optional:"exclude_types",description:"\u30EA\u30D7\u30E9\u30A4\u306E\u307F\u8868\u793A",execute:this.show_notifications},{type:"command",name:"reblog",optional:"exclude_types",description:"\u30D6\u30FC\u30B9\u30C8\u306E\u307F\u8868\u793A",execute:this.show_notifications},{type:"command",name:"favourite",optional:"exclude_types",description:"\u304A\u6C17\u306B\u5165\u308A\u306E\u307F\u8868\u793A",execute:this.show_notifications},{type:"command",name:"follow",optional:"exclude_types",description:"\u30D5\u30A9\u30ED\u30FC\u306E\u307F\u8868\u793A",execute:this.show_notifications}])},{type:"command",name:"list",description:"\u30EA\u30B9\u30C8",children:[{type:"number",name:"list_id",max:this._list_max,min:1,description:"\u30EA\u30B9\u30C8ID",execute:this.show_statuses,children:this._sh_stats_opt}]}]},{type:"command",name:"statuses",description:"\u30C8\u30A5\u30FC\u30C8\u3092\u8868\u793A\u3057\u307E\u3059\u3002",children:[{type:"command",name:"id",description:"\u30C8\u30A5\u30FC\u30C8ID\u3092\u6307\u5B9A",children:[{type:"paramater",name:"status_id",description:"\u30C8\u30A5\u30FC\u30C8ID",execute:this.show_status_id,children:[{type:"command",name:"favourited",description:"\u304A\u6C17\u306B\u5165\u308A\u30E6\u30FC\u30B6\u30FC\u4E00\u89A7",execute:this.show_follows},{type:"command",name:"reblogged",description:"\u30D6\u30FC\u30B9\u30C8\u30E6\u30FC\u30B6\u30FC\u4E00\u89A7",execute:this.show_follows}]}]}]},{type:"command",name:"lists",description:"\u30EA\u30B9\u30C8\u306E\u60C5\u5831\u3092\u8868\u793A\u3057\u307E\u3059\u3002",execute:this.show_lists,children:[{type:"number",name:"list_id",max:this._list_max,min:1,description:"\u30EA\u30B9\u30C8ID",execute:this.show_list_accounts,children:[{type:"command",name:"accounts",description:"\u30EA\u30B9\u30C8ID",execute:this.show_list_accounts}]}]}]},{type:"command",name:"search",description:"\u691C\u7D22\u3092\u884C\u3044\u307E\u3059",children:[{type:"command",name:"local",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u5185\u304B\u3089\u691C\u7D22\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"query",description:"\u691C\u7D22\u30AD\u30FC\u30EF\u30FC\u30C9",execute:this.search_query}]},{type:"command",name:"tootsearch",description:"tootsearch\u30A8\u30F3\u30B8\u30F3\u3092\u5229\u7528\u3057\u3066\u691C\u7D22\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"query",description:"\u691C\u7D22\u30AD\u30FC\u30EF\u30FC\u30C9",execute:this.search_query}]}]},{type:"command",name:"login",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u306B\u30ED\u30B0\u30A4\u30F3\u3092\u3057\u3001\u30A2\u30AF\u30BB\u30B9\u30C8\u30FC\u30AF\u30F3\u3092\u66F4\u65B0\u3057\u307E\u3059",execute:this.login},{type:"command",name:"list",description:"\u30EA\u30B9\u30C8\u306B\u95A2\u3059\u308B\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002",children:[{type:"command",name:"create",description:"\u30EA\u30B9\u30C8\u3092\u65B0\u898F\u4F5C\u6210\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"list_name",description:"\u30EA\u30B9\u30C8\u540D",execute:this.list_create}]},{type:"command",name:"id",description:"\u4F5C\u6210\u6E08\u307F\u306E\u30EA\u30B9\u30C8ID\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"number",name:"list_id",max:this._list_max,min:1,description:"\u30EA\u30B9\u30C8ID",children:this._lists}]}]},{type:"command",name:"terminal",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u306E\u8A2D\u5B9A\u3092\u884C\u3044\u307E\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"monitor",optional:"on_monitor",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u6709\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"notification",description:"\u901A\u77E5\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u3092\u30E2\u30CB\u30BF\u30FC\u3057\u307E\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"home",description:"\u30DB\u30FC\u30E0\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u3092\u30E2\u30CB\u30BF\u30FC\u3057\u307E\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ED\u30FC\u30AB\u30EB\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u3092\u30E2\u30CB\u30BF\u30FC\u3057\u307E\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30BF\u30A4\u30E0\u30E9\u30A4\u30F3\u3092\u30E2\u30CB\u30BF\u30FC\u3057\u307E\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30CF\u30C3\u30B7\u30E5\u30BF\u30B0\u3092\u30E2\u30CB\u30BF\u30FC\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30CF\u30C3\u30B7\u30E5\u30BF\u30B0\u6587\u5B57\u5217",execute:this.terminal_monitor}]},{type:"command",name:"list",description:"\u30EA\u30B9\u30C8\u3092\u30E2\u30CB\u30BF\u30FC\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"list_id",description:"\u30EA\u30B9\u30C8ID",execute:this.terminal_monitor}]}]},{type:"command",name:"no",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.terminal_monitor,optional:"no_monitor",children:[{type:"command",name:"monitor",description:"\u30B9\u30C8\u30EA\u30FC\u30DF\u30F3\u30B0\u3092\u7121\u52B9\u306B\u3057\u307E\u3059\u3002",execute:this.terminal_monitor}]}]},{type:"command",name:"request",description:"\u4ED6\u30E6\u30FC\u30B6\u30FC\u306B\u5BFE\u3057\u3066\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u9001\u4FE1\u3057\u307E\u3059\u3002",children:[{type:"command",name:"follow",description:"\u30D5\u30A9\u30ED\u30FC\u3057\u307E\u3059\u3002",children:[{type:"number",name:"user_id",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.request_relationship}]},{type:"command",name:"unfollow",description:"\u30D5\u30A9\u30ED\u30FC\u3092\u89E3\u9664\u3057\u307E\u3059\u3002",children:[{type:"number",name:"user_id",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.request_relationship}]},{type:"command",name:"mute",description:"\u30DF\u30E5\u30FC\u30C8\u3057\u307E\u3059",children:[{type:"number",name:"user_id",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.request_relationship,children:[{type:"command",name:"notification",optional:"notifications",description:"\u901A\u77E5\u3082\u30DF\u30E5\u30FC\u30C8\u3057\u307E\u3059",execute:this.request_relationship}]}]},{type:"command",name:"unmute",description:"\u30DF\u30E5\u30FC\u30C8\u3092\u89E3\u9664\u3057\u307E\u3059\u3002",children:[{type:"number",name:"user_id",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.request_relationship}]},{type:"command",name:"block",description:"\u30D6\u30ED\u30C3\u30AF\u3057\u307E\u3059\u3002",children:[{type:"number",name:"user_id",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.request_relationship}]},{type:"command",name:"unblock",description:"\u30D6\u30ED\u30C3\u30AF\u89E3\u9664\u3057\u307E\u3059\u3002",children:[{type:"number",name:"user_id",min:1,max:this._user_max,description:"\u30E6\u30FC\u30B6\u30FCID",execute:this.request_relationship}]},{type:"command",name:"remote-follow",description:"\u30EA\u30E2\u30FC\u30C8\u30D5\u30A9\u30ED\u30FC\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"acct",description:"\u30A2\u30AB\u30A6\u30F3\u30C8ID",execute:this.request_remote_follow}]},{type:"command",name:"delete",description:"\u30C8\u30A5\u30FC\u30C8\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"paramater",name:"status_id",description:"\u30C8\u30A5\u30FC\u30C8ID",execute:this.request_delete_status}]},{type:"command",name:"api",description:"\u76F4\u63A5API\u3092\u767A\u884C\u3057\u307E\u3059(\u8981\u958B\u767A\u8005\u30E2\u30FC\u30C9)",children:[{type:"command",name:"get",description:"GET\u30E1\u30BD\u30C3\u30C9\u3067\u30EA\u30AF\u30A8\u30B9\u30C8\u3057\u307E\u3059\u3002",children:this._request_api},{type:"command",name:"post",description:"POST\u30E1\u30BD\u30C3\u30C9\u3067\u30EA\u30AF\u30A8\u30B9\u30C8\u3057\u307E\u3059\u3002",children:this._request_api},{type:"command",name:"delete",description:"DELETE\u30E1\u30BD\u30C3\u30C9\u3067\u30EA\u30AF\u30A8\u30B9\u30C8\u3057\u307E\u3059\u3002",children:this._request_api}]}]},{type:"command",name:"access-list",description:"\u6B63\u898F\u8868\u73FE\u30D5\u30A3\u30EB\u30BF\u3092\u8A2D\u5B9A\u3057\u307E\u3059\u3002",children:[{type:"number",name:"acl_num",description:"ACL\u756A\u53F7",min:1,max:99,children:[{type:"command",name:"deny",description:"\u975E\u8868\u793A\u306B\u3059\u308B\u30C8\u30A5\u30FC\u30C8",children:[{type:"paramater",name:"regular_expression",description:"\u6B63\u898F\u8868\u73FE\u6587\u5B57\u5217",execute:this.set_acl}]},{type:"command",name:"permit",description:"\u5F37\u8ABF\u3059\u308B\u30C8\u30A5\u30FC\u30C8",children:[{type:"paramater",name:"regular_expression",description:"\u6B63\u898F\u8868\u73FE\u6587\u5B57\u5217",execute:this.set_acl,children:this._acl_opts}]},{type:"command",name:"add",optional:"is_add",description:"\u65E2\u5B58ACL\u306B\u901A\u77E5\u65B9\u6CD5\u3092\u8FFD\u52A0",children:this._acl_opts},{type:"command",name:"drop",description:"\u30D5\u30A3\u30EB\u30BF\u30FC\u306E\u7121\u52B9\u5316",children:[{type:"paramater",name:"regular_expression",description:"\u6B63\u898F\u8868\u73FE\u6587\u5B57\u5217",execute:this.set_acl}]}]}]},{type:"command",name:"no",description:"\u8A2D\u5B9A\u3092\u524A\u9664\u3057\u307E\u3059\u3002",children:[{type:"command",name:"access-list",description:"\u6B63\u898F\u8868\u73FE\u30D5\u30A3\u30EB\u30BF\u3092\u524A\u9664\u3057\u307E\u3059\u3002",execute:this.set_acl,children:[{type:"number",name:"acl_num",description:"\u6B63\u898F\u8868\u73FE\u6587\u5B57\u5217",min:1,max:99,execute:this.set_acl}]}]},{type:"command",name:"clear",description:"\u753B\u9762\u3092\u6D88\u53BB\u3057\u307E\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30A4\u30F3\u30B9\u30BF\u30F3\u30B9\u30E2\u30FC\u30C9\u3092\u7D42\u4E86\u3057\u307E\u3059\u3002",execute:this.exit}]}return Object.defineProperty(e.prototype,"dataset",{get:function e(){return this._dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cmd_mode",{get:function e(){return this._cmd_mode},enumerable:!0,configurable:!0}),e.prototype.login=function(e){e.pause();var t=ins.get(),n=encodeURIComponent(t.application.uris),a="https://"+t.domain+"/oauth/authorize?response_type=code&client_id="+t.client_id+"&redirect_uri="+n+"&scope="+(t.application.scopes.read?"read ":"")+(t.application.scopes.write?"write ":"")+(t.application.scopes.follow?"follow":"");return n.match(/^https?%3A%2F%2F/)?(location.href=a,e.pause(),!0):(window.open(a,"_blank"),e.push(function(e,n){0==e.trim().length&&n.pop(),n.pause(),n.prompt="",$.ajax({url:"https://"+t.domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",redirect_uri:t.application.uris,client_id:t.client_id,client_secret:t.client_secret,code:e.trim()}}).then(function(e){return t.access_token=e.access_token,t.token_type=e.token_type,ins.save(),callAPI("/api/v1/accounts/verify_credentials")},function(e){n.error("User token updating error.("+e.status+")"),console.log(e)}).then(function(e){n.echo("Hello! "+escapeHtml(e.display_name)+" @"+e.username),t.user=e,ins.save(),n.resume();var a=t.user.username;a+="@"+t.domain+"# ",delete t.auth_code,n.pop()},function(e){console.log(e),n.error("Getting user status failed.("+e.status+")"),n.resume()})},{prompt:"Input Authentication Code: "}),!0)},e.prototype.terminal_monitor=function(t,e){function n(n,e){if("tag"===n&&"string"!=typeof e)return t.error("Hashtag is undefined."),!1;var a={};if("home"===n||"notification"===n){for(var m=0;m<ws.stream.length;m++)if("user"===ws.stream[m].type)return ws.monitor[n]=!0,!0;a.type="user"}else if("tag"===n){for(var i=0;i<ws.stream.length;i++)if("tag"===ws.stream[i].type&&ws.stream[i].name===e)return ws.monitor.tag=!0,!0;a.type="tag",a.name=e}else{for(var u=0;u<ws.stream.length;u++)if(ws.stream[u].type===n)return ws.monitor[n]=!0,!0;a.type=n}var o=ins.get(),s="wss://"+o.domain+"/api/v1/streaming?access_token="+o.access_token;if("home"===n||"notification"===n)s+="&stream=user";else if("local"===n)s+="&stream=public:local";else if("public"===n)s+="&stream=public";else if("tag"===n)s+="&stream=hashtag&tag="+e;else return t.error("Monitor stream type error."),!1;var r="home"===n||"notification"===n?"<i class=\"fa fa-home\" aria-hidden=\"true\"></i> USER":"local"===n?"<i class=\"fa fa-users\" aria-hidden=\"true\"></i> LOCAL":"public"===n?"<i class=\"fa fa-globe\" aria-hidden=\"true\"></i> GLOBAL":"tag"===n?"<i class=\"fa fa-tag\" aria-hidden=\"true\"></i> HASHTAG: "+e:"???";ws.monitor[n]=!0;var l=config_notify(),d=!1;for(var h in l)d=d||h;var c="home"===n||"notification"===n?function(a){var e=JSON.parse(a.data),i;if("delete"===e.event)i=e.payload,$("[name=id_"+i+"]").addClass("status_deleted"),l.delete&&t.error("deleted ID:"+i);else if("notification"===e.event&&!0===ws.monitor.notification){i=JSON.parse(e.payload);var s=make_notification(i,l);t.echo(s.html,{raw:!0});var n=config.find(["instances","terminal","notification"]);if("undefined"==typeof n&&(n={}),beep_buf&&!0===config.find(["instances","terminal","boop"])){var p=context.createBufferSource();p.buffer=beep_buf,p.connect(context.destination),p.start(0)}var o,d;if("favourite"===i.type&&n.favourite&&s.html?(o="\u304A\u6C17\u306B\u5165\u308A\uFF1A ",d=i.status.content):"reblog"===i.type&&n.reblog&&s.html?(o="\u30D6\u30FC\u30B9\u30C8\uFF1A ",d=i.status.content):"mention"===i.type&&n.mention&&s.html?(o="\u30EA\u30D7\u30E9\u30A4\uFF1A ",d=i.status.content):"follow"===i.type&&n.following&&s.html&&(o="\u30D5\u30A9\u30ED\u30FC\uFF1A "),"string"==typeof d&&(d=$(d).text(),100<d.length&&(d=d.slice(0,100))),"undefined"!=typeof o){o+=i.account.display_name+" @"+i.account.acct;var m=new Notification(o,{body:d,icon:i.account.avatar_static,data:i});m.onclick=function(t){t.srcElement.close()}}}else if("update"===e.event&&!0===ws.monitor.home){i=JSON.parse(e.payload);var u=makeStatus(i,{tl_name:r});if(u.visibility){if(t.echo(u.html,{raw:!0}),u.notification.voice){var c=new SpeechSynthesisUtterance(u.notification.voice);c.rate=1.3,c.lang="ja-JP",speechSynthesis.speak(c)}if(u.notification.desktop){var h=new Notification(u.notification.desktop.title,{body:u.notification.desktop.body,icon:u.notification.desktop.icon,data:u.payload});h.onclick=function(t){t.srcElement.close()}}}}reduce_output()}:function(a){var e=JSON.parse(a.data),i;if("delete"===e.event)i=e.payload,$("[name=id_"+i+"]").addClass("status_deleted"),l.delete&&t.error("deleted ID:"+i);else if("update"===e.event){i=JSON.parse(e.payload);var s=makeStatus(i,{tl_name:r});if(s.visibility){if(t.echo(s.html,{raw:!0}),s.notification.voice){var o=new SpeechSynthesisUtterance(s.notification.voice);o.rate=1.3,o.lang="ja-JP",speechSynthesis.speak(o)}if(s.notification.desktop){var d=new Notification(s.notification.desktop.title,{body:s.notification.desktop.body,icon:s.notification.desktop.icon,data:s.payload});d.onclick=function(t){t.srcElement.close()}}}}reduce_output()},p=new WebSocket(s);p.onmessage=c,p.onopen=function(){t.echo(n+" Streaming start.")},p.onerror=function(a){t.error(n+" Streaming error. closed."),term_error("streaming error",a),console.log(a)},p.onclose=function(){t.echo(n+" Streaming closed.")},a.ws=p,ws.stream.push(a)}if(!0===e.optional.on_monitor){var a=ins.get(),o=[],s=ws.startup,r;if("undefined"==typeof e.line_parsed[2]){var h=config.find("instances.terminal.monitor");"string"==typeof h&&(h=h?h.match(/(home|local|public|notification)/g):void 0),"undefined"==typeof h&&(h=[]);for(var g=0;g<h.length;g++)ws.monitor[h[g]]=!0;for(var i in ws.monitor)ws.monitor[i]&&o.push({type:i});!url_params.terminal&&0<h.length&&(s=h[0])}else"tag"===e.line_parsed[2].name?(o.push({type:e.line_parsed[2].name,hashtag:e.paramaters.hashtag}),s=e.line_parsed[2].name,r=e.paramaters.hashtag):(o.push({type:e.line_parsed[2].name}),s=e.line_parsed[2].name);var l=config_notify(),d=!1;for(var m in l)d=d||m;for(var f=0;f<o.length;f++)n(o[f].type,o[f].hashtag);if(s){var c=s,p="/api/v1/timelines/"+("local"===c?"public":c),u=config.find(["instances","terminal","length"]);u=0<u?u:20,params={limit:u},"local"===c?params.local=!0:"tag"===c?p+="/"+r:"notification"===c&&(p="/api/v1/notifications"),t.pause(),callAPI(p,{data:params}).then(function(n){for(var a=config_notify(),i=n.length-1;0<=i;i--)if(!e.optional.pinned||n[i].pinned)if("notification"===c){var o=make_notification(n[i],a);t.echo(o.html,{raw:!0,flush:!1})}else{var s=makeStatus(n[i]);t.echo(s.html,{raw:!0,flush:!1})}t.resume(),t.flush()})}}else if(!0===e.optional.no_monitor){for(var y=0;y<ws.stream.length;y++)ws.stream[y].ws.close(),ws.stream[y]=void 0;for(var _ in ws.monitor)ws.monitor[_]=!1;ws.stream=[]}},e.prototype.toot=function(e,t){var n;n="undefined"==typeof t.line_parsed[1]?config.find("instances.visibility"):t.line_parsed[1].name,"undefined"==typeof n&&(n="public"),$("#toot_visibility").val(n),$("#toot").slideDown("first"),$("#toot_box").focus(),e.focus(!1)},e.prototype.monitor=function(e,t){ins.get().monitor="tag"===t.line_parsed[1].name?t.paramaters.hashtag:t.line_parsed[1].name,ins.save()},e.prototype.show_user=function(e,t){function n(t){var n=ins.get().user,a,i;a=callAPI("/api/v1/accounts/"+t,{type:"GET"}),i=callAPI("/api/v1/accounts/relationships?id[]="+t,{type:"GET"}),api_pinned=callAPI("/api/v1/accounts/"+t+"/statuses",{data:{pinned:!0}}),$.when(a,i,api_pinned).then(function(t,a,o){var r=t[0],l=t[2],d=a[0],c=a[2],p=o[0],m=o[2],u=new Date(r.created_at),h=parseInt((Date.now()-u.getTime())/6e4),g=h%60,f=(h=(h-g)/60)%24,y=(h=(h-f)/24)%7,_=(h-y)/7,x="<span>Relationship ",b=parse_twemoji(r.display_name),v=parse_twemoji(r.note);if(x+=d[0].id===n.id?"self.</span>":(d[0].following&&d[0].followed_by?"friendly":d[0].following?"following":d[0].followed_by?"followed":"others")+".<br /><a name=\"cmd_link\" data-uid=\""+r.id+"\" data-type=\"request\" data-req=\""+(d[0].following?"unfollow\">":"follow\">No ")+"following</a>, "+(d[0].followed_by?"":"No ")+"followed, "+(d[0].requested?"":"No ")+"requesting, <a name=\"cmd_link\" data-uid=\""+r.id+"\" data-type=\"request\" data-req=\""+(d[0].muting?"unmute\">":"mute\">No ")+"muting</a>, <a name=\"cmd_link\" data-uid=\""+r.id+"\" data-type=\"request\" data-req=\""+(d[0].blocking?"unblock\">":"block\">No ")+"blocking</a></span>",e.echo("<span>"+escapeHtml(b)+" ID:"+r.id+(r.locked?" is locked":" is unlocked")+"</span>",{raw:!0,flush:!1}),e.echo("Username is "+r.username+", Fullname is "+r.acct,{flush:!1}),e.echo("Created at "+u.toString(),{flush:!1}),e.echo("Uptime is "+_+" weeks, "+y+" days, "+f+" hours, "+g+" minutes ("+h+" days have passed)",{flush:!1}),e.echo("<span>"+$("<a />").attr("name","cmd_link").attr("data-uid",r.id).attr("data-type","show_statuses").text(r.statuses_count+" statuses posted").prop("outerHTML")+", "+$("<a />").attr("name","cmd_link").attr("data-uid",r.id).attr("data-type","show_following").text(r.following_count+" accounts are following").prop("outerHTML")+", "+$("<a />").attr("name","cmd_link").attr("data-uid",r.id).attr("data-type","show_followed").text(r.followers_count+" accounts are followed").prop("outerHTML")+"</span>",{raw:!0,flush:!1}),e.echo("1 day toot rate "+parseInt(r.statuses_count/h)+" posts/day",{flush:!1}),e.echo(x,{raw:!0,flush:!1}),e.echo("<span>Note:"+v+"</span>",{raw:!0,flush:!1}),e.echo("URL: "+r.url,{raw:!1,flush:!1}),0<p.length&&p[0].pinned){e.echo("<br />",{raw:!0,flush:!1}),e.echo("[[ub;;]Pinned statuses]",{flush:!1});for(var w=0;w<p.length;w++)if(2<w){var i=$("<a />").attr("name","cmd_link").attr("data-uid",p[w].account.id).attr("data-type","show_statuses_pinned").text("... and more pinned status");e.echo(i.prop("outerHTML"),{raw:!0,flush:!1});break}else{var k=makeStatus(p[w]);e.echo(k.html,{raw:!0,flush:!1})}}e.echo("[OK]",{flush:!1}),e.flush(),e.resume()},function(t){console.log(t);JSON.parse(t.responseText);e.echo("Getting user data failed.("+t+")"),e.resume()})}e.pause();"undefined"==typeof t.line_parsed[2]||"self"===t.line_parsed[2].name?n(ins.get().user.id):"name"===t.line_parsed[2].name?callAPI("/api/v1/search",{type:"GET",data:{q:t.paramaters.account,limit:1}}).then(function(t){0<t.accounts.length?n(t.accounts[0].id):(e.echo("No Accounts."),e.resume())}):n(t.paramaters.userid)},e.prototype.search_query=function(e,t){if(e.pause(),"local"===t.line_parsed[1].name)callAPI("/api/v1/search",{type:"GET",data:{q:t.paramaters.query}}).then(function(t){for(var n=15,a=0;a<t.accounts.length;a++)n<t.accounts[a].acct.length&&(n=t.accounts[a].acct.length);if(n+=7,0<t.statuses.length){e.echo("[[b;;]Statuses:]",{flush:!1});for(var l=0,d;l<t.statuses.length;l++)d=makeStatus(t.statuses[l]),e.echo(d.html,{raw:!0,flush:!1});e.flush()}else{var s;for(s="---------------";s.length<n;s+="-");s+="----------------------------";for(var o=["[[bu;;]Accounts:]","| display name".addTab("| account name",n).addTab("id",9),s],r=0;r<t.accounts.length;r++)o.push(("| "+t.accounts[r].display_name).addTab("| @"+t.accounts[r].acct,n).addTab(t.accounts[r].id,9));o.push("----------------------------------------------------------"),o.push("  \u8A72\u5F53\u4EF6\u6570\uFF1A"+t.accounts.length+"\u4EF6"),o.push(""),o.push("[[bu;;]Hash tags:]"),o.push("-----------------------------------");for(var c=0;c<t.hashtags.length;c++)o.push("#"+t.hashtags[c]);o.push("-----------------------------------"),o.push("  \u8A72\u5F53\u4EF6\u6570\uFF1A"+t.hashtags.length+"\u4EF6"),e.echo(o.join("\n"))}e.resume()},function(t){e.error("Search request is failed.("+t.status+")"),console.log(t),e.resume()});else{var n=function(t){if(0<t){t=o.length<t?o.length:t;for(var n=0,a;n<t;n++)a=o.shift(),e.echo(a,{raw:!0,flush:!1});e.flush()}},a=0,o=[],i=parseInt(e.rows()/5),s;if("https://wd-shiroma.github.io"!==window.location.origin)return e.error("Sorry! tootsearch permit only acceess from \"https://wd-shiroma.github.io\""),e.resume(),!1;if("tootsearch"===t.line_parsed[1].name)s="https://tootsearch.chotto.moe/api/v1/search?sort=created_at%3Adesc&q="+encodeURIComponent(t.paramaters.query);else return e.error("Invalid search source."),e.resume(),!1;e.echo("[[b;;]Searching powered by tootsearch:]",{flush:!1}),e.push(function(){},{name:"more",prompt:"--More-- ",onStart:function t(e){e.pause(),$.ajax({url:s+"&from="+a,dataType:"json",timeout:15e3}).then(function(t){var r=t.hits.hits,l=[];if(0<r.length){for(var d=0;d<r.length;d++)if("toot"===r[d]._type&&(r[d]._source.id=0,0>l.indexOf(r[d]._source.uri))){var i=makeStatus(r[d]._source);o.push(i.html),l.push(r[d]._source.uri)}n(i),a=r.length,t.hits.total<=r.length&&e.pop()}else e.echo("no hits."),e.pop();e.resume()},function(t){e.error("Search request is failed.("+t.status+")"),console.log(t),e.pop(),e.resume()})},keydown:function r(e,t){switch(e.keyCode){case 27:case 81:t.pop(),t.set_command("");case 16:case 17:case 18:break;case 13:default:t.pause();var l=13===e.keyCode?1:i;0<o.length?(n(l),t.resume(),0===o.length&&a>=data.hits.total&&t.pop()):$.ajax({url:s+"&from="+a,dataType:"json",timeout:15e3}).then(function(e){var r=[],d=e.hits.hits;if(0===d.length)return void t.pop();o=[];for(var c=0;c<d.length;c++)if(d[c]._source.id=0,0>r.indexOf(d[c]._source.uri)){var i=makeStatus(d[c]._source);i.html.length&&(o.push(i.html),r.push(d[c]._source.uri))}n(l),t.resume(),a+=d.length,0===o.length&&a>=e.hits.total&&t.pop()},function(e){console.log(e),t.error("Getting data is failed.("+e.status+")")}),setTimeout(function(){t.set_command("")},10);}return!0}})}},e.prototype.show_instance=function(e){e.pause(),callAPI("/api/v1/instance",{type:"GET"}).then(function(t){e.echo("======== API Information ========",{flush:!1}),e.echo("Instance name: "+t.title,{flush:!1}),e.echo("Version: "+t.version,{flush:!1}),e.echo("Description: "+t.description,{flush:!1}),e.echo("E-mail: "+t.email,{flush:!1}),e.echo("URI: "+t.uri,{flush:!1}),t.hasOwnProperty("stats")&&(e.echo("Connection instances: "+t.stats.domain_count,{flush:!1}),e.echo("Posted toots: "+t.stats.status_count,{flush:!1}),e.echo("Registed users: "+t.stats.user_count,{flush:!1})),e.echo("Streaming uri: "+t.urls.streaming_api,{flush:!1}),e.echo("[OK]",{flush:!1}),e.flush(),e.resume()},function(t){e.error("Getting instance data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.show_application=function(e){e.pause(),callAPI("/api/v1/apps/verify_credentials",{type:"GET"}).then(function(t){var n=JSON.stringify(t,null,"    ");e.echo(n),e.resume()},function(t){console.log(t),e.resume()})},e.prototype.exit=function(e){e.pop()},e.prototype.show_statuses=function(e,t){e.pause();var n=t.optional.limit&&0<t.paramaters.post_limits?t.paramaters.post_limits:config.find(["instances","terminal","length"]),a,i;if(n=0<n?n:20,"timeline"===t.line_parsed[1].name){var o="undefined"==typeof t.line_parsed[2]?"local":t.line_parsed[2].name;a="/api/v1/timelines/"+("local"===o?"public":o),i={limit:n},"local"===o?i.local=!0:"tag"===o?a+="/"+t.paramaters.tag_name:"list"===o&&(a+="/"+t.paramaters.list_id)}else if("user"===t.line_parsed[1].name){var s=2===t.line_parsed.length||"self"===t.line_parsed[2].name?ins.get().user.id:"id"===t.line_parsed[2].name?t.paramaters.userid:-1;if(0<s)i={limit:n},!0===t.optional.pinned&&(i.pinned=!0),!0===t.optional.media&&(i.only_media=!0),a="/api/v1/accounts/"+s+"/statuses";else return void e.error("no login.")}return(t.optional.max_id&&(i.max_id=t.paramaters.status_id),"undefined"==typeof a)?void e.error("show status error."):void callMore(a,function(e){if(!0===t.optional.pinned&&!0!==e.pinned)return!1;var n=makeStatus(e);return n.visibility?n.html:""},{params:i,term:e,limit:n,footer:"[OK]"})},e.prototype.show_status_id=function(e,t){e.pause();var n=t.paramaters.status_id;$.when(callAPI("/api/v1/statuses/"+n,{type:"GET"}),callAPI("/api/v1/statuses/"+n+"/context",{type:"GET"}),callAPI("/api/v1/statuses/"+n+"/card",{type:"GET"})).then(function(t,n,a){for(var o=t[0],r=n[0],l=a[0],d=0,c;d<r.ancestors.length;d++)c=makeStatus(r.ancestors[d]),e.echo(c.html,{raw:!0,flush:!1});if(c=makeStatus(o),e.echo(c.html,{raw:!0,flush:!1}),l.hasOwnProperty("url")){var h=$("<a />").attr("href",l.url).attr("target","_blank").addClass("status_card").append($("<div />").append($("<span />").text("[ "+l.title+" ]")).append($("<br />")).append($("<span />").text(l.description)));!0===config.find(["instances","status","avater"])&&h.append($("<img />").attr("src",l.image));var g=new Image;g.onload=function(){$("[name=card_"+o.id+"] img").attr("src",l.image)},g.onerror=function(t){console.log(t)},g.src=l.image,e.echo(h.prop("outerHTML"),{raw:!0,flush:!1}),e.echo("<br />",{raw:!0,flush:!1})}var p=0<o.favourites_count?$("<a />").attr("name","cmd_link").attr("data-type","show_faved").attr("data-sid",o.id):$("<span />");p.text(o.favourites_count+" account favourited,");var m=0<o.reblogs_count?$("<a />").attr("name","cmd_link").attr("data-type","show_rebbed").attr("data-sid",o.id):$("<span />");m.text(o.reblogs_count+" account reblogged.");var u=$("<a />").attr("name","cmd_link").attr("data-type","show_att").attr("data-sid",o.id).text("> check the LTL of the time.");if(e.echo(p.prop("outerHTML")+" "+m.prop("outerHTML"),{raw:!0,flush:!1}),e.echo(u.prop("outerHTML"),{raw:!0,flush:!1}),e.echo("URL: "+o.url,{flush:!1}),o.account.id===ins.get().user.id){var f=$("<a />").attr("name","cmd_link").attr("data-type","del_status").attr("data-sid",o.id).text("> delete this status.");e.echo("<br />"+f.prop("outerHTML"),{raw:!0,flush:!1})}config.find("instances.status.separator")&&e.echo(Array($.terminal.active().cols()-5).join("-"),{flush:!1});for(var y=0;y<r.descendants.length;y++)c=makeStatus(r.descendants[y]),e.echo(c.html,{raw:!0,flush:!1});e.flush(),e.resume()},function(t){e.error("Getting statuses is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.show_follows=function(e,t){e.pause();var n,a,i;if("user"===t.line_parsed[1].name)2===t.line_parsed.length||"self"===t.line_parsed[2].name?(a=ins.get().user.id,i=t.line_parsed[3].name):(a=t.paramaters.userid,i=t.line_parsed[4].name),n="/api/v1/accounts/"+a+"/"+i;else if("statuses"===t.line_parsed[1].name)a=t.paramaters.status_id,n="/api/v1/statuses/"+a+("favourited"===t.line_parsed[4].name?"/favourited_by":"reblogged"===t.line_parsed[4].name?"/reblogged_by":"");else return e.error("Invalid Command"),!0;return callMore(n,function(e){var t=e.display_name;return 20<t.length&&(t=t.substr(0,20)+"..."),t=("| "+t+" @"+e.acct).addTab(e.id,9),t},{limit:40,header:"Accounts:\n"+"| account name".addTab("id",9)+"\n"+Array(35).join("-"),term:e,raw:!1,next:function i(e,t){var n=t.getResponseHeader("link"),a=n.match(/max_id=(\d+)/);return null===a?0:parseInt(a[1])}}),!0},e.prototype.show_notifications=function(e,t){e.pause();var n={},a=config_notify(),i=20;return t.paramaters.post_limits&&(i=t.paramaters.post_limits),t.optional.exclude_types&&(n.exclude_types=["follow","reblog","mention","favourite"].filter(function(n){return t.line_parsed[3].name!==n})),n.limit=i,callMore("/api/v1/notifications",function(e){var t=make_notification(e,a);return t.html},{limit:i,term:e,params:n}),!0},e.prototype.show_acl=function(e){var t=ins.acls[ins.name()];if(t){for(var n in t)e.echo("Standard Status access list "+n),e.echo("    "+t[n].type+" regexp "+t[n].regexp.toString()+("permit"===t[n].type&&t[n].hasOwnProperty("color")?", color "+t[n].color:"")+("permit"===t[n].type&&t[n].notify?", notification":"")+("permit"===t[n].type&&t[n].hasOwnProperty("voice")?", voice \""+t[n].voice+"\"":""));return!0}},e.prototype.set_acl=function(e,t){function n(e){t.optional.is_color?e.color=t.line_parsed[5].name:t.optional.is_notify?(e.notify=!0,Notification.requestPermission()):t.optional.is_voice?e.voice=t.paramaters.voice_text:e.color="dark-blue"}var a=ins.get();if(a.hasOwnProperty("acl")||(a.acl={}),"no"===t.line_parsed[0].name)t.paramaters.hasOwnProperty("acl_num")?delete a.acl[t.paramaters.acl_num]:(delete a.acl,a.acl={});else if(t.optional.is_add){if(!a.acl[t.paramaters.acl_num])return e.error("access-list has no rule."),!1;"permit"!==a.acl[t.paramaters.acl_num].type&&e.error("add option apply to permit lists.");var i=a.acl[t.paramaters.acl_num];n(i)}else{a.acl[t.paramaters.acl_num]={};var o=a.acl[t.paramaters.acl_num];o.type=t.line_parsed[2].name,o.regexp=t.paramaters.regular_expression,"permit"===o.type&&n(o)}return ins.parse_acl(),ins.save(),!0},e.prototype.show_terminal=function(e){e.echo("Monitoring streams"),e.echo(tab("Home:",ws.monitor.home?"ON":"OFF",15)),e.echo(tab("Notification:",ws.monitor.notification?"ON":"OFF",15)),e.echo(tab("Local:",ws.monitor.local?"ON":"OFF",15)),e.echo(tab("Public:",ws.monitor.public?"ON":"OFF",15)),e.echo(tab("Tags:",ws.monitor.tag?"ON":"OFF",15)),e.echo("\n",{raw:!0}),e.echo("WebSocket objects");for(var a=0;a<ws.stream.length;a++){var t=ws.stream[a],n="Line "+(a+1).toString()+", type "+t.type;"tag"===t.type&&(n+=" \""+t.name+"\""),e.echo("\n",{raw:!0}),e.echo(n),e.echo("Connecting url, "+t.ws.url),e.echo("Ready Stete, "+(t.ws.readyState===WebSocket.CONNECTING?"CONNECTING":t.ws.readyState===WebSocket.OPEN?"OPEN":t.ws.readyState===WebSocket.CLOSING?"CLOSING":t.ws.readyState===WebSocket.CLOSED?"CLOSED":"UNKNOWN("+t.ws.readyState+")")),e.echo("Protocol type, "+t.ws.protocol),e.echo("Binary type, "+t.ws.binaryType),e.echo("Extensions, "+t.ws.extensions)}},e.prototype.request_relationship=function(e,t){if(t.paramaters.user_id===ins.get().user.id)return e.error("Request ID is yourself."),!1;var n;"mute"===t.line_parsed[1].name.slice(-4)&&(n={notifications:!!t.optional.hasOwnProperty("notifications")&&t.optional.notifications}),e.pause();var a="/api/v1/accounts/"+t.paramaters.user_id+"/"+t.line_parsed[1].name;callAPI(a,{type:"POST",data:n}).then(function(t){e.echo("Request was accepted.\n"+tab("Following",t.following?"Yes":"No",14)+"\n"+tab("Followed",t.followed_by?"Yes":"No",14)+"\n"+tab("Requested",t.requested?"Yes":"No",14)+"\n"+tab("Mute",t.muting?"Yes":"No",14)+"\n"+tab("Block",t.blocking?"Yes":"No",14)),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.request_remote_follow=function(e,t){var n=t.paramaters.acct;if(!n.match(/^((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))$/))return e.error("Invalid Account ID. (username@domain)"),!1;e.pause();callAPI("/api/v1/follows?uri="+n,{type:"POST"}).then(function(t){console.log(t);e.echo("Request was accepted.\nFollowing "+t.acct),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.show_status_actions=function(e){e.pause(),callMore(path,function(){}),callAPI(path,{type:"GET"}).then(function(t){for(var n=0;n<t.length;n++)callMore();e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.request_delete_status=function(e,t){var n=t.paramaters.status_id;e.push(function(){e.echo("Canceled."),e.pop()},{prompt:"ID "+n+" status will delete! Continue? Y/[N]: ",keypress:function a(e,t){t.echo(t.get_prompt()+e.key),89===e.keyCode||121===e.keyCode?(t.pause(),t.echo("[OK]"),callAPI("/api/v1/statuses/"+n,{type:"DELETE"}).then(function(){t.echo("Erase of status: complete"),t.resume()},function(e){t.error("Deleteing status is failed("+e.status+")"),console.log(e),t.resume()})):t.echo("Canceled."),t.pop()},onExit:function t(e){setTimeout(function(){e.set_command("")},10)}})},e.prototype.show_emojis_custom=function(e,t){var n=ins.get(),a=ins.ck_version("2.0.0"),o="undefined"==typeof t.line_parsed[3]?"picker":t.line_parsed[3].name,s=t.paramaters.hasOwnProperty("keyword")?new RegExp(t.paramaters.keyword):null;return!0===t.optional.custom&&("mastodon"!==a.type||0>a.compared)?(e.error("This instance version has no support for Custom Emojis.(< Mastodon 2.0.0)"),!1):void(e.pause(),callAPI("/api/v1/custom_emojis",{type:"GET"}).then(function(t){t=t.sort(function(e,t){return e.shortcode>t.shortcode?1:-1});for(var n=[],a=0,r;a<t.length;a++){if(!0!==config.find(["emojis","visible_in_picker"])&&!1===t[a].visible_in_picker)continue;else if(s&&!t[a].shortcode.match(s))continue;r=":"+t[a].shortcode+":",n.push($("<div />").addClass("emoji_"+o).attr("data-tag",r).append($("<img />").attr("alt",r).attr("title",r).attr("src",t[a].url)).append($("<span />").text(t[a].shortcode)).prop("outerHTML"))}"summary"===o?more(e,n,{echo_opt:{raw:!0}}):(e.echo("<span>"+n.join("")+"</span>",{raw:!0}),e.resume())},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()}))},e.prototype.show_emojis_custom_detail=function(t,e){var n=ins.get(),a=ins.ck_version("2.0.0"),i=e.paramaters.shortcode;return!0===e.optional.custom&&("mastodon"!==a.type||0>a.compared)?(t.error("This instance version has no support for Custom Emojis.(< Mastodon 2.0.0)"),!1):void(t.pause(),callAPI("/api/v1/custom_emojis",{type:"GET"}).then(function(e){e=e.sort(function(e,t){return e.shortcode>t.shortcode?1:-1});var n=e.find(function(t){return t.shortcode===i});if("undefined"==typeof n)return t.error("No emoji's shortcode."),void t.resume();var a=new Image;a.onload=function(a){t.echo($(a.path[0]).css("max-height","4em").prop("outerHTML"),{raw:!0,flush:!1}),t.echo("shortcode is "+n.shortcode,{flush:!1}),t.echo("size is width: "+a.path[0].width+", height: "+a.path[0].height,{flush:!1}),t.echo("static image url: "+n.static_url,{flush:!1}),t.echo("image url: "+n.url,{flush:!1}),t.echo("[OK]"),t.flush(),t.resume()},a.onerror=function(n){t.error("Custom emoji couldn't get."),t.resume(),console.log(n)},a.src=n.url},function(e){t.error("Getting data is failed.("+e.status+")"),console.log(e),t.resume()}))},e.prototype.request_api=function(e,t){if(!0!==config.find(["debug","development"]))return e.error("you are no development mode..."),!1;e.pause();var n=t.paramaters.path,a=t.line_parsed[2].name,i=t.optional.json?t.paramaters.json:"";callAPI(n,{type:a,data:i}).then(function(t,n,a){var i=JSON.stringify(t,null,"    ");e.echo("request ok! ("+a.status+")"),e.echo(i),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.show_lists=function(e){e.pause(),callAPI("/api/v1/lists",{type:"GET"}).then(function(t){if(0===t.length)return e.echo("no lists..."),void e.resume();for(var n=["id    | title","----------------------------------"],a=0;a<t.length;a++)n.push(("| "+t[a].title).addTab(t[a].id,6));more(e,n)},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.show_list_accounts=function(e,t){e.pause();var n="/api/v1/lists/"+t.paramaters.list_id+"/accounts";callMore(n,function(e){return("| "+e.acct).addTab("| "+e.display_name,30).addTab(e.id,7)},{raw:!1,header:"id     | display_name"+Array(17).join(" ")+"| acct\n"+Array(48).join("-")})},e.prototype.list_create=function(e,t){e.pause(),callAPI("/api/v1/lists",{type:"POST",data:{title:t.paramaters.list_name}}).then(function(t){e.echo("Created new list '"+t.title+"'\nList ID is: "+t.id),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.list_delete=function(e,t){e.pause();var n=t.paramaters.list_id;callAPI("/api/v1/lists/"+n,{type:"DELETE"}).then(function(){e.echo("Deleted list ID is: "+n),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.list_account=function(e,t){e.pause();var n="remove_account"===t.line_parsed[3].name?"DELETE":"POST";callAPI("/api/v1/lists/"+t.paramaters.list_id+"/accounts",{type:n,data:{account_ids:[t.paramaters.user_id]}}).then(function(){var a=("DELETE"==n?"Removed":"Appended")+" account, ID is: "+t.paramaters.user_id;e.echo(a),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.template=function(e){e.pause(),callAPI("/api/v1/instance",{type:"GET"}).then(function(t){var n=JSON.stringify(t,null,"    ");e.echo(n),e.resume()},function(t){e.error("Getting data is failed.("+t.status+")"),console.log(t),e.resume()})},e.prototype.clear=function(e){return e.clear(),!0},e}(),defconf={application:{name:"Tooterminal",website:"https://blog.drdr.work/",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{terminal:{logging:{favourite:!0,reblog:!0,mention:!0,following:!0},monitor:["local","notification"]},status:{}}},context=new AudioContext,client_info={modified:new Date("2018-09-14"),version:"2.0.0",auther:"Guskma",acct:"guskma@abyss.fun",website:"https://wd-shiroma.github.io/"},enterCommand=function(e,t){if(e=e.trim(),t.resize(window.innerWidth-36,window.innerHeight-36),reduce_output(),0!==e.length){var n=term_mode.execute(e,t);!0!==n&&t.error(term_mode.result.message)}},completion=function(e,t){var n=term_mode.getCompletion(e);1===n.length?$.terminal.active().set_command(term_mode.completion):t(n.sort().filter(function(e){return e?e:"<cr>"}))},initConfig=function(e){var t=localStorage,n=t.getItem("configuration"),a=new XMLHttpRequest;if(a.responseType="arraybuffer",a.onreadystatechange=function(){4===a.readyState&&(0===a.status||200===a.status)&&(a.response?context.decodeAudioData(a.response,function(e){beep_buf=e}):($.terminal.active().error("Error: \u30DD\u30B3\u30DD\u30B3\u3067\u304D\u307E\u305B\u3093"),console.log("error"),beep_buf=void 0))},a.open("GET","./sounds/boop.ogg",!0),a.send(""),config=new ConfigManager(defconf,n?JSON.parse(n):{}),url_params={},!!location.search.match(/^\?.+=.+/)){for(var o=location.search.replace(/^\?/,"").split(/[=&]/),s=0;s<o.length;s+=2)url_params[o[s]]=o[s+1];url_params.hasOwnProperty("code")&&ins.name(url_params.instance_name)?(ins.get().auth_code=url_params.code,e.exec("instance "+ins.name()),history.replaceState("","",location.pathname)):url_params.hasOwnProperty("instance")&&ins.name(url_params.instance)&&e.exec("instance "+ins.name())}},filterKey=function(e,t){if(63===e.charCode){var n=term_mode.information(t.get_command()),a=n.map(function(e){return"undefined"==typeof e.command?e:"  "+tab(e.command,e.description,22)});a.unshift(t.get_prompt()+t.get_command()+"?"),a.push(""),more(t,a,{reverse:!0});var i=t.get_command();t.set_command(""),setTimeout(function(){t.set_command(i)},10)}},parseCommand=function(e,t){try{term_mode.parse(e.replace(/\?$/,""))}catch(n){t.error("Invalid command characters. ([, \\)"),t.set_command("")}},init_instance=function(e){term_mode=mode_instance;var t=ins.get();t.hasOwnProperty("config")||(t.config=JSON.parse(JSON.stringify(config.find(["instances"]))),ins.save());var n;if(config.find(["instances","terminal","auto"])&&(n=config.find(["instances","terminal","monitor"]),n=n.match(/(home|local|public|notification)/g)),url_params.hasOwnProperty("terminal")&&(n=url_params.terminal.match(/(home|local|public|notification)/g)),n=n?n:[],0<n.length&&t.hasOwnProperty("access_token")){"string"==typeof n&&(n=[n]);for(var a=0;a<n.length;a++)ws.monitor[n[a]]=!0;ws.startup=n[0],is_monitoring()||e.exec("terminal monitor")}},exit_instance=function(){term_mode=mode_global,closeTootbox(),ins.name("")},count_toot_size=function(){var e=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>e?"#F00":"#bbb").text(e)},cnt,config,ins,url_params,acls,term_mode,mode_global,mode_configuration,mode_instance,mode_config_instance,instance_name,beep_buf,tl;$(function(){mode_global=new ModeManager(new GlobalModeElement()),mode_configuration=new ModeManager(new ConfigurationModeElement()),mode_instance=new ModeManager(new InstanceModeElement()),ins=new InstanceManager,term_mode=mode_global;var e="=== CLI\u753B\u9762\u98A8 \u30DE\u30B9\u30C8\u30C9\u30F3\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8 \"Tooterminal\" ===\n                    Version "+client_info.version+", modified "+client_info.modified.getFullYear()+"/"+("0"+(client_info.modified.getMonth()+1)).slice(-2)+"/"+("0"+client_info.modified.getDate()).slice(-2)+"\n\n\u4F7F\u3044\u65B9\u306F\"help\"\u30B3\u30DE\u30F3\u30C9\u307E\u305F\u306F\"?\"\u30AD\u30FC\u3092\u62BC\u3057\u3066\u304F\u3060\u3055\u3044\u3002\n\n";tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:e,login:!1,onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function t(e){e.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function e(){return!0},onCommandChange:parseCommand}),$("#toot").on("keydown",function(e){27===e.keyCode?closeTootbox():13===e.keyCode&&e.ctrlKey&&post_status()}).on("paste",function(e){if(!(4<=$(".toot_media img").length)&&"undefined"!=typeof e.originalEvent.clipboardData&&"undefined"!=typeof e.originalEvent.clipboardData.types&&1===e.originalEvent.clipboardData.types.length&&"Files"===e.originalEvent.clipboardData.types[0]){var t=e.originalEvent.clipboardData.items[0].getAsFile();upload_img(t)}}),$("#toot_box").on("dragenter",function(t){t.preventDefault(),$("#toot_box").addClass("toot_imghover")}).on("dragover",function(){}).on("dragleave",function(){$("#toot_box").removeClass("toot_imghover")}).on("drop",function(t){t.preventDefault(),$("#toot_box").removeClass("toot_imghover");for(var e=t.originalEvent.dataTransfer.files,n=4-$("#toot_media img").length,a=n<e.length?n:e.length,o=0;o<a;o++)e[o].type.match(/^(video|image)\//)&&upload_img(e[o])}),$("#toot_cw").on("keyup",count_toot_size),$("#toot_box").on("keyup",count_toot_size),$("#toot_post").on("click",function(){post_status()}),$("#help_close").on("click",function(){$("#help").slideUp("first"),$.terminal.active().focus()}),$("#reply_close").on("click",function(){$("#sid").text(""),$("#reply").hide(),$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+(?:@(?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+)?\s+/,""))}),$(".img_background").on("click",function(){$("#img_view").fadeOut("first"),$("#pre_view").fadeOut("first"),$("#video_view").fadeOut("first"),$(".img_background").fadeOut("first"),$.terminal.active().enable()}),$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("mouseover",".status",function(){var e=config.find("instances.status.thumbnail");"undefined"==typeof e&&$(this).find(".status_thumbnail").show()}).on("mouseout",".status",function(){var e=config.find("instances.status.thumbnail");"undefined"==typeof e&&$(this).find(".status_thumbnail").hide()}).on("click",".status",function(t){if(!$(this).hasClass("status_deleted")){$(this).data("sid");if(t.shiftKey){var e="@"+$(this).data("acct").toString(),n=/((?:@([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,a=$(this).find(".status_contents")[0].textContent.replace(new RegExp(e,"g"),"").match(n);$.terminal.active().disable(),$("#toot").slideDown("first"),$("#reply").show(),$("#sid").text($(this).data("sid")),$("#reply_head").text("reply to: "+$(this).data("dispname")),$("#reply_body").text($(this).find("#status_contents")[0].textContent),$("#toot_box").focus().val("@"+$(this).data("acct")+" "+$(this).data("reply")),$($(this).find(".status_head i")[2]).hasClass("fa-envelope")?$("#toot_visibility").val("direct"):$($(this).find(".status_head i")[2]).hasClass("fa-lock")?$("#toot_visibility").val("private"):$($(this).find(".status_head i")[2]).hasClass("fa-unlock")?$("#toot_visibility").val("unlisted"):$("#toot_visibility").val("public")}t.ctrlKey&&favourite(this),t.altKey&&boost(this)}}).on("click",".status i",function(t){console.log(t);var e=$(t.target),n=e.parents(".status");e.hasClass("fa-star")||e.hasClass("fa-star-o")?favourite(n):(e.hasClass("fa-check-circle-o")||e.hasClass("fa-retweet"))&&boost(n)}).on("dblclick",".status",function(){var e=$.terminal.active();"more"===e.name()&&e.pop();"instance"!==e.name()||(0<$(this).data("sid")?e.exec("show status id "+$(this).data("sid")):(e.pause(),callAPI("/api/v1/search",{type:"GET",data:{q:$(this).data("uri"),limit:1}}).then(function(t){0<t.statuses.length?(e.resume(),e.exec("show status id "+t.statuses[0].id)):(e.echo("No status found. (Perhaps status was deleted)"),e.resume())})))}).on("click",".status img",function(){var t=$(this);if($.terminal.active().disable(),$(".img_background").fadeIn("first"),$("#pre_view").attr("src",t.attr("src")).fadeIn("first"),"gifv"===t.data("type")){var e=$("#video_view")[0];e.src=t.data("url"),e.loop=!0,e.autoplay=!0,e.muted=!0,e.controls=!0,e.oncanplay=function(){$("#pre_view").fadeOut("first")},$("#video_view").fadeIn("first")}else if("video"===t.data("type")){var n=$("#video_view")[0];n.src=t.data("url"),n.loop=!1,n.autoplay=!0,n.muted=!0,n.controls=!0,n.oncanplay=function(){$("#pre_view").fadeOut("first")},$("#video_view").fadeIn("first")}else if("undefined"!=typeof t.data("url")){var a=new Image;a.onload=function(){$("#img_view").attr("src",t.data("url"))},a.onerror=function(n){console.log(t),console.log(n)},a.src=t.data("url")}}).on("click",".emoji_picker",function(){var e=$.terminal.active();if("instance"===e.name()){$("#toot").is(":hidden")&&e.exec("toot");var t=$(this),n=$("#toot_box").val(),a=$("#toot_box").prop("selectionStart"),i=n.slice(0,a),o=n.slice(a);0<i.length&&i.slice(-1).match(/[^ \n]/)&&(i+=" ")," "!==o.slice(0,1)&&(o=" "+o);var s=i+t.data("tag")+o;a=s.length-o.length+1,$("#toot_box").val(s).prop("selectionStart",a).prop("selectionEnd",a).focus()}}).on("click",".emoji_summary",function(){var e=$.terminal.active();if("more"===e.name()&&e.pop(),"instance"===e.name()){var t=$(this).children("span").text();e.exec("show emojis custom detail "+t)}}).on("click",".a_acct",function(){var e=$.terminal.active();if("more"===e.name()&&e.pop(),"instance"===e.name()){var t=$(this).text().match(/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+))|(?:@([a-zA-Z0-9_]+)))/);callAPI("/api/v1/accounts/search",{data:{q:t[0],limit:1}}).then(function(t){e.exec("show user id "+t[0].id)})}}).on("click","[name=cmd_link]",function(t){var e=$.terminal.active(),n=$(t.target).data("type"),a=parseInt(e.rows()/5),i=parse_sid($(t.target).data("sid")),o="show_followed"===n?"show user id "+$(t.target).data("uid")+" followers":"show_following"===n?"show user id "+$(t.target).data("uid")+" following":"show_statuses_pinned"===n?"show user id "+$(t.target).data("uid")+" statuses pinned":"show_statuses"===n?"show user id "+$(t.target).data("uid")+" statuses limit "+a:"request"===n?"request "+$(t.target).data("req")+" "+$(t.target).data("uid"):"show_faved"===n?"show statuses id "+i.id+" favourited":"show_att"===n&&"unix_id"===i.type?"show timeline local max_id "+i.front+("000000"+(parseInt(i.rear)+1)).slice(-6):"show_att"===n&&"number"===i.type?"show timeline local max_id "+(parseInt(i.id)+1):"show_rebbed"===n?"show statuses id "+i.id+" reblogged":!("del_status"!==n)&&"request delete "+i.id;"more"===e.name()&&e.pop(),"instance"===e.name()&&o&&e.exec(o)}).on("keydown",".img_background",function(e){27===e.keyCode&&$(".img_background").trigger("click")}).on("click",".status_enquete span",function(t){var e=$(t.target).parent(),n=$(e).children().index(t.target),a=e.parents(".status"),i=Date.now()-Date.parse($(e).data("created")),o=$.terminal.active();if(3e4<i)return void o.error("The vote has expired.");var s="/api/v1/votes/"+$(a).data("sid");callAPI(s,{type:"POST",data:{item_index:n}}).then(function(e){e.valid?o.echo("Vote: "+$(t.target).text()):o.error(e.message)},function(e){console.log(e)})}).on("click",".toot_media img",function(t){$(t.target).remove(),$("#toot_box").val($("#toot_box").val().replace($(t.target).data("url"),"")),0===$("#toot_media img").length&&$("#toot_media").slideUp("first")}).on("keydown",function(t){65===t.keyCode&&t.altKey&&term_mode===mode_instance?"none"===$("#toot").css("display")?$.terminal.active().exec("toot"):($("#toot_box").focus(),$.terminal.active().focus(!1)):!t.target.id.match(/^toot_/)&&!t.ctrlKey&&17!==t.keyCode&&!t.altKey&&18!==t.keyCode&&$.terminal.active().focus(!0,!0)}).on("click","a",function(t){var e=$(t.currentTarget).prop("href"),n=e.replace(/https?:\/\//,"").split("/"),a=$(t.currentTarget).parents(".status:first"),i={},o="";if(""===n[0])return!1;if("users"===n[1]&&(i.user=n[2]),n[1].match(/^@/)&&(i.user=n[1].replace("@",""),"undefined"!=typeof n[2]&&(i.status=n[2])),"accounts"===n[2]&&(i.account=n[3]),"statuses"===n[3]&&(i.status=n[4]),"statuses"===n[2]&&(i.status=n[3]),"tags"===n[1]&&(i.tag=n[2]),i.tag?o="show timeline tag "+i.tag:n[0]===ins.get().domain&&i.status?o="show status id "+i.status:i.status?o="search local "+e:n[0]===ins.get().domain&&i.account?o="show user id "+i.account:i.user&&(o="show user name "+i.user+"@"+n[0]),""!==o){var s=$.terminal.active();"more"===s.name()&&s.pop(),"instance"===s.name()&&s.exec(o)}else window.open(e);return!1}),window.onerror=function(e,t,n,a,i){console.log([e,t,n,a,i])},autosize($("#toot_box"))}),_Stringprototype.addTab=function(e,t){return tab(e,this,t)}});
//# sourceMappingURL=main.js.map
