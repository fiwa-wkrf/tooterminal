/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function m(c,e){e=e||I;var n=e.createElement("script");n.text=c;e.head.appendChild(n).parentNode.removeChild(n)}function f(c){var e=!!c&&"length"in c&&c.length,n=d.type(c);return"function"!==n&&!d.isWindow(c)&&("array"===n||0===e||"number"==
typeof e&&0<e&&e-1 in c)}function h(c,e){return c.nodeName&&c.nodeName.toLowerCase()===e.toLowerCase()}function k(c,e,n){return d.isFunction(e)?d.grep(c,function(c,d){return!!e.call(c,d,c)!==n}):e.nodeType?d.grep(c,function(c){return c===e!==n}):"string"!=typeof e?d.grep(c,function(c){return-1<A.call(e,c)!==n}):Wb.test(e)?d.filter(e,c,n):(e=d.filter(e,c),d.grep(c,function(c){return-1<A.call(e,c)!==n&&1===c.nodeType}))}function v(c,e){for(;(c=c[e])&&1!==c.nodeType;);return c}function x(c){var e={};
return d.each(c.match(xa)||[],function(c,d){e[d]=!0}),e}function u(c){return c}function G(c){throw c;}function y(c,e,n,a){var t;try{c&&d.isFunction(t=c.promise)?t.call(c).done(e).fail(n):c&&d.isFunction(t=c.then)?t.call(c,e,n):e.apply(void 0,[c].slice(a))}catch(za){n.apply(void 0,[za])}}function Q(){I.removeEventListener("DOMContentLoaded",Q);a.removeEventListener("load",Q);d.ready()}function Ba(){this.expando=d.expando+Ba.uid++}function ta(c,e,n){var d;if(void 0===n&&1===c.nodeType)if(d="data-"+
e.replace(Xb,"-$&").toLowerCase(),n=c.getAttribute(d),"string"==typeof n){try{d=n,n="true"===d||"false"!==d&&("null"===d?null:d===+d+""?+d:Ea.test(d)?JSON.parse(d):d)}catch(D){}R.set(c,e,n)}else n=void 0;return n}function Sa(c,e,n,a){var t,g=1,b=20,l=a?function(){return a.cur()}:function(){return d.css(c,e,"")},f=l(),h=n&&n[3]||(d.cssNumber[e]?"":"px"),p=(d.cssNumber[e]||"px"!==h&&+f)&&M.exec(d.css(c,e));if(p&&p[3]!==h){h=h||p[3];n=n||[];p=+f||1;do g=g||".5",p/=g,d.style(c,e,p+h);while(g!==(g=l()/
f)&&1!==g&&--b)}return n&&(p=+p||+f||0,t=n[1]?p+(n[1]+1)*n[2]:+n[2],a&&(a.unit=h,a.start=p,a.end=t)),t}function Ga(c,e){for(var n,a,g=[],b=0,l=c.length;b<l;b++)if(a=c[b],a.style)if(n=a.style.display,e){if("none"===n&&(g[b]=C.get(a,"display")||null,g[b]||(a.style.display="")),""===a.style.display&&Ta(a)){n=b;var f=void 0;var h=a.ownerDocument;var p=a.nodeName;h=(a=La[p])?a:(f=h.body.appendChild(h.createElement(p)),a=d.css(f,"display"),f.parentNode.removeChild(f),"none"===a&&(a="block"),La[p]=a,a);
g[n]=h}}else"none"!==n&&(g[b]="none",C.set(a,"display",n));for(b=0;b<l;b++)null!=g[b]&&(c[b].style.display=g[b]);return c}function ba(c,e){var n;return n="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(e||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(e||"*"):[],void 0===e||e&&h(c,e)?d.merge([c],n):n}function Ha(c,e){for(var n=0,d=c.length;n<d;n++)C.set(c[n],"globalEval",!e||C.get(e[n],"globalEval"))}function Ma(c,e,n,a,b){for(var t,D,l,f,h=e.createDocumentFragment(),
p=[],r=0,m=c.length;r<m;r++)if(t=c[r],t||0===t)if("object"===d.type(t))d.merge(p,t.nodeType?[t]:t);else if(Ca.test(t)){D=D||h.appendChild(e.createElement("div"));l=(Qb.exec(t)||["",""])[1].toLowerCase();l=z[l]||z._default;D.innerHTML=l[1]+d.htmlPrefilter(t)+l[2];for(l=l[0];l--;)D=D.lastChild;d.merge(p,D.childNodes);D=h.firstChild;D.textContent=""}else p.push(e.createTextNode(t));h.textContent="";for(r=0;t=p[r++];)if(a&&-1<d.inArray(t,a))b&&b.push(t);else if(f=d.contains(t.ownerDocument,t),D=ba(h.appendChild(t),
"script"),f&&Ha(D),n)for(l=0;t=D[l++];)g.test(t.type||"")&&n.push(t);return h}function ka(){return!0}function O(){return!1}function ob(){try{return I.activeElement}catch(c){}}function hb(c,e,n,a,b,g){var t,D;if("object"==typeof e){"string"!=typeof n&&(a=a||n,n=void 0);for(D in e)hb(c,D,n,a,e[D],g);return c}if(null==a&&null==b?(b=n,a=n=void 0):null==b&&("string"==typeof n?(b=a,a=void 0):(b=a,a=n,n=void 0)),!1===b)b=O;else if(!b)return c;return 1===g&&(t=b,b=function(c){return d().off(c),t.apply(this,
arguments)},b.guid=t.guid||(t.guid=d.guid++)),c.each(function(){d.event.add(this,e,b,a,n)})}function xb(c,e){return h(c,"table")&&h(11!==e.nodeType?e:e.firstChild,"tr")?d(">tbody",c)[0]||c:c}function bb(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function sb(c){var e=ib.exec(c.type);return e?c.type=e[1]:c.removeAttribute("type"),c}function tb(c,e){var n,a,b,g,l,f;if(1===e.nodeType){if(C.hasData(c)&&(n=C.access(c),a=C.set(e,n),f=n.events))for(b in delete a.handle,a.events={},f)for(n=
0,a=f[b].length;n<a;n++)d.event.add(e,b,f[b][n]);R.hasData(c)&&(g=R.access(c),l=d.extend({},g),R.set(e,l))}}function Aa(c,e,n,a){e=yb.apply([],e);var t,b,l,f=0,h=c.length,p=h-1,r=e[0],k=d.isFunction(r);if(k||1<h&&"string"==typeof r&&!H.checkClone&&$b.test(r))return c.each(function(d){var t=c.eq(d);k&&(e[0]=r.call(this,d,t.html()));Aa(t,e,n,a)});if(h&&(t=Ma(e,c[0].ownerDocument,!1,c,a),b=t.firstChild,1===t.childNodes.length&&(t=b),b||a)){b=d.map(ba(t,"script"),bb);for(l=b.length;f<h;f++){var q=t;f!==
p&&(q=d.clone(q,!0,!0),l&&d.merge(b,ba(q,"script")));n.call(c[f],q,f)}if(l)for(t=b[b.length-1].ownerDocument,d.map(b,sb),f=0;f<l;f++)q=b[f],g.test(q.type||"")&&!C.access(q,"globalEval")&&d.contains(t,q)&&(q.src?d._evalUrl&&d._evalUrl(q.src):m(q.textContent.replace(ua,""),t))}return c}function pb(c,e,n){for(var a=e?d.filter(e,c):c,b=0;null!=(e=a[b]);b++)n||1!==e.nodeType||d.cleanData(ba(e)),e.parentNode&&(n&&d.contains(e.ownerDocument,e)&&Ha(ba(e,"script")),e.parentNode.removeChild(e));return c}function cb(c,
e,n){var a,b,g,l,f=c.style;return n=n||V(c),n&&(l=n.getPropertyValue(e)||n[e],""!==l||d.contains(c.ownerDocument,c)||(l=d.style(c,e)),!H.pixelMarginRight()&&ca.test(l)&&S.test(e)&&(a=f.width,b=f.minWidth,g=f.maxWidth,f.minWidth=f.maxWidth=f.width=l,l=n.width,f.width=a,f.minWidth=b,f.maxWidth=g)),void 0!==l?l+"":l}function qb(c,e){return{get:function(){return c()?void delete this.get:(this.get=e).apply(this,arguments)}}}function ub(c){var e=d.cssProps[c];if(!e){e=d.cssProps;a:{var n=c;if(!(n in la)){for(var a=
n[0].toUpperCase()+n.slice(1),b=q.length;b--;)if(n=q[b]+a,n in la)break a;n=void 0}}e=e[c]=n||c}return e}function zb(c,e,d){return(c=M.exec(e))?Math.max(0,c[2]-(d||0))+(c[3]||"px"):e}function Db(c,e,n,a,b){var t=0;for(e=n===(a?"border":"content")?4:"width"===e?1:0;4>e;e+=2)"margin"===n&&(t+=d.css(c,n+fa[e],!0,b)),a?("content"===n&&(t-=d.css(c,"padding"+fa[e],!0,b)),"margin"!==n&&(t-=d.css(c,"border"+fa[e]+"Width",!0,b))):(t+=d.css(c,"padding"+fa[e],!0,b),"padding"!==n&&(t+=d.css(c,"border"+fa[e]+
"Width",!0,b)));return t}function Ab(c,e,n){var a,b=V(c),g=cb(c,e,b),l="border-box"===d.css(c,"boxSizing",!1,b);return ca.test(g)?g:(a=l&&(H.boxSizingReliable()||g===c.style[e]),"auto"===g&&(g=c["offset"+e[0].toUpperCase()+e.slice(1)]),g=parseFloat(g)||0,g+Db(c,e,n||(l?"border":"content"),a,b)+"px")}function W(c,e,d,a,b){return new W.prototype.init(c,e,d,a,b)}function jb(){na&&(!1===I.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(jb):a.setTimeout(jb,d.fx.interval),d.fx.tick())}function Eb(){return a.setTimeout(function(){Z=
void 0}),Z=d.now()}function Wa(c,e){var d=0,a={height:c};for(e=e?1:0;4>d;d+=2-e){var b=fa[d];a["margin"+b]=a["padding"+b]=c}return e&&(a.opacity=a.width=c),a}function Fb(c,e,d){for(var a,n=(va.tweeners[e]||[]).concat(va.tweeners["*"]),b=0,g=n.length;b<g;b++)if(a=n[b].call(d,e,c))return a}function Kb(c,e){var a,b,g,l,f;for(a in c)if(b=d.camelCase(a),g=e[b],l=c[a],Array.isArray(l)&&(g=l[1],l=c[a]=l[0]),a!==b&&(c[b]=l,delete c[a]),f=d.cssHooks[b],f&&"expand"in f)for(a in l=f.expand(l),delete c[b],l)a in
c||(c[a]=l[a],e[a]=g);else e[b]=g}function va(c,e,a){var n,b=0,g=va.prefilters.length,l=d.Deferred().always(function(){delete f.elem}),f=function(){if(n)return!1;var e=Z||Eb();e=Math.max(0,h.startTime+h.duration-e);for(var a=1-(e/h.duration||0),d=0,b=h.tweens.length;d<b;d++)h.tweens[d].run(a);return l.notifyWith(c,[h,a,e]),1>a&&b?e:(b||l.notifyWith(c,[h,1,0]),l.resolveWith(c,[h]),!1)},h=l.promise({elem:c,props:d.extend({},e),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},a),originalProperties:e,
originalOptions:a,startTime:Z||Eb(),duration:a.duration,tweens:[],createTween:function(e,a){var n=d.Tween(c,h.opts,e,a,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var a=0,d=e?h.tweens.length:0;if(n)return this;for(n=!0;a<d;a++)h.tweens[a].run(1);return e?(l.notifyWith(c,[h,1,0]),l.resolveWith(c,[h,e])):l.rejectWith(c,[h,e]),this}});a=h.props;for(Kb(a,h.opts.specialEasing);b<g;b++)if(e=va.prefilters[b].call(h,c,a,h.opts))return d.isFunction(e.stop)&&(d._queueHooks(h.elem,
h.opts.queue).stop=d.proxy(e.stop,e)),e;return d.map(a,Fb,h),d.isFunction(h.opts.start)&&h.opts.start.call(c,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),d.fx.timer(d.extend(f,{elem:c,anim:h,queue:h.opts.queue})),h}function wa(c){return(c.match(xa)||[]).join(" ")}function ya(c){return c.getAttribute&&c.getAttribute("class")||""}function kb(c,e,a,b){var n;if(Array.isArray(e))d.each(e,function(e,d){a||Ja.test(c)?b(c,d):kb(c+"["+("object"==
typeof d&&null!=d?e:"")+"]",d,a,b)});else if(a||"object"!==d.type(e))b(c,e);else for(n in e)kb(c+"["+n+"]",e[n],a,b)}function vb(c){return function(e,a){"string"!=typeof e&&(a=e,e="*");var n,b=0,g=e.toLowerCase().match(xa)||[];if(d.isFunction(a))for(;n=g[b++];)"+"===n[0]?(n=n.slice(1)||"*",(c[n]=c[n]||[]).unshift(a)):(c[n]=c[n]||[]).push(a)}}function Ua(c,e,a,b){function n(l){var f;return g[l]=!0,d.each(c[l]||[],function(c,d){var l=d(e,a,b);return"string"!=typeof l||t||g[l]?t?!(f=l):void 0:(e.dataTypes.unshift(l),
n(l),!1)}),f}var g={},t=c===Xa;return n(e.dataTypes[0])||!g["*"]&&n("*")}function da(c,e){var a,b,g=d.ajaxSettings.flatOptions||{};for(a in e)void 0!==e[a]&&((g[a]?c:b||(b={}))[a]=e[a]);return b&&d.extend(!0,c,b),c}var ma=[],I=a.document,Da=Object.getPrototypeOf,Fa=ma.slice,yb=ma.concat,p=ma.push,A=ma.indexOf,Na={},db=Na.toString,ia=Na.hasOwnProperty,ha=ia.toString,U=ha.call(Object),H={},d=function(c,e){return new d.fn.init(c,e)},Lb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Gb=/^-ms-/,Bb=/-([a-z])/g,Mb=
function(c,e){return e.toUpperCase()};d.fn=d.prototype={jquery:"3.2.1",constructor:d,length:0,toArray:function(){return Fa.call(this)},get:function(c){return null==c?Fa.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=d.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return d.each(this,c)},map:function(c){return this.pushStack(d.map(this,function(e,a){return c.call(e,a,e)}))},slice:function(){return this.pushStack(Fa.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(c){var e=this.length;c=+c+(0>c?e:0);return this.pushStack(0<=c&&c<e?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:ma.sort,splice:ma.splice};d.extend=d.fn.extend=function(){var c,e,a,b,g=arguments[0]||{},l=1,f=arguments.length,h=!1;"boolean"==typeof g&&(h=g,g=arguments[l]||{},l++);"object"==typeof g||d.isFunction(g)||(g={});for(l===f&&(g=this,l--);l<f;l++)if(null!=(c=arguments[l]))for(e in c){var p=g[e];var r=c[e];
g!==r&&(h&&r&&(d.isPlainObject(r)||(a=Array.isArray(r)))?(a?(a=!1,b=p&&Array.isArray(p)?p:[]):b=p&&d.isPlainObject(p)?p:{},g[e]=d.extend(h,b,r)):void 0!==r&&(g[e]=r))}return g};d.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===d.type(c)},isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var e=d.type(c);return("number"===e||"string"===e)&&!isNaN(c-parseFloat(c))},
isPlainObject:function(c){var e,a;return!(!c||"[object Object]"!==db.call(c))&&(!(e=Da(c))||(a=ia.call(e,"constructor")&&e.constructor,"function"==typeof a&&ha.call(a)===U))},isEmptyObject:function(c){for(var e in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?Na[db.call(c)]||"object":typeof c},globalEval:function(c){m(c)},camelCase:function(c){return c.replace(Gb,"ms-").replace(Bb,Mb)},each:function(c,e){var a,d=0;if(f(c))for(a=c.length;d<a&&!1!==
e.call(c[d],d,c[d]);d++);else for(d in c)if(!1===e.call(c[d],d,c[d]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Lb,"")},makeArray:function(c,e){var a=e||[];return null!=c&&(f(Object(c))?d.merge(a,"string"==typeof c?[c]:c):p.call(a,c)),a},inArray:function(c,e,a){return null==e?-1:A.call(e,c,a)},merge:function(c,e){for(var a=+e.length,d=0,b=c.length;d<a;d++)c[b++]=e[d];return c.length=b,c},grep:function(c,e,a){for(var d=[],n=0,b=c.length,g=!a;n<b;n++)a=!e(c[n],n),a!==g&&d.push(c[n]);
return d},map:function(c,e,a){var d,n=0,b=[];if(f(c))for(d=c.length;n<d;n++){var g=e(c[n],n,a);null!=g&&b.push(g)}else for(n in c)g=e(c[n],n,a),null!=g&&b.push(g);return yb.apply([],b)},guid:1,proxy:function(c,e){var a,b,g;if("string"==typeof e&&(a=c[e],e=c,c=a),d.isFunction(c))return b=Fa.call(arguments,2),g=function(){return c.apply(e||this,b.concat(Fa.call(arguments)))},g.guid=c.guid=c.guid||d.guid++,g},now:Date.now,support:H});"function"==typeof Symbol&&(d.fn[Symbol.iterator]=ma[Symbol.iterator]);
d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,e){Na["[object "+e+"]"]=e.toLowerCase()});var K=function(c){function e(c,e,a,d){var n,b,g,l,t=e&&e.ownerDocument,f=e?e.nodeType:9;if(a=a||[],"string"!=typeof c||!c||1!==f&&9!==f&&11!==f)return a;if(!d&&((e?e.ownerDocument||e:z)!==v&&Y(e),e=e||v,T)){if(11!==f&&(l=Mb.exec(c)))if(n=l[1])if(9===f){if(!(b=e.getElementById(n)))return a;if(b.id===n)return a.push(b),a}else{if(t&&(b=t.getElementById(n))&&Pa(e,
b)&&b.id===n)return a.push(b),a}else{if(l[2])return qa.apply(a,e.getElementsByTagName(c)),a;if((n=l[3])&&O.getElementsByClassName&&e.getElementsByClassName)return qa.apply(a,e.getElementsByClassName(n)),a}if(!(!O.qsa||G[c+" "]||x&&x.test(c))){if(1!==f){t=e;var h=c}else if("object"!==e.nodeName.toLowerCase()){(g=e.getAttribute("id"))?g=g.replace(Z,Gb):e.setAttribute("id",g=U);b=ca(c);for(n=b.length;n--;)b[n]="#"+g+" "+q(b[n]);h=b.join(",");t=V.test(c)&&m(e.parentNode)||e}if(h)try{return qa.apply(a,
t.querySelectorAll(h)),a}catch(kc){}finally{g===U&&e.removeAttribute("id")}}}return H(c.replace(Qa,"$1"),e,a,d)}function a(){function c(a,d){return e.push(a+" ")>X.cacheLength&&delete c[e.shift()],c[a+" "]=d}var e=[];return c}function d(c){return c[U]=!0,c}function b(c){var e=v.createElement("fieldset");try{return!!c(e)}catch(ic){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function g(c,e){for(var a=c.split("|"),d=a.length;d--;)X.attrHandle[a[d]]=e}function l(c,e){var a=e&&c,d=a&&1===
c.nodeType&&1===e.nodeType&&c.sourceIndex-e.sourceIndex;if(d)return d;if(a)for(;a=a.nextSibling;)if(a===e)return-1;return c?1:-1}function f(c){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===c}}function h(c){return function(e){var a=e.nodeName.toLowerCase();return("input"===a||"button"===a)&&e.type===c}}function p(c){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===c:e.disabled===c:e.isDisabled===c||
e.isDisabled!==!c&&rb(e)===c:e.disabled===c:"label"in e&&e.disabled===c}}function r(c){return d(function(e){return e=+e,d(function(a,d){for(var n,b=c([],a.length,e),g=b.length;g--;)a[n=b[g]]&&(a[n]=!(d[n]=a[n]))})})}function m(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function k(){}function q(c){for(var e=0,a=c.length,d="";e<a;e++)d+=c[e].value;return d}function N(c,e,a){var d=e.dir,n=e.next,b=n||d,g=a&&"parentNode"===b,l=B++;return e.first?function(e,a,n){for(;e=e[d];)if(1===e.nodeType||
g)return c(e,a,n);return!1}:function(e,a,t){var f,h,p,D=[ja,l];if(t)for(;e=e[d];){if((1===e.nodeType||g)&&c(e,a,t))return!0}else for(;e=e[d];)if(1===e.nodeType||g)if(p=e[U]||(e[U]={}),h=p[e.uniqueID]||(p[e.uniqueID]={}),n&&n===e.nodeName.toLowerCase())e=e[d]||e;else{if((f=h[b])&&f[0]===ja&&f[1]===l)return D[2]=f[2];if(h[b]=D,D[2]=c(e,a,t))return!0}return!1}}function A(c){return 1<c.length?function(e,a,d){for(var n=c.length;n--;)if(!c[n](e,a,d))return!1;return!0}:c[0]}function L(c,e,a,d,n){for(var b,
g=[],l=0,t=c.length,f=null!=e;l<t;l++)(b=c[l])&&(a&&!a(b,d,n)||(g.push(b),f&&e.push(l)));return g}function Na(c,a,n,b,g,l){return b&&!b[U]&&(b=Na(b)),g&&!g[U]&&(g=Na(g,l)),d(function(d,l,t,f){var h,p=[],D=[],r=l.length,ra;if(!(ra=d)){ra=a||"*";for(var m=t.nodeType?[t]:t,za=[],k=0,q=m.length;k<q;k++)e(ra,m[k],za);ra=za}ra=!c||!d&&a?ra:L(ra,p,c,t,f);m=n?g||(d?c:r||b)?[]:l:ra;if(n&&n(ra,m,t,f),b){var N=L(m,D);b(N,[],t,f);for(t=N.length;t--;)(h=N[t])&&(m[D[t]]=!(ra[D[t]]=h))}if(d){if(g||c){if(g){N=[];
for(t=m.length;t--;)(h=m[t])&&N.push(ra[t]=h);g(null,m=[],N,f)}for(t=m.length;t--;)(h=m[t])&&-1<(N=g?J(d,h):p[t])&&(d[N]=!(l[N]=h))}}else m=L(m===l?m.splice(r,m.length):m),g?g(null,l,m,f):qa.apply(l,m)})}function ea(c){var e,a,d=c.length,n=X.relative[c[0].type];var b=n||X.relative[" "];for(var g=n?1:0,l=N(function(c){return c===e},b,!0),t=N(function(c){return-1<J(e,c)},b,!0),f=[function(c,a,d){c=!n&&(d||a!==ia)||((e=a).nodeType?l(c,a,d):t(c,a,d));return e=null,c}];g<d;g++)if(b=X.relative[c[g].type])f=
[N(A(f),b)];else{if(b=X.filter[c[g].type].apply(null,c[g].matches),b[U]){for(a=++g;a<d&&!X.relative[c[a].type];a++);return Na(1<g&&A(f),1<g&&q(c.slice(0,g-1).concat({value:" "===c[g-2].type?"*":""})).replace(Qa,"$1"),b,g<a&&ea(c.slice(g,a)),a<d&&ea(c=c.slice(a)),a<d&&q(c))}f.push(b)}return A(f)}function db(c,a){var n=0<a.length,b=0<c.length,g=function(d,g,l,t,f){var h,p,D=0,r="0",m=d&&[],ra=[],za=ia,k=d||b&&X.find.TAG("*",f),q=ja+=null==za?1:Math.random()||.1,N=k.length;for(f&&(ia=g===v||g||f);r!==
N&&null!=(h=k[r]);r++){if(b&&h){var Jb=0;for(g||h.ownerDocument===v||(Y(h),l=!T);p=c[Jb++];)if(p(h,g||v,l)){t.push(h);break}f&&(ja=q)}n&&((h=!p&&h)&&D--,d&&m.push(h))}if(D+=r,n&&r!==D){for(Jb=0;p=a[Jb++];)p(m,ra,g,l);if(d){if(0<D)for(;r--;)m[r]||ra[r]||(ra[r]=Bb.call(t));ra=L(ra)}qa.apply(t,ra);f&&!d&&0<ra.length&&1<D+a.length&&e.uniqueSort(t)}return f&&(ja=q,ia=za),m};return n?d(g):g}var u,ha,H,ia,F,w,v,aa,T,x,y,ab,Pa,U="sizzle"+1*new Date,z=c.document,ja=0,B=0,Ra=a(),nb=a(),G=a(),K=function(c,e){return c===
e&&(w=!0),0},E={}.hasOwnProperty,C=[],Bb=C.pop,Q=C.push,qa=C.push,I=C.slice,J=function(c,e){for(var a=0,d=c.length;a<d;a++)if(c[a]===e)return a;return-1},pa=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Qa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Ib=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,M=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Ja=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Lb=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ka=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Ia={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},gb=/^(?:input|select|textarea|button)$/i,Xa=/^h\d$/i,P=/^[^{]+\{\s*\[native \w/,
Mb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,R=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),S=function(c,e,a){c="0x"+e-65536;return c!==c||a?e:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},Z=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Gb=function(c,e){return e?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},Va=function(){Y()},rb=N(function(c){return!0===c.disabled&&("form"in c||
"label"in c)},{dir:"parentNode",next:"legend"});try{qa.apply(C=I.call(z.childNodes),z.childNodes),C[z.childNodes.length].nodeType}catch(ra){qa={apply:C.length?function(c,e){Q.apply(c,I.call(e))}:function(c,e){for(var a=c.length,d=0;c[a++]=e[d++];);c.length=a-1}}}var O=e.support={};var fa=e.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};var Y=e.setDocument=function(c){var e,a;c=c?c.ownerDocument||c:z;return c!==v&&9===c.nodeType&&c.documentElement?(v=c,
aa=v.documentElement,T=!fa(v),z!==v&&(a=v.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",Va,!1):a.attachEvent&&a.attachEvent("onunload",Va)),O.attributes=b(function(c){return c.className="i",!c.getAttribute("className")}),O.getElementsByTagName=b(function(c){return c.appendChild(v.createComment("")),!c.getElementsByTagName("*").length}),O.getElementsByClassName=P.test(v.getElementsByClassName),O.getById=b(function(c){return aa.appendChild(c).id=U,!v.getElementsByName||!v.getElementsByName(U).length}),
O.getById?(X.filter.ID=function(c){var e=c.replace(R,S);return function(c){return c.getAttribute("id")===e}},X.find.ID=function(c,e){if("undefined"!=typeof e.getElementById&&T){var a=e.getElementById(c);return a?[a]:[]}}):(X.filter.ID=function(c){var e=c.replace(R,S);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===e}},X.find.ID=function(c,e){if("undefined"!=typeof e.getElementById&&T){var a,d,n=e.getElementById(c);if(n){if(a=n.getAttributeNode("id"),
a&&a.value===c)return[n];var b=e.getElementsByName(c);for(d=0;n=b[d++];)if(a=n.getAttributeNode("id"),a&&a.value===c)return[n]}return[]}}),X.find.TAG=O.getElementsByTagName?function(c,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(c):O.qsa?e.querySelectorAll(c):void 0}:function(c,e){var a,d=[],n=0,b=e.getElementsByTagName(c);if("*"===c){for(;a=b[n++];)1===a.nodeType&&d.push(a);return d}return b},X.find.CLASS=O.getElementsByClassName&&function(c,e){if("undefined"!=typeof e.getElementsByClassName&&
T)return e.getElementsByClassName(c)},y=[],x=[],(O.qsa=P.test(v.querySelectorAll))&&(b(function(c){aa.appendChild(c).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&x.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||x.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+U+"-]").length||x.push("~=");c.querySelectorAll(":checked").length||x.push(":checked");c.querySelectorAll("a#"+U+"+*").length||x.push(".#.+[+~]")}),b(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=v.createElement("input");e.setAttribute("type","hidden");c.appendChild(e).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&x.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
x.push(":enabled",":disabled");aa.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&x.push(":enabled",":disabled");c.querySelectorAll("*,:x");x.push(",.*:")})),(O.matchesSelector=P.test(ab=aa.matches||aa.webkitMatchesSelector||aa.mozMatchesSelector||aa.oMatchesSelector||aa.msMatchesSelector))&&b(function(c){O.disconnectedMatch=ab.call(c,"*");ab.call(c,"[s!='']:x");y.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
x=x.length&&new RegExp(x.join("|")),y=y.length&&new RegExp(y.join("|")),e=P.test(aa.compareDocumentPosition),Pa=e||P.test(aa.contains)?function(c,e){var a=9===c.nodeType?c.documentElement:c,d=e&&e.parentNode;return c===d||!(!d||1!==d.nodeType||!(a.contains?a.contains(d):c.compareDocumentPosition&&16&c.compareDocumentPosition(d)))}:function(c,e){if(e)for(;e=e.parentNode;)if(e===c)return!0;return!1},K=e?function(c,e){if(c===e)return w=!0,0;var a=!c.compareDocumentPosition-!e.compareDocumentPosition;
return a?a:(a=(c.ownerDocument||c)===(e.ownerDocument||e)?c.compareDocumentPosition(e):1,1&a||!O.sortDetached&&e.compareDocumentPosition(c)===a?c===v||c.ownerDocument===z&&Pa(z,c)?-1:e===v||e.ownerDocument===z&&Pa(z,e)?1:F?J(F,c)-J(F,e):0:4&a?-1:1)}:function(c,e){if(c===e)return w=!0,0;var a=0;var d=c.parentNode;var n=e.parentNode,b=[c],g=[e];if(!d||!n)return c===v?-1:e===v?1:d?-1:n?1:F?J(F,c)-J(F,e):0;if(d===n)return l(c,e);for(d=c;d=d.parentNode;)b.unshift(d);for(d=e;d=d.parentNode;)g.unshift(d);
for(;b[a]===g[a];)a++;return a?l(b[a],g[a]):b[a]===z?-1:g[a]===z?1:0},v):v};e.matches=function(c,a){return e(c,null,null,a)};e.matchesSelector=function(c,a){if((c.ownerDocument||c)!==v&&Y(c),a=a.replace(Ja,"='$1']"),!(!O.matchesSelector||!T||G[a+" "]||y&&y.test(a)||x&&x.test(a)))try{var d=ab.call(c,a);if(d||O.disconnectedMatch||c.document&&11!==c.document.nodeType)return d}catch(jc){}return 0<e(a,v,null,[c]).length};e.contains=function(c,e){return(c.ownerDocument||c)!==v&&Y(c),Pa(c,e)};e.attr=function(c,
e){(c.ownerDocument||c)!==v&&Y(c);var a=X.attrHandle[e.toLowerCase()];a=a&&E.call(X.attrHandle,e.toLowerCase())?a(c,e,!T):void 0;return void 0!==a?a:O.attributes||!T?c.getAttribute(e):(a=c.getAttributeNode(e))&&a.specified?a.value:null};e.escape=function(c){return(c+"").replace(Z,Gb)};e.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};e.uniqueSort=function(c){var e,a=[],d=0,n=0;if(w=!O.detectDuplicates,F=!O.sortStable&&c.slice(0),c.sort(K),w){for(;e=c[n++];)e===c[n]&&(d=
a.push(n));for(;d--;)c.splice(a[d],1)}return F=null,c};var ba=e.getText=function(c){var e,a="",d=0;if(e=c.nodeType)if(1===e||9===e||11===e){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)a+=ba(c)}else{if(3===e||4===e)return c.nodeValue}else for(;e=c[d++];)a+=ba(e);return a};var X=e.selectors={cacheLength:50,createPseudo:d,match:Ia,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(R,S),c[3]=(c[3]||c[4]||c[5]||"").replace(R,S),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||e.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&e.error(c[0]),c},PSEUDO:function(c){var e,a=!c[6]&&c[2];return Ia.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":a&&Lb.test(a)&&(e=ca(a,
!0))&&(e=a.indexOf(")",a.length-e)-a.length)&&(c[0]=c[0].slice(0,e),c[2]=a.slice(0,e)),c.slice(0,3))}},filter:{TAG:function(c){var e=c.replace(R,S).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===e}},CLASS:function(c){var e=Ra[c+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),Ra(c,function(c){return e.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,a,d){return function(n){n=e.attr(n,c);return null==n?"!="===a:!a||(n+="","="===a?n===d:"!="===a?n!==d:"^="===a?d&&0===n.indexOf(d):"*="===a?d&&-1<n.indexOf(d):"$="===a?d&&n.slice(-d.length)===d:"~="===a?-1<(" "+n.replace(pa," ")+" ").indexOf(d):"|="===a&&(n===d||n.slice(0,d.length+1)===d+"-"))}},CHILD:function(c,e,a,d,n){var b="nth"!==c.slice(0,3),g="last"!==c.slice(-4),l="of-type"===e;return 1===d&&0===n?function(c){return!!c.parentNode}:function(e,a,t){var f,h;a=b!==g?"nextSibling":
"previousSibling";var p=e.parentNode,D=l&&e.nodeName.toLowerCase();t=!t&&!l;var r=!1;if(p){if(b){for(;a;){for(f=e;f=f[a];)if(l?f.nodeName.toLowerCase()===D:1===f.nodeType)return!1;var m=a="only"===c&&!m&&"nextSibling"}return!0}if(m=[g?p.firstChild:p.lastChild],g&&t){f=p;var za=f[U]||(f[U]={});var k=za[f.uniqueID]||(za[f.uniqueID]={});var q=k[c]||[];r=(h=q[0]===ja&&q[1])&&q[2];for(f=h&&p.childNodes[h];f=++h&&f&&f[a]||(r=h=0)||m.pop();)if(1===f.nodeType&&++r&&f===e){k[c]=[ja,h,r];break}}else if(t&&
(f=e,za=f[U]||(f[U]={}),k=za[f.uniqueID]||(za[f.uniqueID]={}),q=k[c]||[],h=q[0]===ja&&q[1],r=h),!1===r)for(;(f=++h&&f&&f[a]||(r=h=0)||m.pop())&&((l?f.nodeName.toLowerCase()!==D:1!==f.nodeType)||!++r||(t&&(za=f[U]||(f[U]={}),k=za[f.uniqueID]||(za[f.uniqueID]={}),k[c]=[ja,r]),f!==e)););return r-=n,r===d||0===r%d&&0<=r/d}}},PSEUDO:function(c,a){var n,b=X.pseudos[c]||X.setFilters[c.toLowerCase()]||e.error("unsupported pseudo: "+c);return b[U]?b(a):1<b.length?(n=[c,c,"",a],X.setFilters.hasOwnProperty(c.toLowerCase())?
d(function(c,e){for(var d,n=b(c,a),g=n.length;g--;)d=J(c,n[g]),c[d]=!(e[d]=n[g])}):function(c){return b(c,0,n)}):b}},pseudos:{not:d(function(c){var e=[],a=[],n=ha(c.replace(Qa,"$1"));return n[U]?d(function(c,e,a,d){var b;a=n(c,null,d,[]);for(d=c.length;d--;)(b=a[d])&&(c[d]=!(e[d]=b))}):function(c,d,b){return e[0]=c,n(e,null,b,a),e[0]=null,!a.pop()}}),has:d(function(c){return function(a){return 0<e(c,a).length}}),contains:d(function(c){return c=c.replace(R,S),function(e){return-1<(e.textContent||e.innerText||
ba(e)).indexOf(c)}}),lang:d(function(c){return ka.test(c||"")||e.error("unsupported lang: "+c),c=c.replace(R,S).toLowerCase(),function(e){var a;do if(a=T?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return a=a.toLowerCase(),a===c||0===a.indexOf(c+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var a=c.location&&c.location.hash;return a&&a.slice(1)===e.id},root:function(c){return c===aa},focus:function(c){return c===v.activeElement&&(!v.hasFocus||v.hasFocus())&&
!!(c.type||c.href||~c.tabIndex)},enabled:p(!1),disabled:p(!0),checked:function(c){var e=c.nodeName.toLowerCase();return"input"===e&&!!c.checked||"option"===e&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!X.pseudos.empty(c)},header:function(c){return Xa.test(c.nodeName)},input:function(c){return gb.test(c.nodeName)},button:function(c){var e=
c.nodeName.toLowerCase();return"input"===e&&"button"===c.type||"button"===e},text:function(c){var e;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(e=c.getAttribute("type"))||"text"===e.toLowerCase())},first:r(function(){return[0]}),last:r(function(c,e){return[e-1]}),eq:r(function(c,e,a){return[0>a?a+e:a]}),even:r(function(c,e){for(var a=0;a<e;a+=2)c.push(a);return c}),odd:r(function(c,e){for(var a=1;a<e;a+=2)c.push(a);return c}),lt:r(function(c,e,a){for(e=0>a?a+e:a;0<=--e;)c.push(e);
return c}),gt:r(function(c,e,a){for(a=0>a?a+e:a;++a<e;)c.push(a);return c})}};X.pseudos.nth=X.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[u]=f(u);for(u in{submit:!0,reset:!0})X.pseudos[u]=h(u);k.prototype=X.filters=X.pseudos;X.setFilters=new k;var ca=e.tokenize=function(c,a){var d,n,b,g,l;if(g=nb[c+" "])return a?0:g.slice(0);g=c;var t=[];for(l=X.preFilter;g;){f&&!(d=Ib.exec(g))||(d&&(g=g.slice(d[0].length)||g),t.push(n=[]));var f=!1;(d=M.exec(g))&&(f=d.shift(),
n.push({value:f,type:d[0].replace(Qa," ")}),g=g.slice(f.length));for(b in X.filter)!(d=Ia[b].exec(g))||l[b]&&!(d=l[b](d))||(f=d.shift(),n.push({value:f,type:b,matches:d}),g=g.slice(f.length));if(!f)break}return a?g.length:g?e.error(c):nb(c,t).slice(0)};return ha=e.compile=function(c,e){var a,d=[],n=[],b=G[c+" "];if(!b){e||(e=ca(c));for(a=e.length;a--;)b=ea(e[a]),b[U]?d.push(b):n.push(b);b=G(c,db(n,d));b.selector=c}return b},H=e.select=function(c,e,a,d){var n,b,g,l,t,f="function"==typeof c&&c,h=!d&&
ca(c=f.selector||c);if(a=a||[],1===h.length){if(b=h[0]=h[0].slice(0),2<b.length&&"ID"===(g=b[0]).type&&9===e.nodeType&&T&&X.relative[b[1].type]){if(e=(X.find.ID(g.matches[0].replace(R,S),e)||[])[0],!e)return a;f&&(e=e.parentNode);c=c.slice(b.shift().value.length)}for(n=Ia.needsContext.test(c)?0:b.length;n--&&(g=b[n],!X.relative[l=g.type]);)if((t=X.find[l])&&(d=t(g.matches[0].replace(R,S),V.test(b[0].type)&&m(e.parentNode)||e))){if(b.splice(n,1),c=d.length&&q(b),!c)return qa.apply(a,d),a;break}}return(f||
ha(c,h))(d,e,!T,a,!e||V.test(c)&&m(e.parentNode)||e),a},O.sortStable=U.split("").sort(K).join("")===U,O.detectDuplicates=!!w,Y(),O.sortDetached=b(function(c){return 1&c.compareDocumentPosition(v.createElement("fieldset"))}),b(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||g("type|href|height|width",function(c,e,a){if(!a)return c.getAttribute(e,"type"===e.toLowerCase()?1:2)}),O.attributes&&b(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||g("value",function(c,e,a){if(!a&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),b(function(c){return null==c.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,e,a){var d;if(!a)return!0===c[e]?e.toLowerCase():(d=c.getAttributeNode(e))&&d.specified?d.value:null}),e}(a);d.find=K;d.expr=K.selectors;d.expr[":"]=d.expr.pseudos;d.uniqueSort=
d.unique=K.uniqueSort;d.text=K.getText;d.isXMLDoc=K.isXML;d.contains=K.contains;d.escapeSelector=K.escape;var wb=function(c,e,a){for(var n=[],b=void 0!==a;(c=c[e])&&9!==c.nodeType;)if(1===c.nodeType){if(b&&d(c).is(a))break;n.push(c)}return n},Sb=function(c,e){for(var a=[];c;c=c.nextSibling)1===c.nodeType&&c!==e&&a.push(c);return a},Tb=d.expr.match.needsContext,Ub=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Wb=/^.[^:#\[\.,]*$/;d.filter=function(c,e,a){var n=e[0];return a&&(c=
":not("+c+")"),1===e.length&&1===n.nodeType?d.find.matchesSelector(n,c)?[n]:[]:d.find.matches(c,d.grep(e,function(c){return 1===c.nodeType}))};d.fn.extend({find:function(c){var e,a=this.length,b=this;if("string"!=typeof c)return this.pushStack(d(c).filter(function(){for(e=0;e<a;e++)if(d.contains(b[e],this))return!0}));var g=this.pushStack([]);for(e=0;e<a;e++)d.find(c,b[e],g);return 1<a?d.uniqueSort(g):g},filter:function(c){return this.pushStack(k(this,c||[],!1))},not:function(c){return this.pushStack(k(this,
c||[],!0))},is:function(c){return!!k(this,"string"==typeof c&&Tb.test(c)?d(c):c||[],!1).length}});var bc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(d.fn.init=function(c,e,a){var n,b;if(!c)return this;if(a=a||cc,"string"==typeof c){if(n="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:bc.exec(c),!n||!n[1]&&e)return!e||e.jquery?(e||a).find(c):this.constructor(e).find(c);if(n[1]){if(e=e instanceof d?e[0]:e,d.merge(this,d.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:I,!0)),Ub.test(n[1])&&d.isPlainObject(e))for(n in e)d.isFunction(this[n])?
this[n](e[n]):this.attr(n,e[n]);return this}return b=I.getElementById(n[2]),b&&(this[0]=b,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):d.isFunction(c)?void 0!==a.ready?a.ready(c):c(d):d.makeArray(c,this)}).prototype=d.fn;var cc=d(I);var dc=/^(?:parents|prev(?:Until|All))/,ec={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(c){var e=d(c,this),a=e.length;return this.filter(function(){for(var c=0;c<a;c++)if(d.contains(this,e[c]))return!0})},closest:function(c,
e){var a,b=0,g=this.length,l=[],f="string"!=typeof c&&d(c);if(!Tb.test(c))for(;b<g;b++)for(a=this[b];a&&a!==e;a=a.parentNode)if(11>a.nodeType&&(f?-1<f.index(a):1===a.nodeType&&d.find.matchesSelector(a,c))){l.push(a);break}return this.pushStack(1<l.length?d.uniqueSort(l):l)},index:function(c){return c?"string"==typeof c?A.call(d(c),this[0]):A.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,e){return this.pushStack(d.uniqueSort(d.merge(this.get(),
d(c,e))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});d.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return wb(c,"parentNode")},parentsUntil:function(c,e,a){return wb(c,"parentNode",a)},next:function(c){return v(c,"nextSibling")},prev:function(c){return v(c,"previousSibling")},nextAll:function(c){return wb(c,"nextSibling")},prevAll:function(c){return wb(c,"previousSibling")},nextUntil:function(c,e,a){return wb(c,
"nextSibling",a)},prevUntil:function(c,e,a){return wb(c,"previousSibling",a)},siblings:function(c){return Sb((c.parentNode||{}).firstChild,c)},children:function(c){return Sb(c.firstChild)},contents:function(c){return h(c,"iframe")?c.contentDocument:(h(c,"template")&&(c=c.content||c),d.merge([],c.childNodes))}},function(c,e){d.fn[c]=function(a,b){var n=d.map(this,e,a);return"Until"!==c.slice(-5)&&(b=a),b&&"string"==typeof b&&(n=d.filter(b,n)),1<this.length&&(ec[c]||d.uniqueSort(n),dc.test(c)&&n.reverse()),
this.pushStack(n)}});var xa=/[^\x20\t\r\n\f]+/g;d.Callbacks=function(c){c="string"==typeof c?x(c):d.extend({},c);var e,a,b,g,l=[],f=[],h=-1,p=function(){g=g||c.once;for(b=e=!0;f.length;h=-1)for(a=f.shift();++h<l.length;)!1===l[h].apply(a[0],a[1])&&c.stopOnFalse&&(h=l.length,a=!1);c.memory||(a=!1);e=!1;g&&(l=a?[]:"")},r={add:function(){return l&&(a&&!e&&(h=l.length-1,f.push(a)),function Zb(e){d.each(e,function(e,a){d.isFunction(a)?c.unique&&r.has(a)||l.push(a):a&&a.length&&"string"!==d.type(a)&&Zb(a)})}(arguments),
a&&!e&&p()),this},remove:function(){return d.each(arguments,function(c,e){for(var a;-1<(a=d.inArray(e,l,a));)l.splice(a,1),a<=h&&h--}),this},has:function(c){return c?-1<d.inArray(c,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return g=f=[],l=a="",this},disabled:function(){return!l},lock:function(){return g=f=[],a||e||(l=a=""),this},locked:function(){return!!g},fireWith:function(c,a){return g||(a=a||[],a=[c,a.slice?a.slice():a],f.push(a),e||p()),this},fire:function(){return r.fireWith(this,
arguments),this},fired:function(){return!!b}};return r};d.extend({Deferred:function(c){var e=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],b="pending",g={state:function(){return b},always:function(){return l.done(arguments).fail(arguments),this},"catch":function(c){return g.then(null,c)},pipe:function(){var c=
arguments;return d.Deferred(function(a){d.each(e,function(e,b){var n=d.isFunction(c[b[4]])&&c[b[4]];l[b[1]](function(){var c=n&&n.apply(this,arguments);c&&d.isFunction(c.promise)?c.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[b[0]+"With"](this,n?[c]:arguments)})});c=null}).promise()},then:function(c,b,n){function g(c,e,b,n){return function(){var f=this,t=arguments,h=function(){var a;if(!(c<l)){if(a=b.apply(f,t),a===e.promise())throw new TypeError("Thenable self-resolution");var h=
a&&("object"==typeof a||"function"==typeof a)&&a.then;d.isFunction(h)?n?h.call(a,g(l,e,u,n),g(l,e,G,n)):(l++,h.call(a,g(l,e,u,n),g(l,e,G,n),g(l,e,u,e.notifyWith))):(b!==u&&(f=void 0,t=[a]),(n||e.resolveWith)(f,t))}},p=n?h:function(){try{h()}catch(Rb){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Rb,p.stackTrace),c+1>=l&&(b!==G&&(f=void 0,t=[Rb]),e.rejectWith(f,t))}};c?p():(d.Deferred.getStackHook&&(p.stackTrace=d.Deferred.getStackHook()),a.setTimeout(p))}}var l=0;return d.Deferred(function(a){e[0][3].add(g(0,
a,d.isFunction(n)?n:u,a.notifyWith));e[1][3].add(g(0,a,d.isFunction(c)?c:u));e[2][3].add(g(0,a,d.isFunction(b)?b:G))}).promise()},promise:function(c){return null!=c?d.extend(c,g):g}},l={};return d.each(e,function(c,a){var d=a[2],n=a[5];g[a[1]]=d.add;n&&d.add(function(){b=n},e[3-c][2].disable,e[0][2].lock);d.add(a[3].fire);l[a[0]]=function(){return l[a[0]+"With"](this===l?void 0:this,arguments),this};l[a[0]+"With"]=d.fireWith}),g.promise(l),c&&c.call(l,l),l},when:function(c){var e=arguments.length,
a=e,b=Array(a),g=Fa.call(arguments),l=d.Deferred(),f=function(c){return function(a){b[c]=this;g[c]=1<arguments.length?Fa.call(arguments):a;--e||l.resolveWith(b,g)}};if(1>=e&&(y(c,l.done(f(a)).resolve,l.reject,!e),"pending"===l.state()||d.isFunction(g[a]&&g[a].then)))return l.then();for(;a--;)y(g[a],f(a),l.reject);return l.promise()}});var fc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(c,e){a.console&&a.console.warn&&c&&fc.test(c.name)&&a.console.warn("jQuery.Deferred exception: "+
c.message,c.stack,e)};d.readyException=function(c){a.setTimeout(function(){throw c;})};var Ob=d.Deferred();d.fn.ready=function(c){return Ob.then(c)["catch"](function(c){d.readyException(c)}),this};d.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--d.readyWait:d.isReady)||(d.isReady=!0,!0!==c&&0<--d.readyWait||Ob.resolveWith(I,[d]))}});d.ready.then=Ob.then;"complete"===I.readyState||"loading"!==I.readyState&&!I.documentElement.doScroll?a.setTimeout(d.ready):(I.addEventListener("DOMContentLoaded",
Q),a.addEventListener("load",Q));var w=function(c,e,a,b,g,l,f){var n=0,t=c.length,h=null==a;if("object"===d.type(a))for(n in g=!0,a)w(c,e,n,a[n],!0,l,f);else if(void 0!==b&&(g=!0,d.isFunction(b)||(f=!0),h&&(f?(e.call(c,b),e=null):(h=e,e=function(c,e,a){return h.call(d(c),a)})),e))for(;n<t;n++)e(c[n],a,f?b:b.call(c[n],n,e(c[n],a)));return g?c:h?e.call(c):t?e(c[0],a):l},Hb=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};Ba.uid=1;Ba.prototype={cache:function(c){var e=c[this.expando];
return e||(e={},Hb(c)&&(c.nodeType?c[this.expando]=e:Object.defineProperty(c,this.expando,{value:e,configurable:!0}))),e},set:function(c,e,a){var b;c=this.cache(c);if("string"==typeof e)c[d.camelCase(e)]=a;else for(b in e)c[d.camelCase(b)]=e[b];return c},get:function(c,e){return void 0===e?this.cache(c):c[this.expando]&&c[this.expando][d.camelCase(e)]},access:function(c,e,a){return void 0===e||e&&"string"==typeof e&&void 0===a?this.get(c,e):(this.set(c,e,a),void 0!==a?a:e)},remove:function(c,e){var a,
b=c[this.expando];if(void 0!==b){if(void 0!==e)for(Array.isArray(e)?e=e.map(d.camelCase):(e=d.camelCase(e),e=e in b?[e]:e.match(xa)||[]),a=e.length;a--;)delete b[e[a]];(void 0===e||d.isEmptyObject(b))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!d.isEmptyObject(c)}};var C=new Ba,R=new Ba,Ea=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xb=/[A-Z]/g;d.extend({hasData:function(c){return R.hasData(c)||C.hasData(c)},data:function(c,e,a){return R.access(c,
e,a)},removeData:function(c,e){R.remove(c,e)},_data:function(c,e,a){return C.access(c,e,a)},_removeData:function(c,e){C.remove(c,e)}});d.fn.extend({data:function(c,e){var a,b,g,l=this[0],f=l&&l.attributes;if(void 0===c){if(this.length&&(g=R.get(l),1===l.nodeType&&!C.get(l,"hasDataAttrs"))){for(a=f.length;a--;)f[a]&&(b=f[a].name,0===b.indexOf("data-")&&(b=d.camelCase(b.slice(5)),ta(l,b,g[b])));C.set(l,"hasDataAttrs",!0)}return g}return"object"==typeof c?this.each(function(){R.set(this,c)}):w(this,
function(e){var a;if(l&&void 0===e){if((a=R.get(l,c),void 0!==a)||(a=ta(l,c),void 0!==a))return a}else this.each(function(){R.set(this,c,e)})},null,e,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){R.remove(this,c)})}});d.extend({queue:function(c,e,a){var b;if(c)return e=(e||"fx")+"queue",b=C.get(c,e),a&&(!b||Array.isArray(a)?b=C.access(c,e,d.makeArray(a)):b.push(a)),b||[]},dequeue:function(c,e){e=e||"fx";var a=d.queue(c,e),b=a.length,g=a.shift(),l=d._queueHooks(c,
e),f=function(){d.dequeue(c,e)};"inprogress"===g&&(g=a.shift(),b--);g&&("fx"===e&&a.unshift("inprogress"),delete l.stop,g.call(c,f,l));!b&&l&&l.empty.fire()},_queueHooks:function(c,e){var a=e+"queueHooks";return C.get(c,a)||C.access(c,a,{empty:d.Callbacks("once memory").add(function(){C.remove(c,[e+"queue",a])})})}});d.fn.extend({queue:function(c,e){var a=2;return"string"!=typeof c&&(e=c,c="fx",a--),arguments.length<a?d.queue(this[0],c):void 0===e?this:this.each(function(){var a=d.queue(this,c,e);
d._queueHooks(this,c);"fx"===c&&"inprogress"!==a[0]&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,e){var a,b=1,g=d.Deferred(),l=this,f=this.length,h=function(){--b||g.resolveWith(l,[l])};"string"!=typeof c&&(e=c,c=void 0);for(c=c||"fx";f--;)(a=C.get(l[f],c+"queueHooks"))&&a.empty&&(b++,a.empty.add(h));return h(),g.promise(e)}});var Cb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,M=
new RegExp("^(?:([+-])=|)("+Cb+")([a-z%]*)$","i"),fa=["Top","Right","Bottom","Left"],Ta=function(c,e){return c=e||c,"none"===c.style.display||""===c.style.display&&d.contains(c.ownerDocument,c)&&"none"===d.css(c,"display")},sa=function(c,e,a,d){var b,g={};for(b in e)g[b]=c.style[b],c.style[b]=e[b];a=a.apply(c,d||[]);for(b in e)c.style[b]=g[b];return a},La={};d.fn.extend({show:function(){return Ga(this,!0)},hide:function(){return Ga(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():
this.hide():this.each(function(){Ta(this)?d(this).show():d(this).hide()})}});var B=/^(?:checkbox|radio)$/i,Qb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,g=/^$|\/(?:java|ecma)script/i,z={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};z.optgroup=z.option;z.tbody=z.tfoot=z.colgroup=z.caption=z.thead;z.th=z.td;
var Ca=/<|&#?\w+;/;!function(){var c=I.createDocumentFragment().appendChild(I.createElement("div")),e=I.createElement("input");e.setAttribute("type","radio");e.setAttribute("checked","checked");e.setAttribute("name","t");c.appendChild(e);H.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";H.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Y=I.documentElement,Ya=/^key/,P=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oa=/^([^.]*)(?:\.(.+)|)/;
d.event={global:{},add:function(c,e,a,b,g){var n,l,f,h,t,p,r,m;if(h=C.get(c))for(a.handler&&(n=a,a=n.handler,g=n.selector),g&&d.find.matchesSelector(Y,g),a.guid||(a.guid=d.guid++),(f=h.events)||(f=h.events={}),(l=h.handle)||(l=h.handle=function(e){return"undefined"!=typeof d&&d.event.triggered!==e.type?d.event.dispatch.apply(c,arguments):void 0}),e=(e||"").match(xa)||[""],h=e.length;h--;){var k=oa.exec(e[h])||[];var D=m=k[1];k=(k[2]||"").split(".").sort();D&&(p=d.event.special[D]||{},D=(g?p.delegateType:
p.bindType)||D,p=d.event.special[D]||{},t=d.extend({type:D,origType:m,data:b,handler:a,guid:a.guid,selector:g,needsContext:g&&d.expr.match.needsContext.test(g),namespace:k.join(".")},n),(r=f[D])||(r=f[D]=[],r.delegateCount=0,p.setup&&!1!==p.setup.call(c,b,k,l)||c.addEventListener&&c.addEventListener(D,l)),p.add&&(p.add.call(c,t),t.handler.guid||(t.handler.guid=a.guid)),g?r.splice(r.delegateCount++,0,t):r.push(t),d.event.global[D]=!0)}},remove:function(c,e,a,b,g){var n,l,f,h,t,p,r,m,k=C.hasData(c)&&
C.get(c);if(k&&(h=k.events)){e=(e||"").match(xa)||[""];for(t=e.length;t--;)if(f=oa.exec(e[t])||[],p=m=f[1],r=(f[2]||"").split(".").sort(),p){var D=d.event.special[p]||{};p=(b?D.delegateType:D.bindType)||p;var q=h[p]||[];f=f[2]&&new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=n=q.length;n--;){var N=q[n];!g&&m!==N.origType||a&&a.guid!==N.guid||f&&!f.test(N.namespace)||b&&b!==N.selector&&("**"!==b||!N.selector)||(q.splice(n,1),N.selector&&q.delegateCount--,D.remove&&D.remove.call(c,N))}l&&
!q.length&&(D.teardown&&!1!==D.teardown.call(c,r,k.handle)||d.removeEvent(c,p,k.handle),delete h[p])}else for(p in h)d.event.remove(c,p+e[t],a,b,!0);d.isEmptyObject(h)&&C.remove(c,"handle events")}},dispatch:function(c){var e=d.event.fix(c),a,b,g,l,f=Array(arguments.length);var h=(C.get(this,"events")||{})[e.type]||[];var p=d.event.special[e.type]||{};f[0]=e;for(a=1;a<arguments.length;a++)f[a]=arguments[a];if(e.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,e)){var r=d.event.handlers.call(this,
e,h);for(a=0;(g=r[a++])&&!e.isPropagationStopped();)for(e.currentTarget=g.elem,h=0;(l=g.handlers[h++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(l.namespace)||(e.handleObj=l,e.data=l.data,b=((d.event.special[l.origType]||{}).handle||l.handler).apply(g.elem,f),void 0!==b&&!1===(e.result=b)&&(e.preventDefault(),e.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,e),e.result}},handlers:function(c,a){var e,b=[],g=a.delegateCount,l=c.target;if(g&&l.nodeType&&
!("click"===c.type&&1<=c.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==c.type||!0!==l.disabled)){var f=[];var h={};for(e=0;e<g;e++){var p=a[e];var r=p.selector+" ";void 0===h[r]&&(h[r]=p.needsContext?-1<d(r,this).index(l):d.find(r,this,null,[l]).length);h[r]&&f.push(p)}f.length&&b.push({elem:l,handlers:f})}return l=this,g<a.length&&b.push({elem:l,handlers:a.slice(g)}),b},addProp:function(c,a){Object.defineProperty(d.Event.prototype,c,{enumerable:!0,configurable:!0,get:d.isFunction(a)?
function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(a){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(c){return c[d.expando]?c:new d.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ob()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ob()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&h(this,"input"))return this.click(),!1},_default:function(c){return h(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};d.removeEvent=function(c,a,d){c.removeEventListener&&c.removeEventListener(a,d)};d.Event=function(c,a){return this instanceof d.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===
c.defaultPrevented&&!1===c.returnValue?ka:O,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,a&&d.extend(this,a),this.timeStamp=c&&c.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(c,a)};d.Event.prototype={constructor:d.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=
ka;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=ka;c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=ka;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(c){var a=c.button;return null==c.which&&Ya.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==a&&P.test(c.type)?1&a?1:2&a?3:4&a?2:0:c.which}},d.event.addProp);d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,a){d.event.special[c]=
{delegateType:a,bindType:a,handle:function(c){var e,b=c.relatedTarget,g=c.handleObj;return b&&(b===this||d.contains(this,b))||(c.type=g.origType,e=g.handler.apply(this,arguments),c.type=a),e}}});d.fn.extend({on:function(c,a,d,b){return hb(this,c,a,d,b)},one:function(c,a,d,b){return hb(this,c,a,d,b,1)},off:function(c,a,b){var e,g;if(c&&c.preventDefault&&c.handleObj)return e=c.handleObj,d(c.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==
typeof c){for(g in c)this.off(g,a,c[g]);return this}return!1!==a&&"function"!=typeof a||(b=a,a=void 0),!1===b&&(b=O),this.each(function(){d.event.remove(this,c,b,a)})}});var Za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,eb=/<script|<style|<link/i,$b=/checked\s*(?:[^=]|=\s*.checked.)/i,ib=/^true\/(.*)/,ua=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;d.extend({htmlPrefilter:function(c){return c.replace(Za,"<$1></$2>")},clone:function(c,a,b){var e,g=c.cloneNode(!0),
l=d.contains(c.ownerDocument,c);if(!(H.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||d.isXMLDoc(c))){var n=ba(g);var f=ba(c);var h=0;for(e=f.length;h<e;h++){var p=f[h],r=n[h],m=r.nodeName.toLowerCase();"input"===m&&B.test(p.type)?r.checked=p.checked:"input"!==m&&"textarea"!==m||(r.defaultValue=p.defaultValue)}}if(a)if(b)for(f=f||ba(c),n=n||ba(g),h=0,e=f.length;h<e;h++)tb(f[h],n[h]);else tb(c,g);return n=ba(g,"script"),0<n.length&&Ha(n,!l&&ba(c,"script")),g},cleanData:function(c){for(var a,b,g,
l=d.event.special,f=0;void 0!==(b=c[f]);f++)if(Hb(b)){if(a=b[C.expando]){if(a.events)for(g in a.events)l[g]?d.event.remove(b,g):d.removeEvent(b,g,a.handle);b[C.expando]=void 0}b[R.expando]&&(b[R.expando]=void 0)}}});d.fn.extend({detach:function(c){return pb(this,c,!0)},remove:function(c){return pb(this,c)},text:function(c){return w(this,function(c){return void 0===c?d.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},
append:function(){return Aa(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xb(this,c).appendChild(c)})},prepend:function(){return Aa(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=xb(this,c);a.insertBefore(c,a.firstChild)}})},before:function(){return Aa(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Aa(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,
this.nextSibling)})},empty:function(){for(var c,a=0;null!=(c=this[a]);a++)1===c.nodeType&&(d.cleanData(ba(c,!1)),c.textContent="");return this},clone:function(c,a){return c=null!=c&&c,a=null==a?c:a,this.map(function(){return d.clone(this,c,a)})},html:function(c){return w(this,function(c){var a=this[0]||{},e=0,b=this.length;if(void 0===c&&1===a.nodeType)return a.innerHTML;if("string"==typeof c&&!eb.test(c)&&!z[(Qb.exec(c)||["",""])[1].toLowerCase()]){c=d.htmlPrefilter(c);try{for(;e<b;e++)a=this[e]||
{},1===a.nodeType&&(d.cleanData(ba(a,!1)),a.innerHTML=c);a=0}catch(za){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];return Aa(this,arguments,function(a){var e=this.parentNode;0>d.inArray(this,c)&&(d.cleanData(ba(this)),e&&e.replaceChild(a,this))},c)}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){d.fn[c]=function(c){for(var e=[],b=d(c),g=b.length-1,l=0;l<=g;l++)c=l===g?this:
this.clone(!0),d(b[l])[a](c),p.apply(e,c.get());return this.pushStack(e)}});var S=/^margin/,ca=new RegExp("^("+Cb+")(?!px)[a-z%]+$","i"),V=function(c){var e=c.ownerDocument.defaultView;return e&&e.opener||(e=a),e.getComputedStyle(c)};!function(){function c(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";h.innerHTML="";Y.appendChild(f);var c=a.getComputedStyle(h);e="1%"!==c.top;l="2px"===c.marginLeft;b="4px"===c.width;
h.style.marginRight="50%";g="4px"===c.marginRight;Y.removeChild(f);h=null}}var e,b,g,l,f=I.createElement("div"),h=I.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",H.clearCloneStyle="content-box"===h.style.backgroundClip,f.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",f.appendChild(h),d.extend(H,{pixelPosition:function(){return c(),e},boxSizingReliable:function(){return c(),b},pixelMarginRight:function(){return c(),
g},reliableMarginLeft:function(){return c(),l}}))}();var fb=/^(none|table(?!-c[ea]).+)/,lb=/^--/,mb={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},q=["Webkit","Moz","ms"],la=I.createElement("div").style;d.extend({cssHooks:{opacity:{get:function(c,a){if(a){var e=cb(c,"opacity");return""===e?"1":e}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,
widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,a,b,g){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var e,l,n,f=d.camelCase(a),h=lb.test(a),p=c.style;return h||(a=ub(f)),n=d.cssHooks[a]||d.cssHooks[f],void 0===b?n&&"get"in n&&void 0!==(e=n.get(c,!1,g))?e:p[a]:(l=typeof b,"string"===l&&(e=M.exec(b))&&e[1]&&(b=Sa(c,a,e),l="number"),null!=b&&b===b&&("number"===l&&(b+=e&&e[3]||(d.cssNumber[f]?"":"px")),H.clearCloneStyle||""!==b||0!==a.indexOf("background")||(p[a]="inherit"),
n&&"set"in n&&void 0===(b=n.set(c,b,g))||(h?p.setProperty(a,b):p[a]=b)),void 0)}},css:function(c,a,b,g){var e,l,n,f=d.camelCase(a);return lb.test(a)||(a=ub(f)),n=d.cssHooks[a]||d.cssHooks[f],n&&"get"in n&&(e=n.get(c,!0,b)),void 0===e&&(e=cb(c,a,g)),"normal"===e&&a in $a&&(e=$a[a]),""===b||b?(l=parseFloat(e),!0===b||isFinite(l)?l||0:e):e}});d.each(["height","width"],function(c,a){d.cssHooks[a]={get:function(c,e,b){if(e)return!fb.test(d.css(c,"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?
Ab(c,a,b):sa(c,mb,function(){return Ab(c,a,b)})},set:function(c,e,b){var g,l=b&&V(c);b=b&&Db(c,a,b,"border-box"===d.css(c,"boxSizing",!1,l),l);return b&&(g=M.exec(e))&&"px"!==(g[3]||"px")&&(c.style[a]=e,e=d.css(c,a)),zb(c,e,b)}}});d.cssHooks.marginLeft=qb(H.reliableMarginLeft,function(c,a){if(a)return(parseFloat(cb(c,"marginLeft"))||c.getBoundingClientRect().left-sa(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});d.each({margin:"",padding:"",border:"Width"},function(c,
a){d.cssHooks[c+a]={expand:function(e){var d=0,b={};for(e="string"==typeof e?e.split(" "):[e];4>d;d++)b[c+fa[d]+a]=e[d]||e[d-2]||e[0];return b}};S.test(c)||(d.cssHooks[c+a].set=zb)});d.fn.extend({css:function(c,a){return w(this,function(c,a,e){var b,g={},l=0;if(Array.isArray(a)){e=V(c);for(b=a.length;l<b;l++)g[a[l]]=d.css(c,a[l],!1,e);return g}return void 0!==e?d.style(c,a,e):d.css(c,a)},c,a,1<arguments.length)}});d.Tween=W;W.prototype={constructor:W,init:function(c,a,b,g,l,f){this.elem=c;this.prop=
b;this.easing=l||d.easing._default;this.options=a;this.start=this.now=this.cur();this.end=g;this.unit=f||(d.cssNumber[b]?"":"px")},cur:function(){var c=W.propHooks[this.prop];return c&&c.get?c.get(this):W.propHooks._default.get(this)},run:function(c){var a,b=W.propHooks[this.prop];return this.options.duration?this.pos=a=d.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=a=c,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,
this.now,this),b&&b.set?b.set(this):W.propHooks._default.set(this),this}};W.prototype.init.prototype=W.prototype;W.propHooks={_default:{get:function(c){var a;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(a=d.css(c.elem,c.prop,""),a&&"auto"!==a?a:0)},set:function(c){d.fx.step[c.prop]?d.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[d.cssProps[c.prop]]&&!d.cssHooks[c.prop]?c.elem[c.prop]=c.now:d.style(c.elem,c.prop,c.now+c.unit)}}};W.propHooks.scrollTop=
W.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};d.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};d.fx=W.prototype.init;d.fx.step={};var Z,na,Ka=/^(?:toggle|show|hide)$/,Oa=/queueHooks$/;d.Animation=d.extend(va,{tweeners:{"*":[function(c,a){var e=this.createTween(c,a);return Sa(e.elem,c,M.exec(a),e),e}]},tweener:function(c,a){d.isFunction(c)?(a=c,c=["*"]):c=c.match(xa);for(var e,b=0,g=c.length;b<
g;b++)e=c[b],va.tweeners[e]=va.tweeners[e]||[],va.tweeners[e].unshift(a)},prefilters:[function(c,a,b){var e,g,l,f,n,h,p,r,m="width"in a||"height"in a,k=this,q={},N=c.style,A=c.nodeType&&Ta(c),L=C.get(c,"fxshow");b.queue||(f=d._queueHooks(c,"fx"),null==f.unqueued&&(f.unqueued=0,n=f.empty.fire,f.empty.fire=function(){f.unqueued||n()}),f.unqueued++,k.always(function(){k.always(function(){f.unqueued--;d.queue(c,"fx").length||f.empty.fire()})}));for(e in a)if(g=a[e],Ka.test(g)){if(delete a[e],l=l||"toggle"===
g,g===(A?"hide":"show")){if("show"!==g||!L||void 0===L[e])continue;A=!0}q[e]=L&&L[e]||d.style(c,e)}if(h=!d.isEmptyObject(a),h||!d.isEmptyObject(q))for(e in m&&1===c.nodeType&&(b.overflow=[N.overflow,N.overflowX,N.overflowY],p=L&&L.display,null==p&&(p=C.get(c,"display")),r=d.css(c,"display"),"none"===r&&(p?r=p:(Ga([c],!0),p=c.style.display||p,r=d.css(c,"display"),Ga([c]))),("inline"===r||"inline-block"===r&&null!=p)&&"none"===d.css(c,"float")&&(h||(k.done(function(){N.display=p}),null==p&&(r=N.display,
p="none"===r?"":r)),N.display="inline-block")),b.overflow&&(N.overflow="hidden",k.always(function(){N.overflow=b.overflow[0];N.overflowX=b.overflow[1];N.overflowY=b.overflow[2]})),h=!1,q)h||(L?"hidden"in L&&(A=L.hidden):L=C.access(c,"fxshow",{display:p}),l&&(L.hidden=!A),A&&Ga([c],!0),k.done(function(){A||Ga([c]);C.remove(c,"fxshow");for(e in q)d.style(c,e,q[e])})),h=Fb(A?L[e]:0,e,k),e in L||(L[e]=h.start,A&&(h.end=h.start,h.start=0))}],prefilter:function(c,a){a?va.prefilters.unshift(c):va.prefilters.push(c)}});
d.speed=function(c,a,b){var e=c&&"object"==typeof c?d.extend({},c):{complete:b||!b&&a||d.isFunction(c)&&c,duration:c,easing:b&&a||a&&!d.isFunction(a)&&a};return d.fx.off?e.duration=0:"number"!=typeof e.duration&&(e.duration in d.fx.speeds?e.duration=d.fx.speeds[e.duration]:e.duration=d.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)},e};d.fn.extend({fadeTo:function(c,a,d,b){return this.filter(Ta).css("opacity",
0).show().end().animate({opacity:a},c,d,b)},animate:function(c,a,b,g){var e=d.isEmptyObject(c),l=d.speed(a,b,g);a=function(){var a=va(this,d.extend({},c),l);(e||C.get(this,"finish"))&&a.stop(!0)};return a.finish=a,e||!1===l.queue?this.each(a):this.queue(l.queue,a)},stop:function(c,a,b){var e=function(c){var a=c.stop;delete c.stop;a(b)};return"string"!=typeof c&&(b=a,a=c,c=void 0),a&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var a=!0,g=null!=c&&c+"queueHooks",l=d.timers,f=C.get(this);if(g)f[g]&&
f[g].stop&&e(f[g]);else for(g in f)f[g]&&f[g].stop&&Oa.test(g)&&e(f[g]);for(g=l.length;g--;)l[g].elem!==this||null!=c&&l[g].queue!==c||(l[g].anim.stop(b),a=!1,l.splice(g,1));!a&&b||d.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var a=C.get(this),b=a[c+"queue"];var g=a[c+"queueHooks"];var l=d.timers,f=b?b.length:0;a.finish=!0;d.queue(this,c,[]);g&&g.stop&&g.stop.call(this,!0);for(g=l.length;g--;)l[g].elem===this&&l[g].queue===c&&(l[g].anim.stop(!0),l.splice(g,
1));for(g=0;g<f;g++)b[g]&&b[g].finish&&b[g].finish.call(this);delete a.finish})}});d.each(["toggle","show","hide"],function(c,a){var e=d.fn[a];d.fn[a]=function(c,b,d){return null==c||"boolean"==typeof c?e.apply(this,arguments):this.animate(Wa(a,!0),c,b,d)}});d.each({slideDown:Wa("show"),slideUp:Wa("hide"),slideToggle:Wa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,a){d.fn[c]=function(c,e,b){return this.animate(a,c,e,b)}});d.timers=[];d.fx.tick=
function(){var c=0,a=d.timers;for(Z=d.now();c<a.length;c++){var b=a[c];b()||a[c]!==b||a.splice(c--,1)}a.length||d.fx.stop();Z=void 0};d.fx.timer=function(c){d.timers.push(c);d.fx.start()};d.fx.interval=13;d.fx.start=function(){na||(na=!0,jb())};d.fx.stop=function(){na=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fn.delay=function(c,e){return c=d.fx?d.fx.speeds[c]||c:c,e=e||"fx",this.queue(e,function(e,b){var d=a.setTimeout(e,c);b.stop=function(){a.clearTimeout(d)}})};(function(){var c=I.createElement("input"),
a=I.createElement("select").appendChild(I.createElement("option"));c.type="checkbox";H.checkOn=""!==c.value;H.optSelected=a.selected;c=I.createElement("input");c.value="t";c.type="radio";H.radioValue="t"===c.value})();var J=d.expr.attrHandle;d.fn.extend({attr:function(c,a){return w(this,d.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})}});d.extend({attr:function(c,a,b){var e,g,l=c.nodeType;if(3!==l&&8!==l&&2!==l)return"undefined"==typeof c.getAttribute?
d.prop(c,a,b):(1===l&&d.isXMLDoc(c)||(g=d.attrHooks[a.toLowerCase()]||(d.expr.match.bool.test(a)?E:void 0)),void 0!==b?null===b?void d.removeAttr(c,a):g&&"set"in g&&void 0!==(e=g.set(c,b,a))?e:(c.setAttribute(a,b+""),b):g&&"get"in g&&null!==(e=g.get(c,a))?e:(e=d.find.attr(c,a),null==e?void 0:e))},attrHooks:{type:{set:function(c,a){if(!H.radioValue&&"radio"===a&&h(c,"input")){var e=c.value;return c.setAttribute("type",a),e&&(c.value=e),a}}}},removeAttr:function(c,a){var e,b=0,d=a&&a.match(xa);if(d&&
1===c.nodeType)for(;e=d[b++];)c.removeAttribute(e)}});var E={set:function(c,a,b){return!1===a?d.removeAttr(c,b):c.setAttribute(b,b),b}};d.each(d.expr.match.bool.source.match(/\w+/g),function(c,a){var e=J[a]||d.find.attr;J[a]=function(c,a,b){var d,g,l=a.toLowerCase();return b||(g=J[l],J[l]=d,d=null!=e(c,a,b)?l:null,J[l]=g),d}});var N=/^(?:input|select|textarea|button)$/i,F=/^(?:a|area)$/i;d.fn.extend({prop:function(c,a){return w(this,d.prop,c,a,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[d.propFix[c]||
c]})}});d.extend({prop:function(c,a,b){var e,g,l=c.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&d.isXMLDoc(c)||(a=d.propFix[a]||a,g=d.propHooks[a]),void 0!==b?g&&"set"in g&&void 0!==(e=g.set(c,b,a))?e:c[a]=b:g&&"get"in g&&null!==(e=g.get(c,a))?e:c[a]},propHooks:{tabIndex:{get:function(c){var a=d.find.attr(c,"tabindex");return a?parseInt(a,10):N.test(c.nodeName)||F.test(c.nodeName)&&c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});H.optSelected||(d.propHooks.selected={get:function(c){c=
c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});d.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.propFix[this.toLowerCase()]=this});d.fn.extend({addClass:function(c){var a,b,g,l,f,h,p=0;if(d.isFunction(c))return this.each(function(a){d(this).addClass(c.call(this,a,ya(this)))});if("string"==typeof c&&
c)for(a=c.match(xa)||[];b=this[p++];)if(l=ya(b),g=1===b.nodeType&&" "+wa(l)+" "){for(h=0;f=a[h++];)0>g.indexOf(" "+f+" ")&&(g+=f+" ");g=wa(g);l!==g&&b.setAttribute("class",g)}return this},removeClass:function(c){var a,b,g,l,f,h,p=0;if(d.isFunction(c))return this.each(function(a){d(this).removeClass(c.call(this,a,ya(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof c&&c)for(a=c.match(xa)||[];b=this[p++];)if(l=ya(b),g=1===b.nodeType&&" "+wa(l)+" "){for(h=0;f=a[h++];)for(;-1<
g.indexOf(" "+f+" ");)g=g.replace(" "+f+" "," ");g=wa(g);l!==g&&b.setAttribute("class",g)}return this},toggleClass:function(c,a){var e=typeof c;return"boolean"==typeof a&&"string"===e?a?this.addClass(c):this.removeClass(c):d.isFunction(c)?this.each(function(e){d(this).toggleClass(c.call(this,e,ya(this),a),a)}):this.each(function(){var a,b;if("string"===e){var g=0;var l=d(this);for(b=c.match(xa)||[];a=b[g++];)l.hasClass(a)?l.removeClass(a):l.addClass(a)}else void 0!==c&&"boolean"!==e||(a=ya(this),
a&&C.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===c?"":C.get(this,"__className__")||""))})},hasClass:function(c){var a,b=0;for(c=" "+c+" ";a=this[b++];)if(1===a.nodeType&&-1<(" "+wa(ya(a))+" ").indexOf(c))return!0;return!1}});var Pa=/\r/g;d.fn.extend({val:function(c){var a,b,g,l=this[0];if(arguments.length)return g=d.isFunction(c),this.each(function(e){var b;1===this.nodeType&&(b=g?c.call(this,e,d(this).val()):c,null==b?b="":"number"==typeof b?b+="":Array.isArray(b)&&
(b=d.map(b,function(c){return null==c?"":c+""})),a=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,b,"value")||(this.value=b))});if(l)return a=d.valHooks[l.type]||d.valHooks[l.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(b=a.get(l,"value"))?b:(b=l.value,"string"==typeof b?b.replace(Pa,""):null==b?"":b)}});d.extend({valHooks:{option:{get:function(c){var a=d.find.attr(c,"value");return null!=a?a:wa(d.text(c))}},select:{get:function(c){var a,b,g=c.options,
l=c.selectedIndex,f="select-one"===c.type,p=f?null:[],r=f?l+1:g.length;for(b=0>l?r:f?l:0;b<r;b++)if(a=g[b],!(!a.selected&&b!==l||a.disabled||a.parentNode.disabled&&h(a.parentNode,"optgroup"))){if(c=d(a).val(),f)return c;p.push(c)}return p},set:function(c,a){for(var e,b,g=c.options,l=d.makeArray(a),f=g.length;f--;)b=g[f],(b.selected=-1<d.inArray(d.valHooks.option.get(b),l))&&(e=!0);return e||(c.selectedIndex=-1),l}}}});d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(c,a){if(Array.isArray(a))return c.checked=
-1<d.inArray(d(c).val(),a)}};H.checkOn||(d.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var pa=/^(?:focusinfocus|focusoutblur)$/;d.extend(d.event,{trigger:function(c,e,b,g){var l,f,h,n,p,r=[b||I],m=ia.call(c,"type")?c.type:c;var k=ia.call(c,"namespace")?c.namespace.split("."):[];if(l=f=b=b||I,3!==b.nodeType&&8!==b.nodeType&&!pa.test(m+d.event.triggered)&&(-1<m.indexOf(".")&&(k=m.split("."),m=k.shift(),k.sort()),h=0>m.indexOf(":")&&"on"+m,c=c[d.expando]?c:new d.Event(m,
"object"==typeof c&&c),c.isTrigger=g?2:3,c.namespace=k.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=b),e=null==e?[c]:d.makeArray(e,[c]),p=d.event.special[m]||{},g||!p.trigger||!1!==p.trigger.apply(b,e))){if(!g&&!p.noBubble&&!d.isWindow(b)){var q=p.delegateType||m;for(pa.test(q+m)||(l=l.parentNode);l;l=l.parentNode)r.push(l),f=l;f===(b.ownerDocument||I)&&r.push(f.defaultView||f.parentWindow||a)}for(k=0;(l=r[k++])&&
!c.isPropagationStopped();)c.type=1<k?q:p.bindType||m,(n=(C.get(l,"events")||{})[c.type]&&C.get(l,"handle"))&&n.apply(l,e),(n=h&&l[h])&&n.apply&&Hb(l)&&(c.result=n.apply(l,e),!1===c.result&&c.preventDefault());return c.type=m,g||c.isDefaultPrevented()||p._default&&!1!==p._default.apply(r.pop(),e)||!Hb(b)||h&&d.isFunction(b[m])&&!d.isWindow(b)&&(f=b[h],f&&(b[h]=null),d.event.triggered=m,b[m](),d.event.triggered=void 0,f&&(b[h]=f)),c.result}},simulate:function(c,a,b){c=d.extend(new d.Event,b,{type:c,
isSimulated:!0});d.event.trigger(c,null,a)}});d.fn.extend({trigger:function(c,a){return this.each(function(){d.event.trigger(c,a,this)})},triggerHandler:function(c,a){var e=this[0];if(e)return d.event.trigger(c,a,e,!0)}});d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,a){d.fn[a]=function(c,e){return 0<arguments.length?this.on(a,null,
c,e):this.trigger(a)}});d.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)}});H.focusin="onfocusin"in a;H.focusin||d.each({focus:"focusin",blur:"focusout"},function(c,a){var e=function(c){d.event.simulate(a,c.target,d.event.fix(c))};d.event.special[a]={setup:function(){var b=this.ownerDocument||this,d=C.access(b,a);d||b.addEventListener(c,e,!0);C.access(b,a,(d||0)+1)},teardown:function(){var b=this.ownerDocument||this,d=C.access(b,a)-1;d?C.access(b,a,d):(b.removeEventListener(c,
e,!0),C.remove(b,a))}}});var Ia=a.location,Va=d.now(),Qa=/\?/;d.parseXML=function(c){if(!c||"string"!=typeof c)return null;try{var e=(new a.DOMParser).parseFromString(c,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+c),e};var Ja=/\[\]$/,Vb=/\r?\n/g,l=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i;d.param=function(c,a){var e,b=[],g=function(c,a){var e=d.isFunction(a)?a():a;b[b.length]=encodeURIComponent(c)+
"="+encodeURIComponent(null==e?"":e)};if(Array.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){g(this.name,this.value)});else for(e in c)kb(e,c[e],a,g);return b.join("&")};d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=d.prop(this,"elements");return c?d.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!d(this).is(":disabled")&&r.test(this.nodeName)&&!l.test(c)&&(this.checked||
!B.test(c))}).map(function(c,a){var e=d(this).val();return null==e?null:Array.isArray(e)?d.map(e,function(c){return{name:a.name,value:c.replace(Vb,"\r\n")}}):{name:a.name,value:e.replace(Vb,"\r\n")}}).get()}});var L=/%20/g,ea=/#.*$/,aa=/([?&])_=[^&]*/,ja=/^(.*?):[ \t]*([^\r\n]*)$/gm,T=/^(?:GET|HEAD)$/,nb=/^\/\//,qa={},Xa={},ab="*/".concat("*"),Ra=I.createElement("a");Ra.href=Ia.href;d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ia.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ab,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?
da(da(c,d.ajaxSettings),a):da(d.ajaxSettings,c)},ajaxPrefilter:vb(qa),ajaxTransport:vb(Xa),ajax:function(c,e){function b(c,e,b,f){var n,r,m,L=e;if(!w){w=!0;h&&a.clearTimeout(h);g=void 0;l=f||"";F.readyState=0<c?4:0;f=200<=c&&300>c||304===c;if(b){var t=k;for(var ea=F,u,v,ha,H,aa=t.contents,x=t.dataTypes;"*"===x[0];)x.shift(),void 0===u&&(u=t.mimeType||ea.getResponseHeader("Content-Type"));if(u)for(v in aa)if(aa[v]&&aa[v].test(u)){x.unshift(v);break}if(x[0]in b)ha=x[0];else{for(v in b){if(!x[0]||t.converters[v+
" "+x[0]]){ha=v;break}H||(H=v)}ha=ha||H}b=ha?(ha!==x[0]&&x.unshift(ha),b[ha]):void 0;t=b}a:{b=k;u=t;v=F;ha=f;var T,D,U;t={};ea=b.dataTypes.slice();if(ea[1])for(T in b.converters)t[T.toLowerCase()]=b.converters[T];for(H=ea.shift();H;)if(b.responseFields[H]&&(v[b.responseFields[H]]=u),!U&&ha&&b.dataFilter&&(u=b.dataFilter(u,b.dataType)),U=H,H=ea.shift())if("*"===H)H=U;else if("*"!==U&&U!==H){if(T=t[U+" "+H]||t["* "+H],!T)for(y in t)if(D=y.split(" "),D[1]===H&&(T=t[U+" "+D[0]]||t["* "+D[0]])){!0===T?
T=t[y]:!0!==t[y]&&(H=D[0],ea.unshift(D[1]));break}if(!0!==T)if(T&&b["throws"])u=T(u);else try{u=T(u)}catch(ac){var y={state:"parsererror",error:T?ac:"No conversion from "+U+" to "+H};break a}}y={state:"success",data:u}}t=y;f?(k.ifModified&&(m=F.getResponseHeader("Last-Modified"),m&&(d.lastModified[ia]=m),m=F.getResponseHeader("etag"),m&&(d.etag[ia]=m)),204===c||"HEAD"===k.type?L="nocontent":304===c?L="notmodified":(L=t.state,n=t.data,r=t.error,f=!r)):(r=L,!c&&L||(L="error",0>c&&(c=0)));F.status=c;
F.statusText=(e||L)+"";f?A.resolveWith(q,[n,L,F]):A.rejectWith(q,[F,L,r]);F.statusCode(db);db=void 0;p&&N.trigger(f?"ajaxSuccess":"ajaxError",[F,k,f?n:r]);Na.fireWith(q,[F,L]);p&&(N.trigger("ajaxComplete",[F,k]),--d.active||d.event.trigger("ajaxStop"))}}"object"==typeof c&&(e=c,c=void 0);e=e||{};var g,l,f,h,p,r,m,k=d.ajaxSetup({},e),q=k.context||k,N=k.context&&(q.nodeType||q.jquery)?d(q):d.event,A=d.Deferred(),Na=d.Callbacks("once memory"),db=k.statusCode||{},u={},v={},ha="canceled",F={readyState:0,
getResponseHeader:function(c){var a;if(w){if(!f)for(f={};a=ja.exec(l);)f[a[1].toLowerCase()]=a[2];a=f[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return w?l:null},setRequestHeader:function(c,a){return null==w&&(c=v[c.toLowerCase()]=v[c.toLowerCase()]||c,u[c]=a),this},overrideMimeType:function(c){return null==w&&(k.mimeType=c),this},statusCode:function(c){var a;if(c)if(w)F.always(c[F.status]);else for(a in c)db[a]=[db[a],c[a]];return this},abort:function(c){c=c||ha;return g&&
g.abort(c),b(0,c),this}};if(A.promise(F),k.url=((c||k.url||Ia.href)+"").replace(nb,Ia.protocol+"//"),k.type=e.method||e.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(xa)||[""],null==k.crossDomain){var H=I.createElement("a");try{H.href=k.url,H.href=H.href,k.crossDomain=Ra.protocol+"//"+Ra.host!=H.protocol+"//"+H.host}catch(Nb){k.crossDomain=!0}}if(k.data&&k.processData&&"string"!=typeof k.data&&(k.data=d.param(k.data,k.traditional)),Ua(qa,k,e,F),w)return F;(p=d.event&&k.global)&&
0===d.active++&&d.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!T.test(k.type);var ia=k.url.replace(ea,"");k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(L,"+")):(m=k.url.slice(ia.length),k.data&&(ia+=(Qa.test(ia)?"&":"?")+k.data,delete k.data),!1===k.cache&&(ia=ia.replace(aa,"$1"),m=(Qa.test(ia)?"&":"?")+"_="+Va++ +m),k.url=ia+m);k.ifModified&&(d.lastModified[ia]&&F.setRequestHeader("If-Modified-Since",
d.lastModified[ia]),d.etag[ia]&&F.setRequestHeader("If-None-Match",d.etag[ia]));(k.data&&k.hasContent&&!1!==k.contentType||e.contentType)&&F.setRequestHeader("Content-Type",k.contentType);F.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+ab+"; q=0.01":""):k.accepts["*"]);for(r in k.headers)F.setRequestHeader(r,k.headers[r]);if(k.beforeSend&&(!1===k.beforeSend.call(q,F,k)||w))return F.abort();if(ha="abort",Na.add(k.complete),
F.done(k.success),F.fail(k.error),g=Ua(Xa,k,e,F)){if(F.readyState=1,p&&N.trigger("ajaxSend",[F,k]),w)return F;k.async&&0<k.timeout&&(h=a.setTimeout(function(){F.abort("timeout")},k.timeout));try{var w=!1;g.send(u,b)}catch(Nb){if(w)throw Nb;b(-1,Nb)}}else b(-1,"No Transport");return F},getJSON:function(c,a,b){return d.get(c,a,b,"json")},getScript:function(c,a){return d.get(c,void 0,a,"script")}});d.each(["get","post"],function(c,a){d[a]=function(c,e,b,g){return d.isFunction(e)&&(g=g||b,b=e,e=void 0),
d.ajax(d.extend({url:c,type:a,dataType:g,data:e,success:b},d.isPlainObject(c)&&c))}});d._evalUrl=function(c){return d.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};d.fn.extend({wrapAll:function(c){var a;return this[0]&&(d.isFunction(c)&&(c=c.call(this[0])),a=d(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return d.isFunction(c)?
this.each(function(a){d(this).wrapInner(c.call(this,a))}):this.each(function(){var a=d(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=d.isFunction(c);return this.each(function(e){d(this).wrapAll(a?c.call(this,e):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}});d.expr.pseudos.hidden=function(c){return!d.expr.pseudos.visible(c)};d.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||
c.getClientRects().length)};d.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(c){}};var Ib={0:200,1223:204},gb=d.ajaxSettings.xhr();H.cors=!!gb&&"withCredentials"in gb;H.ajax=gb=!!gb;d.ajaxTransport(function(c){var e,b;if(H.cors||gb&&!c.crossDomain)return{send:function(d,g){var l,f=c.xhr();if(f.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(l in c.xhrFields)f[l]=c.xhrFields[l];c.mimeType&&f.overrideMimeType&&f.overrideMimeType(c.mimeType);c.crossDomain||d["X-Requested-With"]||
(d["X-Requested-With"]="XMLHttpRequest");for(l in d)f.setRequestHeader(l,d[l]);e=function(c){return function(){e&&(e=b=f.onload=f.onerror=f.onabort=f.onreadystatechange=null,"abort"===c?f.abort():"error"===c?"number"!=typeof f.status?g(0,"error"):g(f.status,f.statusText):g(Ib[f.status]||f.status,f.statusText,"text"!==(f.responseType||"text")||"string"!=typeof f.responseText?{binary:f.response}:{text:f.responseText},f.getAllResponseHeaders()))}};f.onload=e();b=f.onerror=e("error");void 0!==f.onabort?
f.onabort=b:f.onreadystatechange=function(){4===f.readyState&&a.setTimeout(function(){e&&b()})};e=e("abort");try{f.send(c.hasContent&&c.data||null)}catch(Yb){if(e)throw Yb;}},abort:function(){e&&e()}}});d.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return d.globalEval(c),c}}});
d.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});d.ajaxTransport("script",function(c){if(c.crossDomain){var a,b;return{send:function(e,g){a=d("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&g("error"===c.type?404:200,c.type)});I.head.appendChild(a[0])},abort:function(){b&&b()}}}});var rb=[],Pb=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=rb.pop()||d.expando+
"_"+Va++;return this[c]=!0,c}});d.ajaxPrefilter("json jsonp",function(c,e,b){var g,l,f,h=!1!==c.jsonp&&(Pb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pb.test(c.data)&&"data");if(h||"jsonp"===c.dataTypes[0])return g=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h?c[h]=c[h].replace(Pb,"$1"+g):!1!==c.jsonp&&(c.url+=(Qa.test(c.url)?"&":"?")+c.jsonp+"="+g),c.converters["script json"]=function(){return f||
d.error(g+" was not called"),f[0]},c.dataTypes[0]="json",l=a[g],a[g]=function(){f=arguments},b.always(function(){void 0===l?d(a).removeProp(g):a[g]=l;c[g]&&(c.jsonpCallback=e.jsonpCallback,rb.push(g));f&&d.isFunction(l)&&l(f[0]);f=l=void 0}),"script"});H.createHTMLDocument=function(){var c=I.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();d.parseHTML=function(c,a,b){if("string"!=typeof c)return[];"boolean"==typeof a&&(b=a,a=!1);
var e,g,l;return a||(H.createHTMLDocument?(a=I.implementation.createHTMLDocument(""),e=a.createElement("base"),e.href=I.location.href,a.head.appendChild(e)):a=I),g=Ub.exec(c),l=!b&&[],g?[a.createElement(g[1])]:(g=Ma([c],a,l),l&&l.length&&d(l).remove(),d.merge([],g.childNodes))};d.fn.load=function(c,a,b){var e,g,l,f=this,h=c.indexOf(" ");return-1<h&&(e=wa(c.slice(h)),c=c.slice(0,h)),d.isFunction(a)?(b=a,a=void 0):a&&"object"==typeof a&&(g="POST"),0<f.length&&d.ajax({url:c,type:g||"GET",dataType:"html",
data:a}).done(function(c){l=arguments;f.html(e?d("<div>").append(d.parseHTML(c)).find(e):c)}).always(b&&function(c,a){f.each(function(){b.apply(this,l||[c.responseText,a,c])})}),this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){d.fn[a]=function(c){return this.on(a,c)}});d.expr.pseudos.animated=function(c){return d.grep(d.timers,function(a){return c===a.elem}).length};d.offset={setOffset:function(c,a,b){var e,g,l,f=d.css(c,"position"),h=d(c),p={};
"static"===f&&(c.style.position="relative");var r=h.offset();var n=d.css(c,"top");var k=d.css(c,"left");("absolute"===f||"fixed"===f)&&-1<(n+k).indexOf("auto")?(e=h.position(),l=e.top,g=e.left):(l=parseFloat(n)||0,g=parseFloat(k)||0);d.isFunction(a)&&(a=a.call(c,b,d.extend({},r)));null!=a.top&&(p.top=a.top-r.top+l);null!=a.left&&(p.left=a.left-r.left+g);"using"in a?a.using.call(c,p):h.css(p)}};d.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(a){d.offset.setOffset(this,
c,a)});var a,b,g,l,f=this[0];if(f)return f.getClientRects().length?(g=f.getBoundingClientRect(),a=f.ownerDocument,b=a.documentElement,l=a.defaultView,{top:g.top+l.pageYOffset-b.clientTop,left:g.left+l.pageXOffset-b.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var c,a,b=this[0],g={top:0,left:0};return"fixed"===d.css(b,"position")?a=b.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),h(c[0],"html")||(g=c.offset()),g={top:g.top+d.css(c[0],"borderTopWidth",!0),left:g.left+
d.css(c[0],"borderLeftWidth",!0)}),{top:a.top-g.top-d.css(b,"marginTop",!0),left:a.left-g.left-d.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===d.css(c,"position");)c=c.offsetParent;return c||Y})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var b="pageYOffset"===a;d.fn[c]=function(e){return w(this,function(c,e,g){var l;return d.isWindow(c)?l=c:9===c.nodeType&&(l=c.defaultView),void 0===g?l?l[a]:c[e]:
void(l?l.scrollTo(b?l.pageXOffset:g,b?g:l.pageYOffset):c[e]=g)},c,e,arguments.length)}});d.each(["top","left"],function(c,a){d.cssHooks[a]=qb(H.pixelPosition,function(c,b){if(b)return b=cb(c,a),ca.test(b)?d(c).position()[a]+"px":b})});d.each({Height:"height",Width:"width"},function(c,a){d.each({padding:"inner"+c,content:a,"":"outer"+c},function(b,e){d.fn[e]=function(g,l){var f=arguments.length&&(b||"boolean"!=typeof g),h=b||(!0===g||!0===l?"margin":"border");return w(this,function(a,b,g){var l;return d.isWindow(a)?
0===e.indexOf("outer")?a["inner"+c]:a.document.documentElement["client"+c]:9===a.nodeType?(l=a.documentElement,Math.max(a.body["scroll"+c],l["scroll"+c],a.body["offset"+c],l["offset"+c],l["client"+c])):void 0===g?d.css(a,b,h):d.style(a,b,g,h)},a,f?g:void 0,f)}})});d.fn.extend({bind:function(c,a,b){return this.on(c,null,a,b)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,b,d){return this.on(a,c,b,d)},undelegate:function(c,a,b){return 1===arguments.length?this.off(c,"**"):this.off(a,
c||"**",b)}});d.holdReady=function(c){c?d.readyWait++:d.ready(!0)};d.isArray=Array.isArray;d.parseJSON=JSON.parse;d.nodeName=h;"function"==typeof define&&define.amd&&define("jquery",[],function(){return d});var gc=a.jQuery,hc=a.$;return d.noConflict=function(c){return a.$===d&&(a.$=hc),c&&a.jQuery===d&&(a.jQuery=gc),d},b||(a.jQuery=a.$=d),d});(function(a){function b(b){var f=b||window.event,h=[].slice.call(arguments,1),m=0,u=0;b=a.event.fix(f);b.type="mousewheel";f.wheelDelta&&(m=f.wheelDelta/120);f.detail&&(m=-f.detail/3);var G=m;void 0!==f.axis&&f.axis===f.HORIZONTAL_AXIS&&(G=0,u=-1*m);void 0!==f.wheelDeltaY&&(G=f.wheelDeltaY/120);void 0!==f.wheelDeltaX&&(u=-1*f.wheelDeltaX/120);h.unshift(b,m,u,G);return(a.event.dispatch||a.event.handle).apply(this,h)}var m=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var f=m.length;f;)a.event.fixHooks[m[--f]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=m.length;a;)this.addEventListener(m[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=m.length;a;)this.removeEventListener(m[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);/*

       __ _____                     ________                              __
      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
           \/              /____/                              version 1.6.1

 This file is part of jQuery Terminal. http://terminal.jcubic.pl

 Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 Released under the MIT license

 Contains:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/timers/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 jQuery Caret
 Copyright (c) 2009, Gideon Sireling
 3 clause BSD License

 sprintf.js
 Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 licensed under 3 clause BSD license

 Date: Tue, 15 Aug 2017 12:10:19 +0000
*/
(function(a){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var m=function(){m.cache.hasOwnProperty(arguments[0])||(m.cache[arguments[0]]=m.parse(arguments[0]));return m.format.call(null,m.cache[arguments[0]],arguments)};m.format=function(a,h){var f=1,v=a.length,x=[],u,G;for(u=0;u<v;u++){var y=b(a[u]);if("string"===y)x.push(a[u]);else if("array"===y){var Q=a[u];if(Q[2])for(y=h[f],G=0;G<Q[2].length;G++){if(!y.hasOwnProperty(Q[2][G]))throw m('[sprintf] property "%s" does not exist',
Q[2][G]);y=y[Q[2][G]]}else y=Q[1]?h[Q[1]]:h[f++];if(/[^s]/.test(Q[8])&&"number"!==b(y))throw m("[sprintf] expecting number but found %s",b(y));switch(Q[8]){case "b":y=y.toString(2);break;case "c":y=String.fromCharCode(y);break;case "d":y=parseInt(y,10);break;case "e":y=Q[7]?y.toExponential(Q[7]):y.toExponential();break;case "f":y=Q[7]?parseFloat(y).toFixed(Q[7]):parseFloat(y);break;case "o":y=y.toString(8);break;case "s":y=(y=String(y))&&Q[7]?y.substring(0,Q[7]):y;break;case "u":y>>>=0;break;case "x":y=
y.toString(16);break;case "X":y=y.toString(16).toUpperCase()}y=/[def]/.test(Q[8])&&Q[3]&&0<=y?" +"+y:y;G=Q[4]?"0"===Q[4]?"0":Q[4].charAt(1):" ";var Ba=Q[6]-String(y).length;if(Q[6]){for(var ta=[];0<Ba;ta[--Ba]=G);G=ta.join("")}else G="";x.push(Q[5]?y+G:G+y)}}return x.join("")};m.cache={};m.parse=function(a){for(var b,f=[],m=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))f.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))f.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){m|=
1;var x=[],u=b[2],G;if(null!==(G=/^([a-z_][a-z_\d]*)/i.exec(u)))for(x.push(G[1]);""!==(u=u.substring(G[0].length));)if(null!==(G=/^\.([a-z_][a-z_\d]*)/i.exec(u)))x.push(G[1]);else if(null!==(G=/^\[(\d+)\]/.exec(u)))x.push(G[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=x}else m|=2;if(3===m)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";f.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return f};a.sprintf=m;a.vsprintf=function(a,b,k){k=
b.slice(0);k.splice(0,0,a);return m.apply(null,k)}})("undefined"!==typeof global?global:window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=function(b,m){void 0===m&&(m="undefined"!==typeof window?require("jquery"):require("jquery")(b));a(m);return m}:a(jQuery)})(function(a,b){function m(){var b=a.Callbacks(),f=!1;this.resolve=function(){b.fire();f=!0};this.add=function(a){f?a():b.add(a)}}function f(a,b){var f;if("string"===typeof a&&"string"===typeof b)return localStorage[a]=b,!0;if("object"===typeof a&&"undefined"===
typeof b){for(f in a)a.hasOwnProperty(f)&&(localStorage[f]=a[f]);return!0}return!1}function h(a,b){var f;var h=new Date;h.setTime(h.getTime()+31536E6);h="; expires="+h.toGMTString();if("string"===typeof a&&"string"===typeof b)return document.cookie=a+"="+b+h+"; path=/",!0;if("object"===typeof a&&"undefined"===typeof b){for(f in a)a.hasOwnProperty(f)&&(document.cookie=f+"="+a[f]+h+"; path=/");return!0}return!1}function k(a){return localStorage[a]}function v(a){var b,f;a+="=";var h=document.cookie.split(";");
for(b=0;b<h.length;b++){for(f=h[b];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(a))return f.substring(a.length,f.length)}return null}function x(a){return delete localStorage[a]}function u(a){return h(a,"",-1)}function G(a){a.attr({role:"presentation","aria-hidden":"true"})}function y(b){var f=b instanceof Array?b:b?[b]:[];a.extend(this,{data:function(){return f},map:function(b){return a.map(f,b)},size:function(){return f.length},pop:function(){if(0===f.length)return null;var a=f[f.length-
1];f=f.slice(0,f.length-1);return a},push:function(a){f=f.concat([a]);return a},top:function(){return 0<f.length?f[f.length-1]:null},clone:function(){return new y(f.slice(0))}})}function Q(b,f,h){var p=!0,m="";"string"===typeof b&&""!==b&&(m=b+"_");m+="commands";var k=h?[]:(k=a.Storage.get(m))?JSON.parse(k):[];var A=k.length-1;a.extend(this,{append:function(b){p&&k[k.length-1]!==b&&(k.push(b),f&&k.length>f&&(k=k.slice(-f)),A=k.length-1,h||a.Storage.set(m,JSON.stringify(k)))},set:function(b){b instanceof
Array&&(k=b,h||a.Storage.set(m,JSON.stringify(k)))},data:function(){return k},reset:function(){A=k.length-1},last:function(){return k[k.length-1]},end:function(){return A===k.length-1},position:function(){return A},current:function(){return k[A]},next:function(){A<k.length-1&&++A;if(-1!==A)return k[A]},previous:function(){var a=A;0<A&&--A;if(-1!==a)return k[A]},clear:function(){k=[];this.purge()},enabled:function(){return p},enable:function(){p=!0},purge:function(){h||a.Storage.remove(m)},disable:function(){p=
!1}})}function Ba(b,f){var h=b.match(W)||[];if(h.length){var p=h.shift(),k=a.map(h,f);var m=a.map(h,function(a){return(a=a.match(/^(['"]).*\1$/))&&a[1]||""});h=b.substring(p.length).trim();return{command:b,name:p,args:k,args_quotes:m,rest:h}}return{command:b,name:"",args:[],args_quotes:m,rest:""}}function ta(a){a="[jQuery Terminal] "+a;console&&console.warn?console.warn(a):setTimeout(function(){throw Error("WARN: "+a);},0)}function Sa(){var b=a('<div class="terminal temp"><div class="cmd"><span class="prompt">&nbsp;</span></div></div>').appendTo("body"),
f=b.find("span")[0].getBoundingClientRect();f={width:f.width,height:f.height};b.remove();return f}function Ga(a,b){var f=a.find(".terminal-fill").width();return Math.floor(f/b.width)||1E3}function ba(a,b){return Math.floor(a.find(".terminal-fill").height()/b.height)}function Ha(b,f){var h=a("<div>"+f.replace(/\n/,"<br/>")+"<div>");b.append(h);if(document.body.createTextRange){var p=document.body.createTextRange();p.moveToElementText(h[0]);p.select()}else if(window.getSelection){var k=window.getSelection();
k.setBaseAndExtent?k.setBaseAndExtent(h[0],0,h[0],1):document.createRange&&(p=document.createRange(),p.selectNodeContents(h[0]),k.removeAllRanges(),k.addRange(p))}try{document.execCommand("copy")}catch(ha){}h.remove()}a.omap=function(b,f){var h={};a.each(b,function(a,p){h[a]=f.call(b,a,p)});return h};var Ma={clone_object:function(b){var f={};if("object"===typeof b){if(a.isArray(b))return this.clone_array(b);if(null===b)return b;for(var h in b)a.isArray(b[h])?f[h]=this.clone_array(b[h]):f[h]="object"===
typeof b[h]?this.clone_object(b[h]):b[h]}return f},clone_array:function(b){if(!a.isFunction(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return b.slice(0).map(function(a){return"object"===typeof a?this.clone_object(a):a}.bind(this))}},ka=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(A){return!1}}();a.extend({Storage:{set:ka?f:h,get:ka?k:v,remove:ka?x:u}});a.fn.extend({everyTime:function(b,f,h,k,m){return this.each(function(){a.timer.add(this,
b,f,h,k,m)})},oneTime:function(b,f,h){return this.each(function(){a.timer.add(this,b,f,h,1)})},stopTime:function(b,f){return this.each(function(){a.timer.remove(this,b,f)})}});a.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1E3,das:1E4,hs:1E5,ks:1E6},timeParse:function(f){if(f===b||null===f)return null;var h=this.regex.exec(a.trim(f.toString()));return h[2]?parseInt(h[1],10)*(this.powers[h[2]]||1):f},add:function(b,f,h,k,m,u){var p=0;a.isFunction(h)&&(m||
(m=k),k=h,h=f);f=a.timer.timeParse(f);if(!("number"!==typeof f||isNaN(f)||0>=f)){m&&m.constructor!==Number&&(u=!!m,m=0);m=m||0;u=u||!1;b.$timers||(b.$timers={});b.$timers[h]||(b.$timers[h]={});k.$timerID=k.$timerID||this.guid++;var A=function(){u&&A.inProgress||(A.inProgress=!0,(++p>m&&0!==m||!1===k.call(b,p))&&a.timer.remove(b,h,k),A.inProgress=!1)};A.$timerID=k.$timerID;b.$timers[h][k.$timerID]||(b.$timers[h][k.$timerID]=window.setInterval(A,f));this.global[h]||(this.global[h]=[]);this.global[h].push(b)}},
remove:function(a,b,f){var h=a.$timers;if(h){if(!b)for(var k in h)h.hasOwnProperty(k)&&this.remove(a,k,f);else if(h[b]){if(f)f.$timerID&&(window.clearInterval(h[b][f.$timerID]),delete h[b][f.$timerID]);else for(var m in h[b])h[b].hasOwnProperty(m)&&(window.clearInterval(h[b][m]),delete h[b][m]);for(p in h[b])if(h[b].hasOwnProperty(p))break;if(!p){var p=null;delete h[b]}}for(p in h)if(h.hasOwnProperty(p))break;p||(a.$timers=null)}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))a(window).one("unload",
function(){var b=a.timer.global,f;for(f in b)if(b.hasOwnProperty(f))for(var h=b[f],k=h.length;--k;)a.timer.remove(h[k],f)});(function(a){if(String.prototype.split.toString().match(/\[native/)){var b=String.prototype.split,f=/()??/.exec("")[1]===a;var h=function(h,k,m){if("[object RegExp]"!==Object.prototype.toString.call(k))return b.call(h,k,m);var p=[],d=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.extended?"x":"")+(k.sticky?"y":""),u=0,v,A;k=new RegExp(k.source,d+"g");h+="";f||(v=new RegExp("^"+
k.source+"$(?!\\s)",d));for(m=m===a?4294967295:m>>>0;A=k.exec(h);){d=A.index+A[0].length;if(d>u){p.push(h.slice(u,A.index));!f&&1<A.length&&A[0].replace(v,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(A[b]=a)});1<A.length&&A.index<h.length&&Array.prototype.push.apply(p,A.slice(1));var x=A[0].length;u=d;if(p.length>=m)break}k.lastIndex===A.index&&k.lastIndex++}u===h.length?(x||!k.test(""))&&p.push(""):p.push(h.slice(u));return p.length>m?p.slice(0,m):p};String.prototype.split=
function(a,b){return h(this,a,b)};return h}})();a.fn.caret=function(a){var b=this[0];var f="true"===b.contentEditable;if(0===arguments.length){if(window.getSelection){if(f){b.focus();var h=window.getSelection().getRangeAt(0);f=h.cloneRange();f.selectNodeContents(b);f.setEnd(h.endContainer,h.endOffset);return f.toString().length}return b.selectionStart}if(document.selection){b.focus();if(f)return h=document.selection.createRange(),f=document.body.createTextRange(),f.moveToElementText(b),f.setEndPoint("EndToEnd",
h),f.text.length;a=0;h=b.createTextRange();f=document.selection.createRange().duplicate();b=f.getBookmark();for(h.moveToBookmark(b);0!==h.moveStart("character",-1);)a++;return a}return 0}-1===a&&(a=this[f?"text":"val"]().length);window.getSelection?f?(b.focus(),window.getSelection().collapse(b.firstChild,a)):b.setSelectionRange(a,a):document.body.createTextRange&&(h=document.body.createTextRange(),h.moveToElementText(b),h.moveStart("character",a),h.collapse(!0),h.select());f||b.focus();return a};
var O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};a.fn.resizer=function(b){var f="unbind"===b;if(!f&&!a.isFunction(b))throw Error('Invalid argument, it need to a function of string "unbind".');return this.each(function(){var h=a(this);if(f)a(this).removeData("callbacks").find(".resizer").remove();else if(h.data("callbacks"))a(this).data("callbacks").push(b);else{h.data("callbacks",[b]);var k=this,m=
a("<div/>").addClass("resizer").appendTo(this)[0];m.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";m.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
var p=m.childNodes[0],u=p.childNodes[0],v=m.childNodes[1],d,A,x,y,G=k.offsetWidth,K=k.offsetHeight,Q=function(){u.style.width="100000px";u.style.height="100000px";p.scrollLeft=1E5;p.scrollTop=1E5;v.scrollLeft=1E5;v.scrollTop=1E5};Q();var I=function(){A=0;if(d){G=x;K=y;var a=h.data("callbacks");a&&a.length&&a.forEach(function(a){a()})}};m=function(){x=k.offsetWidth;y=k.offsetHeight;(d=x!==G||y!==K)&&!A&&(A=O(I));Q()};a(p).on("scroll",m);a(v).on("scroll",m)}})};var ob=0;a.fn.cmd=function(f){function h(){var b=
a("<span>&nbsp;</span>").appendTo(w),d=b[0].getBoundingClientRect();b.remove();return d}function k(){var a;if((a=window.getSelection())&&null!==a.focusNode)return a.focusOffset}function m(b){var d=k(),g=h().height,f=w.offset();g=Math.floor((b.pageY-f.top)/g);if(a.isNumeric(d)){if(b=a(b.target).closest('[role="presentation"]'),!b.is("div")&&!b.next().is(".cursor")){if(b.is(".cursor"))return z;if(b.prev().is(".cursor"))return z+d;d=0}}else return B.length;b=ma(B);d=0<g&&1<b.length?d+b.slice(0,g).reduce(function(a,
b){return a+b.length},0):d;d=B.replace(/\t/g,"\x00\x00\x00\x00").replace(/\n/,"").slice(0,d).replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length;g=B.length;return d>g?g:d}function p(){return!0}function u(){R.val("");Za=0;R.focus();R.on("input",function F(a){Ga(a);R.off("input",F)});return!0}function v(){fb?(Aa=B,w.set(P.current())):w.set(P.previous());return fb=!1}function x(){w.set(P.end()?Aa:P.next());return!1}function d(){0<z&&(w.position(-1,!0),S())}function y(){z<B.length&&w.position(1,!0);return!1}
function I(){w.position(0)}function O(){w.position(B.length)}function ka(){var a=R.is(":focus");Ca?a||(R.trigger("focus",[!0]),w.oneTime(10,function(){R.trigger("focus",[!0])})):a&&sb&&R.blur()}function K(){w.oneTime(10,function(){if(Ca)w.oneTime(10,function(){})})}function ba(){oa.toggleClass("inverted")}function da(){V="(reverse-i-search)`"+fa+"': ";ca()}function Ba(b){var d=P.data(),g=d.length;b&&0<Ta&&(g-=Ta);if(0<fa.length)for(var f=fa.length;0<f;f--){var h=a.terminal.escape_regex(fa.substring(0,
f));b=new RegExp(h);for(var k=g;k--;)if(b.test(d[k])){Ta=d.length-k;w.position(d[k].indexOf(h));w.set(d[k],!0);S();fa.length!==f&&(fa=fa.substring(0,f),da());return}}fa=""}function ma(b){var d=Ma.text(),g=new RegExp("^"+a.terminal.escape_regex(d));if(b.match(/\n/)){b=b.split("\n");for(var f=Ea-Fa-1,h=0;h<b.length-1;++h)b[h]+=" ";bb(b[0])>f?(d=a.terminal.split_equal(d+b[0],Ea),d[0]=d[0].replace(g,"")):d=[b[0]];for(h=1;h<b.length;++h)b[h].length>Ea?d=d.concat(a.terminal.split_equal(b[h],Ea)):d.push(b[h])}else d=
a.terminal.split_equal(d+b,Ea),d[0]=d[0].replace(g,"");return d}function ta(b){b=a.terminal.escape_formatting(b);try{return a.terminal.apply_formatters(b)}catch(F){alert(F.message+"\n"+(F.stack?F.stack:F))}}function W(b){return a.terminal.format(a.terminal.encode(b))}function Ga(){if(!(0<Za++)&&w.isenabled()){var a=w.find("textarea");a.is(":focus")||a.focus();w.oneTime(100,function(){w.insert(a.val());a.val("");K()})}}function Sa(){if(a.isFunction(f.onCommandChange))f.onCommandChange(B)}function va(d){Ka=
"process"===(d.key||"").toLowerCase();mb=q&&$a;try{d.fake||($a=d.key&&1===d.key.length&&!d.ctrlKey,la="unidentified"===String(d.key).toLowerCase(),na="BACKSPACE"===d.key.toUpperCase()||8===d.which)}catch(pa){}if("Unidentified"===d.key)Z=!0;else{d.fake||(q=!0,Z=!1);if(d.key){var g=d.key.toUpperCase();if("CONTROL"===g)var h="CTRL";else h=[],d.ctrlKey&&h.push("CTRL"),d.metaKey&&"META"!==g&&h.push("META"),d.shiftKey&&"SHIFT"!==g&&h.push("SHIFT"),d.altKey&&"ALT"!==g&&h.push("ALT"),d.key&&("DEL"===g?h.push("DELETE"):
h.push(g)),h=h.join("+")}else h=void 0;if(a.isFunction(f.keydown)&&(g=f.keydown(d),g!==b))return g||(Oa=!0),g;if(Ca){Oa=-1!==["CTRL+V","META+V"].indexOf(h);38===d.which||80===d.which&&d.ctrlKey||(fb=!0);if(!M||35!==d.which&&36!==d.which&&37!==d.which&&38!==d.which&&39!==d.which&&40!==d.which&&13!==d.which&&27!==d.which)if(a.isFunction(eb[h])){g=eb[h]();if(!0===g)return;if(g!==b)return g}else{d.altKey||(lb=!1);return}else V=sa,M=!1,Ta=null,fa="",ca(),27===d.which&&w.set(""),S(),va.call(this,d);d.preventDefault()}}}
function xa(d){d.fake||(q=!1);if(!d.ctrlKey&&!d.metaKey&&!lb){if(a.isFunction(f.keypress)){var g=f.keypress(d);if(g!==b)return g||(Oa=!0),g}if(Ca&&!d.fake){g="KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype?Object.getOwnPropertyDescriptor(window.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/):!1;if(g||d.fake)var h=d.key;if(!h||la)h=String.fromCharCode(d.which);"SPACEBAR"===h.toUpperCase()&&(h=" ");if(-1<a.inArray(d.which,[13,0,8]))return 123===d.keyCode?void 0:
!1;if(h&&(!d.ctrlKey||d.ctrlKey&&d.ctrlKey)&&(!d.altKey||100!==d.which||d.altKey)&&!mb&&(M?(fa+=h,Ba(),da()):w.insert(h)," "===h))return!1}}}function ya(b,d,g){b=a.Event(b);b.which=g;b.key=d;b.fake=!0;E.trigger(b)}function Da(){if(Z||Ka||(q||mb)&&!Oa&&($a||la)&&!na){var a=z,b=R.val();Z&&(na=J.substring(0,J.length-1)===J.length);if(M)fa=b,Ba(),da();else{var d=b.substring(z);if(1===d.length||na){if(Z){var g=na?8:d.toUpperCase().charCodeAt(0);ya("keydown",na?"Backspace":d,g)}q&&!na&&ya("keypress",d,
d.charCodeAt(0))}if(na){J=B;return}if(Oa){Oa=!1;return}w.set(b)}na?w.position(a-1):w.position(a+Math.abs(b.length-J.length))}J=B;Oa=!1;Z=!0}var w=this,wa=w.data("cmd");if(wa)return wa;var C=ob++;w.addClass("cmd");w.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');G(w.find("span").not(":eq(0)"));var R=a("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(w);f.width&&w.width(f.width);var Ea,Fa,Ma=w.find(".prompt"),
M=!1,fa="",Ta=null,sa,La=f.mask||!1,B="",Aa,g="",z=0,Ca,Y=f.historySize||60,Ya,P,oa=w.find(".cursor"),Za=0,eb,Ua={"ALT+D":function(){w.set(B.slice(0,z)+B.slice(z).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0);return!1},ENTER:function(){(P&&B&&!La&&a.isFunction(f.historyFilter)&&f.historyFilter(B)||f.historyFilter instanceof RegExp&&B.match(f.historyFilter)||!f.historyFilter)&&P.append(B);var b=B;P.reset();J="";Z=!0;w.set("");f.commands&&f.commands(b);a.isFunction(V)&&ca();a(".clipboard").val("");return!1},
"SHIFT+ENTER":function(){w.insert("\n");return!0},BACKSPACE:function(){if(M)fa=fa.slice(0,-1),da();else if(""!==B&&0<z)w["delete"](-1);Z=!0;return!1},TAB:function(){w.insert("\t")},"CTRL+D":function(){w["delete"](1);return!1},DELETE:function(){w["delete"](1);return!0},ARROWUP:v,UP:v,"CTRL+P":v,ARROWDOWN:x,DOWN:x,"CTRL+N":x,ARROWLEFT:d,LEFT:d,"CTRL+B":d,"CTRL+ARROWLEFT":function(){var a=z-1,b=0;for(" "===B[a]&&--a;0<a;--a)if(" "===B[a]&&" "!==B[a+1]){b=a+1;break}else if("\n"===B[a]&&"\n"!==B[a+1]){b=
a;break}w.position(b)},"CTRL+R":function(){M?Ba(!0):(sa=V,da(),Aa=B,w.set(""),S(),M=!0);return!1},"CTRL+G":function(){if(M)return V=sa,ca(),w.set(Aa),S(),M=!1,fa="",!1},ARROWRIGHT:y,"CTRL+F":y,RIGHT:y,"CTRL+ARROWRIGHT":function(){" "===B[z]&&++z;var a=B.slice(z).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!a||a[0].match(/^\s+$/)?w.position(B.length):" "!==a[0][0]?z+=a.index+1:(z+=a.index+a[0].length-1," "!==a[0][a[0].length-1]&&--z);S()},F12:p,END:O,"CTRL+E":O,HOME:I,"CTRL+A":I,"SHIFT+INSERT":u,"CTRL+SHIFT+T":p,
"CTRL+W":function(){if(""!==B&&0!==z){var a=B.slice(0,z).match(/([^ ]+ *$)/);a[0].length&&(g=w["delete"](-a[0].length),Ha(w,g))}return!1},"CTRL+H":function(){if(""!==B&&0<z)w["delete"](-1);return!1},"CTRL+X":p,"CTRL+C":p,"CTRL+T":p,"CTRL+Y":function(){""!==g&&w.insert(g)},"CTRL+V":u,"META+V":u,"CTRL+K":function(){B.length-z&&(g=w["delete"](B.length-z),Ha(w,g));return!1},"CTRL+U":function(){""!==B&&0!==z&&(g=w["delete"](-z),Ha(w,g));return!1},"CTRL+TAB":function(){return!1},"META+`":p,"META+R":p,"META+L":p};
if(hb&&!xb)var ib=function(a){a?oa.addClass("blink"):oa.removeClass("blink")};else{var ua=!1;ib=function(a){a&&!ua?(ua=!0,oa.addClass("inverted blink"),w.everyTime(500,"blink",ba)):ua&&!a&&(ua=!1,w.stopTime("blink",ba),oa.removeClass("inverted blink"))}}var S=function(){function d(b,d){var g=b.length;b=ta(b);d===g?(k.html(W(b)),oa.html("&nbsp;"),m.html("")):0===d?(k.html(""),oa.html(W(a.terminal.substring(b,0,1))),m.html(W(a.terminal.substring(b,1,void 0)))):(g=a.terminal.substring(b,0,d),k.html(W(g)),
g=a.terminal.substring(b,d,d+1),oa.html(W(g)),d===b.length-1?m.html(""):m.html(W(a.terminal.substring(b,d+1,void 0))))}function g(a){return'<div role="presentation">'+W(ta(a))+"</div>"}function f(b){var d=m;a.each(b,function(b,f){d=a(g(f)).insertAfter(d)})}function h(b){a.each(b,function(a,b){k.before(g(b))})}var k=oa.prev(),m=oa.next();return function(){switch(typeof La){case "boolean":var p=La?B.replace(/./g,"*"):B;break;case "string":p=B.replace(/./g,La)}var q;w.find("div").remove();k.html("");
if(bb(p)>Ea-Fa-1||p.match(/\n/)){var u=(q=p.match(/\t/g))?3*q.length:0;q&&(p=p.replace(/\t/g,"\x00\x00\x00\x00"));var l=ma(p);q&&(l=a.map(l,function(a){return a.replace(/\x00\x00\x00\x00/g,"\t")}));q=l[0].length;if(0!==q||1!==l.length)if(z<q)d(l[0],z),f(l.slice(1));else if(z===q)k.before(g(l[0])),d(l[1]||"",0),1<l.length&&f(l.slice(2));else{var r=l.length;if(z<q)d(l[0],z),f(l.slice(1));else if(z===q)k.before(g(l[0])),d(l[1],0),f(l.slice(2));else{var L=l.slice(-1)[0];u=p.length-z-u;var ea=L.length;
p=0;if(u<=ea)h(l.slice(0,-1)),d(L,ea===u?0:ea-u);else if(3===r)p=W(l[0]),k.before('<div role="presentation">'+p+"</div>"),d(l[1],z-q-1),p=W(ta(l[2])),m.after('<div role="presentation">'+p+"</div>");else{p=z;for(q=0;q<l.length;++q)if(r=l[q].length,p>r)p-=r;else break;r=l[q];if(p===r.length&&(p=0,r=l[++q],r===b))throw Error(a.terminal.defaults.strings.redrawError);d(r,p);h(l.slice(0,q));f(l.slice(q+1))}}}}else""===p?(k.html(""),oa.html("&nbsp;"),m.html("")):d(p,z)}}(),ca=function(){function b(b){var d=
a.terminal.split_equal(a.terminal.encode(b),Ea);b=d.slice(-1).map(a.terminal.format)[0];d=d.slice(0,-1).map(function(b){b=a.terminal.format(b);return b.match(/class="/)?b.replace(/class="/,'class="line '):b.replace(/^<span/,'<span class="line"')}).concat([b]).join("\n");Ma.html(d);Fa=bb(a("<span>"+b+"</span>").text())}return function(){switch(typeof V){case "string":b(V);break;case "function":V(b)}}}();a.extend(w,{name:function(a){if(a!==b){Ya=a;var d=P&&P.enabled()||!P;P=new Q(a,Y,"memory"===f.history);
d||P.disable();return w}return Ya},purge:function(){P.clear();return w},history:function(){return P},"delete":function(a,b){if(0===a)return w;if(0>a){if(0<z){var d=B.slice(0,z).slice(a);B=B.slice(0,z+a)+B.slice(z,B.length);b||w.position(z+a);Sa()}}else""!==B&&z<B.length&&(d=B.slice(z).slice(0,a),B=B.slice(0,z)+B.slice(z+a,B.length),Sa());S();K();return d},set:function(a,d){a!==b&&(B=a,d||w.position(B.length),S(),K(),Sa());return w},keymap:function(b){if("undefined"===typeof b)return eb;eb=a.extend({},
Ua,a.omap(b||{},function(a,b){return function(d){return b(d,Ua[a])}}));return w},insert:function(a,b){B=z===B.length?B+a:0===z?a+B:B.slice(0,z)+a+B.slice(z);b?K():w.position(a.length,!0);S();Sa();return w},get:function(){return B},commands:function(a){return a?(f.commands=a,w):a},destroy:function(){E.unbind("keypress.cmd",xa);E.unbind("keydown.cmd",va);E.unbind("input.cmd",Da);w.stopTime("blink",ba);w.find(".cursor").next().remove().end().prev().remove().end().remove();w.find(".prompt, .clipboard").remove();
w.removeClass("cmd").removeData("cmd").off(".cmd");return w},prompt:function(a){if(a===b)return V;if("string"===typeof a||"function"===typeof a)V=a;else throw Error("prompt must be a function or string");ca();S();return w},kill_text:function(){return g},position:function(b,d){if("number"===typeof b){z=d?z+b:0>b?0:b>B.length?B.length:b;if(a.isFunction(f.onPositionChange))f.onPositionChange(z);S();K();return w}return z},visible:function(){var a=w.visible;return function(){a.apply(w,[]);S();ca()}}(),
show:function(){var a=w.show;return function(){a.apply(w,[]);S();ca()}}(),resize:function(a){if(a)Ea=a;else{var b=w.find(".prompt").text("&nbsp;");a=w.width();b=b[0].getBoundingClientRect().width;Ea=Math.floor(a/b);ca()}S();ca();return w},enable:function(){if(!Ca){Ca=!0;w.addClass("enabled");try{R.caret(z)}catch(N){}ib(!0);ca();ka()}return w},isenabled:function(){return Ca},disable:function(a){Ca=!1;w.removeClass("enabled");ib(!1);a||ka();return w},mask:function(a){if("undefined"===typeof a)return La;
La=a;S();return w}});w.name(f.name||f.prompt||"");var V="string"===typeof f.prompt?f.prompt:"> ";ca();f.enabled!==b&&!0!==f.enabled||w.enable();f.history||P.disable();var fb=!0,lb=!1,mb=!1,$a=!1,q=!1,la=!1,Z=!0,na=!1,Ka=!1,Oa,J="",E=a(document.documentElement||window);w.keymap(f.keymap);E.bind("keypress.cmd",xa).bind("keydown.cmd",va).bind("input.cmd",Da);(function(){var b=!1,d=!1,g=0;w.on("mousedown.cmd",function(){d=!0;w.oneTime(1,function(){a(window).on("mousemove.cmd_"+C,function(){b=!0;a(window).off("mousemove.cmd_"+
C)})})}).on("mouseup.cmd",function(h){var k=b;b=!1;a(window).off("mousemove.cmd_"+C);if(!k)if(k="click_"+C,1===++g){var p=d;if(Ca)w.oneTime(f.clickTimeout,k,function(){!a(h.target).is(".prompt")&&p&&(a(h.target).is(".cmd")?w.position(B.length):w.position(m(h)));g=0});else g=0}else w.stopTime(k),g=0;d=!1})})();w.data("cmd",w);"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill");
},0);return w};var hb=function(){var a=!1,f=["Webkit","Moz","O","ms","Khtml"],h=document.createElement("div");h.style.animationName&&(a=!0);if(!1===a)for(var k=0;k<f.length;k++)if(h.style[f[k]+"AnimationName"]!==b){a=!0;break}return a}(),xb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),bb=function(){return"undefined"===typeof wcwidth?function(a){return a.length}:wcwidth}(),sb="ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch,tb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,
Aa=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,pb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,cb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,qb=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,ub=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,zb=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,
Db=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,Ab=/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,W=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,jb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Eb=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Wa=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,Fb=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,Kb=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,
va=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./;a.terminal={version:"1.6.1",color_names:"transparent currentcolor black silver gray white maroon red purple fuchsia green lime olive yellow navy blue teal aqua aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkgrey darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkslategrey darkturquoise darkviolet deeppink deepskyblue dimgray dimgrey dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow grey honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightslategrey lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray slategrey snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
valid_color:function(b){return b.match(ub)?!0:-1!==a.inArray(b.toLowerCase(),a.terminal.color_names)},unclosed_strings:function(a){return!!a.match(va)},escape_regex:function(a){if("string"===typeof a)return a.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(a){return"string"===typeof a&&!!a.match(cb)},is_formatting:function(a){return"string"===typeof a&&!!a.match(qb)},format_split:function(a){return a.split(tb).filter(Boolean)},iterate_formatting:function(a,f){for(var h=!1,k=!1,
m=0,p,u=-1,v=0;v<a.length;v++){(p=a.substring(v).match(Eb))?(h=p[1],k=!1):h?"]"===a[v]&&(k?(h="",k=!1):k=!0):k=!0;p=h&&k||!h;var d="["===a[v]&&"["===a[v+1];"&nbsp;"!==a.substring(v-6,v)&&" "!==a.substring(v-1,v)||!p&&!d||(u=v);d=a[v].match(/[[\]]/);if(p)if("&"===a[v]){p=a.substring(v).match(/^(&[^;]+;)/);if(!p)throw Error("Unclosed html entity at char "+(v+1));v+=p[1].length-2;continue}else"]"===a[v]&&"\\"===a[v-1]?--m:d||++m;if(!d&&p)if(2===bb(a[v])&&m++,p=f({count:m,index:v,formatting:h,text:k,
space:u}),!1===p)break;else p&&(p.count!==b&&(m=p.count),p.space!==b&&(u=p.space),p.index!==b&&(v=p.index))}},substring:function(b,f,h){if(""===a("<span>"+a.terminal.strip(b)+"</span>").text().substring(f,h))return"";var k,m=b.length,p="",u="";a.terminal.iterate_formatting(b,function(a){a.count===f&&(k=a.index+1,a.formatting&&(p=a.formatting));h&&a.count===h&&(m=a.index+1,u=a.formatting)});b=p+b.substring(k,m);u&&(b+="]");return b},normalize:function(a){return a.replace(pb,function(a,b,f){if(""===
f)return"";a=b.match(/;/g).length;if(4<=a)return a=b.split(/;/),b=a.slice(0,4).join(";"),a=a.slice(4).join(";"),"[["+b+";"+(a||f)+"]"+f+"]";a=2===a?";;":3===a?";":"";var h=f.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+b+a+h+"]"+f+"]"})},split_equal:function(b,f,h){var k="",m=[];b=a.terminal.normalize(b).split(/\n/g);for(var p=0,u=b.length;p<u;++p)if(""===b[p])m.push("");else{var v=b[p],d=0,x,A=v.length;a.terminal.iterate_formatting(v,function(b){var p=b.index===
A-2&&"]"===v[b.index+1],u=b.index===A-1||p;if(b.count>=f||u||b.count===f-1&&2===bb(v[b.index+1])){if(h){u=a.terminal.strip(v.substring(b.space));u=a("<span>"+u+"</span>").text();var y=u.length,H=b.index+f+1;u=u.substring(0,H);var G=!1;if(u.match(/\s/)||H>y)G=!0}if(h&&!p&&-1!==b.space&&b.index!==A-1&&G){x=v.substring(d,b.space);var ha=b.space-1}else x=v.substring(d,b.index+1);h&&(x=x.replace(/(&nbsp;|\s)+$/g,""));d=(ha||b.index)+1;k&&(b=x.match(/^[^\]]*\]/),x=k+x,b&&(k=""));p&&(x+="]",k="");if(p=x.match(pb))p=
p[p.length-1],"]"!==p[p.length-1]?(k=p.match(jb)[1],x+="]"):x.match(Wa)&&(x=x.replace(Wa,""),k=p.match(jb)[1]);m.push(x);return{index:ha,count:0,space:-1}}})}return m},encode:function(a){a=a.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;");return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(b){if(!a.terminal.have_formatting(b))return b;var f=[],h=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return b.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(b){if(b.match(/^\[\[/))a.terminal.is_formatting(b)||
(b+="]",f.push(b.replace(h,"$1")));else{var k=!1;b.match(/\]/)&&(k=!0);f.length&&(b=f[f.length-1]+b);k?f.pop():f.length&&(b+="]")}return b}).join("")},escape_formatting:function(b){return a.terminal.escape_brackets(b)},apply_formatters:function(b){var f=a.terminal.defaults.formatters;return a.terminal.format_split(b).map(function(b){if(!a.terminal.is_formatting(b))for(var h=0;h<f.length;++h)try{if("function"===typeof f[h]){var k=f[h](b);"string"===typeof k&&(b=k)}}catch(ha){throw Error("Error in formatter ["+
h+"]");}return b}).join("")},format:function(b,f){var h=a.extend({},{linksNoReferrer:!1},f||{});if("string"===typeof b){var k=a.terminal.format_split(b);b=a.map(k,function(b){return""===b?b:a.terminal.is_formatting(b)?(b=b.replace(/\[\[[^\]]+\]/,function(a){return a.replace(/&nbsp;/g," ")}),b.replace(Aa,function(b,f,k,d,m,p,u){if(""===u)return"";u=u.replace(/\\]/g,"]");b="";-1!==f.indexOf("b")&&(b+="font-weight:bold;");var v=[];-1!==f.indexOf("u")&&v.push("underline");-1!==f.indexOf("s")&&v.push("line-through");
-1!==f.indexOf("o")&&v.push("overline");v.length&&(b+="text-decoration:"+v.join(" ")+";");-1!==f.indexOf("i")&&(b+="font-style:italic;");a.terminal.valid_color(k)&&(b+="color:"+k+";",-1!==f.indexOf("g")&&(b+="text-shadow:0 0 5px "+k+";"));a.terminal.valid_color(d)&&(b+="background-color:"+d);k=""===p?u:p.replace(/&#93;/g,"]");-1!==f.indexOf("!")?(k.match(Ab)?d='<a class="a_acct" name="a_acct"':(d='<a target="_blank" href="'+k+'"',d=h.linksNoReferrer?d+' rel="noreferrer noopener"':d+' rel="noopener"'),
d+=' tabindex="1000"'):d="<span";""!==b&&(d+=' style="'+b+'"');""!==m&&(d+=' class="'+m+'"');return d=-1!==f.indexOf("!")?d+(">"+u+"</a>"):d+(' data-text="'+k.replace('"',"&quote;")+'">'+u+"</span>")})):"<span>"+b.replace(/\\\]/g,"]")+"</span>"}).join("");return b.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(a){return a.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(a){a=a.replace(Aa,"$6");return a.replace(/(\\?)([[\]])/g,function(a,b){return b?a:
""})},active:function(){return da.front()},last_id:function(){var a=da.length();if(a)return a-1},parse_argument:function(a,b){function f(a){a.match(/^['"]/)&&(a=a.replace(new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+a[0],"g"),"$1"));return JSON.parse('"'+a+'"')}if(!1===b)return"'"===a[0]&&"'"===a[a.length-1]?a.replace(/^'|'$/g,""):'"'===a[0]&&'"'===a[a.length-1]?a.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):a.match(/\/.*\/[gimy]*$/)?a:a.match(/['"]]/)?f(a):a.replace(/\\ /g," ");var h=a.match(Kb);return h?
new RegExp(h[1],h[2]):a.match(/['"]/)?f(a):a.match(/^-?[0-9]+$/)?parseInt(a,10):a.match(Fb)?parseFloat(a):a.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(b){return a.map(b.match(W)||[],a.terminal.parse_argument)},split_arguments:function(b){return a.map(b.match(W)||[],function(b){return a.terminal.parse_argument(b,!1)})},parse_command:function(b){return Ba(b,a.terminal.parse_argument)},split_command:function(b){return Ba(b,function(b){return a.terminal.parse_argument(b,!1)})},extended_command:function(a,
b){try{Da=!1,a.exec(b,!0).done(function(){Da=!0})}catch(Na){}}};a.fn.visible=function(){return this.css("visibility","visible")};a.fn.hidden=function(){return this.css("visibility","hidden")};a.fn.scroll_element=function(){var b=a.fn.scroll_element.defaults;return this.map(function(){if(a(this).is("body")){var f=a("html"),h=a("body"),k=h.scrollTop()||f.scrollTop(),m=a("<pre/>").css(b.pre).appendTo("body");m.html(Array(b.lines).join("\n"));a("body,html").scrollTop(10);if(10===h.scrollTop()){h.scrollTop(k);
var p=h[0]}else 10===f.scrollTop()&&(f.scrollTop(k),p=f[0]);m.remove();return p}return this})};a.fn.scroll_element.defaults={lines:2E3,pre:{"font-size":"100px","white-space":"pre"}};var wa={};a.jrpc=function(b,f,h,k,m){var p=a.isPlainObject(b)?b:{url:b,method:f,params:h,success:k,error:m};wa[p.url]=wa[p.url]||0;var u={jsonrpc:"2.0",method:p.method,params:p.params,id:++wa[p.url]};return a.ajax({url:p.url,beforeSend:function(b,d){a.isFunction(p.request)&&p.request(b,u);d.data=JSON.stringify(u)},success:function(b,
d,f){f.getResponseHeader("Content-Type").match(/(application|text)\/json/)||ta("Response Content-Type is neither application/json nor text/json");try{var h=JSON.parse(b)}catch(Bb){if(p.error)p.error(f,"Invalid JSON",Bb);else throw Error("Invalid JSON");return}a.isFunction(p.response)&&p.response(f,h);b=h;if(a.isNumeric(b.id)&&("undefined"!==typeof b.result||"undefined"!==typeof b.error)||"system.describe"===p.method)p.success(h,d,f);else if(p.error)p.error(f,"Invalid JSON-RPC");else throw Error("Invalid JSON-RPC");
},error:p.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var ya=!a.terminal.version.match(/^\{\{/);ka=ya?" v. "+a.terminal.version:" ";var kb=new RegExp(" {"+ka.length+"}$");ya="jQuery Terminal Emulator"+(ya?ka:"");var vb=[["jQuery Terminal","(c) 2011-2017 jcubic"],[ya,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright | *<.*>/g,"")],[ya,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright /,"")],
["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(kb," ")+ka,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"],["      __ _____                     ________                              __",
"     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(kb,"")+ka,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"]];a.terminal.defaults=
{prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[a.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,
clickTimeout:200,request:a.noop,response:a.noop,describe:"procs",onRPCError:null,completion:!1,onInit:a.noop,onClear:a.noop,onBlur:a.noop,onFocus:a.noop,onTerminalChange:a.noop,onExit:a.noop,onPush:a.noop,onPop:a.noop,keypress:a.noop,keydown:a.noop,onAfterRedraw:a.noop,onEchoCommand:a.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",
wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",
notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",
invalidStrings:"Command %s have unclosed strings"}};var Ua=[],da=new function(b){var f=b?[b]:[],h=0;a.extend(this,{get:function(){return f},rotate:function(){if(f.filter(Boolean).length){if(1===f.length)return f[0];h===f.length-1?h=0:++h;return f[h]?f[h]:this.rotate()}},length:function(){return f.length},remove:function(a){delete f[a]},set:function(a){for(var b=f.length;b--;)if(f[b]===a){h=b;return}this.append(a)},front:function(){if(f.length){for(var a=h,b=!1;!f[a];)if(a++,a>f.length){if(b)break;
a=0;b=!0}return f[a]}},map:function(a){return f.filter(Boolean).map(a)},forEach:function(a){f.filter(Boolean).forEach(a)},append:function(a){f.push(a)}})},ma=[],I,Da=!1,Fa=!0,yb=!0;a.fn.terminal=function(f,h){function k(b){if(a.terminal.unclosed_strings(b))throw b=a.terminal.escape_brackets(b),Error(sprintf(M().invalidStrings,"`"+b+"`"));return a.isFunction(q.processArguments)?Ba(b,q.processArguments):q.processArguments?a.terminal.parse_command(b):a.terminal.split_command(b)}function p(b){"string"===
typeof b?g.echo(b):b instanceof Array?g.echo(a.map(b,function(a){return JSON.stringify(a)}).join(" ")):"object"===typeof b?g.echo(JSON.stringify(b)):g.echo(b)}function u(b){var d=b.match(/(.*):([0-9]+):([0-9]+)$/);d&&(g.pause(q.softPause),a.get(d[1],function(b){var f=location.href.replace(/[^/]+$/,"");f=d[1].replace(f,"");g.echo("[[b;white;]"+f+"]");b=b.split("\n");var l=+d[2]-1;g.echo(b.slice(l-2,l+3).map(function(b,d){2===d&&(b="[[;#f00;]"+a.terminal.escape_brackets(b)+"]");return"["+(l+d)+"]: "+
b}).join("\n")).resume()},"text"))}function v(b){if(a.isFunction(q.onRPCError))q.onRPCError.call(g,b);else if(g.error("&#91;RPC&#93; "+b.message),b.error&&b.error.message){b=b.error;var d="\t"+b.message;b.file&&(d+=' in file "'+b.file.replace(/.*\//,"")+'"');b.at&&(d+=" at line "+b.at);g.error(d)}}function x(b,f){var l=function(f,l){g.pause(q.softPause);a.jrpc({url:b,method:f,params:l,request:function(a,b){try{q.request.apply(g,a,b,g)}catch(nb){K(nb,"USER")}},response:function(a,b){try{q.response.apply(g,
a,b,g)}catch(nb){K(nb,"USER")}},success:function(b){b.error?v(b.error):a.isFunction(q.processRPCResponse)?q.processRPCResponse.call(g,b.result,g):p(b.result);g.resume()},error:d})};return function(a,b){if(""!==a){try{a=k(a)}catch(T){K(T,"TERMINAL (get_processed_command)");return}if(f&&"help"!==a.name){var d=b.token();d?l(a.name,[d].concat(a.args)):b.error("&#91;AUTH&#93; "+M().noTokenError)}else l(a.name,a.args)}}}function A(d,f,h,m){return function(l,r){if(""!==l){try{var p=k(l)}catch(ab){a.isFunction(q.exception)?
q.exception(ab,g):g.error(ab.toString());return}var u=d[p.name],L=a.type(u);if("function"===L)if(f&&u.length!==p.args.length)g.error("&#91;Arity&#93; "+sprintf(M().wrongArity,p.name,u.length,p.args.length));else return u.apply(g,p.args);else if("object"===L||"string"===L){var v=[];"object"===L&&(v=Object.keys(u),u=A(u,f,h));r.push(u,{prompt:p.name+"> ",name:p.name,completion:"object"===L?v:b})}else a.isFunction(m)?m(l,g):a.isFunction(q.onCommandNotFound)?q.onCommandNotFound.call(g,l,g):r.error(sprintf(M().commandNotFound,
p.name))}}}function d(b,d,f){g.resume();a.isFunction(q.onAjaxError)?q.onAjaxError.call(g,b,d,f):"abort"!==d&&g.error("&#91;AJAX&#93; "+d+" - "+M().serverResponse+":\n"+a.terminal.escape_brackets(b.responseText))}function Q(b,f,h){function l(b){b.error?v(b.error):a.isFunction(q.processRPCResponse)?q.processRPCResponse.call(g,b.result,g):p(b.result);g.resume()}function k(a,b){try{q.request.call(g,a,b,g)}catch(qa){K(qa,"USER")}}function m(a,b){try{q.response.call(g,a,b,g)}catch(qa){K(qa,"USER")}}return a.jrpc({url:b,
method:"system.describe",params:[],success:function(r){var p=r;""!==q.describe&&q.describe.split(".").forEach(function(a){p=p[a]});if(p&&p.length){var u={};a.each(p,function(h,r){u[r.name]=function(){var h=f&&"help"!==r.name,p=Array.prototype.slice.call(arguments),u=p.length+(h?1:0);q.checkArity&&r.params&&r.params.length!==u?g.error("&#91;Arity&#93; "+sprintf(M().wrongArity,r.name,r.params.length,u)):(g.pause(q.softPause),h&&((h=g.token(!0))?p=[h].concat(p):g.error("&#91;AUTH&#93; "+M().noTokenError)),
a.jrpc({url:b,method:r.name,params:p,request:k,response:m,success:l,error:d}))}});u.help=u.help||function(b){if("undefined"===typeof b){var d=r.procs.map(function(a){return a.name}).join(", ")+", help";g.echo("Available commands: "+d)}else{var f=!1;a.each(p,function(a,d){if(d.name===b){f=!0;var l=""+("[[bu;#fff;]"+d.name+"]");d.params&&(l+=" "+d.params.join(" "));d.help&&(l+="\n"+d.help);g.echo(l);return!1}});f||("help"===b?g.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified"):
g.error("Method `"+b+"' not found "))}};h(u)}else h(null)},request:k,response:m,error:function(){h(null)}})}function O(b,d,f){f=f||a.noop;var l=a.type(b),h={},k=0,m;if("array"===l){var r={};(function Xa(b,f){if(b.length){var l=b[0],h=b.slice(1),p=a.type(l);"string"===p?(g.pause(q.softPause),!1===q.describe?(1===++k?m=x(l,d):g.error(M().oneRPCWithIgnore),Xa(h,f)):Q(l,d,function(b){b?a.extend(r,b):1===++k?m=x(l,d):g.error(M().oneRPCWithIgnore);g.resume();Xa(h,f)})):"function"===p?(m?g.error(M().oneInterpreterFunction):
m=l,Xa(h,f)):"object"===p&&(a.extend(r,l),Xa(h,f))}else f()})(b,function(){f({interpreter:A(r,!1,d,m.bind(g)),completion:Object.keys(r)})})}else if("string"===l)q.ignoreSystemDescribe?(r={interpreter:x(b,d)},a.isArray(q.completion)&&(r.completion=q.completion),f(r)):(g.pause(q.softPause),Q(b,d,function(a){a?(h.interpreter=A(a,!1,d),h.completion=Object.keys(a)):h.interpreter=x(b,d);f(h);g.resume()}));else if("object"===l)f({interpreter:A(b,q.checkArity),completion:Object.keys(b)});else{if("undefined"===
l)b=a.noop;else if("function"!==l)throw Error(l+" is invalid interpreter value");f({interpreter:b,completion:q.completion})}}function ka(b,f){var l="boolean"===a.type(f)?"login":f;return function(f,h,k){g.pause(q.softPause);a.jrpc({url:b,method:l,params:[f,h],request:function(a,b){try{q.request.call(g,a,b,g)}catch(qa){K(qa,"USER")}},response:function(a,b){try{q.response.call(g,a,b,g)}catch(qa){K(qa,"USER")}},success:function(a){!a.error&&a.result?k(a.result):k(null);g.resume()},error:d})}}function W(a){return"string"===
typeof a?a:"string"===typeof a.fileName?a.fileName+": "+a.message:a.message}function K(b,d){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(g,b,d):g.exception(b,d)}function ta(){var a=pa.prop?pa.prop("scrollHeight"):pa.attr("scrollHeight");pa.scrollTop(a)}function va(b,d){try{if(a.isFunction(d))d.call(g,a.noop,g);else if("string"!==typeof d)throw b+" must be string or function";}catch(L){return K(L,b.toUpperCase()),!1}return!0}function ya(d,f){q.convertLinks&&!f.raw&&(d=d.replace(Ab,"[[!;;]$1]").replace(Db,
"[[!;;]$1]"));var h;if(!f.raw){if(f.formatters)try{d=a.terminal.apply_formatters(d)}catch(ja){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(g,ja,"FORMATTERS"):alert(ja.message+"\n"+(ja.stack?ja.stack:ja))}d=a.terminal.encode(d)}sa.push(1);if(!f.raw&&(bb(d)>P||d.match(/\n/))&&(!0===q.wrap&&f.wrap===b||!1===q.wrap&&!0===f.wrap)){var l=a.terminal.split_equal(d,P,f.keepWords);var k=0;for(h=l.length;k<h;++k)""===l[k]||"\r"===l[k]?sa.push("<span></span>"):f.raw?sa.push(l[k]):sa.push(a.terminal.format(l[k],
{linksNoReferrer:q.linksNoReferrer}))}else f.raw?sa.push(d):(d=a.terminal.normalize(d),d=a.terminal.format(d,{linksNoReferrer:q.linksNoReferrer}),d.split(/\n/).forEach(function(a){sa.push(a)}));sa.push(f.finalize)}function Aa(b,d){try{var f=a.extend({exec:!0,raw:!1,finalize:a.noop},d||{}),h="function"===a.type(b)?b():b;h="string"===a.type(h)?h:String(h);""!==h&&ya(h,f)}catch(aa){sa=[],a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(g,aa,"TERMINAL"):alert("[Internal Exception(process_line)]:"+
W(aa)+"\n"+aa.stack)}}function wa(){E.resize(P);var b=Va.empty().detach(),d=[];if(0<=q.outputLimit){var f=0===q.outputLimit?g.rows():q.outputLimit;Y.forEach(function(b){var f="function"===a.type(b[0])?b[0]():b[0];f="string"===a.type(f)?f:String(f);if(bb(f)>P){var g=b[1];b=a.terminal.split_equal(f,P,g.keepWords);d=d.concat(b.map(function(a){return[a,g]}))}else d.push(b)});d=d.slice(d.length-f-1)}else d=Y;try{sa=[],a.each(Y,function(a,b){Aa.apply(null,b)}),E.before(b),g.flush(),q.onAfterRedraw.call(g)}catch(ea){a.isFunction(q.exceptionHandler)?
q.exceptionHandler.call(g,ea,"TERMINAL (redraw)"):alert("Exception in redraw\n"+ea.stack)}}function ob(){if(q.greetings===b)g.echo(g.signature,{finalize:G});else if(q.greetings){var a=typeof q.greetings;"string"===a?g.echo(q.greetings):"function"===a?q.greetings.call(g,g.echo):g.error(M().wrongGreetings)}}function Ha(b){"undefined"===typeof b&&(b=g.get_command());var d=E.prompt(),f=E.mask();switch(typeof f){case "string":b=b.replace(/./g,f);break;case "boolean":b=f?b.replace(/./g,q.maskChar):a.terminal.escape_formatting(b)}var h=
{finalize:function(a){G(a.addClass("command"));q.onEchoCommand.call(g,a)}};a.isFunction(d)?d(function(a){g.echo(a+b,h)}):g.echo(d+b,h)}function hb(a){var b=da.get()[a[0]];if(!b)throw Error(M().invalidTerminalId);var d=a[1];ma[d]?b.import_view(ma[d]):(Da=!1,(a=a[2])&&b.exec(a).done(function(){Da=!0;ma[d]=b.export_view()}))}function cb(){Da&&(Fa=!1,location.hash="#"+JSON.stringify(I),setTimeout(function(){Fa=!0},100))}function xa(d,f,h){function l(){h||(Da=!0,q.historyState&&g.save_state(d,!1),Da=u);
r.resolve();a.isFunction(q.onAfterCommand)&&q.onAfterCommand.call(g,g,d)}function k(a){a&&L===Y.length-1&&p(a);l();g.resume()}La&&(La=!1,q.historyState||q.execHash&&h)&&(ma.length?g.save_state(null):g.save_state());try{if(!a.isFunction(q.onBeforeCommand)||!1!==q.onBeforeCommand.call(g,g,d)){h||(z=a.terminal.split_command(d));V||!1!==E.mask()||h&&(a.isFunction(q.historyFilter)&&q.historyFilter(d)||d.match(q.historyFilter))&&E.history().append(d);var m=J.top();!f&&q.echoCommand&&Ha(d);var r=new a.Deferred;
var u=Da;if(d.match(/^\s*login\s*$/)&&g.token(!0))1<g.level()?g.logout(!0):g.logout(),l();else if(q.exit&&d.match(/^\s*exit\s*$/)&&!V){var v=g.level();if(1===v&&g.get_token()||1<v)g.get_token(!0)&&g.set_token(b,!0),g.pop();l()}else if(q.clear&&d.match(/^\s*clear\s*$/)&&!V)g.clear(),l();else{var L=Y.length-1;var x=m.interpreter.call(g,d,g);if(x!==b)if(g.pause(q.softPause),x.then)x.then(k);else return a.when(x).done(k);else Ka?B.push(function(){l()}):l()}return r.promise()}}catch(Ra){if(K(Ra,"USER"),
g.resume(),!q.exceptionHandler)throw Ra;}}function Wa(){var a=g.prefix_name(!0)+"_";la.remove(a+"token");la.remove(a+"login")}function jb(b){var d=g.prefix_name()+"_interpreters",f=la.get(d);f=f?JSON.parse(f):[];-1===a.inArray(b,f)&&(f.push(b),la.set(d,JSON.stringify(f)))}function w(b){var d=J.top(),f=g.prefix_name(!0);V||!1!==E.mask()||jb(f);E.name(f);a.isFunction(d.prompt)?E.prompt(function(a){d.prompt.call(g,a,g)}):E.prompt(d.prompt);a.isPlainObject(d.keymap)&&E.keymap(a.omap(d.keymap,function(a,
b){return function(){var a=[].slice.call(arguments);try{return b.apply(g,a)}catch(T){if(K(T,"USER KEYMAP"),!q.exceptionHandler)throw T;}}}));E.set("");ib.resolve();!b&&a.isFunction(d.onStart)&&d.onStart.call(g,g)}function kb(){if(Fa&&q.execHash)try{if(location.hash){var a=location.hash.replace(/^#/,"");I=JSON.parse(decodeURIComponent(a))}else I=[];I.length?hb(I[I.length-1]):ma[0]&&g.import_view(ma[0])}catch(r){K(r,"TERMINAL")}}function C(){w();ob();Y.length&&wa();var b=!1;if(a.isFunction(q.onInit)){fb=
function(){b=!0};try{q.onInit.call(g,g)}catch(r){K(r,"OnInit")}finally{fb=a.noop,!b&&g.enabled()&&g.resume()}}yb&&(yb=!1,a(window).on("hashchange",kb))}function R(a,b){if(!b.length)return"";var d=!1,f=a.length;a:for(;f<b[0].length;++f){for(var g=1;g<b.length;++g)if(b[0].charAt(f)!==b[g].charAt(f))break a;d=!0}return d?b[0].slice(0,f):""}function Ea(d){var f=J.top();if(a.isFunction(f.keydown)){if(d=f.keydown.call(g,d,g),d!==b)return d}else if(a.isFunction(q.keydown)&&(d=q.keydown.call(g,d,g),d!==b))return d}
function pb(d){if(g.enabled()){if(g.paused()){if(!q.pauseEvents){var f=Ea(d);if(f!==b)return f}if(68===d.which&&d.ctrlKey){if(q.pauseEvents&&(f=Ea(d),f!==b))return f;if(Ua.length){for(f=Ua.length;f--;){var h=Ua[f];if(4!==h.readyState)try{h.abort()}catch(ea){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(g,d,"AJAX ABORT"):g.error(M().ajaxAbortError)}}Ua=[]}g.resume()}return!1}f=Ea(d);if(f!==b)return f;9!==d.which&&(Ca=0);g.attr({scrollTop:g.attr("scrollHeight")})}}function Cb(a){return function(b){a.add(b)}}
function M(){return a.extend({},a.terminal.defaults.strings,q.strings)}function fa(){N&&g.focus()}function Ta(){N=Z;g.disable()}var sa=[],La=!0,B=[],tb={"CTRL+D":function(a,d){V||(""===E.get()?1<J.size()||q.login!==b?g.pop(""):(g.resume(),g.echo("")):d());return!1},"CTRL+L":function(){g.clear()},TAB:function(d,f){var h=J.top();h=q.completion&&"boolean"!==a.type(q.completion)&&h.completion===b?q.completion:h.completion;"settings"===h&&(h=q.completion);if(h)switch(a.type(h)){case "function":var l=g.before_cursor(q.wordAutocomplete);
if(3===h.length){h=Error(M().comletionParameters);K(h,"USER");break}h.call(g,l,function(a){g.complete(a,{echo:!0,word:q.wordAutocomplete,escape:q.completionEscape})});break;case "array":g.complete(h,{echo:!0,word:q.wordAutocomplete,escape:q.completionEscape});break;default:throw Error(M().invalidCompletion);}else f();return!1},"CTRL+V":function(a,b){b(a);g.oneTime(200,function(){ta()});return!0},"CTRL+TAB":function(){if(1<da.length())return g.focus(!1),!1},PAGEDOWN:function(){g.scroll(g.height())},
PAGEUP:function(){g.scroll(-g.height())}},g=this;if(1<this.length)return this.each(function(){a.fn.terminal.call(a(this),f,a.extend({name:g.selector},h))});if(g.data("terminal"))return g.data("terminal");if(0===g.length)throw Error(sprintf(M().invalidSelector,g.selector));var z,Ca=0,Y=[],Ya=da.length(),P,oa,Za,eb=new y,qb=new m,ib=new m,ua=Cb(ib),S=Sa(),ca=Cb(qb),V=!1,fb=a.noop,lb,mb,$a=[],q=a.extend({},a.terminal.defaults,{name:g.selector},h||{}),la=new function(b){b&&(this.storage={});this.set=
function(d,f){b?this.storage[d]=f:a.Storage.set(d,f)};this.get=function(d){return b?this.storage[d]:a.Storage.get(d)};this.remove=function(d){b?delete this.storage[d]:a.Storage.remove(d)}}(q.memory),Z=q.enabled,na=!1,Ka=!1,Oa=!0,J,E,N,F,Pa;a.extend(g,a.omap({id:function(){return Ya},clear:function(){Va.html("");Y=[];try{q.onClear.call(g,g)}catch(l){K(l,"onClear")}g.attr({scrollTop:0});return g},export_view:function(){var b={};if(a.isFunction(q.onExport))try{b=q.onExport.call(g)}catch(r){K(r,"onExport")}return a.extend({},
{focus:Z,mask:E.mask(),prompt:g.get_prompt(),command:g.get_command(),position:E.position(),lines:Ma.clone_object(Y),interpreters:J.clone(),history:E.history().data},b)},import_view:function(b){if(V)throw Error(sprintf(M().notWhileLogin,"import_view"));if(a.isFunction(q.onImport))try{q.onImport.call(g,b)}catch(r){K(r,"onImport")}ua(function(){g.set_prompt(b.prompt);g.set_command(b.command);E.position(b.position);E.mask(b.mask);b.focus&&g.focus();Y=Ma.clone_object(b.lines);J=b.interpreters;q.importHistory&&
E.history().set(b.history);wa()});return g},save_state:function(d,f,h){"undefined"!==typeof h?ma[h]=g.export_view():ma.push(g.export_view());a.isArray(I)||(I=[]);d===b||f||(I.push([Ya,ma.length-1,d]),cb())},exec:function(b,d,f){var h=f||new a.Deferred;ca(function(){a.isArray(b)?function ja(){var a=b.shift();a?g.exec(a,d).done(ja):h.resolve()}():Ka?$a.push([b,d,h]):xa(b,d,!0).done(function(){h.resolve(g)})});return h.promise()},autologin:function(a,b,d){g.trigger("terminal.autologin",[a,b,d]);return g},
login:function(d,f,h,k){function l(d,l,p){if(l){for(;g.level()>m;)g.pop(b,!0);q.history&&E.history().enable();p=g.prefix_name(!0)+"_";la.set(p+"token",l);la.set(p+"login",d);V=!1;a.isFunction(h)&&h()}else f?(p||g.error(M().wrongPasswordTryAgain),g.pop(b,!0).set_mask(!1)):(V=!1,p||g.error(M().wrongPassword),g.pop(b,!0).pop(b,!0)),a.isFunction(k)&&k();g.off("terminal.autologin")}eb.push([].slice.call(arguments));if(V)throw Error(sprintf(M().notWhileLogin,"login"));if(!a.isFunction(d))throw Error(M().loginIsNotAFunction);
V=!0;if(g.token()&&1===g.level()&&!Oa)V=!1,g.logout(!0);else if(g.token(!0)&&g.login_name(!0))return V=!1,a.isFunction(h)&&h(),g;q.history&&E.history().disable();var m=g.level();g.on("terminal.autologin",function(a,b,d,f){l(b,d,f)});g.push(function(a){g.set_mask(q.maskChar).push(function(b){try{d.call(g,a,b,function(b,d){l(a,b,d)})}catch(qa){K(qa,"AUTH")}},{prompt:M().password+": ",name:"password"})},{prompt:M().login+": ",name:"login"});return g},settings:function(){return q},before_cursor:function(a){var b=
E.position(),d=E.get().substring(0,b);b=d.split(" ");if(a)if(1===b.length)d=b[0];else{var f=(a=d.match(/(\\?")/g))?a.filter(function(a){return!a.match(/^\\/)}).length:0;a=d.match(/'/g);if(1===(a?a.length:0)%2)d=d.match(/('[^']*)$/)[0];else if(1===f%2)d=d.match(/("(?:[^"]|\\")*)$/)[0];else for(d=b[b.length-1],Ja=b.length-1;0<Ja;Ja--)if(a=b[Ja-1],"\\"===a[a.length-1])d=b[Ja-1]+" "+d;else break}return d},complete:function(b,d){function f(a,b){var d=g.get_command(),f=g.get_position(),h=new RegExp(a+"$");
h=d.substring(0,f).replace(h,"");d=d.substring(f);f=b+(l||"");g.set_command(h+f+d);g.set_position((h+f).length)}d=a.extend({word:!0,echo:!1,escape:!0},d||{});var h=g.before_cursor(d.word).replace(/\\"/g,'"'),l=!1;d.word&&(h.match(/^"/)?l='"':h.match(/^'/)&&(l="'"),l&&(h=h.replace(/^["']/,"")));b=b.slice();q.clear&&-1===a.inArray("clear",b)&&b.push("clear");q.exit&&-1===a.inArray("exit",b)&&b.push("exit");if(0===Ca%2)Za=g.before_cursor(d.word);else if(g.before_cursor(d.word)!==Za)return;var k=a.terminal.escape_regex(h);
d.escape&&(k=k.replace(/(\\+)(["'() ])/g,function(a,b,d){return d.match(/[()]/)?b+"\\?\\"+d:b+"?"+d}));for(var m=new RegExp("^"+k),p=[],r=b.length;r--;)if(m.test(b[r])){var u=b[r];'"'===l&&(u=u.replace(/"/g,'\\"'));!l&&d.escape&&(u=u.replace(/(["'() ])/g,"\\$1"));p.push(u)}if(1===p.length)return d.escape?f(k,p[0]):g.insert(p[0].replace(m,"")+(l||"")),Za=g.before_cursor(d.word),!0;if(1<p.length)if(2<=++Ca){if(Ca=0,d.echo)return Ha(),h=p.reverse().join("\t"),g.echo(a.terminal.escape_brackets(h),{keepWords:!0}),
!0}else if(k=R(h,p))return f(h,k),Za=g.before_cursor(d.word),!0},commands:function(){return J.top().interpreter},set_interpreter:function(b,d){function f(){g.pause(q.softPause);O(b,!!d,function(b){g.resume();var d=J.top();a.extend(d,b);w(!0)})}"string"===a.type(b)&&d?g.login(ka(b,d),!0,f):f();return g},greetings:function(){ob();return g},paused:function(){return Ka},pause:function(b){ca(function(){fb();Ka=!0;E.disable(b||xb);b||E.find(".prompt").hidden();a.isFunction(q.onPause)&&q.onPause.call(g)});
return g},resume:function(){ca(function(){Ka=!1;Z&&da.front()===g&&E.enable();E.find(".prompt").visible();var b=$a;$a=[];for(var d=0;d<b.length;++d)g.exec.apply(g,b[d]);g.trigger("resume");(b=B.shift())&&b();ta();a.isFunction(q.onResume)&&q.onResume.call(g)});return g},cols:function(){if(q.numChars)return q.numChars;"undefined"===typeof P&&(P=Ga(g,S));return P},rows:function(){if(q.numRows)return q.numRows;"undefined"===typeof oa&&(oa=ba(g,S));return oa},history:function(){return E.history()},history_state:function(a){function b(){q.historyState=
!0;ma.length?1<da.length()&&g.save_state(null):g.save_state()}a?"undefined"===typeof window.setImmediate?setTimeout(b,0):setImmediate(b):q.historyState=!1;return g},clear_history_state:function(){I=[];ma=[];return g},next:function(){if(1===da.length())return g;da.front().disable();var b=da.rotate().enable(),d=b.offset().top-50;a("html,body").animate({scrollTop:d},500);try{q.onTerminalChange.call(b,b)}catch(L){K(L,"onTerminalChange")}return b},focus:function(a,b){ca(function(){if(1===da.length())if(!1===
a)try{var d=q.onBlur.call(g,g);(!b&&!1!==d||b)&&g.disable()}catch(ea){K(ea,"onBlur")}else try{d=q.onFocus.call(g,g),(!b&&!1!==d||b)&&g.enable()}catch(ea){K(ea,"onFocus")}else if(!1===a)g.next();else{if(da.front()!==g&&(da.forEach(function(a){a!==g&&a.enabled()&&a.disable()}),!b))try{q.onTerminalChange.call(g,g)}catch(ea){K(ea,"onTerminalChange")}da.set(g);g.enable()}});return g},freeze:function(a){ua(function(){a?(g.disable(),na=!0):(na=!1,g.enable())})},frozen:function(){return na},enable:function(){Z||
na||(P===b&&g.resize(),ca(function(){g.paused()||E.enable();Z=!0}));return g},disable:function(){ca(function(){Z=!1;E.disable()});return g},enabled:function(){return Z},signature:function(){for(var a=g.cols(),b=vb.length;b--;){var d=vb[b].map(function(a){return a.length});if(Math.max.apply(null,d)<=a)return vb[b].join("\n")+"\n"}return""},version:function(){return a.terminal.version},cmd:function(){return E},get_command:function(){return E.get()},set_command:function(a){ua(function(){E.set(a)});return g},
set_position:function(a,b){ua(function(){E.position(a,b)});return g},get_position:function(){return E.position()},insert:function(a,b){if("string"===typeof a)return ua(function(){var d=g.is_bottom();E.insert(a,b);(q.scrollOnEcho||d)&&ta()}),g;throw Error(sprintf(M().notAString,"insert"));},set_prompt:function(b){ua(function(){va("prompt",b)&&(a.isFunction(b)?E.prompt(function(a){b(a,g)}):E.prompt(b),J.top().prompt=b)});return g},get_prompt:function(){return J.top().prompt},set_mask:function(a){ua(function(){E.mask(!0===
a?q.maskChar:a)});return g},get_output:function(b){return b?Y:a.map(Y,function(b){return a.isFunction(b[0])?b[0]():b[0]}).join("\n")},resize:function(b,d){if(g.is(":visible")){b&&d&&(g.width(b),g.height(d));b=g.width();d=g.height();if("undefined"!==typeof q.numChars&&"undefined"!==typeof q.numRows)return;S=Sa();var f=Ga(g,S),h=ba(g,S);if(f!==P||h!==oa)P=f,oa=h,E.resize(P),wa(),f=J.top(),a.isFunction(f.resize)?f.resize.call(g,g):a.isFunction(q.onResize)&&q.onResize.call(g,g),ta()}else g.stopTime("resize"),
g.oneTime(500,"resize",function(){g.resize(b,d)});return g},flush:function(){try{var b=g.is_bottom(),d;a.each(sa,function(b,f){1===f?d=a("<div></div>"):a.isFunction(f)?(d.appendTo(Va),f(d)):a("<div/>").html(f).appendTo(d).width("100%")});if(0<=q.outputLimit){var f=0===q.outputLimit?g.rows():q.outputLimit;var h=Va.find("div div");if(h.length+1>f){var k=h.slice(0,h.length-f+1),m=k.parent();k.remove();m.each(function(){var b=a(this);b.is(":empty")&&b.remove()})}}(q.scrollOnEcho||b)&&ta();sa=[]}catch(T){a.isFunction(q.exceptionHandler)?
q.exceptionHandler.call(g,T,"TERMINAL (Flush)"):alert("[Flush] "+W(T)+"\n"+T.stack)}return g},update:function(a,b){ua(function(){0>a&&(a=Y.length+a);Y[a]?(null===b?Y.splice(a,1):Y[a][0]=b,wa()):g.error("Invalid line number "+a)});return g},last_index:function(){return Y.length-1},echo:function(b,d){function f(b){try{var f=a.extend({flush:!0,raw:q.raw,finalize:a.noop,keepWords:!1,formatters:!0},d||{});f.raw&&function(a){f.finalize=function(b){b.addClass("raw");a(b)}}(f.finalize);f.flush&&(sa.length&&
g.flush(),sa=[]);Aa(b,f);Y.push([b,a.extend(f,{exec:!1})]);f.flush&&g.flush()}catch(ja){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(g,ja,"TERMINAL (echo)"):alert("[Terminal.echo] "+W(ja)+"\n"+ja.stack)}}try{d&&a.isFunction(d.finalize)&&d.finalize(a("<div/>")),a.isFunction(b.then)?a.when(b).done(f):f(b)}catch(ea){K(ea,"USER:echo(finalize)")}return g},error:function(b,d){d=a.extend({},d,{raw:!1,formatters:!1});var f=a.terminal.escape_brackets(b).replace(/\\$/,"&#92;").replace(zb,"]$1[[;;;error]");
return g.echo("[[;;;error]"+f+"]",d)},exception:function(b,d){var f=W(b);d&&(f="&#91;"+d+"&#93;: "+f);f&&g.error(f,{finalize:function(a){a.addClass("exception message")},keepWords:!0});"string"===typeof b.fileName&&(g.pause(q.softPause),a.get(b.fileName,function(a){var d=b.lineNumber-1;(a=a.split("\n")[d])&&g.error("["+b.lineNumber+"]: "+a);g.resume()},"text"));b.stack&&(f=a.terminal.escape_brackets(b.stack),g.echo(f.split(/\n/g).map(function(a){return"[[;;;error]"+a.replace(zb,function(a){return"]"+
a+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(a){a.addClass("exception stack-trace")},formatters:!1}))},scroll:function(a){a=Math.round(a);if(pa.prop){a>pa.prop("scrollTop")&&0<a&&pa.prop("scrollTop",0);var b=pa.prop("scrollTop")}else a>pa.attr("scrollTop")&&0<a&&pa.attr("scrollTop",0),b=pa.attr("scrollTop");pa.scrollTop(b+a);return g},logout:function(a){if(V)throw Error(sprintf(M().notWhileLogin,"logout"));ua(function(){if(a){var d=eb.pop();g.set_token(b,!0);g.login.apply(g,d)}else if(1===
J.size()&&g.token())g.logout(!0);else for(;1<J.size();)g.token()?g.logout(!0).pop().pop():g.pop()});return g},token:function(a){return la.get(g.prefix_name(a)+"_token")},set_token:function(a,b){var d=g.prefix_name(b)+"_token";"undefined"===typeof a?la.remove(d,a):la.set(d,a);return g},get_token:function(a){return g.token(a)},login_name:function(a){return la.get(g.prefix_name(a)+"_login")},name:function(){return J.top().name},prefix_name:function(a){var b=(q.name?q.name+"_":"")+Ya;a&&1<J.size()&&(a=
J.map(function(a){return a.name||""}).slice(1).join("_"))&&(b+="_"+a);return b},read:function(b,d){var f=new a.Deferred;g.push(function(b){g.pop();a.isFunction(d)&&d(b);f.resolve(b)},{prompt:b});return f.promise()},push:function(d,f){ca(function(){function h(){q.onPush.call(g,l,J.top(),g);w()}f=f||{};var k=a.extend({},{infiniteLogin:!1},f);!k.name&&z&&(k.name=z.name);k.prompt===b&&(k.prompt=(k.name||">")+" ");var l=J.top();l&&(l.mask=E.mask());var m=Ka;O(d,!!f.login,function(b){J.push(a.extend({},
b,k));!0===k.completion&&(a.isArray(b.completion)?J.top().completion=b.completion:b.completion||(J.top().completion=!1));if(k.login)if(b=a.type(k.login),"function"===b)b=k.infiniteLogin?a.noop:g.pop,g.login(k.login,k.infiniteLogin,h,b);else{if("string"===a.type(d)&&"string"===b||"boolean"===b)b=k.infiniteLogin?a.noop:g.pop,g.login(ka(d,k.login),k.infiniteLogin,h,b)}else h();!m&&g.enabled()&&g.resume()})});return g},pop:function(d,f){d!==b&&Ha(d);var h=g.token(!0);if(1===J.size())if(h=J.top(),q.login){f||
q.onPop.call(g,h,null,g);a:{if(a.isFunction(q.onBeforeLogout))try{if(!1===q.onBeforeLogout.call(g,g))break a}catch(aa){K(aa,"onBeforeLogout")}Wa();if(a.isFunction(q.onAfterLogout))try{q.onAfterLogout.call(g,g)}catch(aa){K(aa,"onAfterlogout")}g.login(q.login,!0,C)}if(a.isFunction(q.onExit))try{q.onExit.call(g,g)}catch(aa){K(aa,"onExit")}}else g.error(M().canExitError);else{h&&Wa();var k=J.pop();h=J.top();w();f||q.onPop.call(g,k,h);V&&g.get_prompt()!==M().login+": "&&(V=!1);if(a.isFunction(k.onExit))try{k.onExit.call(g,
g)}catch(aa){K(aa,"onExit")}g.set_mask(h.mask)}return g},option:function(b,d){if("undefined"===typeof d){if("string"===typeof b)return q[b];"object"===typeof b&&a.each(b,function(a,b){q[a]=b})}else q[b]=d;return g},level:function(){return J.size()},reset:function(){ua(function(){for(g.clear();1<J.size();)J.pop();C()});return g},purge:function(){ua(function(){var b=g.prefix_name()+"_",d=la.get(b+"interpreters");d&&a.each(JSON.parse(d),function(a,b){la.remove(b+"_commands");la.remove(b+"_token");la.remove(b+
"_login")});E.purge();la.remove(b+"interpreters")});return g},destroy:function(){ua(function(){E.destroy().remove();Va.remove();Ia.remove();a(document).unbind(".terminal_"+g.id());a(window).unbind(".terminal_"+g.id());g.unbind("click wheel mousewheel mousedown mouseup");g.removeData("terminal").removeClass("terminal").unbind(".terminal");q.width&&g.css("width","");q.height&&g.css("height","");a(window).off("blur",Ta).off("focus",fa);g.find(".terminal-fill").remove();da.remove(Ya);F&&F.unobserve(g[0]);
Pa&&Pa.disconnect();g.resizer("unbind");da.length()||a(window).off("hashchange")});return g},scroll_to_bottom:ta,is_bottom:function(){if(-1===q.scrollBottomOffset)return!1;if(g.is("body")){var b=a(document).height();var d=a(window).scrollTop();var f=window.innerHeight}else b=pa[0].scrollHeight,d=pa.scrollTop(),f=pa.outerHeight();return d+f>b-q.scrollBottomOffset}},function(a,b){return function(){try{return b.apply(g,[].slice.apply(arguments))}catch(L){if("exec"!==a&&"resume"!==a&&K(L,"TERMINAL"),
!q.exceptionHandler)throw L;}}}));!0===q.ignoreSystemDescribe&&(q.describe=!1);q.width&&g.width(q.width);q.height&&g.height(q.height);var pa=g.scroll_element();a(document).bind("ajaxSend.terminal_"+g.id(),function(a,b){Ua.push(b)});var Ia=a('<div class="terminal-wrapper"/>').appendTo(g);a('<div class="terminal-fill"/>').appendTo(g);var Va=a("<div>").addClass("terminal-output").attr("role","log").appendTo(Ia);g.addClass("terminal");if(q.login&&a.isFunction(q.onBeforeLogin))try{!1===q.onBeforeLogin.call(g,
g)&&(Oa=!1)}catch(l){if(K(l,"onBeforeLogin"),!q.exceptionHandler)throw l;}if("string"===typeof f)var Qa=f;else if(f instanceof Array)for(var Ja=0,ub=f.length;Ja<ub;++Ja)if("string"===typeof f[Ja]){Qa=f[Ja];break}!Qa||"string"!==typeof q.login&&!0!==q.login||(q.login=ka(Qa,q.login));da.append(g);g.on("focus.terminal","textarea",function(a,b){Z||b||g.enable()});a(document).on("paste.terminal_"+g.id(),function(a){a=a.originalEvent;if(a.clipboardData&&g.enabled()){var b=a.clipboardData.items;if(b)for(a=
0;a<b.length;a++)if(-1!==b[a].type.indexOf("image")){var d=b[a].getAsFile();d=(window.URL||window.webkitURL).createObjectURL(d);g.echo('<img src="'+d+'"/>',{raw:!0})}else-1!==b[a].type.indexOf("text/plain")&&b[a].getAsString(g.insert);else a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"),g.insert(b));return!1}});O(f,!!q.login,function(d){function f(b){!a(b.target).closest(".terminal").length&&g.enabled()&&!1!==q.onBlur.call(g,g)&&g.disable()}function h(){if(g.is(":visible")){var a=
g.width(),b=g.height();mb===b&&lb===a||g.resize();mb=b;lb=a}}function k(){F&&F.unobserve(g[0]);F=new IntersectionObserver(function(){g.is(":visible")?(g.resizer("unbind").resizer(h),h()):g.disable()},{root:document.body});F.observe(g[0])}function l(b){var d=da.get()[b[0]];if(d&&Ya===d.id()&&b[2])try{if(Ka){var f=a.Deferred();B.push(function(){return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1]);f.resolve()})});return f.promise()}return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1])})}catch(rb){var h=
d.settings();a.isFunction(h.exceptionHandler)?h.exceptionHandler.call(g,rb,"EXEC HASH"):(h=a.terminal.escape_brackets(Za),d.error("Error while exec with command "+h).exception(rb))}}function m(b,d){if(!x){var f=J.top();if(a.isFunction(f.mousewheel)){if(f=f.mousewheel(b,d,g),!1===f)return}else if(a.isFunction(q.mousewheel)&&(f=q.mousewheel(b,d,g),!1===f))return;0<d?g.scroll(-40):g.scroll(40)}}if(q.completion&&"boolean"!==typeof q.completion||!q.completion)d.completion="settings";var p=a.extend({},
tb,q.keymap||{});J=new y(a.extend({},q.extra,{name:q.name,prompt:q.prompt,keypress:q.keypress,keydown:q.keydown,resize:q.onResize,greetings:q.greetings,mousewheel:q.mousewheel,keymap:p},d));E=a("<div/>").appendTo(Ia).cmd({prompt:q.prompt,history:q.memory?"memory":q.history,historyFilter:q.historyFilter,historySize:q.historySize,width:"100%",enabled:Z&&!sb,keydown:pb,keymap:p,clickTimeout:q.clickTimeout,keypress:function(b){var d=J.top();if(Z&&(!Ka||!q.pauseEvents)){if(a.isFunction(d.keypress))return d.keypress.call(g,
b,g);if(a.isFunction(q.keypress))return q.keypress.call(g,b,g)}},onCommandChange:function(b){if(a.isFunction(q.onCommandChange))try{q.onCommandChange.call(g,b,g)}catch(Ra){if(K(Ra,"onCommandChange"),!q.exceptionHandler)throw Ra;}ta()},commands:xa});Z&&g.is(":visible")&&!sb?g.focus(b,!0):g.disable();g.oneTime(100,function(){a(document).bind("click.terminal_"+g.id(),f).bind("contextmenu.terminal_"+g.id(),f)});a(window);document.addEventListener("resume",function(){g.disable()});sb?g.click(function(){g.enabled()||
na?g.focus(!1):(g.focus(),E.enable())}):(function(){var b=0,d=!1,f,h="click_"+g.id();g.mousedown(function(h){f=a(h.target);if(2!==h.originalEvent.button)g.oneTime(1,function(){a(window).on("mousemove.terminal_"+g.id(),function(){d=!0;b=0;a(window).off("mousemove.terminal_"+g.id())})})}).mouseup(function(){var k=d;d=!1;a(window).off("mousemove.terminal_"+g.id());if(!k)if(1===++b)if(g.enabled()||na)g.oneTime(q.clickTimeout,h,function(){if(f.is(".terminal")||f.is(".terminal-wrapper")){var a=g.get_command().length;
g.set_position(a)}else f.closest(".prompt").length&&g.set_position(0);b=0});else E.enable(),b=0;else g.stopTime(h),b=0}).dblclick(function(){b=0;g.stopTime(h)})}(),function(){var a=g.find("textarea");g.on("mousedown.terminal",function(b){if(2===b.originalEvent.button){g.enabled()||g.enable();b.preventDefault();var d=E.offset();a.css({left:b.pageX-d.left-5,top:b.pageY-d.top-5})}});g.bind("contextmenu",function(){g.oneTime(100,function(){a.css({left:"",top:""})})})}());g.delegate(".exception a","click",
function(b){var d=a(this).attr("href");d.match(/:[0-9]+$/)&&(b.preventDefault(),u(d))});g.is(":visible")&&(P=g.cols(),E.resize(P),S||(S=Sa()),oa=ba(g,S));qb.resolve();q.login?g.login(q.login,!0,C):C();g.is(":visible")&&g.resizer(h);var v=!!g.closest("body").length;d=window.MutationObserver||window.WebKitMutationObserver;window.IntersectionObserver&&(d&&(Pa=new d(function(){g.closest("body").length?(v||(g.scroll_to_bottom(),k()),v=!0):v&&(v=!1)}),Pa.observe(document.body,{childList:!0})),v&&k());q.execHash?
location.hash?setTimeout(function(){try{var a=location.hash.replace(/^#/,"");I=JSON.parse(decodeURIComponent(a));var b=0;(function gb(){var a=I[b++];a?l(a).done(gb):Da=!0})()}catch(Ib){}}):Da=!0:Da=!0;var x=!1;a(document).bind("keydown.terminal_"+g.id(),function(a){a.shiftKey&&(x=!0)}).bind("keyup.terminal_"+g.id(),function(a){if(a.shiftKey||16===a.which)x=!1});if(a.event.special.mousewheel)g.on("mousewheel",function(a,b){m(a,b);a.preventDefault()});else{var w="onwheel"in document.createElement("div")?
"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll";g.on(w,function(a){m(a,-("mousewheel"===w?-.025*a.originalEvent.wheelDelta:a.originalEvent.deltaY||a.originalEvent.detail));return!1})}});g.data("terminal",g);return g}});/*
 Autosize 4.0.0
 license: MIT
 http://www.jacklmoore.com/autosize
*/
!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var m={exports:{}};b(m.exports,m);a.autosize=m.exports}}(this,function(a,b){function m(a){function b(){var b=window.getComputedStyle(a,null);"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal");x="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):parseFloat(b.borderTopWidth)+
parseFloat(b.borderBottomWidth);isNaN(x)&&(x=0);u()}function f(b){var f=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=f;a.style.overflowY=b}function h(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function m(){var b=a.style.height,f=h(a),k=document.documentElement&&document.documentElement.scrollTop;a.style.height="";var m=a.scrollHeight+x;return 0===a.scrollHeight?
void(a.style.height=b):(a.style.height=m+"px",Ga=a.clientWidth,f.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(k&&(document.documentElement.scrollTop=k)))}function u(){m();var b=Math.round(parseFloat(a.style.height)),h=window.getComputedStyle(a,null),k="content-box"===h.boxSizing?Math.round(parseFloat(h.height)):a.offsetHeight;if(k!==b?"hidden"===h.overflowY&&(f("scroll"),m(),k="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight):"hidden"!==
h.overflowY&&(f("hidden"),m(),k="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight),ba!==k){ba=k;b=v("autosize:resized");try{a.dispatchEvent(b)}catch(hb){}}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!k.has(a)){var x=null;var Ga=a.clientWidth;var ba=null;var Ha=function(){a.clientWidth!==Ga&&u()},Ma=function(b){window.removeEventListener("resize",Ha,!1);a.removeEventListener("input",u,!1);a.removeEventListener("keyup",u,!1);a.removeEventListener("autosize:destroy",
Ma,!1);a.removeEventListener("autosize:update",u,!1);Object.keys(b).forEach(function(f){a.style[f]=b[f]});k["delete"](a)}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",Ma,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",u,!1);window.addEventListener("resize",Ha,!1);a.addEventListener("input",u,!1);a.addEventListener("autosize:update",u,!1);a.style.overflowX=
"hidden";a.style.wordWrap="break-word";k.set(a,{destroy:Ma,update:u});b()}}function f(a){(a=k.get(a))&&a.destroy()}function h(a){(a=k.get(a))&&a.update()}var k="function"==typeof Map?new Map:function(){var a=[],b=[];return{has:function(b){return-1<a.indexOf(b)},get:function(f){return b[a.indexOf(f)]},set:function(f,h){-1===a.indexOf(f)&&(a.push(f),b.push(h))},"delete":function(f){f=a.indexOf(f);-1<f&&(a.splice(f,1),b.splice(f,1))}}}(),v=function(a){return new Event(a,{bubbles:!0})};try{new Event("test")}catch(u){v=
function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!1),b}}var x=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(x=function(a){return a},x.destroy=function(a){return a},x.update=function(a){return a}):(x=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return m(a,b)}),a},x.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],f),a},x.update=function(a){return a&&Array.prototype.forEach.call(a.length?
a:[a],h),a});b.exports=x});var def_conf={application:{name:"Tooterminal",website:"https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{monitor:"local",terminal:{logging:{favourite:!0,reblog:!0,mention:!0,following:!0}},status:{}}},config,instances,prompt,term_mode,mode_global,mode_configuration,mode_instance,instance_name,enterCommand=function(a,b){a=a.trim();0!==a.length&&!0!==term_mode.execute(a,b)&&b.error(term_mode.result.message)},
completion=function(a,b){var m=term_mode.getCompletion(a);1===m.length?$.terminal.active().set_command(term_mode.completion):b(m)},initConfig=function(a){var b=localStorage,m=b.getItem("configuration");m?config=JSON.parse(m):(console.log("Initialization: read default config"),config=def_conf);instances=(m=b.getItem("instances"))?JSON.parse(m):{};if(location.search.match(/^\?instance_name=.+?&code=/)){b=location.search.replace(/^\?/,"").split(/[=&]/);m={};for(var f=0;f<b.length;f+=2)m[b[f]]=b[f+1];
instances.hasOwnProperty(m.instance_name)&&(instance_name=m.instance_name,instances[instance_name].auth_code=m.code,a.exec("instance "+instance_name));history.replaceState("","",location.pathname)}},filterKey=function(a,b){if(63===a.charCode){var m=term_mode.information(b.get_command()).map(function(a){return"undefined"===typeof a.command?a:"  "+tab(a.command,a.description,22)});m.unshift(b.get_prompt()+b.get_command()+"?");m.push("");more(b,m,!0);var f=b.get_command();b.set_command("");setTimeout(function(){b.set_command(f)},
10)}},parseCommand=function(a,b){term_mode.parse(a.replace(/\?$/,""))},tl;
$(function(){mode_global=new ModeManager(new GlobalModeElement);mode_configuration=new ModeManager(new ConfigurationModeElement);mode_instance=new ModeManager(new InstanceModeElement);term_mode=mode_global;tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:'=== CLI\u753b\u9762\u98a8 \u30de\u30b9\u30c8\u30c9\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 "Tooterminal" ===\n\n\u4f7f\u3044\u65b9\u306f"help"\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f"?"\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n',login:!1,
onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function(a){a.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function(a){return!1},onResume:!1,onCommandChange:parseCommand});$("#toot").on("keydown",function(a){27===a.keyCode?($("#sid").text(""),$("#reply").hide(),$("#toot_box").val(""),$("#toot").slideUp("first"),$.terminal.active().enable()):13===a.keyCode&&a.ctrlKey&&post_status()}).on("paste",
function(b){if(!(4<=$(".toot_media img").length)&&"undefined"!==typeof b.originalEvent.clipboardData&&"undefined"!==typeof b.originalEvent.clipboardData.types&&1===b.originalEvent.clipboardData.types.length&&"Files"===b.originalEvent.clipboardData.types[0]){b=b.originalEvent.clipboardData.items[0].getAsFile();var m=new FormData,f=instances[instance_name],h=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+h));m.append("file",b);$.ajax("https://"+f.domain+"/api/v1/media",
{type:"POST",contentType:!1,processData:!1,headers:{Authorization:f.token_type+" "+f.access_token},data:m}).then(function(b,f,m){$("#media_"+h).attr("data-id",b.id).attr("data-url",b.text_url);f=new Image;f.onload=function(){$("#media_"+h).attr("src",b.preview_url);$("#toot_box").val($("#toot_box").val()+" "+b.text_url);autosize.update($("#toot_box"));a()};f.onerror=function(a){console.log(a)};f.src=b.preview_url},function(a,b,f){$.terminal.active().error("Media upload error.("+a.status+")");$("#media_"+
h).remove();console.log(a)})}});$("#toot").on("dragenter",function(a){});var a=function(){var a=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>a?"#F00":"#bbb").text(a)};$("#toot_cw").on("keyup",a);$("#toot_box").on("keyup",a);$("#toot_post").on("click",function(){post_status()});$("#help_close").on("click",function(){$("#help").slideUp("first");$.terminal.active().focus()});$("#reply_close").on("click",function(a){$("#sid").text("");$("#reply").hide();$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+(?:@(?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+)?\s+/,
""))});$(".img_background").on("click",function(){$("#img_view").fadeOut("first");$("#video_view").fadeOut("first");$(".img_background").fadeOut("first");$.terminal.active().enable()});$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("click",".a_acct",function(a){term_mode===mode_instance&&(a=$(this).text().match(/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+))|(?:@([a-zA-Z0-9_]+)))/),callAPI("/api/v1/accounts/search",{data:{q:a[0],
limit:1}}).then(function(a,b,h){$.terminal.active().exec("show user id "+a[0].id+" statuses limit 3").done(function(){$.terminal.active().exec("show user id "+a[0].id)})}))}).on("mouseover",".status",function(){"undefined"===typeof getConfig(config,"instances.status.thumbnail",def_conf)&&$(this).find(".status_thumbnail").show()}).on("mouseout",".status",function(){"undefined"===typeof getConfig(config,"instances.status.thumbnail",def_conf)&&$(this).find(".status_thumbnail").hide()}).on("click",".status",
function(a){if(!$(this).hasClass("status_deleted")){$(this).data("sid");if(a.shiftKey){var b="@"+$(this).data("acct").toString();$(this).find(".status_contents")[0].textContent.replace(new RegExp(b,"g"),"").match(/((?:@([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g);$.terminal.active().disable();$("#toot").slideDown("first");$("#reply").show();$("#sid").text($(this).data("sid"));$("#reply_head").text("reply to: "+$(this).data("dispname"));$("#reply_body").text($(this).find("#status_contents")[0].textContent);
$("#toot_box").focus().val("@"+$(this).data("acct")+" "+$(this).data("reply"));$($(this).find(".status_head i")[2]).hasClass("fa-envelope")&&$("#toot_visibility").val("direct")}a.ctrlKey&&favorite(this);a.altKey&&boost(this)}}).on("dblclick",".status",function(a){$.terminal.active().exec("show status id "+$(this).data("sid"))}).on("click",".status_contents img",function(a){var b=$(this);$("#img_view").attr("src",b.attr("src")).fadeIn("first");"gifv"===b.data("type")?(a=$("#video_view")[0],a.src=b.data("url"),
a.loop=!0,a.autoplay=!0,a.muted=!0,a.controls=!0,$("#video_view").fadeIn("first"),$(".img_background").fadeIn("first")):(a=new Image,a.onload=function(){$("#img_view").attr("src",b.data("url"))},a.onerror=function(a){console.log(a)},$(".img_background").fadeIn("first"),$.terminal.active().disable(),a.src=b.data("url"))}).on("click","[name=cmd_followers]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" followers")}).on("click","[name=cmd_following]",function(a){$.terminal.active().exec("show user id "+
$(a.target).data("uid")+" following")}).on("click","[name=cmd_status_pinned]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" statuses pinned")}).on("keydown",".img_background",function(a){27===a.keyCode&&$(".img_background").trigger("click")}).on("click",".status_enquete span",function(a){$.terminal.active().echo("\u307e\u3060\u6295\u7968\u3067\u304d\u306a\u3044\u3067\u3059\u3002\u3002\u3002")}).on("click",".toot_media img",function(a,m,f){$(a.target).remove();$("#toot_box").val($("#toot_box").val().replace($(a.target).data("url"),
""))}).on("keydown",function(a){65===a.keyCode&&a.altKey&&term_mode===mode_instance&&"none"===$("#toot").css("display")&&$.terminal.active().exec("toot")});autosize($("#toot_box"))});function getConfig(a,b,m){b=b.split(".");for(var f=0;f<b.length;f++)if("undefined"!==typeof a[b[f]])a=a[b[f]];else{a=void 0;break}if("undefined"!==typeof a)return a;a="undefined"!==typeof m?m:def_conf;for(f=0;f<b.length&&(a=a[b[f]],"undefined"!==typeof a);f++);return a}
function makeStatus(a){var b,m=new Date(a.created_at),f="undefined"!==typeof a.reblog&&null!==a.reblog,h="mention"===a.type,k=f?a.reblog:h?a.status:a;null===k.application?h="":null===k.application.website?h=" via "+k.application.name:(h=$("<a />").text(k.application.name).attr("href",k.application.website).attr("target","_blank").prop("outerHTML"),h=" via "+h);f=(f?$.terminal.format("[[!i;;]reblogged by "+a.account.display_name+" @"+a.account.acct+"]")+"<br />":"")+"[ "+("undefined"===typeof k.account.display_name?
"":k.account.display_name)+" "+$.terminal.format("[[!;;]@"+k.account.acct+"]")+" "+$("<i />").addClass("fa fa-"+(k.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+(k.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===k.visibility?"globe":"unlisted"===k.visibility?"unlock":"private"===k.visibility?"lock":"direct"===k.visibility?"envelope":"question")).attr("aria-hidden",
"true").prop("outerHTML")+(k.in_reply_to_id?" "+$($("<i />").addClass("fa fa-mail-reply")).attr("aria-hidden","true").prop("outerHTML")+" ":"")+" "+m.getFullYear()+"-"+("0"+(m.getMonth()+1)).slice(-2)+"-"+("0"+m.getDate()).slice(-2)+" "+("0"+m.getHours()).slice(-2)+":"+("0"+m.getMinutes()).slice(-2)+":"+("0"+m.getSeconds()).slice(-2)+"."+("00"+m.getMilliseconds()).slice(-3)+" ]"+h;a="";if(0<k.mentions.length){for(b=0;b<k.mentions.length;b++)a+="@"+k.mentions[b].acct+" ";a=a.replace("@"+instances[instance_name].user.acct+
" ","")}m=$("<td />").addClass("status_avatar");b=getConfig(config,"instances.status.avatar",def_conf);if("undefined"!==typeof b){m.append($("<img />").attr("name","img_"+k.account.id));var v=k.account.avatar_static;v.match(/^http/)||(v="https://"+instances[instance_name].domain+v);h=new Image;h.onload=function(){$("[name=img_"+k.account.id+"]").attr("src",v)};h.onerror=function(a){console.log(a)};h.src=v}else m.hide();if("undefined"!==typeof k.enquete&&null!==k.enquete){var x=JSON.parse(k.enquete);
h=$("<div />").append(x.question.replace(/<p>(.*?)<\/p>/g,"<p><span>$1"+("enquete"===x.type?"(\u56de\u7b54\u67a0)":"(\u7d50\u679c)")+"</span></p>"));var u=$("<div />").addClass("status_"+x.type);for(b=0;b<x.items.length;b++)"enquete"===x.type?u.append($("<span />").html(x.items[b])):u.append($("<span />").append($("<span />").addClass("progress").text(x.items[b])).append($("<span />").addClass("proceed").css("width",x.ratios[b].toString()+"%")));h.append(u)}else h=k.content,h.match(/^<.+>$/)&&(h=
h.replace(/<p>(.*?)<\/p>/g,"<p><span>$1</span></p>"));if(0<k.media_attachments.length){var G=$("<div />").addClass("status_thumbnail");k.media_attachments.forEach(function(a,b,f){var h=a.preview_url.match(/^https?:\/\//)?a.preview_url:"https://"+instances[instance_name].domain+a.preview_url;b=a.remote_url?a.remote_url:a.url;var k="media_"+a.id;G.append($("<img />").attr("id",k).attr("data-url",b).attr("data-type",a.type));a=new Image;a.onload=function(){$("#"+k).attr("src",h)};a.onerror=function(a){console.log(a)};
a.src=h});b=getConfig(config,"instances.status.thumbnail",def_conf);"undefined"===typeof b&&G.hide()}b=$("<div />").addClass("status_contents").attr("id","status_contents");if(k.sensitive){var y=$("<div />");0<k.spoiler_text.length?(b.append($.terminal.format(k.spoiler_text)),y.append(h)):b.append(h);"undefined"!==typeof G&&y.append(G)}else 0<k.spoiler_text.length?(b.append($.terminal.format(k.spoiler_text)),y=$("<div />"),y.append(h)):b.append(h),"undefined"!==typeof G&&b.append(G);"undefined"!==
typeof y&&b.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(y.hide());y=$("<td />").addClass("status_main").append($("<div />").addClass("status_head").html($.terminal.format(f))).append(b);y=$("<table />").attr("name","id_"+k.id).attr("data-sid",k.id).attr("data-instance",instance_name).attr("data-uid",k.account.id).attr("data-dispname",k.account.display_name).attr("data-acct",k.account.acct).attr("data-fav",k.favorited?"1":"0").attr("data-reb",
k.reblogged?"1":"0").attr("data-reply",a).addClass("status").append(m).append(y);getConfig(config,"instances.status.separator",def_conf)&&y.append('<tr><td colspan="2"><span>----------------------------------------</span></td></tr>');return y.prop("outerHTML")}
function make_notification(a){var b="favourite"===a.type&&!1!==getConfig(config,"instances.terminal.logging",def_conf)&&!1!==getConfig(config,"instances.terminal.logging.favourite",def_conf),m="reblog"===a.type&&!1!==getConfig(config,"instances.terminal.logging",def_conf)&&!1!==getConfig(config,"instances.terminal.logging.reblog",def_conf),f="follow"===a.type&&!1!==getConfig(config,"instances.terminal.logging",def_conf)&&!1!==getConfig(config,"instances.terminal.logging.following",def_conf),h="mention"===
a.type&&!1!==getConfig(config,"instances.terminal.logging",def_conf)&&!1!==getConfig(config,"instances.terminal.logging.mention",def_conf),k="";if(b||m||f||h)b=a.status?$.terminal.escape_brackets($(a.status.content).text()):"(Status was deleted)",100<b.length&&(b=b.slice(0,100)+" ..."),k="Notification! : "+a.type+" << "+a.account.display_name+" "+$.terminal.format("[[!;;]@"+a.account.acct+"]")+"<br />"+(a.status?b:""),k=$("<span />").html(k).addClass("status_notify").prop("outerHTML"),"mention"===
a.type&&(k+=makeStatus(a));return k}
function post_status(){var a=$("#toot_box").val().trim(),b=$("#toot_cw").val().trim(),m=$("#toot_visibility").val();m={status:a,visibility:m};var f=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===a.length||0>f||"undefined"===typeof instances[instance_name]&&"undefined"===typeof instances[instance_name].access_token)return!1;0!==b.length&&(m.spoiler_text=b);a=$(".reply #sid").text();""!==a&&(m.in_reply_to_id=a);m.media_ids=[];a=$("#toot_media img");for(b=0;b<a.length;b++)m.media_ids.push($(a[b]).data("id"));
return $.ajax({url:"https://"+instances[instance_name].domain+"/api/v1/statuses",type:"POST",headers:{Authorization:instances[instance_name].token_type+" "+instances[instance_name].access_token},data:m}).then(function(a,b,f){a=getConfig(config,"instances.visibility",def_conf);"undefined"===typeof a&&(a="public");$("#toot_cw").val("");$("#toot_visibility").val(a);$("#reply_close").trigger("click");$("#toot_media").html("");$("#toot_box").val("").trigger("keyup").focus();autosize.update($("#toot_box"))},
function(a,b,f){$.terminal.active().error("Toot post error.("+a.status+")");console.log(a)})}function reduce_status(){for(var a=$(".status").parent().parent(),b=a.length-200,m=0;m<b;m++)$(a[m]).remove()}
function callAPI(a,b){b=void 0===b?{}:b;var m="undefined"===typeof b.instance_name?instances[instance_name]:instances[b.instance_name];"undefined"===typeof a?(m=new $.Deffered,m.reject("Undefined path")):"undefined"===typeof m?(m=new $.Deffered,m.reject("No instance")):"undefined"===typeof m.access_token?(m=new $.Deffered,m.reject("No login")):m=$.ajax({url:"https://"+m.domain+a,type:"undefined"!==typeof b.type?b.type:"GET",headers:{Authorization:m.token_type+" "+m.access_token},data:typeof b.data?
b.data:"",dataType:"json",timeout:5E3});return m}
function favorite(a,b){var m=1==$(a).data("fav"),f="/api/v1/statuses/"+$(a).data("sid").toString()+(m?"/unfavourite":"/favourite");"undefined"===typeof b&&(b=$.terminal.active());$($(a).find("i")[0]).removeClass().addClass("fa fa-spinner");callAPI(f,{instance_name:$(a).data("instance"),type:"POST"}).then(function(f,k,v){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[0]).removeClass().addClass("fa fa-"+(f.favourited?"star":"star-o"));$(b).data("fav",f.favourited?
"1":"0")});m===f.favourited&&b.error("favourited missed...")},function(b,f,v){$.terminal.active().error("Favorite failed.("+b.status+")");$($(a).find("i")[0]).removeClass().addClass("fa fa-"+(m?"star":"star-o"));console.log(b)})}
function boost(a){var b=1==$(a).data("reb"),m="/api/v1/statuses/"+$(a).data("sid").toString()+(b?"/unreblog":"/reblog");"undefined"===typeof term&&(term=$.terminal.active());$($(a).find("i")[1]).removeClass().addClass("fa fa-spinner");callAPI(m,{instance_name:$(a).data("instance"),type:"POST"}).then(function(f,h,k){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[1]).removeClass().addClass("fa fa-"+(f.reblogged?"check-circle-o":"retweet"));$(b).data("reb",f.reblogged?
"1":"0")});b===f.reblogged&&term.error("reblogged missed...")},function(f,h,k){$.terminal.active().error("Reblogged failed.("+f.status+")");$($(a).find("i")[1]).removeClass().addClass("fa fa-"+(b?"check-circle-o":"retweet"));console.log(f)})}function tab(a,b,m){var f=escape(a).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x").length;for(a=m<=f?a.substr(0,m-4)+"... ":a;f<m;f++,a+=" ");return a+b}function status_recursive(a,b){new Primrose;ins}
String.prototype.addTab=function(a,b){return tab(a,this,b)};
function more(a,b,m){var f=a.rows(),h=a.get_command(),k=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.echo(b.slice(k,k+f).join("\n"));k+=f;k>b.length&&(a.pop(),m&&a.set_command(h));a.resume()},keydown:function(a,x){switch(a.keyCode){case 81:x.pop();m&&x.set_command(h);break;case 13:x.echo(b.slice(k,k+1).join("\n"));k++;k>b.length&&(x.pop(),m&&x.set_command(h));break;default:x.echo(b.slice(k,k+f).join("\n")),k+=f,k>b.length&&(x.pop(),m&&x.set_command(h)),x.set_command("")}return!1}})}
function begin(a,b,m,f){var h;for(h=0;h<b.length&&!b[h].match(f);h++);more(a,b.slice(h),m,f)}function include(a,b,m,f){for(var h=[],k=0;k<b.length;k++)b[k].match(f)&&h.push(b[k]);more(a,h,m)}function exclude(a,b,m,f){for(var h=[],k=0;k<b.length;k++)b[k].match(f)||h.push(b[k]);more(a,h,m)};var ModeManager=function(){function a(a){this.element=a;this.dataset=a.dataset;this.parse("")}a.prototype.execute=function(a,m){var b=this.parse(a);return b.is_parsed?"1001"==b.code?!0:""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"!==typeof b.cmd_list[0].execute?(console.log("ElementError: Undefined execution function."),12034):b.cmd_list[0].execute(m,this):(console.log("AnalyzeError: "+b.message),b.code)};a.prototype.getCompletion=function(a){a=
this.result.cmd_list;for(var b=[],f=0;f<a.length;f++)b.push("paramater"==a[f].type?"<"+a[f].name+">":"number"==a[f].type?"["+a[f].name+"]":a[f].name);return b};a.prototype.information=function(a){var b=this.parse(a).cmd_list;a=["Exec commands:"];for(var f,h=0;h<b.length;h++){if("paramater"==b[h].type)f="<"+b[h].name+">";else if("number"==b[h].type){f=parseInt(b[h].max);var k=parseInt(b[h].min);f="<"+(isNaN(k)?"":k)+"-"+(isNaN(f)?"":f)+">"}else f=b[h].name;a.push({command:f,description:b[h].description})}b=
this.line_parsed[this.line_parsed.length-1];"undefined"!==typeof b&&"function"===typeof b.execute&&"paramater"!==b.type&&"number"!==b.type&&(2===a.length&&a.pop(),a.push({command:"<cr>",description:""}));return a};a.prototype.parse=function(a,m){void 0===m&&(m=0);this.line=a;this.line_split=a.replace(/ +/g," ").split(" ");this.line_parsed=[];this.is_parsed=!0;this.err_code=0;this.err_msg="";this.position=m;this.completion="";this.cmd_list=this.dataset;this.paramaters={};this.optional={};var b,h="";
if(0>=a.length)return this.result;if(a.match(/^\s*!/))return this.is_parsed=!0,this.err_code=4097,this.err_msg="comment",this.result;for(b=this.position;b<=a.length;b++){var k=a.charAt(b);if(" "===k){for(h="";k=a.charAt(++b)," "===k&&""!==k;);this.completion=a.substring(0,b);if(1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===typeof this.cmd_list[0].children?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938;this.err_msg='% Ambiguous command:  "'+
this.line+'"';break}}if(""===k)break;h+=k;k=[];for(var v=0;v<this.cmd_list.length;v++)if("command"===this.cmd_list[v].type)this.cmd_list[v].name.match(new RegExp("^"+h,"i"))&&k.push(this.cmd_list[v]);else if("number"===this.cmd_list[v].type){var x=parseInt(h),u=parseInt(this.cmd_list[v].max),G=parseInt(this.cmd_list[v].min);0===h.length?k.push(this.cmd_list[v]):isNaN(x)||!isNaN(u)&&u<x||!isNaN(G)&&G>x||k.push(this.cmd_list[v])}else if("paramater"===this.cmd_list[v].type)k.push(this.cmd_list[v]);else if("description"===
this.cmd_list[v].type){if(1===this.cmd_list.length){b=a.length;break}}else return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[v].type+"'",this.result;this.cmd_list=k;if(0===this.cmd_list.length){this.is_parsed=!1;this.err_code=7937;for(h="";h.length<b;h+=" ");h+=$.terminal.active().get_prompt().replace(/\S/g," ");this.err_msg=h+"^\n% Invalid input detected at '^' marker.";this.cmd_list=[];break}}this.position=b;if(1===this.cmd_list.length)for(this.line_parsed.push(this.cmd_list[0]),
"undefined"===typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command."),b=0;b<this.line_parsed.length;b++){if("paramater"===this.line_parsed[b].type||"number"===this.line_parsed[b].type)this.paramaters[this.line_parsed[b].name]=this.line_split[b];this.line_parsed[b].hasOwnProperty("optional")&&(this.optional[this.line_parsed[b].optional]=!0)}this.completion=1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+(this.cmd_list[0].name+
" "):this.line;return this.result};Object.defineProperty(a.prototype,"func_name",{get:function(){if(0!==this.err_code)return"";var a=this.line_parsed[this.line_parsed.length-1];return"undefined"===typeof a.execute?"":a.execute},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"result",{get:function(){return{is_parsed:this.is_parsed,cmd_list:this.cmd_list,code:this.err_code.toString(16),message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0});
a.prototype.debug=function(){console.log("**************************************************");console.log("===== line");console.log(this.line);console.log("===== line_parsed");console.log(this.line_parsed);console.log("===== is_parsed");console.log(this.is_parsed);console.log("===== err_code");console.log(this.err_code.toString(16));console.log("===== err_msg");console.log(this.err_msg);console.log("===== line.length");console.log(this.line.length);console.log("===== position");console.log(this.position);
console.log("===== completion");console.log(this.completion);console.log("===== dataset");console.log(this.dataset);console.log("===== cmd_list");console.log(this.cmd_list)};return a}(),ConfigManager=function(){return ModeManager}();var GlobalModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5b9a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-config",description:"\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-config",description:"\u4fdd\u5b58\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",
execute:this.show_startup_config},{type:"command",name:"version",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73fe\u5728\u6642\u523b\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_clock}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002",execute:this.entry_instance}]},{type:"command",name:"delete",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d",execute:this.delete_instance}]}]},{type:"command",name:"configure",
description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",children:[{type:"command",name:"terminal",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",
execute:this.clear},{type:"command",name:"write",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory,children:[{type:"command",name:"memory",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002",children:[{type:"command",name:"display-size",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u30b5\u30a4\u30ba\u3092\u81ea\u52d5\u8abf\u6574\u3057\u307e\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30d8\u30eb\u30d7\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.help}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.show_running_config=function(a,m){var b=JSON.stringify(config,null,"    ");a.echo(b);return!0};a.prototype.show_startup_config=function(a,m){var b;(b=localStorage.getItem("configuration"))?(b=JSON.parse(b),b=JSON.stringify(b,null,"    ")):
b="startup-config is not present";a.echo(b);return!0};a.prototype.show_version=function(a,m){a.echo("version 0.3.2 (updated at 2017-09-11)");return!0};a.prototype.reset_display_size=function(a,m){a.resize(window.innerWidth-36,window.innerHeight-36);return!0};a.prototype.show_instance_statistics=function(a,m){var b=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],h=0;for(ins in instances)b.push(("| "+("undefined"!==
typeof instances[ins].user?"@"+instances[ins].user.username:"")).addTab("|  "+(instances[ins].application.scopes.read?"r":"-")+(instances[ins].application.scopes.write?"w":"-")+(instances[ins].application.scopes.follow?"f":"-"),8).addTab("| "+instances[ins].domain,30).addTab(ins,10)),h++;b.push("--------------------------------------------------------------------");b.push(" \u767b\u9332\u4ef6\u6570: "+h+"\u4ef6");b.push("");a.echo(b.join("\n"));return!0};a.prototype.show_instance_detail=function(a,
m){var b=m.paramaters.instance_name;if("undefined"===typeof instances[b])return a.error("instance has no regist"),!1;var h=instances[b];b=["Instance",tab("Name:",b,15),tab("Domain:",h.domain,15),tab("Application:",h.application.name,15),"","Scopes",tab("Read:",h.application.scopes.read,15),tab("Write:",h.application.scopes.write,15),tab("Follow:",h.application.scopes.follow,15),""];more(a,b,!0);return!0};a.prototype.entry_instance=function(a,m){instance_name=m.paramaters.instance_name;if("undefined"===
typeof instances[instance_name])a.push(regist_instance,{prompt:"Input instance domain: "});else if(instances[instance_name].hasOwnProperty("auth_code"))console.log(instances[instance_name]),a.pause(),$.ajax({url:"https://"+instances[instance_name].domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",client_id:instances[instance_name].client_id,client_secret:instances[instance_name].client_secret,code:instances[instance_name].auth_code,redirect_uri:instances[instance_name].application.uris}}).then(function(a,
b,f){instances[instance_name].access_token=a.access_token;instances[instance_name].token_type=a.token_type;localStorage.setItem("instances",JSON.stringify(instances));delete instances[instance_name].auth_code;return callAPI("/api/v1/accounts/verify_credentials")},function(b,f,m){a.error("User token updating error.("+b.status+")");delete instances[instance_name].auth_code;console.log(b)}).then(function(b,f,m){a.echo("Hello! "+b.display_name+" @"+b.username);instances[instance_name].user=b;localStorage.setItem("instances",
JSON.stringify(instances));a.resume();b=instances[instance_name].user.username;b+="@"+instances[instance_name].domain+"# ";a.push(enterCommand,{name:"instance",prompt:b,onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})},function(b,f,m){f="@"+instances[instance_name].domain+"# ";console.log(b);a.error("Getting user status failed.("+b.status+")");a.echo("Enter 'login' and reflesh your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:f,
onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})});else if(instances[instance_name].hasOwnProperty("access_token"))a.pause(),callAPI("/api/v1/accounts/verify_credentials").then(function(b,f,m){a.echo("Hello! "+b.display_name+" @"+b.username);instances[instance_name].user=b;localStorage.setItem("instances",JSON.stringify(instances));a.resume();b=instances[instance_name].user.username;b+="@"+instances[instance_name].domain+"# ";delete instances[instance_name].auth_code;
a.push(enterCommand,{name:"instance",prompt:b,onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})},function(b,f,m){f="@"+instances[instance_name].domain+"# ";console.log(b);a.error("Getting user status failed.("+b.status+")");a.echo("Enter 'login' and reflesh your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:f,onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})});else{var b="@"+instances[instance_name].domain+
"# ";a.echo("Enter 'login' and regist your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:b,onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})}return!0};a.prototype.delete_instance=function(a,m){var b=m.paramaters.instance_name,h='Instance "'+b+'" registration will delete! Continue? [confirm]';if("undefined"===typeof instances[b])return a.error("no instance registration."),!1;a.push(function(f){f=localStorage;delete instances[b];f.setItem("instances",
JSON.stringify(instances));a.echo("[OK]");a.echo("Erase of instance: complete");a.pop()},{prompt:h,keypress:function(a,b){b.set_command("");b.echo(h+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}});return!0};a.prototype.configure_terminal=function(a,m){a.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",onStart:function(){term_mode=mode_configuration},onExit:function(){term_mode=mode_global},exit:!0});return!0};a.prototype.write_memory=
function(a,m){var b=localStorage;a.echo("Building configuration...");b.setItem("configuration",JSON.stringify(config));a.echo("[OK]");return!0};a.prototype.write_erase=function(a,m){a.push(function(b){localStorage.removeItem("configuration");a.echo("[OK]");a.echo("Erase of nvram: complete");a.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",keypress:function(a,b){b.set_command("");b.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+
a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}})};a.prototype.reload=function(a,m){location.reload();return!0};a.prototype.clear=function(a,m){a.clear();return!0};a.prototype.show_clock=function(a,m){a.echo(Date().toString());return!0};a.prototype.help=function(a,m){$("#help").slideDown("first");a.disable();$(document).on("keydown.help",function(a){27===a.keyCode&&$("#help_close").trigger("click")});return!0};return a}(),cnt,regist_instance=function(a,b){a=
a.trim();if(!a.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/))b.error("domain couldn't unrecognize");else if(0<a.length){b.pause();var m=location.origin+location.pathname;console.log(m);$.ajax({url:"https://"+a+"/api/v1/apps",dataType:"json",type:"POST",data:{client_name:config.application.name,redirect_uris:m,website:config.application.website,scopes:(config.application.scopes.read?"read ":"")+(config.application.scopes.write?"write ":"")+(config.application.scopes.follow?"follow":
"")}}).then(function(f,h,k){h=f.redirect_uri+"?instance_name="+instance_name;instances[instance_name]=config.instances;instances[instance_name].client_id=f.client_id;instances[instance_name].client_secret=f.client_secret;instances[instance_name].domain=a;instances[instance_name].application=config.application;instances[instance_name].application.uris=h;f="@"+instances[instance_name].domain+"# ";b.echo("New instance registed. enter 'login' and regist your access_token");localStorage.setItem("instances",
JSON.stringify(instances));b.resume();b.push(enterCommand,{name:"instance",prompt:f,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global},exit:!1})},function(f,h,k){b.error('Failed to connect the instance "'+a+'"');b.resume();console.log(f)})}b.pop()};var ConfigurationModeElement=function(){function a(){this._cmd_mode="configuration";this._dataset=[{type:"command",name:"application",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u767b\u9332\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d",
execute:this.set_paramater}]},{type:"command",name:"website",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3Web\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"URL",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"read",description:"\u8aad\u307f\u53d6\u308a",execute:this.set_default},
{type:"command",name:"write",description:"\u66f8\u304d\u8fbc\u307f",execute:this.set_default},{type:"command",name:"follow",description:"\u30d5\u30a9\u30ed\u30fc",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",
name:"posts",min:1,max:40,description:"\u8868\u793a\u4ef6\u6570(\u30c7\u30d5\u30a9\u30eb\u30c820)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",
description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},
{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default}]}]},{type:"command",name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_command,children:[{type:"command",name:"animation",description:"\u5e38\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"mouseover",description:"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_true},{type:"command",name:"separator",description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"public",description:"\u516c\u958b",execute:this.set_command},{type:"command",name:"unlisted",description:"\u672a\u53ce\u8f09",execute:this.set_command},{type:"command",name:"private",description:"\u975e\u516c\u958b",execute:this.set_command},{type:"command",name:"direct",description:"\u30c0\u30a4\u30ec\u30af\u30c8",execute:this.set_command}]}]},
{type:"command",name:"no",description:"\u8a2d\u5b9a\u306e\u524a\u9664\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u884c\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",
execute:this.set_false,children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",
execute:this.set_false},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false}]}]},{type:"command",name:"broadcast-to",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",
name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"separator",
description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default}]}]}]},{type:"command",name:"exit",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",
execute:this.exit_configuration}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.set_paramater=function(a,m){for(var b=m.line_parsed.length-1,h=config,k=0;k<b-1;k++)"undefined"===typeof h[m.line_parsed[k].name]&&(h[m.line_parsed[k].name]={}),h=h[m.line_parsed[k].name];h[m.line_parsed[b-1].name]=m.paramaters.string;
return!0};a.prototype.set_default=function(a,m){var b=config;"no"===m.line_parsed[0].name&&m.line_parsed.shift();for(var h=m.line_parsed.length-1,k=0;k<h;k++)if(b=b[m.line_parsed[k].name],"undefined"===typeof b)return!0;delete b[m.line_parsed[h].name];return!0};a.prototype.set_number=function(a,m){a.echo("executed!");return!0};a.prototype.set_true=function(a,m){"no"===m.line_parsed[0].name&&m.line_parsed.shift();for(var b="config",h=0;h<m.line_parsed.length;h++)b+="."+m.line_parsed[h].name,"undefined"===
eval("typeof "+b)&&eval(b+" = {}");eval(b+" = true");return!0};a.prototype.set_false=function(a,m){"no"===m.line_parsed[0].name&&m.line_parsed.shift();for(var b="config",h=0;h<m.line_parsed.length;h++)b+="."+m.line_parsed[h].name,"undefined"===eval("typeof "+b)&&eval(b+" = {}");eval(b+" = false");return!0};a.prototype.set_command=function(a,m){for(var b=m.line_parsed.length-1,h=config,k=0;k<b-1;k++)"undefined"===typeof h[m.line_parsed[k].name]&&(h[m.line_parsed[k].name]={}),h=h[m.line_parsed[k].name];
"undefined"===typeof m.line_parsed[b].children?h[m.line_parsed[b-1].name]=m.line_parsed[b].name:(h[m.line_parsed[b-1].name]={},h[m.line_parsed[b-1].name][m.line_parsed[b].name]={});return!0};a.prototype.set_broadcast=function(a,m){a.echo("executed!");return!0};a.prototype.exit_configuration=function(a,m){a.pop();return!0};return a}();var ws=[],InstanceModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"toot",description:"\u66f8\u304d\u8fbc\u307f\u3092\u6295\u7a3f\u3057\u307e\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot},{type:"command",name:"unlisted",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u672a\u53ce\u8f09" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',
execute:this.toot},{type:"command",name:"private",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u975e\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot}]},{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"user",description:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_user,children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",
children:[{type:"number",name:"userid",min:1,max:9999999,description:"\u30e6\u30fc\u30b6ID",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,
max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance},{type:"command",name:"authentication",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_authentication},{type:"command",name:"timeline",description:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",
execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",
name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0",children:[{type:"paramater",name:"tag_name",description:"\u30bf\u30b0\u540d",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]}]}]},{type:"command",name:"notifications",description:"\u901a\u77e5\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_notifications,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u901a\u77e5\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u901a\u77e5\u6570(\u521d\u671f\u502420)",execute:this.show_notifications}]}]}]},{type:"command",name:"statuses",description:"\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"id",description:"\u30c8\u30a5\u30fc\u30c8ID\u3092\u6307\u5b9a",children:[{type:"number",name:"status_id",min:1,max:9999999999,description:"\u30c8\u30a5\u30fc\u30c8ID",execute:this.show_status_id}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_statuses}]}]},{type:"command",name:"search",description:"\u30e6\u30fc\u30b6\u30fc\u691c\u7d22\u3092\u884c\u3044\u307e\u3059",children:[{type:"paramater",name:"query",
description:"\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",execute:this.search_query}]},{type:"command",name:"login",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002",execute:this.login},{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"on_monitor",children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"no",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"no_monitor",
children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"monitor",description:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.monitor,children:[]}]}]},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.login=function(a,m){var b="https://"+instances[instance_name].domain+"/oauth/authorize?response_type=code&client_id="+instances[instance_name].client_id+"&redirect_uri="+encodeURIComponent(instances[instance_name].application.uris)+"&scope="+(instances[instance_name].application.scopes.read?"read ":"")+(instances[instance_name].application.scopes.write?
"write ":"")+(instances[instance_name].application.scopes.follow?"follow":"");location.href=b;return!0};a.prototype.terminal_monitor=function(a,m){if(!0===m.optional.on_monitor&&(0===ws.length||ws[0].readyStatus>=WebSocket.CLOSING)){monitor="undefined"===typeof m.line_parsed[2]?getConfig(instances[instance_name],"monitor",def_conf.instances):"tag"===m.line_parsed[2].name?m.paramaters.hashtag:m.line_parsed[2].name;var b="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+
"&stream=user";"home"===monitor?(b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event&&!0===getConfig(config,"instances.terminal.logging.delete",def_conf)?(b=b.payload,a.error("deleted ID:"+b),$("[name=id_"+b+"]").addClass("status_deleted")):"notification"===b.event?(b=JSON.parse(b.payload),a.echo(make_notification(b),{raw:!0})):"update"===b.event&&(b=JSON.parse(b.payload),b=makeStatus(b),a.echo(b,{raw:!0}));reduce_status()},b.onopen=function(){a.echo("Home Streaming start.")},
b.onerror=function(b){a.error("Home Streaming error. closed.");console.log(b)},b.onclose=function(){a.echo("Home Streaming closed.")}):(b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"notification"===b.event&&(b=JSON.parse(b.payload),a.echo(make_notification(b),{raw:!0}))},b.onopen=function(){a.echo("Notification Streaming start.")},b.onerror=function(a){console.warn(a)},b.onclose=function(){a.echo("Notification Streaming closed.")},ws.push(b),b="wss://"+instances[instance_name].domain+
"/api/v1/streaming?access_token="+instances[instance_name].access_token+("local"===monitor?"&stream=public:local":"public"===monitor?"&stream=public":"&stream=hashtag&tag="+monitor),b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event&&!0===getConfig(config,"instances.terminal.logging.delete",def_conf)?(b=b.payload,a.error("deleted ID:"+b),$("[name=id_"+b+"]").addClass("status_deleted")):"update"===b.event&&(b=JSON.parse(b.payload),b=makeStatus(b),a.echo(b,{raw:!0}));
reduce_status()},b.onopen=function(){a.echo(monitor+" Streaming start.")},b.onerror=function(a){console.warn(a)},b.onclose=function(){a.echo(monitor+" Streaming closed.")});ws.push(b)}else if(!0===m.optional.no_monitor){for(b=0;b<ws.length;b++)ws[b].close(),ws[b]=void 0;ws=[]}};a.prototype.toot=function(a,m){var b="undefined"!==typeof m.line_parsed[1]?m.line_parsed[1].name:getConfig(config,"instances.visibility",def_conf);"undefined"===typeof b&&(b="public");$("#toot_visibility").val(b);$("#toot").slideDown("first");
$("#toot_box").focus();a.focus(!1)};a.prototype.monitor=function(a,m){instances[instance_name].monitor="tag"===m.line_parsed[1].name?m.paramaters.hashtag:m.line_parsed[1].name;localStorage.setItem("instances",JSON.stringify(instances))};a.prototype.show_user=function(a,m){a.pause();("undefined"===typeof m.line_parsed[2]||"self"===m.line_parsed[2].name?callAPI("/api/v1/accounts/verify_credentials",{type:"GET"}):callAPI("/api/v1/accounts/"+m.paramaters.userid,{type:"GET"})).then(function(b,h,k){h=new Date(b.created_at);
k=parseInt((Date.now()-h.getTime())/6E4);var f=k%60,m=(k=(k-f)/60)%24,u=(k=(k-m)/24)%7,G=(k-u)/7;a.echo(b.display_name+" ID:"+b.id+(b.locked?" is locked":" is unlocked"),{flush:!1});a.echo("Username is "+b.username+", Fullname is "+b.acct,{flush:!1});a.echo("Created at "+h.toString(),{flush:!1});a.echo("Uptime is "+G+" weeks, "+u+" days, "+m+" hours, "+f+" minutes ("+k+" days have passed)",{flush:!1});a.echo(b.statuses_count+" statuses posted, "+$("<a />").attr("name","cmd_following").attr("data-uid",
b.id).text(b.following_count+" accounts are following").prop("outerHTML")+", "+$("<a />").attr("name","cmd_followers").attr("data-uid",b.id).text(b.followers_count+" accounts are followed").prop("outerHTML"),{raw:!0,flush:!1});a.echo("1 day toot rate "+parseInt(b.statuses_count/k)+" posts/day",{flush:!1});a.echo($.terminal.format("Note:"+b.note),{raw:!0,flush:!1});a.echo("URL: "+b.url,{raw:!1,flush:!1});return callAPI("/api/v1/accounts/"+b.id+"/statuses",{data:{pinned:!0}})},function(b,h,k){console.log(b);
JSON.parse(b.responseText);a.echo("Getting user data failed.("+b+")");a.resume()}).then(function(b,h,k){if(0<b.length&&b[0].pinned)for(a.echo("<br />",{raw:!0,flush:!1}),a.echo("[[ub;;]Pinned statuses]",{flush:!1}),h=0;h<b.length;h++)if(2<h){b=$("<a />").attr("name","cmd_status_pinned").attr("data-uid",b[h].account.id).text("... and more pinned status");a.echo(b.prop("outerHTML"),{raw:!0,flush:!1});break}else a.echo(makeStatus(b[h]),{raw:!0,flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},
function(b,h,k){console.log(b);JSON.parse(b.responseText);a.resume()})};a.prototype.search_query=function(a,m){a.pause();callAPI("/api/v1/search",{type:"GET",data:{q:m.paramaters.query}}).then(function(b,h,k){h=15;for(k=0;k<b.accounts.length;k++)h<b.accounts[k].acct.length&&(h=b.accounts[k].acct.length);h+=7;for(k="---------------";k.length<h;k+="-");k+="----------------------------";var f=["Accounts:","| display name".addTab("| account name",h).addTab("id",9),k];for(k=0;k<b.accounts.length;k++)f.push(("| "+
b.accounts[k].display_name).addTab("| @"+b.accounts[k].acct,h).addTab(b.accounts[k].id,9));f.push("----------------------------------------------------------");f.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.accounts.length+"\u4ef6");f.push("");f.push("Hash tags:");f.push("-----------------------------------");for(k=0;k<b.hashtags.length;k++)f.push("#"+b.hashtags[k]);f.push("-----------------------------------");f.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.hashtags.length+"\u4ef6");a.echo(f.join("\n"));
a.resume()},function(b,h,k){a.error("Search request is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_instance=function(a,m){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){a.echo("Instance name: "+b.title,{flush:!1});a.echo("Version: "+b.version,{flush:!1});a.echo("Description: "+b.description,{flush:!1});a.echo("E-mail: "+b.email,{flush:!1});a.echo("URI: "+b.uri,{flush:!1});a.flush();a.resume()},function(b,h,k){a.error("Getting instance data is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.show_authentication=function(a,m){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,k){console.log(b);a.resume()})};a.prototype.exit=function(a,m){a.pop()};a.prototype.show_statuses=function(a,m){a.pause();var b="undefined"!==typeof m.paramaters.post_limits&&0<m.paramaters.post_limits&&40>=m.paramaters.post_limits?m.paramaters.post_limits:20;if("timeline"===
m.line_parsed[1].name){var h="undefined"===typeof m.line_parsed[2]?"local":m.line_parsed[2].name,k="/api/v1/timelines/"+("local"===h?"public":h);b={limit:b};"local"===h?b.local=!0:"tag"===h&&(k+="/"+m.paramaters.tag_name);b=callAPI(k,{type:"GET",data:b})}else if("user"===m.line_parsed[1].name)if(h=2===m.line_parsed.length||"self"===m.line_parsed[2].name?instances[instance_name].user.id:"id"===m.line_parsed[2].name?m.paramaters.userid:-1,0<h)b={limit:b},m.optional.hasOwnProperty("pinned")&&(b.pinned=
!0),b=callAPI("/api/v1/accounts/"+h+"/statuses",{type:"GET",data:b});else{a.error("no login.");return}else b=callAPI("/api/v1/statuses",{type:"GET",data:{limit:b}});b.then(function(b,f,h){for(f=b.length-1;0<=f;f--)if(!m.optional.pinned||b[f].pinned)h=makeStatus(b[f]),a.echo(h,{raw:!0,flush:!1});a.flush();a.resume()},function(b,f,h){a.error("Getting timeline posts is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_status_id=function(a,m){a.pause();var b=m.paramaters.status_id,
h;callAPI("/api/v1/statuses/"+b,{type:"GET"}).then(function(a,f,m){h=makeStatus(a)+a.favourites_count+" account favourited, "+a.reblogs_count+" account reblogged. <br />";return callAPI("/api/v1/statuses/"+b+"/context",{type:"GET"})}).then(function(b,f,m){for(m=0;m<b.ancestors.length;m++)f=makeStatus(b.ancestors[m]),a.echo(f,{raw:!0,flush:!1});a.echo(h,{raw:!0,flush:!1});for(m=0;m<b.descendants.length;m++)f=makeStatus(b.descendants[m]),a.echo(f,{raw:!0,flush:!1});a.flush();a.resume()},function(b,
f,h){a.error("Getting statuses is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_follows=function(a,m){a.pause();if(2===m.line_parsed.length||"self"===m.line_parsed[2].name){var b=instances[instance_name].user.id;var h=m.line_parsed[3].name}else b=m.paramaters.userid,h=m.line_parsed[4].name;callAPI("/api/v1/accounts/"+b+"/"+h,{type:"GET"}).then(function(b,f,h){f=15;for(h=0;h<b.length;h++)f<b[h].acct.length&&(f=b[h].acct.length);f+=7;var k;for(k="---------------";k.length<f;k+=
"-");k+="----------------------------";var m=["Accounts:","| display name".addTab("| account name",f).addTab("id",9),k];for(h=0;h<b.length;h++)m.push(("| "+b[h].display_name).addTab("| @"+b[h].acct,f).addTab(b[h].id,9));m.push(k);m.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.length+"\u4ef6");m.push("");a.echo(m.join("\n"));a.resume()},function(b,f,h){a.error("Getting account data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_notifications=function(a,m){a.pause();var b={};
m.paramaters.post_limits&&(b.limit=m.paramaters.post_limits);callAPI("/api/v1/notifications",{type:"GET",data:b}).then(function(b,f,m){for(f=b.length-1;0<=f;f--)a.echo(make_notification(b[f]),{raw:!0});a.resume()},function(b,f,m){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.template=function(a,m){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,k){a.error("Getting data is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.clear=function(a,m){a.clear();return!0};return a}();