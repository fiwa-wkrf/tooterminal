/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function k(c,e){e=e||I;var d=e.createElement("script");d.text=c;e.head.appendChild(d).parentNode.removeChild(d)}function g(c){var e=!!c&&"length"in c&&c.length,m=d.type(c);return"function"!==m&&!d.isWindow(c)&&("array"===m||0===e||"number"==
typeof e&&0<e&&e-1 in c)}function h(c,e){return c.nodeName&&c.nodeName.toLowerCase()===e.toLowerCase()}function p(c,e,m){return d.isFunction(e)?d.grep(c,function(c,d){return!!e.call(c,d,c)!==m}):e.nodeType?d.grep(c,function(c){return c===e!==m}):"string"!=typeof e?d.grep(c,function(c){return-1<ca.call(e,c)!==m}):Nb.test(e)?d.filter(e,c,m):(e=d.filter(e,c),d.grep(c,function(c){return-1<ca.call(e,c)!==m&&1===c.nodeType}))}function w(c,e){for(;(c=c[e])&&1!==c.nodeType;);return c}function x(c){var e=
{};return d.each(c.match(Y)||[],function(c,d){e[d]=!0}),e}function v(c){return c}function G(c){throw c;}function y(c,e,m,a){var u;try{c&&d.isFunction(u=c.promise)?u.call(c).done(e).fail(m):c&&d.isFunction(u=c.then)?u.call(c,e,m):e.apply(void 0,[c].slice(a))}catch(Fa){m.apply(void 0,[Fa])}}function L(){I.removeEventListener("DOMContentLoaded",L);a.removeEventListener("load",L);d.ready()}function Ga(){this.expando=d.expando+Ga.uid++}function Qa(c,e,d){var m;if(void 0===d&&1===c.nodeType)if(m="data-"+
e.replace(Xb,"-$&").toLowerCase(),d=c.getAttribute(m),"string"==typeof d){try{m=d,d="true"===m||"false"!==m&&("null"===m?null:m===+m+""?+m:Yb.test(m)?JSON.parse(m):m)}catch(Q){}pa.set(c,e,d)}else d=void 0;return d}function Ya(c,e,m,a){var u,b=1,f=20,l=a?function(){return a.cur()}:function(){return d.css(c,e,"")},g=l(),n=m&&m[3]||(d.cssNumber[e]?"":"px"),h=(d.cssNumber[e]||"px"!==n&&+g)&&Cb.exec(d.css(c,e));if(h&&h[3]!==n){n=n||h[3];m=m||[];h=+g||1;do b=b||".5",h/=b,d.style(c,e,h+n);while(b!==(b=l()/
g)&&1!==b&&--f)}return m&&(h=+h||+g||0,u=m[1]?h+(m[1]+1)*m[2]:+m[2],a&&(a.unit=n,a.start=h,a.end=u)),u}function Ha(c,e){for(var m,a,b=[],f=0,l=c.length;f<l;f++)if(a=c[f],a.style)if(m=a.style.display,e){if("none"===m&&(b[f]=F.get(a,"display")||null,b[f]||(a.style.display="")),""===a.style.display&&ta(a)){m=f;var g=void 0;var n=a.ownerDocument;var h=a.nodeName;n=(a=Tb[h])?a:(g=n.body.appendChild(n.createElement(h)),a=d.css(g,"display"),g.parentNode.removeChild(g),"none"===a&&(a="block"),Tb[h]=a,a);
b[m]=n}}else"none"!==m&&(b[f]="none",F.set(a,"display",m));for(f=0;f<l;f++)null!=b[f]&&(c[f].style.display=b[f]);return c}function W(c,e){var m;return m="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(e||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(e||"*"):[],void 0===e||e&&h(c,e)?d.merge([c],m):m}function Ra(c,e){for(var d=0,a=c.length;d<a;d++)F.set(c[d],"globalEval",!e||F.get(e[d],"globalEval"))}function Sa(c,e,a,u,f){for(var m,b,Q,l,g=e.createDocumentFragment(),
n=[],h=0,r=c.length;h<r;h++)if(m=c[h],m||0===m)if("object"===d.type(m))d.merge(n,m.nodeType?[m]:m);else if(ua.test(m)){b=b||g.appendChild(e.createElement("div"));Q=(M.exec(m)||["",""])[1].toLowerCase();Q=va[Q]||va._default;b.innerHTML=Q[1]+d.htmlPrefilter(m)+Q[2];for(Q=Q[0];Q--;)b=b.lastChild;d.merge(n,b.childNodes);b=g.firstChild;b.textContent=""}else n.push(e.createTextNode(m));g.textContent="";for(h=0;m=n[h++];)if(u&&-1<d.inArray(m,u))f&&f.push(m);else if(l=d.contains(m.ownerDocument,m),b=W(g.appendChild(m),
"script"),l&&Ra(b),a)for(Q=0;m=b[Q++];)wa.test(m.type||"")&&a.push(m);return g}function Ba(){return!0}function ka(){return!1}function nb(){try{return I.activeElement}catch(c){}}function ia(c,e,m,a,b,f){var u,Q;if("object"==typeof e){"string"!=typeof m&&(a=a||m,m=void 0);for(Q in e)ia(c,Q,m,a,e[Q],f);return c}if(null==a&&null==b?(b=m,a=m=void 0):null==b&&("string"==typeof m?(b=a,a=void 0):(b=a,a=m,m=void 0)),!1===b)b=ka;else if(!b)return c;return 1===f&&(u=b,b=function(c){return d().off(c),u.apply(this,
arguments)},b.guid=u.guid||(u.guid=d.guid++)),c.each(function(){d.event.add(this,e,b,a,m)})}function wb(c,e){return h(c,"table")&&h(11!==e.nodeType?e:e.firstChild,"tr")?d(">tbody",c)[0]||c:c}function Ob(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function Pb(c){var e=ub.exec(c.type);return e?c.type=e[1]:c.removeAttribute("type"),c}function xb(c,e){var m,a,b,f,l,g;if(1===e.nodeType){if(F.hasData(c)&&(m=F.access(c),a=F.set(e,m),g=m.events))for(b in delete a.handle,a.events={},g)for(m=
0,a=g[b].length;m<a;m++)d.event.add(e,b,g[b][m]);pa.hasData(c)&&(f=pa.access(c),l=d.extend({},f),pa.set(e,l))}}function La(c,e,a,u){e=ob.apply([],e);var m,b,f,l=0,g=c.length,n=g-1,h=e[0],r=d.isFunction(h);if(r||1<g&&"string"==typeof h&&!z.checkClone&&X.test(h))return c.each(function(d){var m=c.eq(d);r&&(e[0]=h.call(this,d,m.html()));La(m,e,a,u)});if(g&&(m=Sa(e,c[0].ownerDocument,!1,c,u),b=m.firstChild,1===m.childNodes.length&&(m=b),b||u)){b=d.map(W(m,"script"),Ob);for(f=b.length;l<g;l++){var q=m;
l!==n&&(q=d.clone(q,!0,!0),f&&d.merge(b,W(q,"script")));a.call(c[l],q,l)}if(f)for(m=b[b.length-1].ownerDocument,d.map(b,Pb),l=0;l<f;l++)q=b[l],wa.test(q.type||"")&&!F.access(q,"globalEval")&&d.contains(m,q)&&(q.src?d._evalUrl&&d._evalUrl(q.src):k(q.textContent.replace(R,""),m))}return c}function pb(c,e,m){for(var a=e?d.filter(e,c):c,b=0;null!=(e=a[b]);b++)m||1!==e.nodeType||d.cleanData(W(e)),e.parentNode&&(m&&d.contains(e.ownerDocument,e)&&Ra(W(e,"script")),e.parentNode.removeChild(e));return c}function db(c,
e,m){var a,b,f,l,g=c.style;return m=m||Za(c),m&&(l=m.getPropertyValue(e)||m[e],""!==l||d.contains(c.ownerDocument,c)||(l=d.style(c,e)),!z.pixelMarginRight()&&$a.test(l)&&ha.test(e)&&(a=g.width,b=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=l,l=m.width,g.width=a,g.minWidth=b,g.maxWidth=f)),void 0!==l?l+"":l}function Gb(c,e){return{get:function(){return c()?void delete this.get:(this.get=e).apply(this,arguments)}}}function Hb(c){var e=d.cssProps[c];if(!e){e=d.cssProps;a:{var a=c;if(!(a in T)){for(var u=
a[0].toUpperCase()+a.slice(1),b=ja.length;b--;)if(a=ja[b]+u,a in T)break a;a=void 0}}e=e[c]=a||c}return e}function Ib(c,e,d){return(c=Cb.exec(e))?Math.max(0,c[2]-(d||0))+(c[3]||"px"):e}function Db(c,e,a,b,f){var m=0;for(e=a===(b?"border":"content")?4:"width"===e?1:0;4>e;e+=2)"margin"===a&&(m+=d.css(c,a+ab[e],!0,f)),b?("content"===a&&(m-=d.css(c,"padding"+ab[e],!0,f)),"margin"!==a&&(m-=d.css(c,"border"+ab[e]+"Width",!0,f))):(m+=d.css(c,"padding"+ab[e],!0,f),"padding"!==a&&(m+=d.css(c,"border"+ab[e]+
"Width",!0,f)));return m}function Jb(c,e,a){var m,b=Za(c),f=db(c,e,b),l="border-box"===d.css(c,"boxSizing",!1,b);return $a.test(f)?f:(m=l&&(z.boxSizingReliable()||f===c.style[e]),"auto"===f&&(f=c["offset"+e[0].toUpperCase()+e.slice(1)]),f=parseFloat(f)||0,f+Db(c,e,a||(l?"border":"content"),m,b)+"px")}function xa(c,e,d,a,b){return new xa.prototype.init(c,e,d,a,b)}function eb(){fb&&(!1===I.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(eb):a.setTimeout(eb,d.fx.interval),d.fx.tick())}function qb(){return a.setTimeout(function(){Ma=
void 0}),Ma=d.now()}function rb(c,e){var d=0,a={height:c};for(e=e?1:0;4>d;d+=2-e){var b=ab[d];a["margin"+b]=a["padding"+b]=c}return e&&(a.opacity=a.width=c),a}function sb(c,e,d){for(var a,m=(ya.tweeners[e]||[]).concat(ya.tweeners["*"]),b=0,f=m.length;b<f;b++)if(a=m[b].call(d,e,c))return a}function Qb(c,e){var a,b,f,l,g;for(a in c)if(b=d.camelCase(a),f=e[b],l=c[a],Array.isArray(l)&&(f=l[1],l=c[a]=l[0]),a!==b&&(c[b]=l,delete c[a]),g=d.cssHooks[b],g&&"expand"in g)for(a in l=g.expand(l),delete c[b],l)a in
c||(c[a]=l[a],e[a]=f);else e[b]=f}function ya(c,e,a){var m,b=0,f=ya.prefilters.length,l=d.Deferred().always(function(){delete g.elem}),g=function(){if(m)return!1;var e=Ma||qb();e=Math.max(0,n.startTime+n.duration-e);for(var d=1-(e/n.duration||0),a=0,b=n.tweens.length;a<b;a++)n.tweens[a].run(d);return l.notifyWith(c,[n,d,e]),1>d&&b?e:(b||l.notifyWith(c,[n,1,0]),l.resolveWith(c,[n]),!1)},n=l.promise({elem:c,props:d.extend({},e),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},a),originalProperties:e,
originalOptions:a,startTime:Ma||qb(),duration:a.duration,tweens:[],createTween:function(e,a){var m=d.Tween(c,n.opts,e,a,n.opts.specialEasing[e]||n.opts.easing);return n.tweens.push(m),m},stop:function(e){var d=0,a=e?n.tweens.length:0;if(m)return this;for(m=!0;d<a;d++)n.tweens[d].run(1);return e?(l.notifyWith(c,[n,1,0]),l.resolveWith(c,[n,e])):l.rejectWith(c,[n,e]),this}});a=n.props;for(Qb(a,n.opts.specialEasing);b<f;b++)if(e=ya.prefilters[b].call(n,c,a,n.opts))return d.isFunction(e.stop)&&(d._queueHooks(n.elem,
n.opts.queue).stop=d.proxy(e.stop,e)),e;return d.map(a,sb,n),d.isFunction(n.opts.start)&&n.opts.start.call(c,n),n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always),d.fx.timer(d.extend(g,{elem:c,anim:n,queue:n.opts.queue})),n}function Ia(c){return(c.match(Y)||[]).join(" ")}function cb(c){return c.getAttribute&&c.getAttribute("class")||""}function yb(c,e,a,b){var m;if(Array.isArray(e))d.each(e,function(e,d){a||N.test(c)?b(c,d):yb(c+"["+("object"==typeof d&&
null!=d?e:"")+"]",d,a,b)});else if(a||"object"!==d.type(e))b(c,e);else for(m in e)yb(c+"["+m+"]",e[m],a,b)}function gb(c){return function(e,a){"string"!=typeof e&&(a=e,e="*");var m,b=0,f=e.toLowerCase().match(Y)||[];if(d.isFunction(a))for(;m=f[b++];)"+"===m[0]?(m=m.slice(1)||"*",(c[m]=c[m]||[]).unshift(a)):(c[m]=c[m]||[]).push(a)}}function zb(c,e,a,b){function m(u){var g;return f[u]=!0,d.each(c[u]||[],function(c,d){var u=d(e,a,b);return"string"!=typeof u||l||f[u]?l?!(g=u):void 0:(e.dataTypes.unshift(u),
m(u),!1)}),g}var f={},l=c===Z;return m(e.dataTypes[0])||!f["*"]&&m("*")}function Ab(c,e){var a,b,f=d.ajaxSettings.flatOptions||{};for(a in e)void 0!==e[a]&&((f[a]?c:b||(b={}))[a]=e[a]);return b&&d.extend(!0,c,b),c}var Ca=[],I=a.document,Kb=Object.getPrototypeOf,Na=Ca.slice,ob=Ca.concat,aa=Ca.push,ca=Ca.indexOf,na={},Ja=na.toString,tb=na.hasOwnProperty,Eb=tb.toString,n=Eb.call(Object),z={},d=function(c,e){return new d.fn.init(c,e)},Ta=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,la=/^-ms-/,bb=/-([a-z])/g,
Oa=function(c,e){return e.toUpperCase()};d.fn=d.prototype={jquery:"3.2.1",constructor:d,length:0,toArray:function(){return Na.call(this)},get:function(c){return null==c?Na.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=d.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return d.each(this,c)},map:function(c){return this.pushStack(d.map(this,function(e,d){return c.call(e,d,e)}))},slice:function(){return this.pushStack(Na.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(c){var e=this.length;c=+c+(0>c?e:0);return this.pushStack(0<=c&&c<e?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:aa,sort:Ca.sort,splice:Ca.splice};d.extend=d.fn.extend=function(){var c,e,a,b,f=arguments[0]||{},l=1,g=arguments.length,n=!1;"boolean"==typeof f&&(n=f,f=arguments[l]||{},l++);"object"==typeof f||d.isFunction(f)||(f={});for(l===g&&(f=this,l--);l<g;l++)if(null!=(c=arguments[l]))for(e in c){var h=f[e];var r=
c[e];f!==r&&(n&&r&&(d.isPlainObject(r)||(a=Array.isArray(r)))?(a?(a=!1,b=h&&Array.isArray(h)?h:[]):b=h&&d.isPlainObject(h)?h:{},f[e]=d.extend(n,b,r)):void 0!==r&&(f[e]=r))}return f};d.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===d.type(c)},isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var e=d.type(c);return("number"===e||"string"===e)&&!isNaN(c-
parseFloat(c))},isPlainObject:function(c){var e,d;return!(!c||"[object Object]"!==Ja.call(c))&&(!(e=Kb(c))||(d=tb.call(e,"constructor")&&e.constructor,"function"==typeof d&&Eb.call(d)===n))},isEmptyObject:function(c){for(var e in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?na[Ja.call(c)]||"object":typeof c},globalEval:function(c){k(c)},camelCase:function(c){return c.replace(la,"ms-").replace(bb,Oa)},each:function(c,e){var d,a=0;if(g(c))for(d=
c.length;a<d&&!1!==e.call(c[a],a,c[a]);a++);else for(a in c)if(!1===e.call(c[a],a,c[a]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Ta,"")},makeArray:function(c,e){var a=e||[];return null!=c&&(g(Object(c))?d.merge(a,"string"==typeof c?[c]:c):aa.call(a,c)),a},inArray:function(c,e,d){return null==e?-1:ca.call(e,c,d)},merge:function(c,e){for(var d=+e.length,a=0,b=c.length;a<d;a++)c[b++]=e[a];return c.length=b,c},grep:function(c,e,d){for(var a=[],m=0,b=c.length,f=!d;m<b;m++)d=!e(c[m],
m),d!==f&&a.push(c[m]);return a},map:function(c,e,d){var a,m=0,b=[];if(g(c))for(a=c.length;m<a;m++){var f=e(c[m],m,d);null!=f&&b.push(f)}else for(m in c)f=e(c[m],m,d),null!=f&&b.push(f);return ob.apply([],b)},guid:1,proxy:function(c,e){var a,b,f;if("string"==typeof e&&(a=c[e],e=c,c=a),d.isFunction(c))return b=Na.call(arguments,2),f=function(){return c.apply(e||this,b.concat(Na.call(arguments)))},f.guid=c.guid=c.guid||d.guid++,f},now:Date.now,support:z});"function"==typeof Symbol&&(d.fn[Symbol.iterator]=
Ca[Symbol.iterator]);d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,e){na["[object "+e+"]"]=e.toLowerCase()});var O=function(c){function e(c,e,d,a){var m,b,f,l,g=e&&e.ownerDocument,u=e?e.nodeType:9;if(d=d||[],"string"!=typeof c||!c||1!==u&&9!==u&&11!==u)return d;if(!a&&((e?e.ownerDocument||e:Oa)!==K&&X(e),e=e||K,x)){if(11!==u&&(l=Lb.exec(c)))if(m=l[1])if(9===u){if(!(b=e.getElementById(m)))return d;if(b.id===m)return d.push(b),d}else{if(g&&(b=g.getElementById(m))&&
ba(e,b)&&b.id===m)return d.push(b),d}else{if(l[2])return F.apply(d,e.getElementsByTagName(c)),d;if((m=l[3])&&ma.getElementsByClassName&&e.getElementsByClassName)return F.apply(d,e.getElementsByClassName(m)),d}if(!(!ma.qsa||D[c+" "]||S&&S.test(c))){if(1!==u){g=e;var n=c}else if("object"!==e.nodeName.toLowerCase()){(f=e.getAttribute("id"))?f=f.replace(fa,hb):e.setAttribute("id",f=J);b=ea(c);for(m=b.length;m--;)b[m]="#"+f+" "+B(b[m]);n=b.join(",");g=V.test(c)&&k(e.parentNode)||e}if(n)try{return F.apply(d,
g.querySelectorAll(n)),d}catch(lc){}finally{f===J&&e.removeAttribute("id")}}}return oa(c.replace(ib,"$1"),e,d,a)}function d(){function c(d,a){return e.push(d+" ")>U.cacheLength&&delete c[e.shift()],c[d+" "]=a}var e=[];return c}function a(c){return c[J]=!0,c}function b(c){var e=K.createElement("fieldset");try{return!!c(e)}catch(jc){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function f(c,e){for(var d=c.split("|"),a=d.length;a--;)U.attrHandle[d[a]]=e}function l(c,e){var d=e&&c,a=d&&
1===c.nodeType&&1===e.nodeType&&c.sourceIndex-e.sourceIndex;if(a)return a;if(d)for(;d=d.nextSibling;)if(d===e)return-1;return c?1:-1}function g(c){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===c}}function n(c){return function(e){var d=e.nodeName.toLowerCase();return("input"===d||"button"===d)&&e.type===c}}function h(c){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===c:e.disabled===c:e.isDisabled===
c||e.isDisabled!==!c&&ja(e)===c:e.disabled===c:"label"in e&&e.disabled===c}}function r(c){return a(function(e){return e=+e,a(function(d,a){for(var m,b=c([],d.length,e),f=b.length;f--;)d[m=b[f]]&&(d[m]=!(a[m]=d[m]))})})}function k(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function q(){}function B(c){for(var e=0,d=c.length,a="";e<d;e++)a+=c[e].value;return a}function z(c,e,d){var a=e.dir,m=e.next,b=m||a,f=d&&"parentNode"===b,l=A++;return e.first?function(e,d,m){for(;e=e[a];)if(1===
e.nodeType||f)return c(e,d,m);return!1}:function(e,d,g){var u,n,h,Q=[Aa,l];if(g)for(;e=e[a];){if((1===e.nodeType||f)&&c(e,d,g))return!0}else for(;e=e[a];)if(1===e.nodeType||f)if(h=e[J]||(e[J]={}),n=h[e.uniqueID]||(h[e.uniqueID]={}),m&&m===e.nodeName.toLowerCase())e=e[a]||e;else{if((u=n[b])&&u[0]===Aa&&u[1]===l)return Q[2]=u[2];if(n[b]=Q,Q[2]=c(e,d,g))return!0}return!1}}function p(c){return 1<c.length?function(e,d,a){for(var m=c.length;m--;)if(!c[m](e,d,a))return!1;return!0}:c[0]}function C(c,e,d,
a,m){for(var b,f=[],l=0,g=c.length,u=null!=e;l<g;l++)(b=c[l])&&(d&&!d(b,a,m)||(f.push(b),u&&e.push(l)));return f}function Z(c,d,m,b,f,l){return b&&!b[J]&&(b=Z(b)),f&&!f[J]&&(f=Z(f,l)),a(function(a,l,g,u){var n,h=[],Q=[],r=l.length,k;if(!(k=a)){k=d||"*";for(var da=g.nodeType?[g]:g,Fa=[],q=0,B=da.length;q<B;q++)e(k,da[q],Fa);k=Fa}k=!c||!a&&d?k:C(k,h,c,g,u);da=m?f||(a?c:r||b)?[]:l:k;if(m&&m(k,da,g,u),b){var sa=C(da,Q);b(sa,[],g,u);for(g=sa.length;g--;)(n=sa[g])&&(da[Q[g]]=!(k[Q[g]]=n))}if(a){if(f||c){if(f){sa=
[];for(g=da.length;g--;)(n=da[g])&&sa.push(k[g]=n);f(null,da=[],sa,u)}for(g=da.length;g--;)(n=da[g])&&-1<(sa=f?H(a,n):h[g])&&(a[sa]=!(l[sa]=n))}}else da=C(da===l?da.splice(r,da.length):da),f?f(null,l,da,u):F.apply(l,da)})}function Ta(c){var e,d,a=c.length,m=U.relative[c[0].type];var b=m||U.relative[" "];for(var f=m?1:0,l=z(function(c){return c===e},b,!0),g=z(function(c){return-1<H(e,c)},b,!0),u=[function(c,d,a){c=!m&&(a||d!==N)||((e=d).nodeType?l(c,d,a):g(c,d,a));return e=null,c}];f<a;f++)if(b=U.relative[c[f].type])u=
[z(p(u),b)];else{if(b=U.filter[c[f].type].apply(null,c[f].matches),b[J]){for(d=++f;d<a&&!U.relative[c[d].type];d++);return Z(1<f&&p(u),1<f&&B(c.slice(0,f-1).concat({value:" "===c[f-2].type?"*":""})).replace(ib,"$1"),b,f<d&&Ta(c.slice(f,d)),d<a&&Ta(c=c.slice(d)),d<a&&B(c))}u.push(b)}return p(u)}function v(c,d){var m=0<d.length,b=0<c.length,f=function(a,f,l,g,u){var n,h,Q=0,r="0",k=a&&[],da=[],Fa=N,q=a||b&&U.find.TAG("*",u),sa=Aa+=null==Fa?1:Math.random()||.1,B=q.length;for(u&&(N=f===K||f||u);r!==B&&
null!=(n=q[r]);r++){if(b&&n){var z=0;for(f||n.ownerDocument===K||(X(n),l=!x);h=c[z++];)if(h(n,f||K,l)){g.push(n);break}u&&(Aa=sa)}m&&((n=!h&&n)&&Q--,a&&k.push(n))}if(Q+=r,m&&r!==Q){for(z=0;h=d[z++];)h(k,da,f,l);if(a){if(0<Q)for(;r--;)k[r]||da[r]||(da[r]=L.call(g));da=C(da)}F.apply(g,da);u&&!a&&0<da.length&&1<Q+d.length&&e.uniqueSort(g)}return u&&(Aa=sa,N=Fa),k};return m?a(f):f}var w,bb,oa,N,la,t,K,O,x,S,y,mb,ba,J="sizzle"+1*new Date,Oa=c.document,Aa=0,A=0,G=d(),kb=d(),D=d(),E=function(c,e){return c===
e&&(t=!0),0},P={}.hasOwnProperty,ra=[],L=ra.pop,Bb=ra.push,F=ra.push,Fb=ra.slice,H=function(c,e){for(var d=0,a=c.length;d<a;d++)if(c[d]===e)return d;return-1},qa=RegExp("[\\x20\\t\\r\\n\\f]+","g"),ib=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Xa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,M=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,I=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Ba=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
jb=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,R={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},vb=/^(?:input|select|textarea|button)$/i,Nb=/^h\d$/i,T=/^[^{]+\{\s*\[native \w/,
Lb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,V=/[+~]/,ka=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Y=function(c,e,d){c="0x"+e-65536;return c!==c||d?e:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},fa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,hb=function(c,e){return e?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},W=function(){X()},ja=z(function(c){return!0===c.disabled&&("form"in c||
"label"in c)},{dir:"parentNode",next:"legend"});try{F.apply(ra=Fb.call(Oa.childNodes),Oa.childNodes),ra[Oa.childNodes.length].nodeType}catch(da){F={apply:ra.length?function(c,e){Bb.apply(c,Fb.call(e))}:function(c,e){for(var d=c.length,a=0;c[d++]=e[a++];);c.length=d-1}}}var ma=e.support={};var aa=e.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};var X=e.setDocument=function(c){var e,d;c=c?c.ownerDocument||c:Oa;return c!==K&&9===c.nodeType&&c.documentElement?
(K=c,O=K.documentElement,x=!aa(K),Oa!==K&&(d=K.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",W,!1):d.attachEvent&&d.attachEvent("onunload",W)),ma.attributes=b(function(c){return c.className="i",!c.getAttribute("className")}),ma.getElementsByTagName=b(function(c){return c.appendChild(K.createComment("")),!c.getElementsByTagName("*").length}),ma.getElementsByClassName=T.test(K.getElementsByClassName),ma.getById=b(function(c){return O.appendChild(c).id=J,!K.getElementsByName||
!K.getElementsByName(J).length}),ma.getById?(U.filter.ID=function(c){var e=c.replace(ka,Y);return function(c){return c.getAttribute("id")===e}},U.find.ID=function(c,e){if("undefined"!=typeof e.getElementById&&x){var d=e.getElementById(c);return d?[d]:[]}}):(U.filter.ID=function(c){var e=c.replace(ka,Y);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===e}},U.find.ID=function(c,e){if("undefined"!=typeof e.getElementById&&x){var d,a,m=e.getElementById(c);
if(m){if(d=m.getAttributeNode("id"),d&&d.value===c)return[m];var b=e.getElementsByName(c);for(a=0;m=b[a++];)if(d=m.getAttributeNode("id"),d&&d.value===c)return[m]}return[]}}),U.find.TAG=ma.getElementsByTagName?function(c,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(c):ma.qsa?e.querySelectorAll(c):void 0}:function(c,e){var d,a=[],m=0,b=e.getElementsByTagName(c);if("*"===c){for(;d=b[m++];)1===d.nodeType&&a.push(d);return a}return b},U.find.CLASS=ma.getElementsByClassName&&
function(c,e){if("undefined"!=typeof e.getElementsByClassName&&x)return e.getElementsByClassName(c)},y=[],S=[],(ma.qsa=T.test(K.querySelectorAll))&&(b(function(c){O.appendChild(c).innerHTML="<a id='"+J+"'></a><select id='"+J+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&S.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||S.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+J+"-]").length||S.push("~=");c.querySelectorAll(":checked").length||S.push(":checked");c.querySelectorAll("a#"+J+"+*").length||S.push(".#.+[+~]")}),b(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=K.createElement("input");e.setAttribute("type","hidden");c.appendChild(e).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&S.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
S.push(":enabled",":disabled");O.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&S.push(":enabled",":disabled");c.querySelectorAll("*,:x");S.push(",.*:")})),(ma.matchesSelector=T.test(mb=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&b(function(c){ma.disconnectedMatch=mb.call(c,"*");mb.call(c,"[s!='']:x");y.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
S=S.length&&new RegExp(S.join("|")),y=y.length&&new RegExp(y.join("|")),e=T.test(O.compareDocumentPosition),ba=e||T.test(O.contains)?function(c,e){var d=9===c.nodeType?c.documentElement:c,a=e&&e.parentNode;return c===a||!(!a||1!==a.nodeType||!(d.contains?d.contains(a):c.compareDocumentPosition&&16&c.compareDocumentPosition(a)))}:function(c,e){if(e)for(;e=e.parentNode;)if(e===c)return!0;return!1},E=e?function(c,e){if(c===e)return t=!0,0;var d=!c.compareDocumentPosition-!e.compareDocumentPosition;return d?
d:(d=(c.ownerDocument||c)===(e.ownerDocument||e)?c.compareDocumentPosition(e):1,1&d||!ma.sortDetached&&e.compareDocumentPosition(c)===d?c===K||c.ownerDocument===Oa&&ba(Oa,c)?-1:e===K||e.ownerDocument===Oa&&ba(Oa,e)?1:la?H(la,c)-H(la,e):0:4&d?-1:1)}:function(c,e){if(c===e)return t=!0,0;var d=0;var a=c.parentNode;var m=e.parentNode,b=[c],f=[e];if(!a||!m)return c===K?-1:e===K?1:a?-1:m?1:la?H(la,c)-H(la,e):0;if(a===m)return l(c,e);for(a=c;a=a.parentNode;)b.unshift(a);for(a=e;a=a.parentNode;)f.unshift(a);
for(;b[d]===f[d];)d++;return d?l(b[d],f[d]):b[d]===Oa?-1:f[d]===Oa?1:0},K):K};e.matches=function(c,d){return e(c,null,null,d)};e.matchesSelector=function(c,d){if((c.ownerDocument||c)!==K&&X(c),d=d.replace(I,"='$1']"),!(!ma.matchesSelector||!x||D[d+" "]||y&&y.test(d)||S&&S.test(d)))try{var a=mb.call(c,d);if(a||ma.disconnectedMatch||c.document&&11!==c.document.nodeType)return a}catch(kc){}return 0<e(d,K,null,[c]).length};e.contains=function(c,e){return(c.ownerDocument||c)!==K&&X(c),ba(c,e)};e.attr=
function(c,e){(c.ownerDocument||c)!==K&&X(c);var d=U.attrHandle[e.toLowerCase()];d=d&&P.call(U.attrHandle,e.toLowerCase())?d(c,e,!x):void 0;return void 0!==d?d:ma.attributes||!x?c.getAttribute(e):(d=c.getAttributeNode(e))&&d.specified?d.value:null};e.escape=function(c){return(c+"").replace(fa,hb)};e.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};e.uniqueSort=function(c){var e,d=[],a=0,m=0;if(t=!ma.detectDuplicates,la=!ma.sortStable&&c.slice(0),c.sort(E),t){for(;e=c[m++];)e===
c[m]&&(a=d.push(m));for(;a--;)c.splice(d[a],1)}return la=null,c};var ha=e.getText=function(c){var e,d="",a=0;if(e=c.nodeType)if(1===e||9===e||11===e){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)d+=ha(c)}else{if(3===e||4===e)return c.nodeValue}else for(;e=c[a++];)d+=ha(e);return d};var U=e.selectors={cacheLength:50,createPseudo:a,match:R,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(ka,Y),c[3]=(c[3]||c[4]||c[5]||"").replace(ka,Y),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||e.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&e.error(c[0]),c},PSEUDO:function(c){var e,d=!c[6]&&c[2];return R.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":d&&Ba.test(d)&&
(e=ea(d,!0))&&(e=d.indexOf(")",d.length-e)-d.length)&&(c[0]=c[0].slice(0,e),c[2]=d.slice(0,e)),c.slice(0,3))}},filter:{TAG:function(c){var e=c.replace(ka,Y).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===e}},CLASS:function(c){var e=G[c+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),G(c,function(c){return e.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,d,a){return function(m){m=e.attr(m,c);return null==m?"!="===d:!d||(m+="","="===d?m===a:"!="===d?m!==a:"^="===d?a&&0===m.indexOf(a):"*="===d?a&&-1<m.indexOf(a):"$="===d?a&&m.slice(-a.length)===a:"~="===d?-1<(" "+m.replace(qa," ")+" ").indexOf(a):"|="===d&&(m===a||m.slice(0,a.length+1)===a+"-"))}},CHILD:function(c,e,d,a,m){var b="nth"!==c.slice(0,3),f="last"!==c.slice(-4),l="of-type"===e;return 1===a&&0===m?function(c){return!!c.parentNode}:function(e,d,g){var u,n;d=b!==f?"nextSibling":
"previousSibling";var h=e.parentNode,Q=l&&e.nodeName.toLowerCase();g=!g&&!l;var r=!1;if(h){if(b){for(;d;){for(u=e;u=u[d];)if(l?u.nodeName.toLowerCase()===Q:1===u.nodeType)return!1;var k=d="only"===c&&!k&&"nextSibling"}return!0}if(k=[f?h.firstChild:h.lastChild],f&&g){u=h;var Fa=u[J]||(u[J]={});var q=Fa[u.uniqueID]||(Fa[u.uniqueID]={});var sa=q[c]||[];r=(n=sa[0]===Aa&&sa[1])&&sa[2];for(u=n&&h.childNodes[n];u=++n&&u&&u[d]||(r=n=0)||k.pop();)if(1===u.nodeType&&++r&&u===e){q[c]=[Aa,n,r];break}}else if(g&&
(u=e,Fa=u[J]||(u[J]={}),q=Fa[u.uniqueID]||(Fa[u.uniqueID]={}),sa=q[c]||[],n=sa[0]===Aa&&sa[1],r=n),!1===r)for(;(u=++n&&u&&u[d]||(r=n=0)||k.pop())&&((l?u.nodeName.toLowerCase()!==Q:1!==u.nodeType)||!++r||(g&&(Fa=u[J]||(u[J]={}),q=Fa[u.uniqueID]||(Fa[u.uniqueID]={}),q[c]=[Aa,r]),u!==e)););return r-=m,r===a||0===r%a&&0<=r/a}}},PSEUDO:function(c,d){var m,b=U.pseudos[c]||U.setFilters[c.toLowerCase()]||e.error("unsupported pseudo: "+c);return b[J]?b(d):1<b.length?(m=[c,c,"",d],U.setFilters.hasOwnProperty(c.toLowerCase())?
a(function(c,e){for(var a,m=b(c,d),f=m.length;f--;)a=H(c,m[f]),c[a]=!(e[a]=m[f])}):function(c){return b(c,0,m)}):b}},pseudos:{not:a(function(c){var e=[],d=[],m=bb(c.replace(ib,"$1"));return m[J]?a(function(c,e,d,a){var b;d=m(c,null,a,[]);for(a=c.length;a--;)(b=d[a])&&(c[a]=!(e[a]=b))}):function(c,a,b){return e[0]=c,m(e,null,b,d),e[0]=null,!d.pop()}}),has:a(function(c){return function(d){return 0<e(c,d).length}}),contains:a(function(c){return c=c.replace(ka,Y),function(e){return-1<(e.textContent||
e.innerText||ha(e)).indexOf(c)}}),lang:a(function(c){return jb.test(c||"")||e.error("unsupported lang: "+c),c=c.replace(ka,Y).toLowerCase(),function(e){var d;do if(d=x?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return d=d.toLowerCase(),d===c||0===d.indexOf(c+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var d=c.location&&c.location.hash;return d&&d.slice(1)===e.id},root:function(c){return c===O},focus:function(c){return c===K.activeElement&&(!K.hasFocus||
K.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(c){var e=c.nodeName.toLowerCase();return"input"===e&&!!c.checked||"option"===e&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!U.pseudos.empty(c)},header:function(c){return Nb.test(c.nodeName)},input:function(c){return vb.test(c.nodeName)},
button:function(c){var e=c.nodeName.toLowerCase();return"input"===e&&"button"===c.type||"button"===e},text:function(c){var e;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(e=c.getAttribute("type"))||"text"===e.toLowerCase())},first:r(function(){return[0]}),last:r(function(c,e){return[e-1]}),eq:r(function(c,e,d){return[0>d?d+e:d]}),even:r(function(c,e){for(var d=0;d<e;d+=2)c.push(d);return c}),odd:r(function(c,e){for(var d=1;d<e;d+=2)c.push(d);return c}),lt:r(function(c,e,d){for(e=
0>d?d+e:d;0<=--e;)c.push(e);return c}),gt:r(function(c,e,d){for(d=0>d?d+e:d;++d<e;)c.push(d);return c})}};U.pseudos.nth=U.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[w]=g(w);for(w in{submit:!0,reset:!0})U.pseudos[w]=n(w);q.prototype=U.filters=U.pseudos;U.setFilters=new q;var ea=e.tokenize=function(c,d){var a,m,b,f,l;if(f=kb[c+" "])return d?0:f.slice(0);f=c;var u=[];for(l=U.preFilter;f;){g&&!(a=Xa.exec(f))||(a&&(f=f.slice(a[0].length)||f),u.push(m=[]));var g=!1;
(a=M.exec(f))&&(g=a.shift(),m.push({value:g,type:a[0].replace(ib," ")}),f=f.slice(g.length));for(b in U.filter)!(a=R[b].exec(f))||l[b]&&!(a=l[b](a))||(g=a.shift(),m.push({value:g,type:b,matches:a}),f=f.slice(g.length));if(!g)break}return d?f.length:f?e.error(c):kb(c,u).slice(0)};return bb=e.compile=function(c,e){var d,a=[],m=[],b=D[c+" "];if(!b){e||(e=ea(c));for(d=e.length;d--;)b=Ta(e[d]),b[J]?a.push(b):m.push(b);b=D(c,v(m,a));b.selector=c}return b},oa=e.select=function(c,e,d,a){var m,b,f,l,u,g="function"==
typeof c&&c,n=!a&&ea(c=g.selector||c);if(d=d||[],1===n.length){if(b=n[0]=n[0].slice(0),2<b.length&&"ID"===(f=b[0]).type&&9===e.nodeType&&x&&U.relative[b[1].type]){if(e=(U.find.ID(f.matches[0].replace(ka,Y),e)||[])[0],!e)return d;g&&(e=e.parentNode);c=c.slice(b.shift().value.length)}for(m=R.needsContext.test(c)?0:b.length;m--&&(f=b[m],!U.relative[l=f.type]);)if((u=U.find[l])&&(a=u(f.matches[0].replace(ka,Y),V.test(b[0].type)&&k(e.parentNode)||e))){if(b.splice(m,1),c=a.length&&B(b),!c)return F.apply(d,
a),d;break}}return(g||bb(c,n))(a,e,!x,d,!e||V.test(c)&&k(e.parentNode)||e),d},ma.sortStable=J.split("").sort(E).join("")===J,ma.detectDuplicates=!!t,X(),ma.sortDetached=b(function(c){return 1&c.compareDocumentPosition(K.createElement("fieldset"))}),b(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||f("type|href|height|width",function(c,e,d){if(!d)return c.getAttribute(e,"type"===e.toLowerCase()?1:2)}),ma.attributes&&b(function(c){return c.innerHTML="<input/>",
c.firstChild.setAttribute("value",""),""===c.firstChild.getAttribute("value")})||f("value",function(c,e,d){if(!d&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),b(function(c){return null==c.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,e,d){var a;if(!d)return!0===c[e]?e.toLowerCase():(a=c.getAttributeNode(e))&&a.specified?a.value:null}),e}(a);d.find=O;d.expr=O.selectors;
d.expr[":"]=d.expr.pseudos;d.uniqueSort=d.unique=O.uniqueSort;d.text=O.getText;d.isXMLDoc=O.isXML;d.contains=O.contains;d.escapeSelector=O.escape;var kb=function(c,e,a){for(var m=[],b=void 0!==a;(c=c[e])&&9!==c.nodeType;)if(1===c.nodeType){if(b&&d(c).is(a))break;m.push(c)}return m},Fb=function(c,e){for(var d=[];c;c=c.nextSibling)1===c.nodeType&&c!==e&&d.push(c);return d},Lb=d.expr.match.needsContext,Bb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Nb=/^.[^:#\[\.,]*$/;d.filter=
function(c,e,a){var m=e[0];return a&&(c=":not("+c+")"),1===e.length&&1===m.nodeType?d.find.matchesSelector(m,c)?[m]:[]:d.find.matches(c,d.grep(e,function(c){return 1===c.nodeType}))};d.fn.extend({find:function(c){var e,a=this.length,b=this;if("string"!=typeof c)return this.pushStack(d(c).filter(function(){for(e=0;e<a;e++)if(d.contains(b[e],this))return!0}));var f=this.pushStack([]);for(e=0;e<a;e++)d.find(c,b[e],f);return 1<a?d.uniqueSort(f):f},filter:function(c){return this.pushStack(p(this,c||[],
!1))},not:function(c){return this.pushStack(p(this,c||[],!0))},is:function(c){return!!p(this,"string"==typeof c&&Lb.test(c)?d(c):c||[],!1).length}});var P=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(d.fn.init=function(c,e,a){var m,b;if(!c)return this;if(a=a||bc,"string"==typeof c){if(m="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:P.exec(c),!m||!m[1]&&e)return!e||e.jquery?(e||a).find(c):this.constructor(e).find(c);if(m[1]){if(e=e instanceof d?e[0]:e,d.merge(this,d.parseHTML(m[1],e&&e.nodeType?
e.ownerDocument||e:I,!0)),Bb.test(m[1])&&d.isPlainObject(e))for(m in e)d.isFunction(this[m])?this[m](e[m]):this.attr(m,e[m]);return this}return b=I.getElementById(m[2]),b&&(this[0]=b,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):d.isFunction(c)?void 0!==a.ready?a.ready(c):c(d):d.makeArray(c,this)}).prototype=d.fn;var bc=d(I);var cc=/^(?:parents|prev(?:Until|All))/,dc={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(c){var e=d(c,this),a=e.length;return this.filter(function(){for(var c=
0;c<a;c++)if(d.contains(this,e[c]))return!0})},closest:function(c,e){var a,b=0,f=this.length,l=[],g="string"!=typeof c&&d(c);if(!Lb.test(c))for(;b<f;b++)for(a=this[b];a&&a!==e;a=a.parentNode)if(11>a.nodeType&&(g?-1<g.index(a):1===a.nodeType&&d.find.matchesSelector(a,c))){l.push(a);break}return this.pushStack(1<l.length?d.uniqueSort(l):l)},index:function(c){return c?"string"==typeof c?ca.call(d(c),this[0]):ca.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(c,e){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(c,e))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});d.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return kb(c,"parentNode")},parentsUntil:function(c,e,d){return kb(c,"parentNode",d)},next:function(c){return w(c,"nextSibling")},prev:function(c){return w(c,"previousSibling")},nextAll:function(c){return kb(c,"nextSibling")},prevAll:function(c){return kb(c,
"previousSibling")},nextUntil:function(c,e,d){return kb(c,"nextSibling",d)},prevUntil:function(c,e,d){return kb(c,"previousSibling",d)},siblings:function(c){return Fb((c.parentNode||{}).firstChild,c)},children:function(c){return Fb(c.firstChild)},contents:function(c){return h(c,"iframe")?c.contentDocument:(h(c,"template")&&(c=c.content||c),d.merge([],c.childNodes))}},function(c,e){d.fn[c]=function(a,b){var m=d.map(this,e,a);return"Until"!==c.slice(-5)&&(b=a),b&&"string"==typeof b&&(m=d.filter(b,m)),
1<this.length&&(dc[c]||d.uniqueSort(m),cc.test(c)&&m.reverse()),this.pushStack(m)}});var Y=/[^\x20\t\r\n\f]+/g;d.Callbacks=function(c){c="string"==typeof c?x(c):d.extend({},c);var e,a,b,f,l=[],g=[],n=-1,h=function(){f=f||c.once;for(b=e=!0;g.length;n=-1)for(a=g.shift();++n<l.length;)!1===l[n].apply(a[0],a[1])&&c.stopOnFalse&&(n=l.length,a=!1);c.memory||(a=!1);e=!1;f&&(l=a?[]:"")},r={add:function(){return l&&(a&&!e&&(n=l.length-1,g.push(a)),function $b(e){d.each(e,function(e,a){d.isFunction(a)?c.unique&&
r.has(a)||l.push(a):a&&a.length&&"string"!==d.type(a)&&$b(a)})}(arguments),a&&!e&&h()),this},remove:function(){return d.each(arguments,function(c,e){for(var a;-1<(a=d.inArray(e,l,a));)l.splice(a,1),a<=n&&n--}),this},has:function(c){return c?-1<d.inArray(c,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return f=g=[],l=a="",this},disabled:function(){return!l},lock:function(){return f=g=[],a||e||(l=a=""),this},locked:function(){return!!f},fireWith:function(c,d){return f||(d=
d||[],d=[c,d.slice?d.slice():d],g.push(d),e||h()),this},fire:function(){return r.fireWith(this,arguments),this},fired:function(){return!!b}};return r};d.extend({Deferred:function(c){var e=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],m="pending",b={state:function(){return m},always:function(){return f.done(arguments).fail(arguments),
this},"catch":function(c){return b.then(null,c)},pipe:function(){var c=arguments;return d.Deferred(function(a){d.each(e,function(e,m){var b=d.isFunction(c[m[4]])&&c[m[4]];f[m[1]](function(){var c=b&&b.apply(this,arguments);c&&d.isFunction(c.promise)?c.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[m[0]+"With"](this,b?[c]:arguments)})});c=null}).promise()},then:function(c,m,b){function f(c,e,m,b){return function(){var g=this,u=arguments,n=function(){var a;if(!(c<l)){if(a=m.apply(g,u),
a===e.promise())throw new TypeError("Thenable self-resolution");var n=a&&("object"==typeof a||"function"==typeof a)&&a.then;d.isFunction(n)?b?n.call(a,f(l,e,v,b),f(l,e,G,b)):(l++,n.call(a,f(l,e,v,b),f(l,e,G,b),f(l,e,v,e.notifyWith))):(m!==v&&(g=void 0,u=[a]),(b||e.resolveWith)(g,u))}},h=b?n:function(){try{n()}catch(Ub){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Ub,h.stackTrace),c+1>=l&&(m!==G&&(g=void 0,u=[Ub]),e.rejectWith(g,u))}};c?h():(d.Deferred.getStackHook&&(h.stackTrace=d.Deferred.getStackHook()),
a.setTimeout(h))}}var l=0;return d.Deferred(function(a){e[0][3].add(f(0,a,d.isFunction(b)?b:v,a.notifyWith));e[1][3].add(f(0,a,d.isFunction(c)?c:v));e[2][3].add(f(0,a,d.isFunction(m)?m:G))}).promise()},promise:function(c){return null!=c?d.extend(c,b):b}},f={};return d.each(e,function(c,d){var a=d[2],l=d[5];b[d[1]]=a.add;l&&a.add(function(){m=l},e[3-c][2].disable,e[0][2].lock);a.add(d[3].fire);f[d[0]]=function(){return f[d[0]+"With"](this===f?void 0:this,arguments),this};f[d[0]+"With"]=a.fireWith}),
b.promise(f),c&&c.call(f,f),f},when:function(c){var e=arguments.length,a=e,b=Array(a),f=Na.call(arguments),l=d.Deferred(),g=function(c){return function(d){b[c]=this;f[c]=1<arguments.length?Na.call(arguments):d;--e||l.resolveWith(b,f)}};if(1>=e&&(y(c,l.done(g(a)).resolve,l.reject,!e),"pending"===l.state()||d.isFunction(f[a]&&f[a].then)))return l.then();for(;a--;)y(f[a],g(a),l.reject);return l.promise()}});var ec=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(c,
e){a.console&&a.console.warn&&c&&ec.test(c.name)&&a.console.warn("jQuery.Deferred exception: "+c.message,c.stack,e)};d.readyException=function(c){a.setTimeout(function(){throw c;})};var Sb=d.Deferred();d.fn.ready=function(c){return Sb.then(c)["catch"](function(c){d.readyException(c)}),this};d.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--d.readyWait:d.isReady)||(d.isReady=!0,!0!==c&&0<--d.readyWait||Sb.resolveWith(I,[d]))}});d.ready.then=Sb.then;"complete"===I.readyState||"loading"!==
I.readyState&&!I.documentElement.doScroll?a.setTimeout(d.ready):(I.addEventListener("DOMContentLoaded",L),a.addEventListener("load",L));var Ua=function(c,e,a,b,f,l,g){var m=0,n=c.length,u=null==a;if("object"===d.type(a))for(m in f=!0,a)Ua(c,e,m,a[m],!0,l,g);else if(void 0!==b&&(f=!0,d.isFunction(b)||(g=!0),u&&(g?(e.call(c,b),e=null):(u=e,e=function(c,e,a){return u.call(d(c),a)})),e))for(;m<n;m++)e(c[m],a,g?b:b.call(c[m],m,e(c[m],a)));return f?c:u?e.call(c):n?e(c[0],a):l},Mb=function(c){return 1===
c.nodeType||9===c.nodeType||!+c.nodeType};Ga.uid=1;Ga.prototype={cache:function(c){var e=c[this.expando];return e||(e={},Mb(c)&&(c.nodeType?c[this.expando]=e:Object.defineProperty(c,this.expando,{value:e,configurable:!0}))),e},set:function(c,e,a){var b;c=this.cache(c);if("string"==typeof e)c[d.camelCase(e)]=a;else for(b in e)c[d.camelCase(b)]=e[b];return c},get:function(c,e){return void 0===e?this.cache(c):c[this.expando]&&c[this.expando][d.camelCase(e)]},access:function(c,e,d){return void 0===e||
e&&"string"==typeof e&&void 0===d?this.get(c,e):(this.set(c,e,d),void 0!==d?d:e)},remove:function(c,e){var a,b=c[this.expando];if(void 0!==b){if(void 0!==e)for(Array.isArray(e)?e=e.map(d.camelCase):(e=d.camelCase(e),e=e in b?[e]:e.match(Y)||[]),a=e.length;a--;)delete b[e[a]];(void 0===e||d.isEmptyObject(b))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!d.isEmptyObject(c)}};var F=new Ga,pa=new Ga,Yb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
Xb=/[A-Z]/g;d.extend({hasData:function(c){return pa.hasData(c)||F.hasData(c)},data:function(c,e,d){return pa.access(c,e,d)},removeData:function(c,e){pa.remove(c,e)},_data:function(c,e,d){return F.access(c,e,d)},_removeData:function(c,e){F.remove(c,e)}});d.fn.extend({data:function(c,e){var a,b,f,l=this[0],g=l&&l.attributes;if(void 0===c){if(this.length&&(f=pa.get(l),1===l.nodeType&&!F.get(l,"hasDataAttrs"))){for(a=g.length;a--;)g[a]&&(b=g[a].name,0===b.indexOf("data-")&&(b=d.camelCase(b.slice(5)),
Qa(l,b,f[b])));F.set(l,"hasDataAttrs",!0)}return f}return"object"==typeof c?this.each(function(){pa.set(this,c)}):Ua(this,function(e){var d;if(l&&void 0===e){if((d=pa.get(l,c),void 0!==d)||(d=Qa(l,c),void 0!==d))return d}else this.each(function(){pa.set(this,c,e)})},null,e,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){pa.remove(this,c)})}});d.extend({queue:function(c,e,a){var b;if(c)return e=(e||"fx")+"queue",b=F.get(c,e),a&&(!b||Array.isArray(a)?b=F.access(c,e,d.makeArray(a)):
b.push(a)),b||[]},dequeue:function(c,e){e=e||"fx";var a=d.queue(c,e),b=a.length,f=a.shift(),l=d._queueHooks(c,e),g=function(){d.dequeue(c,e)};"inprogress"===f&&(f=a.shift(),b--);f&&("fx"===e&&a.unshift("inprogress"),delete l.stop,f.call(c,g,l));!b&&l&&l.empty.fire()},_queueHooks:function(c,e){var a=e+"queueHooks";return F.get(c,a)||F.access(c,a,{empty:d.Callbacks("once memory").add(function(){F.remove(c,[e+"queue",a])})})}});d.fn.extend({queue:function(c,e){var a=2;return"string"!=typeof c&&(e=c,
c="fx",a--),arguments.length<a?d.queue(this[0],c):void 0===e?this:this.each(function(){var a=d.queue(this,c,e);d._queueHooks(this,c);"fx"===c&&"inprogress"!==a[0]&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,e){var a,b=1,f=d.Deferred(),l=this,g=this.length,n=function(){--b||f.resolveWith(l,[l])};"string"!=typeof c&&(e=c,c=void 0);for(c=c||"fx";g--;)(a=F.get(l[g],c+"queueHooks"))&&
a.empty&&(b++,a.empty.add(n));return n(),f.promise(e)}});var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Cb=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),ab=["Top","Right","Bottom","Left"],ta=function(c,e){return c=e||c,"none"===c.style.display||""===c.style.display&&d.contains(c.ownerDocument,c)&&"none"===d.css(c,"display")},Ka=function(c,e,d,a){var b,f={};for(b in e)f[b]=c.style[b],c.style[b]=e[b];d=d.apply(c,a||[]);for(b in e)c.style[b]=f[b];return d},Tb={};d.fn.extend({show:function(){return Ha(this,
!0)},hide:function(){return Ha(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():this.hide():this.each(function(){ta(this)?d(this).show():d(this).hide()})}});var Vb=/^(?:checkbox|radio)$/i,M=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,wa=/^$|\/(?:java|ecma)script/i,va={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:[0,"",""]};va.optgroup=va.option;va.tbody=va.tfoot=va.colgroup=va.caption=va.thead;va.th=va.td;var ua=/<|&#?\w+;/;!function(){var c=I.createDocumentFragment().appendChild(I.createElement("div")),e=I.createElement("input");e.setAttribute("type","radio");e.setAttribute("checked","checked");e.setAttribute("name","t");c.appendChild(e);z.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";z.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();
var Pa=I.documentElement,A=/^key/,fc=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,f=/^([^.]*)(?:\.(.+)|)/;d.event={global:{},add:function(c,e,a,b,l){var m,g,n,u,h,r,k,Q;if(u=F.get(c))for(a.handler&&(m=a,a=m.handler,l=m.selector),l&&d.find.matchesSelector(Pa,l),a.guid||(a.guid=d.guid++),(n=u.events)||(n=u.events={}),(g=u.handle)||(g=u.handle=function(e){return"undefined"!=typeof d&&d.event.triggered!==e.type?d.event.dispatch.apply(c,arguments):void 0}),e=(e||"").match(Y)||[""],u=e.length;u--;){var q=
f.exec(e[u])||[];var B=Q=q[1];q=(q[2]||"").split(".").sort();B&&(r=d.event.special[B]||{},B=(l?r.delegateType:r.bindType)||B,r=d.event.special[B]||{},h=d.extend({type:B,origType:Q,data:b,handler:a,guid:a.guid,selector:l,needsContext:l&&d.expr.match.needsContext.test(l),namespace:q.join(".")},m),(k=n[B])||(k=n[B]=[],k.delegateCount=0,r.setup&&!1!==r.setup.call(c,b,q,g)||c.addEventListener&&c.addEventListener(B,g)),r.add&&(r.add.call(c,h),h.handler.guid||(h.handler.guid=a.guid)),l?k.splice(k.delegateCount++,
0,h):k.push(h),d.event.global[B]=!0)}},remove:function(c,e,a,b,l){var m,g,n,u,h,r,k,Q,q=F.hasData(c)&&F.get(c);if(q&&(u=q.events)){e=(e||"").match(Y)||[""];for(h=e.length;h--;)if(n=f.exec(e[h])||[],r=Q=n[1],k=(n[2]||"").split(".").sort(),r){var B=d.event.special[r]||{};r=(b?B.delegateType:B.bindType)||r;var z=u[r]||[];n=n[2]&&new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=m=z.length;m--;){var p=z[m];!l&&Q!==p.origType||a&&a.guid!==p.guid||n&&!n.test(p.namespace)||b&&b!==p.selector&&
("**"!==b||!p.selector)||(z.splice(m,1),p.selector&&z.delegateCount--,B.remove&&B.remove.call(c,p))}g&&!z.length&&(B.teardown&&!1!==B.teardown.call(c,k,q.handle)||d.removeEvent(c,r,q.handle),delete u[r])}else for(r in u)d.event.remove(c,r+e[h],a,b,!0);d.isEmptyObject(u)&&F.remove(c,"handle events")}},dispatch:function(c){var e=d.event.fix(c),a,b,f,l,g=Array(arguments.length);var n=(F.get(this,"events")||{})[e.type]||[];var h=d.event.special[e.type]||{};g[0]=e;for(a=1;a<arguments.length;a++)g[a]=arguments[a];
if(e.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,e)){var r=d.event.handlers.call(this,e,n);for(a=0;(f=r[a++])&&!e.isPropagationStopped();)for(e.currentTarget=f.elem,n=0;(l=f.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(l.namespace)||(e.handleObj=l,e.data=l.data,b=((d.event.special[l.origType]||{}).handle||l.handler).apply(f.elem,g),void 0!==b&&!1===(e.result=b)&&(e.preventDefault(),e.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,
e),e.result}},handlers:function(c,e){var a,b=[],f=e.delegateCount,l=c.target;if(f&&l.nodeType&&!("click"===c.type&&1<=c.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==c.type||!0!==l.disabled)){var g=[];var n={};for(a=0;a<f;a++){var h=e[a];var r=h.selector+" ";void 0===n[r]&&(n[r]=h.needsContext?-1<d(r,this).index(l):d.find(r,this,null,[l]).length);n[r]&&g.push(h)}g.length&&b.push({elem:l,handlers:g})}return l=this,f<e.length&&b.push({elem:l,handlers:e.slice(f)}),b},addProp:function(c,
e){Object.defineProperty(d.Event.prototype,c,{enumerable:!0,configurable:!0,get:d.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(e){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(c){return c[d.expando]?c:new d.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nb()&&this.focus)return this.focus(),!1},delegateType:"focusin"},
blur:{trigger:function(){if(this===nb()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&h(this,"input"))return this.click(),!1},_default:function(c){return h(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};d.removeEvent=function(c,e,d){c.removeEventListener&&c.removeEventListener(e,d)};d.Event=function(c,e){return this instanceof d.Event?
(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===c.defaultPrevented&&!1===c.returnValue?Ba:ka,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,e&&d.extend(this,e),this.timeStamp=c&&c.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(c,e)};d.Event.prototype={constructor:d.Event,isDefaultPrevented:ka,isPropagationStopped:ka,isImmediatePropagationStopped:ka,
isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=Ba;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=Ba;c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=Ba;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(c){var e=c.button;return null==c.which&&A.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==e&&fc.test(c.type)?1&e?1:2&e?3:4&e?2:0:c.which}},d.event.addProp);d.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(c,e){d.event.special[c]={delegateType:e,bindType:e,handle:function(c){var a,b=c.relatedTarget,f=c.handleObj;return b&&(b===this||d.contains(this,b))||(c.type=f.origType,a=f.handler.apply(this,arguments),c.type=e),a}}});d.fn.extend({on:function(c,e,d,a){return ia(this,c,e,d,a)},one:function(c,e,d,a){return ia(this,c,e,d,a,1)},off:function(c,e,a){var b,f;if(c&&c.preventDefault&&c.handleObj)return b=c.handleObj,d(c.delegateTarget).off(b.namespace?
b.origType+"."+b.namespace:b.origType,b.selector,b.handler),this;if("object"==typeof c){for(f in c)this.off(f,e,c[f]);return this}return!1!==e&&"function"!=typeof e||(a=e,e=void 0),!1===a&&(a=ka),this.each(function(){d.event.remove(this,c,a,e)})}});var D=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Da=/<script|<style|<link/i,X=/checked\s*(?:[^=]|=\s*.checked.)/i,ub=/^true\/(.*)/,R=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;d.extend({htmlPrefilter:function(c){return c.replace(D,
"<$1></$2>")},clone:function(c,e,a){var b,f=c.cloneNode(!0),m=d.contains(c.ownerDocument,c);if(!(z.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||d.isXMLDoc(c))){var l=W(f);var g=W(c);var n=0;for(b=g.length;n<b;n++){var h=g[n],r=l[n],k=r.nodeName.toLowerCase();"input"===k&&Vb.test(h.type)?r.checked=h.checked:"input"!==k&&"textarea"!==k||(r.defaultValue=h.defaultValue)}}if(e)if(a)for(g=g||W(c),l=l||W(f),n=0,b=g.length;n<b;n++)xb(g[n],l[n]);else xb(c,f);return l=W(f,"script"),0<l.length&&Ra(l,!m&&
W(c,"script")),f},cleanData:function(c){for(var e,a,b,f=d.event.special,l=0;void 0!==(a=c[l]);l++)if(Mb(a)){if(e=a[F.expando]){if(e.events)for(b in e.events)f[b]?d.event.remove(a,b):d.removeEvent(a,b,e.handle);a[F.expando]=void 0}a[pa.expando]&&(a[pa.expando]=void 0)}}});d.fn.extend({detach:function(c){return pb(this,c,!0)},remove:function(c){return pb(this,c)},text:function(c){return Ua(this,function(c){return void 0===c?d.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=c)})},null,c,arguments.length)},append:function(){return La(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||wb(this,c).appendChild(c)})},prepend:function(){return La(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=wb(this,c);e.insertBefore(c,e.firstChild)}})},before:function(){return La(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return La(this,
arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,e=0;null!=(c=this[e]);e++)1===c.nodeType&&(d.cleanData(W(c,!1)),c.textContent="");return this},clone:function(c,e){return c=null!=c&&c,e=null==e?c:e,this.map(function(){return d.clone(this,c,e)})},html:function(c){return Ua(this,function(c){var e=this[0]||{},a=0,b=this.length;if(void 0===c&&1===e.nodeType)return e.innerHTML;if("string"==typeof c&&!Da.test(c)&&!va[(M.exec(c)||["",""])[1].toLowerCase()]){c=
d.htmlPrefilter(c);try{for(;a<b;a++)e=this[a]||{},1===e.nodeType&&(d.cleanData(W(e,!1)),e.innerHTML=c);e=0}catch(Fa){}}e&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];return La(this,arguments,function(e){var a=this.parentNode;0>d.inArray(this,c)&&(d.cleanData(W(this)),a&&a.replaceChild(e,this))},c)}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,e){d.fn[c]=function(c){for(var a=[],
b=d(c),f=b.length-1,l=0;l<=f;l++)c=l===f?this:this.clone(!0),d(b[l])[e](c),aa.apply(a,c.get());return this.pushStack(a)}});var ha=/^margin/,$a=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),Za=function(c){var e=c.ownerDocument.defaultView;return e&&e.opener||(e=a),e.getComputedStyle(c)};!function(){function c(){if(n){n.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";n.innerHTML="";Pa.appendChild(g);var c=a.getComputedStyle(n);e="1%"!==
c.top;l="2px"===c.marginLeft;b="4px"===c.width;n.style.marginRight="50%";f="4px"===c.marginRight;Pa.removeChild(g);n=null}}var e,b,f,l,g=I.createElement("div"),n=I.createElement("div");n.style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",z.clearCloneStyle="content-box"===n.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(n),d.extend(z,{pixelPosition:function(){return c(),
e},boxSizingReliable:function(){return c(),b},pixelMarginRight:function(){return c(),f},reliableMarginLeft:function(){return c(),l}}))}();var gc=/^(none|table(?!-c[ea]).+)/,Wb=/^--/,za={position:"absolute",visibility:"hidden",display:"block"},V={letterSpacing:"0",fontWeight:"400"},ja=["Webkit","Moz","ms"],T=I.createElement("div").style;d.extend({cssHooks:{opacity:{get:function(c,e){if(e){var a=db(c,"opacity");return""===a?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,
flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,e,a,b){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var f,l,m,g=d.camelCase(e),n=Wb.test(e),h=c.style;return n||(e=Hb(g)),m=d.cssHooks[e]||d.cssHooks[g],void 0===a?m&&"get"in m&&void 0!==(f=m.get(c,!1,b))?f:h[e]:(l=typeof a,"string"===l&&(f=Cb.exec(a))&&f[1]&&(a=Ya(c,e,f),l="number"),null!=a&&a===a&&("number"===l&&(a+=f&&f[3]||(d.cssNumber[g]?
"":"px")),z.clearCloneStyle||""!==a||0!==e.indexOf("background")||(h[e]="inherit"),m&&"set"in m&&void 0===(a=m.set(c,a,b))||(n?h.setProperty(e,a):h[e]=a)),void 0)}},css:function(c,e,a,b){var f,l,m,g=d.camelCase(e);return Wb.test(e)||(e=Hb(g)),m=d.cssHooks[e]||d.cssHooks[g],m&&"get"in m&&(f=m.get(c,!0,a)),void 0===f&&(f=db(c,e,b)),"normal"===f&&e in V&&(f=V[e]),""===a||a?(l=parseFloat(f),!0===a||isFinite(l)?l||0:f):f}});d.each(["height","width"],function(c,e){d.cssHooks[e]={get:function(c,a,b){if(a)return!gc.test(d.css(c,
"display"))||c.getClientRects().length&&c.getBoundingClientRect().width?Jb(c,e,b):Ka(c,za,function(){return Jb(c,e,b)})},set:function(c,a,b){var f,l=b&&Za(c);b=b&&Db(c,e,b,"border-box"===d.css(c,"boxSizing",!1,l),l);return b&&(f=Cb.exec(a))&&"px"!==(f[3]||"px")&&(c.style[e]=a,a=d.css(c,e)),Ib(c,a,b)}}});d.cssHooks.marginLeft=Gb(z.reliableMarginLeft,function(c,e){if(e)return(parseFloat(db(c,"marginLeft"))||c.getBoundingClientRect().left-Ka(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+
"px"});d.each({margin:"",padding:"",border:"Width"},function(c,e){d.cssHooks[c+e]={expand:function(a){var d=0,b={};for(a="string"==typeof a?a.split(" "):[a];4>d;d++)b[c+ab[d]+e]=a[d]||a[d-2]||a[0];return b}};ha.test(c)||(d.cssHooks[c+e].set=Ib)});d.fn.extend({css:function(c,e){return Ua(this,function(c,e,a){var b,f={},l=0;if(Array.isArray(e)){a=Za(c);for(b=e.length;l<b;l++)f[e[l]]=d.css(c,e[l],!1,a);return f}return void 0!==a?d.style(c,e,a):d.css(c,e)},c,e,1<arguments.length)}});d.Tween=xa;xa.prototype=
{constructor:xa,init:function(c,e,a,b,f,l){this.elem=c;this.prop=a;this.easing=f||d.easing._default;this.options=e;this.start=this.now=this.cur();this.end=b;this.unit=l||(d.cssNumber[a]?"":"px")},cur:function(){var c=xa.propHooks[this.prop];return c&&c.get?c.get(this):xa.propHooks._default.get(this)},run:function(c){var e,a=xa.propHooks[this.prop];return this.options.duration?this.pos=e=d.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=e=c,this.now=(this.end-this.start)*
e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):xa.propHooks._default.set(this),this}};xa.prototype.init.prototype=xa.prototype;xa.propHooks={_default:{get:function(c){var e;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(e=d.css(c.elem,c.prop,""),e&&"auto"!==e?e:0)},set:function(c){d.fx.step[c.prop]?d.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[d.cssProps[c.prop]]&&!d.cssHooks[c.prop]?
c.elem[c.prop]=c.now:d.style(c.elem,c.prop,c.now+c.unit)}}};xa.propHooks.scrollTop=xa.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};d.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};d.fx=xa.prototype.init;d.fx.step={};var Ma,fb,hc=/^(?:toggle|show|hide)$/,lb=/queueHooks$/;d.Animation=d.extend(ya,{tweeners:{"*":[function(c,e){var a=this.createTween(c,e);return Ya(a.elem,c,Cb.exec(e),a),a}]},
tweener:function(c,e){d.isFunction(c)?(e=c,c=["*"]):c=c.match(Y);for(var a,b=0,f=c.length;b<f;b++)a=c[b],ya.tweeners[a]=ya.tweeners[a]||[],ya.tweeners[a].unshift(e)},prefilters:[function(c,a,b){var e,f,l,m,g,n,h,r,k="width"in a||"height"in a,q=this,B={},z=c.style,p=c.nodeType&&ta(c),C=F.get(c,"fxshow");b.queue||(m=d._queueHooks(c,"fx"),null==m.unqueued&&(m.unqueued=0,g=m.empty.fire,m.empty.fire=function(){m.unqueued||g()}),m.unqueued++,q.always(function(){q.always(function(){m.unqueued--;d.queue(c,
"fx").length||m.empty.fire()})}));for(e in a)if(f=a[e],hc.test(f)){if(delete a[e],l=l||"toggle"===f,f===(p?"hide":"show")){if("show"!==f||!C||void 0===C[e])continue;p=!0}B[e]=C&&C[e]||d.style(c,e)}if(n=!d.isEmptyObject(a),n||!d.isEmptyObject(B))for(e in k&&1===c.nodeType&&(b.overflow=[z.overflow,z.overflowX,z.overflowY],h=C&&C.display,null==h&&(h=F.get(c,"display")),r=d.css(c,"display"),"none"===r&&(h?r=h:(Ha([c],!0),h=c.style.display||h,r=d.css(c,"display"),Ha([c]))),("inline"===r||"inline-block"===
r&&null!=h)&&"none"===d.css(c,"float")&&(n||(q.done(function(){z.display=h}),null==h&&(r=z.display,h="none"===r?"":r)),z.display="inline-block")),b.overflow&&(z.overflow="hidden",q.always(function(){z.overflow=b.overflow[0];z.overflowX=b.overflow[1];z.overflowY=b.overflow[2]})),n=!1,B)n||(C?"hidden"in C&&(p=C.hidden):C=F.access(c,"fxshow",{display:h}),l&&(C.hidden=!p),p&&Ha([c],!0),q.done(function(){p||Ha([c]);F.remove(c,"fxshow");for(e in B)d.style(c,e,B[e])})),n=sb(p?C[e]:0,e,q),e in C||(C[e]=n.start,
p&&(n.end=n.start,n.start=0))}],prefilter:function(c,a){a?ya.prefilters.unshift(c):ya.prefilters.push(c)}});d.speed=function(c,a,b){var e=c&&"object"==typeof c?d.extend({},c):{complete:b||!b&&a||d.isFunction(c)&&c,duration:c,easing:b&&a||a&&!d.isFunction(a)&&a};return d.fx.off?e.duration=0:"number"!=typeof e.duration&&(e.duration in d.fx.speeds?e.duration=d.fx.speeds[e.duration]:e.duration=d.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){d.isFunction(e.old)&&
e.old.call(this);e.queue&&d.dequeue(this,e.queue)},e};d.fn.extend({fadeTo:function(c,e,a,d){return this.filter(ta).css("opacity",0).show().end().animate({opacity:e},c,a,d)},animate:function(c,a,b,f){var e=d.isEmptyObject(c),l=d.speed(a,b,f);a=function(){var a=ya(this,d.extend({},c),l);(e||F.get(this,"finish"))&&a.stop(!0)};return a.finish=a,e||!1===l.queue?this.each(a):this.queue(l.queue,a)},stop:function(c,a,b){var e=function(c){var a=c.stop;delete c.stop;a(b)};return"string"!=typeof c&&(b=a,a=c,
c=void 0),a&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var a=!0,f=null!=c&&c+"queueHooks",l=d.timers,g=F.get(this);if(f)g[f]&&g[f].stop&&e(g[f]);else for(f in g)g[f]&&g[f].stop&&lb.test(f)&&e(g[f]);for(f=l.length;f--;)l[f].elem!==this||null!=c&&l[f].queue!==c||(l[f].anim.stop(b),a=!1,l.splice(f,1));!a&&b||d.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var a=F.get(this),b=a[c+"queue"];var f=a[c+"queueHooks"];var l=d.timers,g=b?b.length:0;a.finish=!0;
d.queue(this,c,[]);f&&f.stop&&f.stop.call(this,!0);for(f=l.length;f--;)l[f].elem===this&&l[f].queue===c&&(l[f].anim.stop(!0),l.splice(f,1));for(f=0;f<g;f++)b[f]&&b[f].finish&&b[f].finish.call(this);delete a.finish})}});d.each(["toggle","show","hide"],function(c,a){var e=d.fn[a];d.fn[a]=function(c,d,b){return null==c||"boolean"==typeof c?e.apply(this,arguments):this.animate(rb(a,!0),c,d,b)}});d.each({slideDown:rb("show"),slideUp:rb("hide"),slideToggle:rb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(c,a){d.fn[c]=function(c,e,d){return this.animate(a,c,e,d)}});d.timers=[];d.fx.tick=function(){var c=0,a=d.timers;for(Ma=d.now();c<a.length;c++){var b=a[c];b()||a[c]!==b||a.splice(c--,1)}a.length||d.fx.stop();Ma=void 0};d.fx.timer=function(c){d.timers.push(c);d.fx.start()};d.fx.interval=13;d.fx.start=function(){fb||(fb=!0,eb())};d.fx.stop=function(){fb=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fn.delay=function(c,e){return c=d.fx?d.fx.speeds[c]||c:
c,e=e||"fx",this.queue(e,function(e,d){var b=a.setTimeout(e,c);d.stop=function(){a.clearTimeout(b)}})};(function(){var c=I.createElement("input"),a=I.createElement("select").appendChild(I.createElement("option"));c.type="checkbox";z.checkOn=""!==c.value;z.optSelected=a.selected;c=I.createElement("input");c.value="t";c.type="radio";z.radioValue="t"===c.value})();var q=d.expr.attrHandle;d.fn.extend({attr:function(c,a){return Ua(this,d.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,
c)})}});d.extend({attr:function(c,a,b){var e,f,l=c.nodeType;if(3!==l&&8!==l&&2!==l)return"undefined"==typeof c.getAttribute?d.prop(c,a,b):(1===l&&d.isXMLDoc(c)||(f=d.attrHooks[a.toLowerCase()]||(d.expr.match.bool.test(a)?ea:void 0)),void 0!==b?null===b?void d.removeAttr(c,a):f&&"set"in f&&void 0!==(e=f.set(c,b,a))?e:(c.setAttribute(a,b+""),b):f&&"get"in f&&null!==(e=f.get(c,a))?e:(e=d.find.attr(c,a),null==e?void 0:e))},attrHooks:{type:{set:function(c,a){if(!z.radioValue&&"radio"===a&&h(c,"input")){var e=
c.value;return c.setAttribute("type",a),e&&(c.value=e),a}}}},removeAttr:function(c,a){var e,d=0,b=a&&a.match(Y);if(b&&1===c.nodeType)for(;e=b[d++];)c.removeAttribute(e)}});var ea={set:function(c,a,b){return!1===a?d.removeAttr(c,b):c.setAttribute(b,b),b}};d.each(d.expr.match.bool.source.match(/\w+/g),function(c,a){var e=q[a]||d.find.attr;q[a]=function(c,a,d){var b,f,l=a.toLowerCase();return d||(f=q[l],q[l]=b,b=null!=e(c,a,d)?l:null,q[l]=f),b}});var fa=/^(?:input|select|textarea|button)$/i,Ea=/^(?:a|area)$/i;
d.fn.extend({prop:function(c,a){return Ua(this,d.prop,c,a,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[d.propFix[c]||c]})}});d.extend({prop:function(c,a,b){var e,f,l=c.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&d.isXMLDoc(c)||(a=d.propFix[a]||a,f=d.propHooks[a]),void 0!==b?f&&"set"in f&&void 0!==(e=f.set(c,b,a))?e:c[a]=b:f&&"get"in f&&null!==(e=f.get(c,a))?e:c[a]},propHooks:{tabIndex:{get:function(c){var a=d.find.attr(c,"tabindex");return a?parseInt(a,10):
fa.test(c.nodeName)||Ea.test(c.nodeName)&&c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});z.optSelected||(d.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});d.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.propFix[this.toLowerCase()]=this});d.fn.extend({addClass:function(c){var a,
b,f,l,g,n,h=0;if(d.isFunction(c))return this.each(function(a){d(this).addClass(c.call(this,a,cb(this)))});if("string"==typeof c&&c)for(a=c.match(Y)||[];b=this[h++];)if(l=cb(b),f=1===b.nodeType&&" "+Ia(l)+" "){for(n=0;g=a[n++];)0>f.indexOf(" "+g+" ")&&(f+=g+" ");f=Ia(f);l!==f&&b.setAttribute("class",f)}return this},removeClass:function(c){var a,b,f,l,g,n,h=0;if(d.isFunction(c))return this.each(function(a){d(this).removeClass(c.call(this,a,cb(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof c&&c)for(a=c.match(Y)||[];b=this[h++];)if(l=cb(b),f=1===b.nodeType&&" "+Ia(l)+" "){for(n=0;g=a[n++];)for(;-1<f.indexOf(" "+g+" ");)f=f.replace(" "+g+" "," ");f=Ia(f);l!==f&&b.setAttribute("class",f)}return this},toggleClass:function(c,a){var e=typeof c;return"boolean"==typeof a&&"string"===e?a?this.addClass(c):this.removeClass(c):d.isFunction(c)?this.each(function(e){d(this).toggleClass(c.call(this,e,cb(this),a),a)}):this.each(function(){var a,b;if("string"===e){var f=0;var l=
d(this);for(b=c.match(Y)||[];a=b[f++];)l.hasClass(a)?l.removeClass(a):l.addClass(a)}else void 0!==c&&"boolean"!==e||(a=cb(this),a&&F.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===c?"":F.get(this,"__className__")||""))})},hasClass:function(c){var a,d=0;for(c=" "+c+" ";a=this[d++];)if(1===a.nodeType&&-1<(" "+Ia(cb(a))+" ").indexOf(c))return!0;return!1}});var Va=/\r/g;d.fn.extend({val:function(c){var a,b,f,l=this[0];if(arguments.length)return f=d.isFunction(c),this.each(function(e){var b;
1===this.nodeType&&(b=f?c.call(this,e,d(this).val()):c,null==b?b="":"number"==typeof b?b+="":Array.isArray(b)&&(b=d.map(b,function(c){return null==c?"":c+""})),a=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,b,"value")||(this.value=b))});if(l)return a=d.valHooks[l.type]||d.valHooks[l.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(b=a.get(l,"value"))?b:(b=l.value,"string"==typeof b?b.replace(Va,""):null==b?"":b)}});d.extend({valHooks:{option:{get:function(c){var a=
d.find.attr(c,"value");return null!=a?a:Ia(d.text(c))}},select:{get:function(c){var a,b,f=c.options,l=c.selectedIndex,g="select-one"===c.type,n=g?null:[],r=g?l+1:f.length;for(b=0>l?r:g?l:0;b<r;b++)if(a=f[b],!(!a.selected&&b!==l||a.disabled||a.parentNode.disabled&&h(a.parentNode,"optgroup"))){if(c=d(a).val(),g)return c;n.push(c)}return n},set:function(c,a){for(var e,b,f=c.options,l=d.makeArray(a),g=f.length;g--;)b=f[g],(b.selected=-1<d.inArray(d.valHooks.option.get(b),l))&&(e=!0);return e||(c.selectedIndex=
-1),l}}}});d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(c,a){if(Array.isArray(a))return c.checked=-1<d.inArray(d(c).val(),a)}};z.checkOn||(d.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var Wa=/^(?:focusinfocus|focusoutblur)$/;d.extend(d.event,{trigger:function(c,e,b,f){var l,g,n,m,h,r=[b||I],k=tb.call(c,"type")?c.type:c;var q=tb.call(c,"namespace")?c.namespace.split("."):[];if(l=g=b=b||I,3!==b.nodeType&&8!==b.nodeType&&!Wa.test(k+
d.event.triggered)&&(-1<k.indexOf(".")&&(q=k.split("."),k=q.shift(),q.sort()),n=0>k.indexOf(":")&&"on"+k,c=c[d.expando]?c:new d.Event(k,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=q.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=b),e=null==e?[c]:d.makeArray(e,[c]),h=d.event.special[k]||{},f||!h.trigger||!1!==h.trigger.apply(b,e))){if(!f&&!h.noBubble&&!d.isWindow(b)){var B=h.delegateType||k;for(Wa.test(B+
k)||(l=l.parentNode);l;l=l.parentNode)r.push(l),g=l;g===(b.ownerDocument||I)&&r.push(g.defaultView||g.parentWindow||a)}for(q=0;(l=r[q++])&&!c.isPropagationStopped();)c.type=1<q?B:h.bindType||k,(m=(F.get(l,"events")||{})[c.type]&&F.get(l,"handle"))&&m.apply(l,e),(m=n&&l[n])&&m.apply&&Mb(l)&&(c.result=m.apply(l,e),!1===c.result&&c.preventDefault());return c.type=k,f||c.isDefaultPrevented()||h._default&&!1!==h._default.apply(r.pop(),e)||!Mb(b)||n&&d.isFunction(b[k])&&!d.isWindow(b)&&(g=b[n],g&&(b[n]=
null),d.event.triggered=k,b[k](),d.event.triggered=void 0,g&&(b[n]=g)),c.result}},simulate:function(c,a,b){c=d.extend(new d.Event,b,{type:c,isSimulated:!0});d.event.trigger(c,null,a)}});d.fn.extend({trigger:function(c,a){return this.each(function(){d.event.trigger(c,a,this)})},triggerHandler:function(c,a){var e=this[0];if(e)return d.event.trigger(c,a,e,!0)}});d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,a){d.fn[a]=function(c,d){return 0<arguments.length?this.on(a,null,c,d):this.trigger(a)}});d.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)}});z.focusin="onfocusin"in a;z.focusin||d.each({focus:"focusin",blur:"focusout"},function(c,a){var e=function(c){d.event.simulate(a,c.target,d.event.fix(c))};d.event.special[a]={setup:function(){var d=this.ownerDocument||this,b=F.access(d,a);b||d.addEventListener(c,e,!0);F.access(d,a,(b||0)+1)},teardown:function(){var d=this.ownerDocument||
this,b=F.access(d,a)-1;b?F.access(d,a,b):(d.removeEventListener(c,e,!0),F.remove(d,a))}}});var H=a.location,E=d.now(),B=/\?/;d.parseXML=function(c){if(!c||"string"!=typeof c)return null;try{var e=(new a.DOMParser).parseFromString(c,"text/xml")}catch(m){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+c),e};var N=/\[\]$/,J=/\r?\n/g,qa=/^(?:submit|button|image|reset|file)$/i,vb=/^(?:input|select|textarea|keygen)/i;d.param=function(c,a){var e,b=[],f=function(c,
a){var e=d.isFunction(a)?a():a;b[b.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==e?"":e)};if(Array.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){f(this.name,this.value)});else for(e in c)yb(e,c[e],a,f);return b.join("&")};d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=d.prop(this,"elements");return c?d.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!d(this).is(":disabled")&&
vb.test(this.nodeName)&&!qa.test(c)&&(this.checked||!Vb.test(c))}).map(function(c,a){var e=d(this).val();return null==e?null:Array.isArray(e)?d.map(e,function(c){return{name:a.name,value:c.replace(J,"\r\n")}}):{name:a.name,value:e.replace(J,"\r\n")}}).get()}});var hb=/%20/g,ib=/#.*$/,Xa=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,l=/^(?:GET|HEAD)$/,r=/^\/\//,C={},Z={},oa="*/".concat("*"),ba=I.createElement("a");ba.href=H.href;d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:H.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(H.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":oa,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?Ab(Ab(c,d.ajaxSettings),a):Ab(d.ajaxSettings,c)},ajaxPrefilter:gb(C),ajaxTransport:gb(Z),ajax:function(c,e){function b(c,e,b,l){var n,m,r,q=e;if(!S){S=!0;h&&a.clearTimeout(h);f=void 0;g=l||"";t.readyState=0<c?4:0;l=200<=c&&300>c||304===c;if(b){var B=p;for(var z=t,C,u,Z,N,oa=B.contents,la=B.dataTypes;"*"===la[0];)la.shift(),void 0===C&&(C=B.mimeType||z.getResponseHeader("Content-Type"));if(C)for(u in oa)if(oa[u]&&
oa[u].test(C)){la.unshift(u);break}if(la[0]in b)Z=la[0];else{for(u in b){if(!la[0]||B.converters[u+" "+la[0]]){Z=u;break}N||(N=u)}Z=Z||N}b=Z?(Z!==la[0]&&la.unshift(Z),b[Z]):void 0;B=b}a:{b=p;C=B;u=t;Z=l;var O,x,y;B={};z=b.dataTypes.slice();if(z[1])for(O in b.converters)B[O.toLowerCase()]=b.converters[O];for(N=z.shift();N;)if(b.responseFields[N]&&(u[b.responseFields[N]]=C),!y&&Z&&b.dataFilter&&(C=b.dataFilter(C,b.dataType)),y=N,N=z.shift())if("*"===N)N=y;else if("*"!==y&&y!==N){if(O=B[y+" "+N]||B["* "+
N],!O)for(ba in B)if(x=ba.split(" "),x[1]===N&&(O=B[y+" "+x[0]]||B["* "+x[0]])){!0===O?O=B[ba]:!0!==B[ba]&&(N=x[0],z.unshift(x[1]));break}if(!0!==O)if(O&&b["throws"])C=O(C);else try{C=O(C)}catch(ac){var ba={state:"parsererror",error:O?ac:"No conversion from "+y+" to "+N};break a}}ba={state:"success",data:C}}B=ba;l?(p.ifModified&&(r=t.getResponseHeader("Last-Modified"),r&&(d.lastModified[J]=r),r=t.getResponseHeader("etag"),r&&(d.etag[J]=r)),204===c||"HEAD"===p.type?q="nocontent":304===c?q="notmodified":
(q=B.state,n=B.data,m=B.error,l=!m)):(m=q,!c&&q||(q="error",0>c&&(c=0)));t.status=c;t.statusText=(e||q)+"";l?K.resolveWith(Ta,[n,q,t]):K.rejectWith(Ta,[t,q,m]);t.statusCode(bb);bb=void 0;k&&v.trigger(l?"ajaxSuccess":"ajaxError",[t,p,l?n:m]);w.fireWith(Ta,[t,q]);k&&(v.trigger("ajaxComplete",[t,p]),--d.active||d.event.trigger("ajaxStop"))}}"object"==typeof c&&(e=c,c=void 0);e=e||{};var f,g,n,h,k,q,z,p=d.ajaxSetup({},e),Ta=p.context||p,v=p.context&&(Ta.nodeType||Ta.jquery)?d(Ta):d.event,K=d.Deferred(),
w=d.Callbacks("once memory"),bb=p.statusCode||{},N={},la={},O="canceled",t={readyState:0,getResponseHeader:function(c){var a;if(S){if(!n)for(n={};a=ic.exec(g);)n[a[1].toLowerCase()]=a[2];a=n[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return S?g:null},setRequestHeader:function(c,a){return null==S&&(c=la[c.toLowerCase()]=la[c.toLowerCase()]||c,N[c]=a),this},overrideMimeType:function(c){return null==S&&(p.mimeType=c),this},statusCode:function(c){var a;if(c)if(S)t.always(c[t.status]);
else for(a in c)bb[a]=[bb[a],c[a]];return this},abort:function(c){c=c||O;return f&&f.abort(c),b(0,c),this}};if(K.promise(t),p.url=((c||p.url||H.href)+"").replace(r,H.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Y)||[""],null==p.crossDomain){var x=I.createElement("a");try{x.href=p.url,x.href=x.href,p.crossDomain=ba.protocol+"//"+ba.host!=x.protocol+"//"+x.host}catch(Rb){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&
(p.data=d.param(p.data,p.traditional)),zb(C,p,e,t),S)return t;(k=d.event&&p.global)&&0===d.active++&&d.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!l.test(p.type);var J=p.url.replace(ib,"");p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(hb,"+")):(z=p.url.slice(J.length),p.data&&(J+=(B.test(J)?"&":"?")+p.data,delete p.data),!1===p.cache&&(J=J.replace(Xa,"$1"),z=(B.test(J)?"&":"?")+"_="+E++ +z),
p.url=J+z);p.ifModified&&(d.lastModified[J]&&t.setRequestHeader("If-Modified-Since",d.lastModified[J]),d.etag[J]&&t.setRequestHeader("If-None-Match",d.etag[J]));(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&t.setRequestHeader("Content-Type",p.contentType);t.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+oa+"; q=0.01":""):p.accepts["*"]);for(q in p.headers)t.setRequestHeader(q,p.headers[q]);if(p.beforeSend&&(!1===
p.beforeSend.call(Ta,t,p)||S))return t.abort();if(O="abort",w.add(p.complete),t.done(p.success),t.fail(p.error),f=zb(Z,p,e,t)){if(t.readyState=1,k&&v.trigger("ajaxSend",[t,p]),S)return t;p.async&&0<p.timeout&&(h=a.setTimeout(function(){t.abort("timeout")},p.timeout));try{var S=!1;f.send(N,b)}catch(Rb){if(S)throw Rb;b(-1,Rb)}}else b(-1,"No Transport");return t},getJSON:function(c,a,b){return d.get(c,a,b,"json")},getScript:function(c,a){return d.get(c,void 0,a,"script")}});d.each(["get","post"],function(c,
a){d[a]=function(c,e,b,f){return d.isFunction(e)&&(f=f||b,b=e,e=void 0),d.ajax(d.extend({url:c,type:a,dataType:f,data:e,success:b},d.isPlainObject(c)&&c))}});d._evalUrl=function(c){return d.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};d.fn.extend({wrapAll:function(c){var a;return this[0]&&(d.isFunction(c)&&(c=c.call(this[0])),a=d(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var c=this;c.firstElementChild;)c=
c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return d.isFunction(c)?this.each(function(a){d(this).wrapInner(c.call(this,a))}):this.each(function(){var a=d(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=d.isFunction(c);return this.each(function(e){d(this).wrapAll(a?c.call(this,e):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}});d.expr.pseudos.hidden=function(c){return!d.expr.pseudos.visible(c)};
d.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};d.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(c){}};var K={0:200,1223:204},Aa=d.ajaxSettings.xhr();z.cors=!!Aa&&"withCredentials"in Aa;z.ajax=Aa=!!Aa;d.ajaxTransport(function(c){var d,b;if(z.cors||Aa&&!c.crossDomain)return{send:function(e,f){var l,g=c.xhr();if(g.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(l in c.xhrFields)g[l]=c.xhrFields[l];c.mimeType&&
g.overrideMimeType&&g.overrideMimeType(c.mimeType);c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(l in e)g.setRequestHeader(l,e[l]);d=function(c){return function(){d&&(d=b=g.onload=g.onerror=g.onabort=g.onreadystatechange=null,"abort"===c?g.abort():"error"===c?"number"!=typeof g.status?f(0,"error"):f(g.status,g.statusText):f(K[g.status]||g.status,g.statusText,"text"!==(g.responseType||"text")||"string"!=typeof g.responseText?{binary:g.response}:{text:g.responseText},
g.getAllResponseHeaders()))}};g.onload=d();b=g.onerror=d("error");void 0!==g.onabort?g.onabort=b:g.onreadystatechange=function(){4===g.readyState&&a.setTimeout(function(){d&&b()})};d=d("abort");try{g.send(c.hasContent&&c.data||null)}catch(Zb){if(d)throw Zb;}},abort:function(){d&&d()}}});d.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return d.globalEval(c),c}}});d.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});d.ajaxTransport("script",function(c){if(c.crossDomain){var a,b;return{send:function(e,f){a=d("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&f("error"===c.type?404:200,c.type)});I.head.appendChild(a[0])},abort:function(){b&&b()}}}});var ra=[],jb=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=ra.pop()||d.expando+"_"+E++;return this[c]=!0,c}});d.ajaxPrefilter("json jsonp",function(c,e,b){var f,l,g,n=!1!==c.jsonp&&(jb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&jb.test(c.data)&&"data");if(n||"jsonp"===c.dataTypes[0])return f=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,n?c[n]=c[n].replace(jb,"$1"+f):!1!==c.jsonp&&(c.url+=(B.test(c.url)?"&":"?")+c.jsonp+"="+
f),c.converters["script json"]=function(){return g||d.error(f+" was not called"),g[0]},c.dataTypes[0]="json",l=a[f],a[f]=function(){g=arguments},b.always(function(){void 0===l?d(a).removeProp(f):a[f]=l;c[f]&&(c.jsonpCallback=e.jsonpCallback,ra.push(f));g&&d.isFunction(l)&&l(g[0]);g=l=void 0}),"script"});z.createHTMLDocument=function(){var c=I.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();d.parseHTML=function(c,a,b){if("string"!=
typeof c)return[];"boolean"==typeof a&&(b=a,a=!1);var e,f,l;return a||(z.createHTMLDocument?(a=I.implementation.createHTMLDocument(""),e=a.createElement("base"),e.href=I.location.href,a.head.appendChild(e)):a=I),f=Bb.exec(c),l=!b&&[],f?[a.createElement(f[1])]:(f=Sa([c],a,l),l&&l.length&&d(l).remove(),d.merge([],f.childNodes))};d.fn.load=function(c,a,b){var e,f,l,g=this,n=c.indexOf(" ");return-1<n&&(e=Ia(c.slice(n)),c=c.slice(0,n)),d.isFunction(a)?(b=a,a=void 0):a&&"object"==typeof a&&(f="POST"),0<
g.length&&d.ajax({url:c,type:f||"GET",dataType:"html",data:a}).done(function(c){l=arguments;g.html(e?d("<div>").append(d.parseHTML(c)).find(e):c)}).always(b&&function(c,a){g.each(function(){b.apply(this,l||[c.responseText,a,c])})}),this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){d.fn[a]=function(c){return this.on(a,c)}});d.expr.pseudos.animated=function(c){return d.grep(d.timers,function(a){return c===a.elem}).length};d.offset={setOffset:function(c,
a,b){var e,f,l,g=d.css(c,"position"),n=d(c),h={};"static"===g&&(c.style.position="relative");var m=n.offset();var r=d.css(c,"top");var k=d.css(c,"left");("absolute"===g||"fixed"===g)&&-1<(r+k).indexOf("auto")?(e=n.position(),l=e.top,f=e.left):(l=parseFloat(r)||0,f=parseFloat(k)||0);d.isFunction(a)&&(a=a.call(c,b,d.extend({},m)));null!=a.top&&(h.top=a.top-m.top+l);null!=a.left&&(h.left=a.left-m.left+f);"using"in a?a.using.call(c,h):n.css(h)}};d.fn.extend({offset:function(c){if(arguments.length)return void 0===
c?this:this.each(function(a){d.offset.setOffset(this,c,a)});var a,b,f,l,g=this[0];if(g)return g.getClientRects().length?(f=g.getBoundingClientRect(),a=g.ownerDocument,b=a.documentElement,l=a.defaultView,{top:f.top+l.pageYOffset-b.clientTop,left:f.left+l.pageXOffset-b.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var c,a,b=this[0],f={top:0,left:0};return"fixed"===d.css(b,"position")?a=b.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),h(c[0],"html")||(f=c.offset()),f={top:f.top+
d.css(c[0],"borderTopWidth",!0),left:f.left+d.css(c[0],"borderLeftWidth",!0)}),{top:a.top-f.top-d.css(b,"marginTop",!0),left:a.left-f.left-d.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===d.css(c,"position");)c=c.offsetParent;return c||Pa})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var e="pageYOffset"===a;d.fn[c]=function(b){return Ua(this,function(c,b,f){var l;return d.isWindow(c)?l=c:9===c.nodeType&&
(l=c.defaultView),void 0===f?l?l[a]:c[b]:void(l?l.scrollTo(e?l.pageXOffset:f,e?f:l.pageYOffset):c[b]=f)},c,b,arguments.length)}});d.each(["top","left"],function(c,a){d.cssHooks[a]=Gb(z.pixelPosition,function(c,e){if(e)return e=db(c,a),$a.test(e)?d(c).position()[a]+"px":e})});d.each({Height:"height",Width:"width"},function(c,a){d.each({padding:"inner"+c,content:a,"":"outer"+c},function(e,b){d.fn[b]=function(f,l){var g=arguments.length&&(e||"boolean"!=typeof f),n=e||(!0===f||!0===l?"margin":"border");
return Ua(this,function(a,e,f){var l;return d.isWindow(a)?0===b.indexOf("outer")?a["inner"+c]:a.document.documentElement["client"+c]:9===a.nodeType?(l=a.documentElement,Math.max(a.body["scroll"+c],l["scroll"+c],a.body["offset"+c],l["offset"+c],l["client"+c])):void 0===f?d.css(a,e,n):d.style(a,e,f,n)},a,g?f:void 0,g)}})});d.fn.extend({bind:function(c,a,d){return this.on(c,null,a,d)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,d,b){return this.on(a,c,d,b)},undelegate:function(c,
a,d){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",d)}});d.holdReady=function(c){c?d.readyWait++:d.ready(!0)};d.isArray=Array.isArray;d.parseJSON=JSON.parse;d.nodeName=h;"function"==typeof define&&define.amd&&define("jquery",[],function(){return d});var mb=a.jQuery,S=a.$;return d.noConflict=function(c){return a.$===d&&(a.$=S),c&&a.jQuery===d&&(a.jQuery=mb),d},b||(a.jQuery=a.$=d),d});(function(a){function b(b){var g=b||window.event,h=[].slice.call(arguments,1),k=0,v=0;b=a.event.fix(g);b.type="mousewheel";g.wheelDelta&&(k=g.wheelDelta/120);g.detail&&(k=-g.detail/3);var G=k;void 0!==g.axis&&g.axis===g.HORIZONTAL_AXIS&&(G=0,v=-1*k);void 0!==g.wheelDeltaY&&(G=g.wheelDeltaY/120);void 0!==g.wheelDeltaX&&(v=-1*g.wheelDeltaX/120);h.unshift(b,k,v,G);return(a.event.dispatch||a.event.handle).apply(this,h)}var k=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var g=k.length;g;)a.event.fixHooks[k[--g]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=k.length;a;)this.addEventListener(k[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=k.length;a;)this.removeEventListener(k[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);/*

       __ _____                     ________                              __
      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
           \/              /____/                              version 1.7.0

 This file is part of jQuery Terminal. http://terminal.jcubic.pl

 Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 Released under the MIT license

 Contains:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/timers/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 jQuery Caret
 Copyright (c) 2009, Gideon Sireling
 3 clause BSD License

 sprintf.js
 Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 licensed under 3 clause BSD license

 Date: Tue, 12 Sep 2017 07:04:06 +0000
*/
(function(a){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var k=function(){k.cache.hasOwnProperty(arguments[0])||(k.cache[arguments[0]]=k.parse(arguments[0]));return k.format.call(null,k.cache[arguments[0]],arguments)};k.format=function(a,h){var g=1,w=a.length,x=[],v,G;for(v=0;v<w;v++){var y=b(a[v]);if("string"===y)x.push(a[v]);else if("array"===y){var L=a[v];if(L[2])for(y=h[g],G=0;G<L[2].length;G++){if(!y.hasOwnProperty(L[2][G]))throw k('[sprintf] property "%s" does not exist',
L[2][G]);y=y[L[2][G]]}else y=L[1]?h[L[1]]:h[g++];if(/[^s]/.test(L[8])&&"number"!==b(y))throw k("[sprintf] expecting number but found %s",b(y));switch(L[8]){case "b":y=y.toString(2);break;case "c":y=String.fromCharCode(y);break;case "d":y=parseInt(y,10);break;case "e":y=L[7]?y.toExponential(L[7]):y.toExponential();break;case "f":y=L[7]?parseFloat(y).toFixed(L[7]):parseFloat(y);break;case "o":y=y.toString(8);break;case "s":y=(y=String(y))&&L[7]?y.substring(0,L[7]):y;break;case "u":y>>>=0;break;case "x":y=
y.toString(16);break;case "X":y=y.toString(16).toUpperCase()}y=/[def]/.test(L[8])&&L[3]&&0<=y?" +"+y:y;G=L[4]?"0"===L[4]?"0":L[4].charAt(1):" ";var Ga=L[6]-String(y).length;if(L[6]){for(var Qa=[];0<Ga;Qa[--Ga]=G);G=Qa.join("")}else G="";x.push(L[5]?y+G:G+y)}}return x.join("")};k.cache={};k.parse=function(a){for(var b,g=[],k=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))g.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))g.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){k|=
1;var x=[],v=b[2],G;if(null!==(G=/^([a-z_][a-z_\d]*)/i.exec(v)))for(x.push(G[1]);""!==(v=v.substring(G[0].length));)if(null!==(G=/^\.([a-z_][a-z_\d]*)/i.exec(v)))x.push(G[1]);else if(null!==(G=/^\[(\d+)\]/.exec(v)))x.push(G[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=x}else k|=2;if(3===k)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";g.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return g};a.sprintf=k;a.vsprintf=function(a,b,p){p=
b.slice(0);p.splice(0,0,a);return k.apply(null,p)}})("undefined"!==typeof global?global:window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=function(b,k){void 0===k&&(k="undefined"!==typeof window?require("jquery"):require("jquery")(b));a(k);return k}:a(jQuery)})(function(a,b){function k(){var b=a.Callbacks(),g=!1;this.resolve=function(){b.fire();g=!0};this.add=function(a){g?a():b.add(a)}}function g(a,b){var d;if("string"===typeof a&&"string"===typeof b)return localStorage[a]=b,!0;if("object"===typeof a&&"undefined"===
typeof b){for(d in a)a.hasOwnProperty(d)&&(localStorage[d]=a[d]);return!0}return!1}function h(a,b){var d;var g=new Date;g.setTime(g.getTime()+31536E6);g="; expires="+g.toGMTString();if("string"===typeof a&&"string"===typeof b)return document.cookie=a+"="+b+g+"; path=/",!0;if("object"===typeof a&&"undefined"===typeof b){for(d in a)a.hasOwnProperty(d)&&(document.cookie=d+"="+a[d]+g+"; path=/");return!0}return!1}function p(a){return localStorage[a]}function w(a){var b,d;a+="=";var g=document.cookie.split(";");
for(b=0;b<g.length;b++){for(d=g[b];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}function x(a){return delete localStorage[a]}function v(a){return h(a,"",-1)}function G(a){a.attr({role:"presentation","aria-hidden":"true"})}function y(){var b=[].slice.call(arguments),g=0;a.extend(this,{get:function(){return b},index:function(){return g},rotate:function(a){if(a||b.filter(function(a){return"undefined"!==typeof a}).length){if(1===b.length)return b[0];
g===b.length-1?g=0:++g;return"undefined"!==typeof b[g]?b[g]:this.rotate(!0)}},length:function(){return b.length},remove:function(a){delete b[a]},set:function(a){for(var d=b.length;d--;)if(b[d]===a){g=d;return}this.append(a);g=b.length-1},front:function(){if(b.length){for(var a=g,n=!1;!b[a];)if(a++,a>b.length){if(n)break;a=0;n=!0}return b[a]}},map:function(a){return b.filter(Boolean).map(a)},forEach:function(a){b.filter(Boolean).forEach(a)},append:function(a){b.push(a)}})}function L(b){var g=b instanceof
Array?b:b?[b]:[];a.extend(this,{data:function(){return g},map:function(d){return a.map(g,d)},size:function(){return g.length},pop:function(){if(0===g.length)return null;var a=g[g.length-1];g=g.slice(0,g.length-1);return a},push:function(a){g=g.concat([a]);return a},top:function(){return 0<g.length?g[g.length-1]:null},clone:function(){return new L(g.slice(0))}})}function Ga(b,g,d){var n=!0,h="";"string"===typeof b&&""!==b&&(h=b+"_");h+="commands";var k=d?[]:(k=a.Storage.get(h))?JSON.parse(k):[];var p=
k.length-1;a.extend(this,{append:function(b){n&&k[k.length-1]!==b&&(k.push(b),g&&k.length>g&&(k=k.slice(-g)),p=k.length-1,d||a.Storage.set(h,JSON.stringify(k)))},set:function(b){b instanceof Array&&(k=b,d||a.Storage.set(h,JSON.stringify(k)))},data:function(){return k},reset:function(){p=k.length-1},last:function(){return k[k.length-1]},end:function(){return p===k.length-1},position:function(){return p},current:function(){return k[p]},next:function(){p<k.length-1&&++p;if(-1!==p)return k[p]},previous:function(){var a=
p;0<p&&--p;if(-1!==a)return k[p]},clear:function(){k=[];this.purge()},enabled:function(){return n},enable:function(){n=!0},purge:function(){d||a.Storage.remove(h)},disable:function(){n=!1}})}function Qa(b,g){var d=b.match(eb)||[];if(d.length){var n=d.shift(),h=a.map(d,g);var k=a.map(d,function(a){return(a=a.match(/^(['"]).*\1$/))&&a[1]||""});d=b.substring(n.length).trim();return{command:b,name:n,args:h,args_quotes:k,rest:d}}return{command:b,name:"",args:[],args_quotes:k,rest:""}}function Ya(a){a=
"[jQuery Terminal] "+a;console&&console.warn?console.warn(a):setTimeout(function(){throw Error("WARN: "+a);},0)}function Ha(){var b=a('<div class="terminal temp"><div class="cmd"><span class="prompt">&nbsp;</span></div></div>').appendTo("body"),g=b.find("span")[0].getBoundingClientRect();g={width:g.width,height:g.height};b.remove();return g}function W(a,b){var d=a.find(".terminal-fill").width();return Math.floor(d/b.width)||1E3}function Ra(a,b){return Math.floor(a.find(".terminal-fill").height()/
b.height)}function Sa(b,g){var d=a("<div>"+g.replace(/\n/,"<br/>")+"<div>");b.append(d);if(document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(d[0]);n.select()}else if(window.getSelection){var h=window.getSelection();h.setBaseAndExtent?h.setBaseAndExtent(d[0],0,d[0],1):document.createRange&&(n=document.createRange(),n.selectNodeContents(d[0]),h.removeAllRanges(),h.addRange(n))}try{document.execCommand("copy")}catch(bb){}d.remove()}function Ba(a,b){return a.filter(function(a){return a[b]()===
a}).length===a.length}function ka(a){a=a.split("");return Ba(a,"toLowerCase")?"lower":Ba(a,"toUpperCase")?"upper":"mixed"}a.omap=function(b,g){var d={};a.each(b,function(a,n){d[a]=g.call(b,a,n)});return d};var nb={clone_object:function(b){var g={};if("object"===typeof b){if(a.isArray(b))return this.clone_array(b);if(null===b)return b;for(var d in b)a.isArray(b[d])?g[d]=this.clone_array(b[d]):g[d]="object"===typeof b[d]?this.clone_object(b[d]):b[d]}return g},clone_array:function(b){if(!a.isFunction(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");
return b.slice(0).map(function(a){return"object"===typeof a?this.clone_object(a):a}.bind(this))}},ia=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(z){return!1}}();a.extend({Storage:{set:ia?g:h,get:ia?p:w,remove:ia?x:v}});a.fn.extend({everyTime:function(b,g,d,h,k){return this.each(function(){a.timer.add(this,b,g,d,h,k)})},oneTime:function(b,g,d){return this.each(function(){a.timer.add(this,b,g,d,1)})},stopTime:function(b,g){return this.each(function(){a.timer.remove(this,
b,g)})}});a.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1E3,das:1E4,hs:1E5,ks:1E6},timeParse:function(g){if(g===b||null===g)return null;var n=this.regex.exec(a.trim(g.toString()));return n[2]?parseInt(n[1],10)*(this.powers[n[2]]||1):g},add:function(b,g,d,h,k,p){var n=0;a.isFunction(d)&&(k||(k=h),h=d,d=g);g=a.timer.timeParse(g);if(!("number"!==typeof g||isNaN(g)||0>=g)){k&&k.constructor!==Number&&(p=!!k,k=0);k=k||0;p=p||!1;b.$timers||(b.$timers={});b.$timers[d]||
(b.$timers[d]={});h.$timerID=h.$timerID||this.guid++;var z=function(){p&&z.inProgress||(z.inProgress=!0,(++n>k&&0!==k||!1===h.call(b,n))&&a.timer.remove(b,d,h),z.inProgress=!1)};z.$timerID=h.$timerID;b.$timers[d][h.$timerID]||(b.$timers[d][h.$timerID]=window.setInterval(z,g));this.global[d]||(this.global[d]=[]);this.global[d].push(b)}},remove:function(a,b,d){var g=a.$timers;if(g){if(!b)for(var h in g)g.hasOwnProperty(h)&&this.remove(a,h,d);else if(g[b]){if(d)d.$timerID&&(window.clearInterval(g[b][d.$timerID]),
delete g[b][d.$timerID]);else for(var n in g[b])g[b].hasOwnProperty(n)&&(window.clearInterval(g[b][n]),delete g[b][n]);for(k in g[b])if(g[b].hasOwnProperty(k))break;if(!k){var k=null;delete g[b]}}for(k in g)if(g.hasOwnProperty(k))break;k||(a.$timers=null)}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))a(window).one("unload",function(){var b=a.timer.global,g;for(g in b)if(b.hasOwnProperty(g))for(var d=b[g],h=d.length;--h;)a.timer.remove(d[h],g)});(function(a){if(String.prototype.split.toString().match(/\[native/)){var b=
String.prototype.split,d=/()??/.exec("")[1]===a;var g=function(g,h,n){if("[object RegExp]"!==Object.prototype.toString.call(h))return b.call(g,h,n);var k=[],p=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.extended?"x":"")+(h.sticky?"y":""),v=0,z,w;h=new RegExp(h.source,p+"g");g+="";d||(z=new RegExp("^"+h.source+"$(?!\\s)",p));for(n=n===a?4294967295:n>>>0;w=h.exec(g);){p=w.index+w[0].length;if(p>v){k.push(g.slice(v,w.index));!d&&1<w.length&&w[0].replace(z,function(){for(var b=1;b<arguments.length-
2;b++)arguments[b]===a&&(w[b]=a)});1<w.length&&w.index<g.length&&Array.prototype.push.apply(k,w.slice(1));var x=w[0].length;v=p;if(k.length>=n)break}h.lastIndex===w.index&&h.lastIndex++}v===g.length?(x||!h.test(""))&&k.push(""):k.push(g.slice(v));return k.length>n?k.slice(0,n):k};String.prototype.split=function(a,b){return g(this,a,b)};return g}})();a.fn.caret=function(a){var b=this[0];var d="true"===b.contentEditable;if(0===arguments.length){if(window.getSelection){if(d){b.focus();var g=window.getSelection().getRangeAt(0);
d=g.cloneRange();d.selectNodeContents(b);d.setEnd(g.endContainer,g.endOffset);return d.toString().length}return b.selectionStart}if(document.selection){b.focus();if(d)return g=document.selection.createRange(),d=document.body.createTextRange(),d.moveToElementText(b),d.setEndPoint("EndToEnd",g),d.text.length;a=0;g=b.createTextRange();d=document.selection.createRange().duplicate();b=d.getBookmark();for(g.moveToBookmark(b);0!==g.moveStart("character",-1);)a++;return a}return 0}-1===a&&(a=this[d?"text":
"val"]().length);window.getSelection?d?(b.focus(),window.getSelection().collapse(b.firstChild,a)):b.setSelectionRange(a,a):document.body.createTextRange&&(g=document.body.createTextRange(),g.moveToElementText(b),g.moveStart("character",a),g.collapse(!0),g.select());d||b.focus();return a};var wb=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};a.fn.resizer=function(b){var g="unbind"===b;if(!g&&!a.isFunction(b))throw Error('Invalid argument, it need to a function of string "unbind".');
return this.each(function(){var d=a(this);if(g)a(this).removeData("callbacks").find(".resizer").remove();else if(d.data("callbacks"))a(this).data("callbacks").push(b);else{d.data("callbacks",[b]);var h=this,n=a("<div/>").addClass("resizer").appendTo(this)[0];n.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";n.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
var k=n.childNodes[0],p=k.childNodes[0],v=n.childNodes[1],w,z,x,y,G=h.offsetWidth,L=h.offsetHeight,I=function(){p.style.width="100000px";p.style.height="100000px";k.scrollLeft=1E5;k.scrollTop=1E5;v.scrollLeft=1E5;v.scrollTop=1E5};I();var Ba=function(){z=0;if(w){G=x;L=y;var a=d.data("callbacks");a&&a.length&&a.forEach(function(a){a()})}};n=function(){x=h.offsetWidth;y=h.offsetHeight;(w=x!==G||y!==L)&&!z&&(z=wb(Ba));I()};a(k).on("scroll",n);a(v).on("scroll",n)}})};var Ob=0;a.fn.cmd=function(g){function h(){var b=
a("<span>&nbsp;</span>").appendTo(t),d=b[0].getBoundingClientRect();b.remove();return d}function d(){var a;if((a=window.getSelection())&&null!==a.focusNode)return a.focusOffset}function k(b){var f=d(),g=h().height,k=t.offset();g=Math.floor((b.pageY-k.top)/g);if(a.isNumeric(f)){if(b=a(b.target).closest('[role="presentation"]'),!b.is("div")&&!b.next().is(".cursor")){if(b.is(".cursor"))return D;if(b.prev().is(".cursor"))return D+f;f=0}}else return A.length;b=Y(A);f=0<g&&1<b.length?f+b.slice(0,g).reduce(function(a,
b){return a+b.length},0):f;f=A.replace(/\t/g,"\x00\x00\x00\x00").replace(/\n/,"").slice(0,f).replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length;g=A.length;return f>g?g:f}function n(){return!0}function p(){ta.val("");$a=0;ta.trigger("focus",[!0]);ta.on("input",function N(a){xa(a);ta.off("input",N)});return!0}function v(){Ma?(Ca=A,t.set(R.current())):t.set(R.previous());return Ma=!1}function w(){t.set(R.end()?Ca:R.next());return!1}function x(){0<D&&(t.position(-1,!0),V())}function y(){D<A.length&&
t.position(1,!0);return!1}function L(){t.position(0)}function I(){t.position(A.length)}function Ba(){var a=ta.is(":focus");if(Da)t.oneTime(10,function(){!ta.is(":focus")&&Da&&ta.trigger("focus",[!0])});else!a||!zb&&Da||ta.trigger("blur",[!0])}function P(){t.oneTime(10,function(){ta.val(A);if(Da)t.oneTime(10,function(){try{ta.caret(D)}catch(B){}})})}function ka(){ha.toggleClass("inverted")}function W(){T="(reverse-i-search)`"+wa+"': ";ja()}function aa(b){var d=R.data(),f=d.length;b&&0<va&&(f-=va);
if(0<wa.length)for(var g=wa.length;0<g;g--){var h=a.terminal.escape_regex(wa.substring(0,g));b=new RegExp(h);for(var k=f;k--;)if(b.test(d[k])){va=d.length-k;t.position(d[k].indexOf(h));t.set(d[k],!0);V();wa.length!==g&&(wa=wa.substring(0,g),W());return}}wa=""}function Y(b){var d=Ya.text(),f=new RegExp("^"+a.terminal.escape_regex(d));if(b.match(/\n/)){b=b.split("\n");for(var g=Ka-ya-1,h=0;h<b.length-1;++h)b[h]+=" ";gb(b[0])>g?(d=a.terminal.split_equal(d+b[0],Ka),d[0]=d[0].replace(f,"")):d=[b[0]];for(h=
1;h<b.length;++h)b[h].length>Ka?d=d.concat(a.terminal.split_equal(b[h],Ka)):d.push(b[h])}else d=a.terminal.split_equal(d+b,Ka),d[0]=d[0].replace(f,"");return d}function Qa(b){b=a.terminal.escape_formatting(b);try{return a.terminal.apply_formatters(b)}catch(N){alert(N.message+"\n"+(N.stack?N.stack:N))}}function ca(b){return a.terminal.format(a.terminal.encode(b))}function xa(){if(!(0<$a++)&&t.isenabled()){var a=t.find("textarea");a.is(":focus")||a.trigger("focus",[!0]);t.oneTime(100,function(){t.insert(a.val());
a.val(A);P()})}}function na(){if(a.isFunction(g.onCommandChange))g.onCommandChange(A)}function F(d){Va="process"===(d.key||"").toLowerCase();La=q&&lb;try{d.fake||(lb=d.key&&1===d.key.length&&!d.ctrlKey,ea="unidentified"===String(d.key).toLowerCase(),Ea="BACKSPACE"===d.key.toUpperCase()||8===d.which)}catch(qa){}if("Unidentified"===d.key)fa=!0;else{d.fake||(q=!0,fa=!1);if(d.key){var f=d.key.toUpperCase();if("CONTROL"===f)var h="CTRL";else h=[],d.ctrlKey&&h.push("CTRL"),d.metaKey&&"META"!==f&&h.push("META"),
d.shiftKey&&"SHIFT"!==f&&h.push("SHIFT"),d.altKey&&"ALT"!==f&&h.push("ALT"),d.key&&("DEL"===f?h.push("DELETE"):h.push(f)),h=h.join("+")}else h=void 0;if(a.isFunction(g.keydown)&&(f=g.keydown(d),f!==b))return f||(Wa=!0),f;if(Da)if(Wa=-1!==["CTRL+V","META+V"].indexOf(h),38===d.which||80===d.which&&d.ctrlKey||(Ma=!0),!M||35!==d.which&&36!==d.which&&37!==d.which&&38!==d.which&&39!==d.which&&40!==d.which&&13!==d.which&&27!==d.which)if(a.isFunction(Za[h])){if(f=Za[h](),!0!==f&&f!==b)return f}else d.altKey||
(fb=!1);else T=ua,M=!1,va=null,wa="",ja(),27===d.which&&t.set(""),V(),F.call(this,d)}}function pa(d){d.fake||(q=!1);if((!d.ctrlKey&&!d.metaKey||d.altKey)&&!fb){if(a.isFunction(g.keypress)){var f=g.keypress(d);if(f!==b)return f||(Wa=!0),f}if(Da&&!d.fake){f="KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype?Object.getOwnPropertyDescriptor(window.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/):!1;if(f||d.fake)var h=d.key;if(!h||ea)h=String.fromCharCode(d.which);"SPACEBAR"===
h.toUpperCase()&&(h=" ");if(-1<a.inArray(d.which,[13,0,8]))return 123===d.keyCode?void 0:!1;!h||!(!d.ctrlKey||d.ctrlKey&&d.ctrlKey)||d.altKey&&100===d.which&&!d.altKey||La||(M?(wa+=h,aa(),W()):t.insert(h))}}}function Ha(b,d,f){b=a.Event(b);b.which=f;b.key=d;b.fake=!0;E.trigger(b)}function ia(){if(fa||Va||(q||La)&&!Wa&&(lb||ea)&&!Ea){var a=D,b=ta.val();fa&&(Ea=H.substring(0,H.length-1)===H.length);if(M)wa=b,aa(),W();else{var d=b.substring(D);if(1===d.length||Ea){if(fa){var f=Ea?8:d.toUpperCase().charCodeAt(0);
Ha("keydown",Ea?"Backspace":d,f)}q&&!Ea&&Ha("keypress",d,d.charCodeAt(0))}if(Ea){H=A;return}if(Wa){Wa=!1;return}t.set(b)}Ea?t.position(a-1):t.position(a+Math.abs(b.length-H.length))}H=A;Wa=!1;fa=!0}var t=this,nb=t.data("cmd");if(nb)return nb;var Ja=Ob++;t.addClass("cmd");t.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');G(t.find("span").not(":eq(0)"));var ta=a("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(t);
g.width&&t.width(g.width);var Ka,ya,Ya=t.find(".prompt"),M=!1,wa="",va=null,ua,Pa=g.mask||!1,A="",Ca,f="",D=0,Da,X=g.historySize||60,Na,R,ha=t.find(".cursor"),$a=0,Za,Ra={"ALT+D":function(){t.set(A.slice(0,D)+A.slice(D).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0);return!1},ENTER:function(){(R&&A&&!Pa&&a.isFunction(g.historyFilter)&&g.historyFilter(A)||g.historyFilter instanceof RegExp&&A.match(g.historyFilter)||!g.historyFilter)&&R.append(A);var b=A;R.reset();H="";fa=!0;t.set("");g.commands&&g.commands(b);
a.isFunction(T)&&ja();a(".clipboard").val("");return!1},"SHIFT+ENTER":function(){t.insert("\n");return!0},BACKSPACE:function(){if(M)wa=wa.slice(0,-1),W();else if(""!==A&&0<D)t["delete"](-1);fa=!0},TAB:function(){t.insert("\t")},"CTRL+D":function(){t["delete"](1);return!1},DELETE:function(){t["delete"](1);return!0},ARROWUP:v,UP:v,"CTRL+P":v,ARROWDOWN:w,DOWN:w,"CTRL+N":w,ARROWLEFT:x,LEFT:x,"CTRL+B":x,"CTRL+ARROWLEFT":function(){var a=D-1,b=0;for(" "===A[a]&&--a;0<a;--a)if(" "===A[a]&&" "!==A[a+1]){b=
a+1;break}else if("\n"===A[a]&&"\n"!==A[a+1]){b=a;break}t.position(b)},"CTRL+R":function(){M?aa(!0):(ua=T,W(),Ca=A,t.set(""),V(),M=!0);return!1},"CTRL+G":function(){if(M)return T=ua,ja(),t.set(Ca),V(),M=!1,wa="",!1},ARROWRIGHT:y,"CTRL+F":y,RIGHT:y,"CTRL+ARROWRIGHT":function(){" "===A[D]&&++D;var a=A.slice(D).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!a||a[0].match(/^\s+$/)?t.position(A.length):" "!==a[0][0]?D+=a.index+1:(D+=a.index+a[0].length-1," "!==a[0][a[0].length-1]&&--D);V()},F12:n,END:I,"CTRL+E":I,
HOME:L,"CTRL+A":L,"SHIFT+INSERT":p,"CTRL+SHIFT+T":n,"CTRL+W":function(){if(""!==A&&0!==D){var a=A.slice(0,D).match(/([^ ]+ *$)/);a[0].length&&(f=t["delete"](-a[0].length),Sa(t,f))}return!1},"CTRL+H":function(){if(""!==A&&0<D)t["delete"](-1);return!1},"CTRL+X":n,"CTRL+C":n,"CTRL+T":n,"CTRL+Y":function(){""!==f&&t.insert(f)},"CTRL+V":p,"META+V":p,"CTRL+K":function(){A.length-D&&(f=t["delete"](A.length-D),Sa(t,f));return!1},"CTRL+U":function(){""!==A&&0!==D&&(f=t["delete"](-D),Sa(t,f));return!1},"CTRL+TAB":function(){return!1},
"META+`":n,"META+R":n,"META+L":n};if(cb&&!yb)var Ia=function(a){a?ha.addClass("blink"):ha.removeClass("blink")};else{var za=!1;Ia=function(a){a&&!za?(za=!0,ha.addClass("inverted blink"),t.everyTime(500,"blink",ka)):za&&!a&&(za=!1,t.stopTime("blink",ka),ha.removeClass("inverted blink"))}}var V=function(){function d(b,d){var f=b.length;b=Qa(b);d===f?(k.html(ca(b)),ha.html("&nbsp;"),n.html("")):0===d?(k.html(""),ha.html(ca(a.terminal.substring(b,0,1))),n.html(ca(a.terminal.substring(b,1,void 0)))):(f=
a.terminal.substring(b,0,d),k.html(ca(f)),f=a.terminal.substring(b,d,d+1),ha.html(ca(f)),d===b.length-1?n.html(""):n.html(ca(a.terminal.substring(b,d+1,void 0))))}function f(a){return'<div role="presentation">'+ca(Qa(a))+"</div>"}function g(b){var d=n;a.each(b,function(b,g){d=a(f(g)).insertAfter(d)})}function h(b){a.each(b,function(a,b){k.before(f(b))})}var k=ha.prev(),n=ha.next();return function(){switch(typeof Pa){case "boolean":var p=Pa?A.replace(/./g,"*"):A;break;case "string":p=A.replace(/./g,
Pa)}var q;t.find("div").remove();k.html("");if(gb(p)>Ka-ya-1||p.match(/\n/)){var v=(q=p.match(/\t/g))?3*q.length:0;q&&(p=p.replace(/\t/g,"\x00\x00\x00\x00"));var l=Y(p);q&&(l=a.map(l,function(a){return a.replace(/\x00\x00\x00\x00/g,"\t")}));q=l[0].length;if(0!==q||1!==l.length)if(D<q)d(l[0],D),g(l.slice(1));else if(D===q)k.before(f(l[0])),d(l[1]||"",0),1<l.length&&g(l.slice(2));else{var r=l.length;if(D<q)d(l[0],D),g(l.slice(1));else if(D===q)k.before(f(l[0])),d(l[1],0),g(l.slice(2));else{var C=l.slice(-1)[0];
v=p.length-D-v;var Z=C.length;p=0;if(v<=Z)h(l.slice(0,-1)),d(C,Z===v?0:Z-v);else if(3===r)p=ca(l[0]),k.before('<div role="presentation">'+p+"</div>"),d(l[1],D-q-1),p=ca(Qa(l[2])),n.after('<div role="presentation">'+p+"</div>");else{p=D;for(q=0;q<l.length;++q)if(r=l[q].length,p>r)p-=r;else break;r=l[q];if(p===r.length&&(p=0,r=l[++q],r===b))throw Error(a.terminal.defaults.strings.redrawError);d(r,p);h(l.slice(0,q));g(l.slice(q+1))}}}}else""===p?(k.html(""),ha.html("&nbsp;"),n.html("")):d(p,D)}}(),ja=
function(){function b(b){var d=a.terminal.split_equal(a.terminal.encode(b),Ka);b=d.slice(-1).map(a.terminal.format)[0];d=d.slice(0,-1).map(function(b){b=a.terminal.format(b);return b.match(/class="/)?b.replace(/class="/,'class="line '):b.replace(/^<span/,'<span class="line"')}).concat([b]).join("\n");Ya.html(d);ya=gb(a("<span>"+b+"</span>").text())}return function(){switch(typeof T){case "string":b(T);break;case "function":T(b)}}}();a.extend(t,{name:function(a){if(a!==b){Na=a;var d=R&&R.enabled()||
!R;R=new Ga(a,X,"memory"===g.history);d||R.disable();return t}return Na},purge:function(){R.clear();return t},history:function(){return R},"delete":function(a,b){if(0===a)return t;if(0>a){if(0<D){var d=A.slice(0,D).slice(a);A=A.slice(0,D+a)+A.slice(D,A.length);b||t.position(D+a);na()}}else""!==A&&D<A.length&&(d=A.slice(D).slice(0,a),A=A.slice(0,D)+A.slice(D+a,A.length),na());V();P();return d},set:function(a,d){a!==b&&(A=a,d||t.position(A.length),V(),P(),na());return t},keymap:function(b){if("undefined"===
typeof b)return Za;Za=a.extend({},Ra,a.omap(b||{},function(a,b){return function(d){return b(d,Ra[a])}}));return t},insert:function(a,b){A=D===A.length?A+a:0===D?a+A:A.slice(0,D)+a+A.slice(D);b?P():t.position(a.length,!0);V();na();return t},get:function(){return A},commands:function(a){return a?(g.commands=a,t):a},destroy:function(){E.unbind("keypress.cmd",pa);E.unbind("keydown.cmd",F);E.unbind("input.cmd",ia);t.stopTime("blink",ka);t.find(".cursor").next().remove().end().prev().remove().end().remove();
t.find(".prompt, .clipboard").remove();t.removeClass("cmd").removeData("cmd").off(".cmd");return t},prompt:function(a){if(a===b)return T;if("string"===typeof a||"function"===typeof a)T=a;else throw Error("prompt must be a function or string");ja();V();return t},kill_text:function(){return f},position:function(b,d){if("number"===typeof b){D=d?D+b:0>b?0:b>A.length?A.length:b;if(a.isFunction(g.onPositionChange))g.onPositionChange(D);V();P();return t}return D},visible:function(){var a=t.visible;return function(){a.apply(t,
[]);V();ja()}}(),show:function(){var a=t.show;return function(){a.apply(t,[]);V();ja()}}(),resize:function(a){if(a)Ka=a;else{var b=t.find(".prompt").text("&nbsp;");a=t.width();b=b[0].getBoundingClientRect().width;Ka=Math.floor(a/b);ja()}V();ja();return t},enable:function(){if(!Da){Da=!0;t.addClass("enabled");try{ta.caret(D)}catch(B){}Ia(!0);ja()}Ba();return t},isenabled:function(){return Da},disable:function(a){Da=!1;t.removeClass("enabled");Ia(!1);a||Ba();return t},mask:function(a){if("undefined"===
typeof a)return Pa;Pa=a;V();return t}});t.name(g.name||g.prompt||"");var T="string"===typeof g.prompt?g.prompt:"> ";ja();g.enabled!==b&&!0!==g.enabled||t.enable();g.history||R.disable();var Ma=!0,fb=!1,La=!1,lb=!1,q=!1,ea=!1,fa=!0,Ea=!1,Va=!1,Wa,H="",E=a(document.documentElement||window);t.keymap(g.keymap||{});E.bind("keypress.cmd",pa).bind("keydown.cmd",F).bind("input.cmd",ia);(function(){var b=!1,d=0;t.on("mousedown.cmd",function(){b=!0}).on("mouseup.cmd",function(f){if(""===Ab()){var h="click_"+
Ja;if(1===++d){var n=b;if(Da)t.oneTime(g.clickTimeout,h,function(){!a(f.target).is(".prompt")&&n&&(a(f.target).is(".cmd")?t.position(A.length):t.position(k(f)));d=0});else d=0}else t.stopTime(h),d=0}b=!1})})();t.data("cmd",t);"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill");},0);return t};var Pb=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,
xb=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
La=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,pb=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,db=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,Gb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,Hb=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,
Ib=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,Db=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,Jb=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,xa=/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,eb=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,qb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,rb=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,
sb=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,Qb=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,ya=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,Ia=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./,cb=function(){var a=!1,g=["Webkit","Moz","O","ms","Khtml"],d=document.createElement("div");d.style.animationName&&(a=!0);if(!1===a)for(var h=0;h<g.length;h++)if(d.style[g[h]+"AnimationName"]!==b){a=!0;break}return a}(),yb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),
gb=function(){return"undefined"===typeof wcwidth?function(a){return a.length}:wcwidth}(),zb=function(a){var b=!1;if(Pb.test(a)||xb.test(a.substr(0,4)))b=!0;return b}(navigator.userAgent||navigator.vendor||window.opera),Ab=function(){return window.getSelection||document.getSelection?function(){var a=(window.getSelection||document.getSelection)();return a.text?a.text:a.toString()}:document.selection&&"Control"!==document.selection.type?function(){return document.selection.createRange().text}:function(){return""}}();
a.terminal={version:"1.7.0",color_names:"transparent currentcolor black silver gray white maroon red purple fuchsia green lime olive yellow navy blue teal aqua aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkgrey darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkslategrey darkturquoise darkviolet deeppink deepskyblue dimgray dimgrey dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow grey honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightslategrey lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray slategrey snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
Cycle:y,History:Ga,Stack:L,valid_color:function(b){return b.match(Ib)?!0:-1!==a.inArray(b.toLowerCase(),a.terminal.color_names)},unclosed_strings:function(a){return!!a.match(Ia)},escape_regex:function(a){if("string"===typeof a)return a.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(a){return"string"===typeof a&&!!a.match(Gb)},is_formatting:function(a){return"string"===typeof a&&!!a.match(Hb)},format_split:function(a){return a.split(La).filter(Boolean)},iterate_formatting:function(a,
g){for(var d=!1,h=!1,k=0,n,p=-1,v=0;v<a.length;v++){(n=a.substring(v).match(rb))?(d=n[1],h=!1):d?"]"===a[v]&&(h?(d="",h=!1):h=!0):h=!0;var w=d&&h||!d;n="["===a[v]&&"["===a[v+1];"&nbsp;"!==a.substring(v-6,v)&&" "!==a.substring(v-1,v)||!w&&!n||(p=v);var z=a[v].match(/[[\]]/);if(w)if("&"===a[v]){if(n=a.substring(v).match(/^(&[^;]+;)/)){v+=n[1].length-2;continue}++k}else"]"===a[v]&&"\\"===a[v-1]?--k:z||++k;if(!z&&w)if(2===gb(a[v])&&k++,w=g({count:k,index:v,formatting:d,text:h,space:p}),!1===w)break;else w&&
(w.count!==b&&(k=w.count),w.space!==b&&(p=w.space),w.index!==b&&(v=w.index))}},substring:function(b,g,d){if(""===a("<span>"+a.terminal.strip(b)+"</span>").text().substring(g,d))return"";var h,k=b.length,n="",p="";a.terminal.iterate_formatting(b,function(a){a.count===g&&(h=a.index+1,a.formatting&&(n=a.formatting));d&&a.count===d&&(k=a.index+1,p=a.formatting)});b=n+b.substring(h,k);p&&(b+="]");return b},normalize:function(a){return a.replace(db,function(a,b,g){if(""===g)return"";a=b.match(/;/g).length;
if(4<=a)return a=b.split(/;/),b=a.slice(0,4).join(";"),a=a.slice(4).join(";"),"[["+b+";"+(a||g)+"]"+g+"]";a=2===a?";;":3===a?";":"";var d=g.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+b+a+d+"]"+g+"]"})},split_equal:function(b,g,d){var h="",k=[];b=a.terminal.normalize(b).split(/\n/g);for(var n=0,p=b.length;n<p;++n)if(""===b[n])k.push("");else{var v=b[n],w=0,x,z=v.length;a.terminal.iterate_formatting(v,function(b){var n=b.index===z-2&&"]"===v[b.index+1],p=b.index===
z-1||n;if(b.count>=g||p||b.count===g-1&&2===gb(v[b.index+1])){if(d){p=a.terminal.strip(v.substring(b.space));p=a("<span>"+p+"</span>").text();var y=p.length,G=b.index+g+1;p=p.substring(0,G);var L=!1;if(p.match(/\s/)||G>y)L=!0}if(d&&!n&&-1!==b.space&&b.index!==z-1&&L){x=v.substring(w,b.space);var O=b.space-1}else x=v.substring(w,b.index+1);d&&(x=x.replace(/(&nbsp;|\s)+$/g,""));w=(O||b.index)+1;h&&(b=x.match(/^[^\]]*\]/),x=h+x,b&&(h=""));n&&(x+="]",h="");if(n=x.match(db))n=n[n.length-1],"]"!==n[n.length-
1]?(h=n.match(qb)[1],x+="]"):x.match(sb)&&(x=x.replace(sb,""),h=n.match(qb)[1]);k.push(x);return{index:O,count:0,space:-1}}})}return k},amp:function(a){return a.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;")},encode:function(b){return a.terminal.amp(b).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(b){if(!a.terminal.have_formatting(b))return b;var g=[],d=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return b.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(b){if(b.match(/^\[\[/))a.terminal.is_formatting(b)||
(b+="]",g.push(b.replace(d,"$1")));else{var h=!1;b.match(/\]/)&&(h=!0);g.length&&(b=g[g.length-1]+b);h?g.pop():g.length&&(b+="]")}return b}).join("")},escape_formatting:function(b){return a.terminal.escape_brackets(b)},apply_formatters:function(b){var g=a.terminal.defaults.formatters;return a.terminal.format_split(b).map(function(b){if(!a.terminal.is_formatting(b))for(var d=0;d<g.length;++d)try{if("function"===typeof g[d]){var h=g[d](b);"string"===typeof h&&(b=h)}}catch(bb){throw Error("Error in formatter ["+
d+"]");}return b}).join("")},format:function(b,g){var d=a.extend({},{linksNoReferrer:!1},g||{});if("string"===typeof b){var h=a.terminal.format_split(b);b=a.map(h,function(b){return""===b?b:a.terminal.is_formatting(b)?(b=b.replace(/\[\[[^\]]+\]/,function(a){return a.replace(/&nbsp;/g," ")}),b.replace(pb,function(b,g,h,k,n,p,v){if(""===v)return"";v=v.replace(/\\]/g,"]");b="";-1!==g.indexOf("b")&&(b+="font-weight:bold;");var w=[];-1!==g.indexOf("u")&&w.push("underline");-1!==g.indexOf("s")&&w.push("line-through");
-1!==g.indexOf("o")&&w.push("overline");w.length&&(b+="text-decoration:"+w.join(" ")+";");-1!==g.indexOf("i")&&(b+="font-style:italic;");a.terminal.valid_color(h)&&(b+="color:"+h+";",-1!==g.indexOf("g")&&(b+="text-shadow:0 0 5px "+h+";"));a.terminal.valid_color(k)&&(b+="background-color:"+k);h=""===p?v:p.replace(/&#93;/g,"]");-1!==g.indexOf("!")?(h.match(xa)?k='<a class="a_acct" name="a_acct"':(k='<a target="_blank" href="'+h+'"',k=d.linksNoReferrer?k+' rel="noreferrer noopener"':k+' rel="noopener"'),
k+=' tabindex="1000"'):k="<span";""!==b&&(k+=' style="'+b+'"');""!==n&&(k+=' class="'+n+'"');return k=-1!==g.indexOf("!")?k+(">"+v+"</a>"):k+(' data-text="'+h.replace('"',"&quote;")+'">'+v+"</span>")})):"<span>"+b.replace(/\\\]/g,"]")+"</span>"}).join("");return b.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(a){return a.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(a){a=a.replace(pb,"$6");return a.replace(/(\\?)([[\]])/g,function(a,b){return b?a:
""})},active:function(){return aa.front()},last_id:function(){var a=aa.length();if(a)return a-1},parse_argument:function(a,b){function d(a){a.match(/^['"]/)&&(a=a.replace(new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+a[0],"g"),"$1"));return JSON.parse('"'+a+'"')}if(!1===b)return"'"===a[0]&&"'"===a[a.length-1]?a.replace(/^'|'$/g,""):'"'===a[0]&&'"'===a[a.length-1]?a.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):a.match(/\/.*\/[gimy]*$/)?a:a.match(/['"]]/)?d(a):a.replace(/\\ /g," ");var g=a.match(ya);return g?
new RegExp(g[1],g[2]):a.match(/['"]/)?d(a):a.match(/^-?[0-9]+$/)?parseInt(a,10):a.match(Qb)?parseFloat(a):a.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(b){return a.map(b.match(eb)||[],a.terminal.parse_argument)},split_arguments:function(b){return a.map(b.match(eb)||[],function(b){return a.terminal.parse_argument(b,!1)})},parse_command:function(b){return Qa(b,a.terminal.parse_argument)},split_command:function(b){return Qa(b,function(b){return a.terminal.parse_argument(b,!1)})},extended_command:function(a,
b){try{Ja=!1,a.exec(b,!0).done(function(){Ja=!0})}catch(d){}}};a.fn.visible=function(){return this.css("visibility","visible")};a.fn.hidden=function(){return this.css("visibility","hidden")};a.fn.scroll_element=function(){var b=a.fn.scroll_element.defaults;return this.map(function(){if(a(this).is("body")){var g=a("html"),d=a("body"),h=d.scrollTop()||g.scrollTop(),k=a("<pre/>").css(b.pre).appendTo("body");k.html(Array(b.lines).join("\n"));a("body,html").scrollTop(10);if(10===d.scrollTop()){d.scrollTop(h);
var p=d[0]}else 10===g.scrollTop()&&(g.scrollTop(h),p=g[0]);k.remove();return p}return this})};a.fn.scroll_element.defaults={lines:2E3,pre:{"font-size":"100px","white-space":"pre"}};var Ca={};a.jrpc=function(b,g,d,h,k){var p=a.isPlainObject(b)?b:{url:b,method:g,params:d,success:h,error:k};Ca[p.url]=Ca[p.url]||0;var n={jsonrpc:"2.0",method:p.method,params:p.params,id:++Ca[p.url]};return a.ajax({url:p.url,beforeSend:function(b,d){a.isFunction(p.request)&&p.request(b,n);d.data=JSON.stringify(n)},success:function(b,
d,g){g.getResponseHeader("Content-Type").match(/(application|text)\/json/)||Ya("Response Content-Type is neither application/json nor text/json");try{var h=JSON.parse(b)}catch(Bb){if(p.error)p.error(g,"Invalid JSON",Bb);else throw Error("Invalid JSON");return}a.isFunction(p.response)&&p.response(g,h);b=h;if(a.isNumeric(b.id)&&("undefined"!==typeof b.result||"undefined"!==typeof b.error)||"system.describe"===p.method)p.success(h,d,g);else if(p.error)p.error(g,"Invalid JSON-RPC");else throw Error("Invalid JSON-RPC");
},error:p.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var I=!a.terminal.version.match(/^\{\{/);ia=I?" v. "+a.terminal.version:" ";var Kb=new RegExp(" {"+ia.length+"}$");I="jQuery Terminal Emulator"+(I?ia:"");var Na=[["jQuery Terminal","(c) 2011-2017 jcubic"],[I,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright | *<.*>/g,"")],[I,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright /,"")],["      _______                 ________                        __",
"     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(Kb," ")+ia,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"],["      __ _____                     ________                              __",
"     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(Kb,"")+ia,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"]];a.terminal.defaults=
{prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[a.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,
caseSensitiveAutocomplete:!0,clickTimeout:200,request:a.noop,response:a.noop,describe:"procs",onRPCError:null,completion:!1,onInit:a.noop,onClear:a.noop,onBlur:a.noop,onFocus:a.noop,onTerminalChange:a.noop,onExit:a.noop,onPush:a.noop,onPop:a.noop,keypress:a.noop,keydown:a.noop,onAfterRedraw:a.noop,onEchoCommand:a.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",
wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",
notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",
invalidStrings:"Command %s have unclosed strings"}};var ob=[],aa=new y,ca=[],na,Ja=!1,tb=!0,Eb=!0;a.fn.terminal=function(g,h){function d(b){if(a.terminal.unclosed_strings(b))throw b=a.terminal.escape_brackets(b),Error(sprintf(M().invalidStrings,"`"+b+"`"));return a.isFunction(q.processArguments)?Qa(b,q.processArguments):q.processArguments?a.terminal.parse_command(b):a.terminal.split_command(b)}function p(b){"string"===typeof b?f.echo(b):b instanceof Array?f.echo(a.map(b,function(a){return JSON.stringify(a)}).join(" ")):
"object"===typeof b?f.echo(JSON.stringify(b)):f.echo(b)}function n(b){var d=b.match(/(.*):([0-9]+):([0-9]+)$/);d&&(f.pause(q.softPause),a.get(d[1],function(b){var g=location.href.replace(/[^/]+$/,"");g=d[1].replace(g,"");f.echo("[[b;white;]"+g+"]");b=b.split("\n");var l=+d[2]-1;f.echo(b.slice(l-2,l+3).map(function(b,d){2===d&&(b="[[;#f00;]"+a.terminal.escape_brackets(b)+"]");return"["+(l+d)+"]: "+b}).join("\n")).resume()},"text"))}function v(b){if(a.isFunction(q.onRPCError))q.onRPCError.call(f,b);
else if(f.error("&#91;RPC&#93; "+b.message),b.error&&b.error.message){b=b.error;var d="\t"+b.message;b.file&&(d+=' in file "'+b.file.replace(/.*\//,"")+'"');b.at&&(d+=" at line "+b.at);f.error(d)}}function w(b,g){var l=function(d,g){f.pause(q.softPause);a.jrpc({url:b,method:d,params:g,request:function(a,b){try{q.request.apply(f,a,b,f)}catch(Aa){P(Aa,"USER")}},response:function(a,b){try{q.response.apply(f,a,b,f)}catch(Aa){P(Aa,"USER")}},success:function(b){b.error?v(b.error):a.isFunction(q.processRPCResponse)?
q.processRPCResponse.call(f,b.result,f):p(b.result);f.resume()},error:y})};return function(a,b){if(""!==a){try{a=d(a)}catch(K){P(K,"TERMINAL (get_processed_command)");return}if(g&&"help"!==a.name){var f=b.token();f?l(a.name,[f].concat(a.args)):b.error("&#91;AUTH&#93; "+M().noTokenError)}else l(a.name,a.args)}}}function x(g,h,k,p){return function(l,r){if(""!==l){try{var n=d(l)}catch(mb){a.isFunction(q.exception)?q.exception(mb,f):f.error(mb.toString());return}var C=g[n.name],v=a.type(C);if("function"===
v)if(h&&C.length!==n.args.length)f.error("&#91;Arity&#93; "+sprintf(M().wrongArity,n.name,C.length,n.args.length));else return C.apply(f,n.args);else if("object"===v||"string"===v){var w=[];"object"===v&&(w=Object.keys(C),C=x(C,h,k));r.push(C,{prompt:n.name+"> ",name:n.name,completion:"object"===v?w:b})}else a.isFunction(p)?p(l,f):a.isFunction(q.onCommandNotFound)?q.onCommandNotFound.call(f,l,f):r.error(sprintf(M().commandNotFound,n.name))}}}function y(b,d,g){f.resume();a.isFunction(q.onAjaxError)?
q.onAjaxError.call(f,b,d,g):"abort"!==d&&f.error("&#91;AJAX&#93; "+d+" - "+M().serverResponse+":\n"+a.terminal.escape_brackets(b.responseText))}function z(b,d,g){function l(b){b.error?v(b.error):a.isFunction(q.processRPCResponse)?q.processRPCResponse.call(f,b.result,f):p(b.result);f.resume()}function h(a,b){try{q.request.call(f,a,b,f)}catch(ra){P(ra,"USER")}}function k(a,b){try{q.response.call(f,a,b,f)}catch(ra){P(ra,"USER")}}return a.jrpc({url:b,method:"system.describe",params:[],success:function(p){var r=
p;""!==q.describe&&q.describe.split(".").forEach(function(a){r=r[a]});if(r&&r.length){var n={};a.each(r,function(g,p){n[p.name]=function(){var g=d&&"help"!==p.name,c=Array.prototype.slice.call(arguments),e=c.length+(g?1:0);q.checkArity&&p.params&&p.params.length!==e?f.error("&#91;Arity&#93; "+sprintf(M().wrongArity,p.name,p.params.length,e)):(f.pause(q.softPause),g&&((g=f.token(!0))?c=[g].concat(c):f.error("&#91;AUTH&#93; "+M().noTokenError)),a.jrpc({url:b,method:p.name,params:c,request:h,response:k,
success:l,error:y}))}});n.help=n.help||function(b){if("undefined"===typeof b){var d=p.procs.map(function(c){return c.name}).join(", ")+", help";f.echo("Available commands: "+d)}else{var g=!1;a.each(r,function(c,a){if(a.name===b){g=!0;var d=""+("[[bu;#fff;]"+a.name+"]");a.params&&(d+=" "+a.params.join(" "));a.help&&(d+="\n"+a.help);f.echo(d);return!1}});g||("help"===b?f.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified"):f.error("Method `"+b+"' not found "))}};
g(n)}else g(null)},request:h,response:k,error:function(){g(null)}})}function I(b,d,g){g=g||a.noop;var l=a.type(b),h={},k=0,p;if("array"===l){var r={};(function jb(b,g){if(b.length){var c=b[0],e=b.slice(1),l=a.type(c);"string"===l?(f.pause(q.softPause),!1===q.describe?(1===++k?p=w(c,d):f.error(M().oneRPCWithIgnore),jb(e,g)):z(c,d,function(b){b?a.extend(r,b):1===++k?p=w(c,d):f.error(M().oneRPCWithIgnore);f.resume();jb(e,g)})):"function"===l?(p?f.error(M().oneInterpreterFunction):p=c,jb(e,g)):"object"===
l&&(a.extend(r,c),jb(e,g))}else g()})(b,function(){g({interpreter:x(r,!1,d,p.bind(f)),completion:Object.keys(r)})})}else if("string"===l)q.ignoreSystemDescribe?(r={interpreter:w(b,d)},a.isArray(q.completion)&&(r.completion=q.completion),g(r)):(f.pause(q.softPause),z(b,d,function(a){a?(h.interpreter=x(a,!1,d),h.completion=Object.keys(a)):h.interpreter=w(b,d);g(h);f.resume()}));else if("object"===l)g({interpreter:x(b,q.checkArity),completion:Object.keys(b)});else{if("undefined"===l)b=a.noop;else if("function"!==
l)throw Error(l+" is invalid interpreter value");g({interpreter:b,completion:q.completion})}}function Ba(b,d){var g="boolean"===a.type(d)?"login":d;return function(d,l,h){f.pause(q.softPause);a.jrpc({url:b,method:g,params:[d,l],request:function(a,b){try{q.request.call(f,a,b,f)}catch(ra){P(ra,"USER")}},response:function(a,b){try{q.response.call(f,a,b,f)}catch(ra){P(ra,"USER")}},success:function(a){!a.error&&a.result?h(a.result):h(null);f.resume()},error:y})}}function Ga(a){return"string"===typeof a?
a:"string"===typeof a.fileName?a.fileName+": "+a.message:a.message}function P(b,d){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(f,b,d):f.exception(b,d)}function ia(){var a=qa.prop?qa.prop("scrollHeight"):qa.attr("scrollHeight");qa.scrollTop(a)}function ya(b,d){try{if(a.isFunction(d))d.call(f,a.noop,f);else if("string"!==typeof d)throw b+" must be string or function";}catch(C){return P(C,b.toUpperCase()),!1}return!0}function Ca(d,g){q.convertLinks&&!g.raw&&(d=d.replace(xa,"[[!;;]$1]").replace(Jb,
"[[!;;]$1]"));var l;if(!g.raw){if(g.formatters)try{d=a.terminal.apply_formatters(d)}catch(ba){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(f,ba,"FORMATTERS"):alert(ba.message+"\n"+(ba.stack?ba.stack:ba))}d=a.terminal.encode(d)}ua.push(1);if(!g.raw&&(gb(d)>R||d.match(/\n/))&&(!0===q.wrap&&g.wrap===b||!1===q.wrap&&!0===g.wrap)){var h=a.terminal.split_equal(d,R,g.keepWords);var k=0;for(l=h.length;k<l;++k)""===h[k]||"\r"===h[k]?ua.push("<span></span>"):g.raw?ua.push(h[k]):ua.push(a.terminal.format(h[k],
{linksNoReferrer:q.linksNoReferrer}))}else g.raw?ua.push(d):(d=a.terminal.normalize(d),d=a.terminal.format(d,{linksNoReferrer:q.linksNoReferrer}),d.split(/\n/).forEach(function(a){ua.push(a)}));ua.push(g.finalize)}function Y(b,d){try{var g=a.extend({exec:!0,raw:!1,finalize:a.noop},d||{}),l="function"===a.type(b)?b():b;l="string"===a.type(l)?l:String(l);""!==l&&Ca(l,g)}catch(oa){ua=[],a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(f,oa,"TERMINAL"):alert("[Internal Exception(process_line)]:"+
Ga(oa)+"\n"+oa.stack)}}function Ya(){E.resize(R);var b=hb.empty().detach(),d=[];if(0<=q.outputLimit){var g=0===q.outputLimit?f.rows():q.outputLimit;X.forEach(function(b){var f="function"===a.type(b[0])?b[0]():b[0];f="string"===a.type(f)?f:String(f);if(gb(f)>R){var g=b[1];b=a.terminal.split_equal(f,R,g.keepWords);d=d.concat(b.map(function(a){return[a,g]}))}else d.push(b)});d=d.slice(d.length-g-1)}else d=X;try{ua=[],a.each(X,function(a,b){Y.apply(null,b)}),E.before(b),f.flush(),q.onAfterRedraw.call(f)}catch(Z){a.isFunction(q.exceptionHandler)?
q.exceptionHandler.call(f,Z,"TERMINAL (redraw)"):alert("Exception in redraw\n"+Z.stack)}}function Ia(){if(q.greetings===b)f.echo(f.signature,{finalize:G});else if(q.greetings){var a=typeof q.greetings;"string"===a?f.echo(q.greetings):"function"===a?q.greetings.call(f,f.echo):f.error(M().wrongGreetings)}}function Ua(b){"undefined"===typeof b&&(b=f.get_command());var d=E.prompt(),g=E.mask();switch(typeof g){case "string":b=b.replace(/./g,g);break;case "boolean":b=g?b.replace(/./g,q.maskChar):a.terminal.escape_formatting(b)}var l=
{finalize:function(a){G(a.addClass("command"));q.onEchoCommand.call(f,a)}};a.isFunction(d)?d(function(a){f.echo(a+b,l)}):f.echo(d+b,l)}function La(a){var b=aa.get()[a[0]];if(!b)throw Error(M().invalidTerminalId);var d=a[1];ca[d]?b.import_view(ca[d]):(Ja=!1,(a=a[2])&&b.exec(a).done(function(){Ja=!0;ca[d]=b.export_view()}))}function F(){Ja&&(tb=!1,location.hash="#"+JSON.stringify(na),setTimeout(function(){tb=!0},100))}function pa(d,g,h){function l(){h||(Ja=!0,q.historyState&&f.save_state(d,!1),Ja=v);
r.resolve();a.isFunction(q.onAfterCommand)&&q.onAfterCommand.call(f,f,d)}function k(a){a&&w===X.length-1&&p(a);l();f.resume()}Pa&&(Pa=!1,q.historyState||q.execHash&&h)&&(ca.length?f.save_state(null):f.save_state());try{if(!a.isFunction(q.onBeforeCommand)||!1!==q.onBeforeCommand.call(f,f,d)){h||(D=a.terminal.split_command(d));T||!1!==E.mask()||h&&(a.isFunction(q.historyFilter)&&q.historyFilter(d)||d.match(q.historyFilter))&&E.history().append(d);var n=H.top();!g&&q.echoCommand&&Ua(d);var r=new a.Deferred;
var v=Ja;if(d.match(/^\s*login\s*$/)&&f.token(!0))1<f.level()?f.logout(!0):f.logout(),l();else if(q.exit&&d.match(/^\s*exit\s*$/)&&!T){var C=f.level();if(1===C&&f.get_token()||1<C)f.get_token(!0)&&f.set_token(b,!0),f.pop();l()}else if(q.clear&&d.match(/^\s*clear\s*$/)&&!T)f.clear(),l();else{var w=X.length-1;var t=n.interpreter.call(f,d,f);if(t!==b)if(f.pause(q.softPause),t.then)t.then(k);else return a.when(t).done(k);else Va?A.push(function(){l()}):l()}return r.promise()}}catch(S){if(P(S,"USER"),
f.resume(),!q.exceptionHandler)throw S;}}function Sa(){var a=f.prefix_name(!0)+"_";ea.remove(a+"token");ea.remove(a+"login")}function cb(b){var d=f.prefix_name()+"_interpreters",g=ea.get(d);g=g?JSON.parse(g):[];-1===a.inArray(b,g)&&(g.push(b),ea.set(d,JSON.stringify(g)))}function t(b){var d=H.top(),g=f.prefix_name(!0);T||!1!==E.mask()||cb(g);E.name(g);a.isFunction(d.prompt)?E.prompt(function(a){d.prompt.call(f,a,f)}):E.prompt(d.prompt);a.isPlainObject(d.keymap)&&E.keymap(a.omap(d.keymap,function(a,
b){return function(){var a=[].slice.call(arguments);try{return b.apply(f,a)}catch(K){if(P(K,"USER KEYMAP"),!q.exceptionHandler)throw K;}}}));E.set("");qb.resolve();!b&&a.isFunction(d.onStart)&&d.onStart.call(f,f)}function db(){if(tb&&q.execHash)try{if(location.hash){var a=location.hash.replace(/^#/,"");na=JSON.parse(decodeURIComponent(a))}else na=[];na.length?La(na[na.length-1]):ca[0]&&f.import_view(ca[0])}catch(r){P(r,"TERMINAL")}}function ab(){t();Ia();X.length&&Ya();var b=!1;if(a.isFunction(q.onInit)){Ma=
function(){b=!0};try{q.onInit.call(f,f)}catch(r){P(r,"OnInit")}finally{Ma=a.noop,!b&&f.enabled()&&f.resume()}}Eb&&(Eb=!1,a(window).on("hashchange",db))}function ta(a,b,d){if(!b.length)return"";var g=ka(a),f=[],l=a.length;a:for(;l<b[0].length;++l)for(var h=1;h<b.length;++h){var k=b[0].charAt(l),p=b[h].charAt(l);if(k!==p)if(d||"mixed"===g)break a;else k.toLowerCase()===p.toLowerCase()&&("lower"===g?f.push(k.toLowerCase()):f.push(k.toUpperCase()));else f.push(k)}return a+f.join("")}function Ka(d){var g=
H.top();if(a.isFunction(g.keydown)){if(d=g.keydown.call(f,d,f),d!==b)return d}else if(a.isFunction(q.keydown)&&(d=q.keydown.call(f,d,f),d!==b))return d}function wb(d){if(f.enabled()){if(f.paused()){if(!q.pauseEvents){var g=Ka(d);if(g!==b)return g}if(68===d.which&&d.ctrlKey){if(q.pauseEvents&&(g=Ka(d),g!==b))return g;if(ob.length){for(g=ob.length;g--;){var l=ob[g];if(4!==l.readyState)try{l.abort()}catch(Z){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(f,d,"AJAX ABORT"):f.error(M().ajaxAbortError)}}ob=
[]}f.resume()}return!1}g=Ka(d);if(g!==b)return g;9!==d.which&&(Da=0);f.attr({scrollTop:f.attr("scrollHeight")})}}function eb(a){return function(b){a.add(b)}}function M(){return a.extend({},a.terminal.defaults.strings,q.strings)}function wa(){B&&f.focus()}function va(){B=fa;f.disable().find("textarea").trigger("blur",[!0])}var ua=[],Pa=!0,A=[],rb={"CTRL+D":function(a,d){T||(""===E.get()?1<H.size()||q.login!==b?f.pop(""):(f.resume(),f.echo("")):d());return!1},"CTRL+L":function(){f.clear()},TAB:function(d,
g){var l=H.top();var h="undefined"!==typeof l.caseSensitiveAutocomplete?l.caseSensitiveAutocomplete:q.caseSensitiveAutocomplete;l=q.completion&&"boolean"!==a.type(q.completion)&&l.completion===b?q.completion:l.completion;"settings"===l&&(l=q.completion);if(l)switch(a.type(l)){case "function":var k=f.before_cursor(q.wordAutocomplete);if(3===l.length){l=Error(M().comletionParameters);P(l,"USER");break}l.call(f,k,function(a){f.complete(a,{echo:!0,word:q.wordAutocomplete,escape:q.completionEscape,caseSensitive:h})});
break;case "array":f.complete(l,{echo:!0,word:q.wordAutocomplete,escape:q.completionEscape,caseSensitive:h});break;default:throw Error(M().invalidCompletion);}else g();return!1},"CTRL+V":function(a,b){b(a);f.oneTime(200,function(){ia()});return!0},"CTRL+TAB":function(){if(1<aa.length())return f.focus(!1),!1},PAGEDOWN:function(){f.scroll(f.height())},PAGEUP:function(){f.scroll(-f.height())}},f=this;if(1<this.length)return this.each(function(){a.fn.terminal.call(a(this),g,a.extend({name:f.selector},
h))});if(f.data("terminal"))return f.data("terminal");if(0===f.length)throw Error(sprintf(M().invalidSelector,f.selector));var D,Da=0,X=[],ub=aa.length(),R,ha,$a,Za=new L,pb=new k,qb=new k,za=eb(qb),V=Ha(),ja=eb(pb),T=!1,Ma=a.noop,fb,sb,lb=[],q=a.extend({},a.terminal.defaults,{name:f.selector},h||{}),ea=new function(b){b&&(this.storage={});this.set=function(d,g){b?this.storage[d]=g:a.Storage.set(d,g)};this.get=function(d){return b?this.storage[d]:a.Storage.get(d)};this.remove=function(d){b?delete this.storage[d]:
a.Storage.remove(d)}}(q.memory),fa=q.enabled,Ea=!1,Va=!1,Wa=!0,H,E,B,N,J;a.extend(f,a.omap({id:function(){return ub},clear:function(){hb.html("");X=[];try{q.onClear.call(f,f)}catch(l){P(l,"onClear")}f.attr({scrollTop:0});return f},export_view:function(){var b={};if(a.isFunction(q.onExport))try{b=q.onExport.call(f)}catch(r){P(r,"onExport")}return a.extend({},{focus:fa,mask:E.mask(),prompt:f.get_prompt(),command:f.get_command(),position:E.position(),lines:nb.clone_object(X),interpreters:H.clone(),history:E.history().data},
b)},import_view:function(b){if(T)throw Error(sprintf(M().notWhileLogin,"import_view"));if(a.isFunction(q.onImport))try{q.onImport.call(f,b)}catch(r){P(r,"onImport")}za(function(){f.set_prompt(b.prompt);f.set_command(b.command);E.position(b.position);E.mask(b.mask);b.focus&&f.focus();X=nb.clone_object(b.lines);H=b.interpreters;q.importHistory&&E.history().set(b.history);Ya()});return f},save_state:function(d,g,h){"undefined"!==typeof h?ca[h]=f.export_view():ca.push(f.export_view());a.isArray(na)||
(na=[]);d===b||g||(na.push([ub,ca.length-1,d]),F())},exec:function(b,d,g){var l=g||new a.Deferred;ja(function(){a.isArray(b)?function ba(){var a=b.shift();a?f.exec(a,d).done(ba):l.resolve()}():Va?lb.push([b,d,l]):pa(b,d,!0).done(function(){l.resolve(f)})});return l.promise()},autologin:function(a,b,d){f.trigger("terminal.autologin",[a,b,d]);return f},login:function(d,g,h,k){function l(d,l,n){if(l){for(;f.level()>p;)f.pop(b,!0);q.history&&E.history().enable();n=f.prefix_name(!0)+"_";ea.set(n+"token",
l);ea.set(n+"login",d);T=!1;a.isFunction(h)&&h()}else g?(n||f.error(M().wrongPasswordTryAgain),f.pop(b,!0).set_mask(!1)):(T=!1,n||f.error(M().wrongPassword),f.pop(b,!0).pop(b,!0)),a.isFunction(k)&&k();f.off("terminal.autologin")}Za.push([].slice.call(arguments));if(T)throw Error(sprintf(M().notWhileLogin,"login"));if(!a.isFunction(d))throw Error(M().loginIsNotAFunction);T=!0;if(f.token()&&1===f.level()&&!Wa)T=!1,f.logout(!0);else if(f.token(!0)&&f.login_name(!0))return T=!1,a.isFunction(h)&&h(),f;
q.history&&E.history().disable();var p=f.level();f.on("terminal.autologin",function(a,b,d,g){l(b,d,g)});f.push(function(a){f.set_mask(q.maskChar).push(function(b){try{d.call(f,a,b,function(b,d){l(a,b,d)})}catch(ra){P(ra,"AUTH")}},{prompt:M().password+": ",name:"password"})},{prompt:M().login+": ",name:"login"});return f},settings:function(){return q},before_cursor:function(a){var b=E.position(),d=E.get().substring(0,b);b=d.split(" ");if(a)if(1===b.length)d=b[0];else{var g=(a=d.match(/(\\?")/g))?a.filter(function(a){return!a.match(/^\\/)}).length:
0;a=d.match(/'/g);if(1===(a?a.length:0)%2)d=d.match(/('[^']*)$/)[0];else if(1===g%2)d=d.match(/("(?:[^"]|\\")*)$/)[0];else for(d=b[b.length-1],Xa=b.length-1;0<Xa;Xa--)if(a=b[Xa-1],"\\"===a[a.length-1])d=b[Xa-1]+" "+d;else break}return d},complete:function(b,d){function g(a,b){var d=f.get_command(),c=f.get_position(),e=new RegExp(a+"$");e=d.substring(0,c).replace(e,"");d=d.substring(c);c=b+(k||"");f.set_command(e+c+d);f.set_position((e+c).length)}d=a.extend({word:!0,echo:!1,escape:!0,caseSensitive:!0},
d||{});var l=d.caseSensitive,h=f.before_cursor(d.word).replace(/\\"/g,'"'),k=!1;d.word&&(h.match(/^"/)?k='"':h.match(/^'/)&&(k="'"),k&&(h=h.replace(/^["']/,"")));b=b.slice();q.clear&&-1===a.inArray("clear",b)&&b.push("clear");q.exit&&-1===a.inArray("exit",b)&&b.push("exit");if(0===Da%2)$a=f.before_cursor(d.word);else if(f.before_cursor(d.word)!==$a)return;var p=a.terminal.escape_regex(h);d.escape&&(p=p.replace(/(\\+)(["'() ])/g,function(a,b,d){return d.match(/[()]/)?b+"\\?\\"+d:b+"?"+d}));var n=new RegExp("^"+
p,l?"":"i"),r=function(){for(var a=[],g=b.length;g--;)if(n.test(b[g])){var f=b[g];'"'===k&&(f=f.replace(/"/g,'\\"'));!k&&d.escape&&(f=f.replace(/(["'() ])/g,"\\$1"));l||"mixed"===ka(f)||(h.toLowerCase()===h?f=f.toLowerCase():h.toUpperCase()===h&&(f=f.toUpperCase()));a.push(f)}return a}();if(1===r.length)return d.escape?g(p,r[0]):f.insert(r[0].replace(n,"")+(k||"")),$a=f.before_cursor(d.word),!0;if(1<r.length)if(2<=++Da){if(Da=0,d.echo)return Ua(),p=r.reverse().join("\t"),f.echo(a.terminal.escape_brackets(p),
{keepWords:!0}),!0}else if(p=ta(h,r,l))return g(h,p),$a=f.before_cursor(d.word),!0},commands:function(){return H.top().interpreter},set_interpreter:function(b,d){function g(){f.pause(q.softPause);I(b,!!d,function(b){f.resume();var d=H.top();a.extend(d,b);t(!0)})}"string"===a.type(b)&&d?f.login(Ba(b,d),!0,g):g();return f},greetings:function(){Ia();return f},paused:function(){return Va},pause:function(b){ja(function(){Ma();Va=!0;E.disable(b||yb);b||E.find(".prompt").hidden();a.isFunction(q.onPause)&&
q.onPause.call(f)});return f},resume:function(){ja(function(){Va=!1;fa&&aa.front()===f&&E.enable();E.find(".prompt").visible();var b=lb;lb=[];for(var d=0;d<b.length;++d)f.exec.apply(f,b[d]);f.trigger("resume");(b=A.shift())&&b();ia();a.isFunction(q.onResume)&&q.onResume.call(f)});return f},cols:function(){if(q.numChars)return q.numChars;"undefined"===typeof R&&(R=W(f,V));return R},rows:function(){if(q.numRows)return q.numRows;"undefined"===typeof ha&&(ha=Ra(f,V));return ha},history:function(){return E.history()},
history_state:function(a){function b(){q.historyState=!0;ca.length?1<aa.length()&&f.save_state(null):f.save_state()}a?"undefined"===typeof window.setImmediate?setTimeout(b,0):setImmediate(b):q.historyState=!1;return f},clear_history_state:function(){na=[];ca=[];return f},next:function(){if(1===aa.length())return f;aa.front().disable();var b=aa.rotate().enable(),d=b.offset().top-50;a("html,body").animate({scrollTop:d},500);try{q.onTerminalChange.call(b,b)}catch(C){P(C,"onTerminalChange")}return b},
focus:function(a,b){ja(function(){if(1===aa.length())!1===a?f.disable(b):f.enable(b);else if(!1===a)f.next();else{if(aa.front()!==f&&(aa.forEach(function(a){a!==f&&a.enabled()&&a.disable(b)}),!b))try{q.onTerminalChange.call(f,f)}catch(C){P(C,"onTerminalChange")}aa.set(f)}f.enable(b)});return f},freeze:function(a){za(function(){a?(f.disable(),Ea=!0):(Ea=!1,f.enable())})},frozen:function(){return Ea},enable:function(a){fa||Ea||(R===b&&f.resize(),ja(function(){if(!a&&!fa)try{var d=q.onFocus.call(f,f)}catch(C){P(C,
"onFocus")}if(!a&&d===b||a)fa=!0,f.paused()||E.enable()}));return f},disable:function(a){ja(function(){if(!a&&fa)try{var d=q.onBlur.call(f,f)}catch(C){P(C,"onBlur")}if(!a&&d===b||a)fa=!1,E.disable()});return f},enabled:function(){return fa},signature:function(){for(var a=f.cols(),b=Na.length;b--;){var d=Na[b].map(function(a){return a.length});if(Math.max.apply(null,d)<=a)return Na[b].join("\n")+"\n"}return""},version:function(){return a.terminal.version},cmd:function(){return E},get_command:function(){return E.get()},
set_command:function(a){za(function(){E.set(a)});return f},set_position:function(a,b){za(function(){E.position(a,b)});return f},get_position:function(){return E.position()},insert:function(a,b){if("string"===typeof a)return za(function(){var d=f.is_bottom();E.insert(a,b);(q.scrollOnEcho||d)&&ia()}),f;throw Error(sprintf(M().notAString,"insert"));},set_prompt:function(b){za(function(){ya("prompt",b)&&(a.isFunction(b)?E.prompt(function(a){b(a,f)}):E.prompt(b),H.top().prompt=b)});return f},get_prompt:function(){return H.top().prompt},
set_mask:function(a){za(function(){E.mask(!0===a?q.maskChar:a)});return f},get_output:function(b){return b?X:a.map(X,function(b){return a.isFunction(b[0])?b[0]():b[0]}).join("\n")},resize:function(b,d){if(f.is(":visible")){b&&d&&(f.width(b),f.height(d));b=f.width();d=f.height();if("undefined"!==typeof q.numChars&&"undefined"!==typeof q.numRows)return;V=Ha();var g=W(f,V),h=Ra(f,V);if(g!==R||h!==ha)R=g,ha=h,E.resize(R),Ya(),g=H.top(),a.isFunction(g.resize)?g.resize.call(f,f):a.isFunction(q.onResize)&&
q.onResize.call(f,f),ia()}else f.stopTime("resize"),f.oneTime(500,"resize",function(){f.resize(b,d)});return f},flush:function(){try{var b=f.is_bottom(),d;a.each(ua,function(b,g){1===g?d=a("<div></div>"):a.isFunction(g)?(d.appendTo(hb),g(d)):a("<div/>").html(g).appendTo(d).width("100%")});if(0<=q.outputLimit){var g=0===q.outputLimit?f.rows():q.outputLimit;var h=hb.find("div div");if(h.length+1>g){var k=h.slice(0,h.length-g+1),p=k.parent();k.remove();p.each(function(){var b=a(this);b.is(":empty")&&
b.remove()})}}(q.scrollOnEcho||b)&&ia();ua=[]}catch(K){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(f,K,"TERMINAL (Flush)"):alert("[Flush] "+Ga(K)+"\n"+K.stack)}return f},update:function(a,b){za(function(){0>a&&(a=X.length+a);X[a]?(null===b?X.splice(a,1):X[a][0]=b,Ya()):f.error("Invalid line number "+a)});return f},last_index:function(){return X.length-1},echo:function(b,d){function g(b){try{var g=a.extend({flush:!0,raw:q.raw,finalize:a.noop,keepWords:!1,formatters:!0},d||{});g.raw&&function(a){g.finalize=
function(b){b.addClass("raw");a(b)}}(g.finalize);g.flush&&(ua.length&&f.flush(),ua=[]);Y(b,g);X.push([b,a.extend(g,{exec:!1})]);g.flush&&f.flush()}catch(ba){a.isFunction(q.exceptionHandler)?q.exceptionHandler.call(f,ba,"TERMINAL (echo)"):alert("[Terminal.echo] "+Ga(ba)+"\n"+ba.stack)}}try{d&&a.isFunction(d.finalize)&&d.finalize(a("<div/>")),a.isFunction(b.then)?a.when(b).done(g):g(b)}catch(Z){P(Z,"USER:echo(finalize)")}return f},error:function(b,d){d=a.extend({},d,{raw:!1,formatters:!1});var g=a.terminal.escape_brackets(b).replace(/\\$/,
"&#92;").replace(Db,"]$1[[;;;error]");return f.echo("[[;;;error]"+g+"]",d)},exception:function(b,d){var g=Ga(b);d&&(g="&#91;"+d+"&#93;: "+g);g&&f.error(g,{finalize:function(a){a.addClass("exception message")},keepWords:!0});"string"===typeof b.fileName&&(f.pause(q.softPause),a.get(b.fileName,function(a){var d=b.lineNumber-1;(a=a.split("\n")[d])&&f.error("["+b.lineNumber+"]: "+a);f.resume()},"text"));b.stack&&(g=a.terminal.escape_brackets(b.stack),f.echo(g.split(/\n/g).map(function(a){return"[[;;;error]"+
a.replace(Db,function(a){return"]"+a+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(a){a.addClass("exception stack-trace")},formatters:!1}))},scroll:function(a){a=Math.round(a);if(qa.prop){a>qa.prop("scrollTop")&&0<a&&qa.prop("scrollTop",0);var b=qa.prop("scrollTop")}else a>qa.attr("scrollTop")&&0<a&&qa.attr("scrollTop",0),b=qa.attr("scrollTop");qa.scrollTop(b+a);return f},logout:function(a){if(T)throw Error(sprintf(M().notWhileLogin,"logout"));za(function(){if(a){var d=Za.pop();f.set_token(b,
!0);f.login.apply(f,d)}else if(1===H.size()&&f.token())f.logout(!0);else for(;1<H.size();)f.token()?f.logout(!0).pop().pop():f.pop()});return f},token:function(a){return ea.get(f.prefix_name(a)+"_token")},set_token:function(a,b){var d=f.prefix_name(b)+"_token";"undefined"===typeof a?ea.remove(d,a):ea.set(d,a);return f},get_token:function(a){return f.token(a)},login_name:function(a){return ea.get(f.prefix_name(a)+"_login")},name:function(){return H.top().name},prefix_name:function(a){var b=(q.name?
q.name+"_":"")+ub;a&&1<H.size()&&(a=H.map(function(a){return a.name||""}).slice(1).join("_"))&&(b+="_"+a);return b},read:function(b,d){var g=new a.Deferred;f.push(function(b){f.pop();a.isFunction(d)&&d(b);g.resolve(b)},{prompt:b});return g.promise()},push:function(d,g){ja(function(){function h(){q.onPush.call(f,k,H.top(),f);t()}g=g||{};var l=a.extend({},{infiniteLogin:!1},g);!l.name&&D&&(l.name=D.name);l.prompt===b&&(l.prompt=(l.name||">")+" ");var k=H.top();k&&(k.mask=E.mask());var p=Va;I(d,!!g.login,
function(b){H.push(a.extend({},b,l));!0===l.completion&&(a.isArray(b.completion)?H.top().completion=b.completion:b.completion||(H.top().completion=!1));if(l.login)if(b=a.type(l.login),"function"===b)b=l.infiniteLogin?a.noop:f.pop,f.login(l.login,l.infiniteLogin,h,b);else{if("string"===a.type(d)&&"string"===b||"boolean"===b)b=l.infiniteLogin?a.noop:f.pop,f.login(Ba(d,l.login),l.infiniteLogin,h,b)}else h();!p&&f.enabled()&&f.resume()})});return f},pop:function(d,g){d!==b&&Ua(d);var h=f.token(!0);if(1===
H.size())if(h=H.top(),q.login){g||q.onPop.call(f,h,null,f);a:{if(a.isFunction(q.onBeforeLogout))try{if(!1===q.onBeforeLogout.call(f,f))break a}catch(oa){P(oa,"onBeforeLogout")}Sa();if(a.isFunction(q.onAfterLogout))try{q.onAfterLogout.call(f,f)}catch(oa){P(oa,"onAfterlogout")}f.login(q.login,!0,ab)}if(a.isFunction(q.onExit))try{q.onExit.call(f,f)}catch(oa){P(oa,"onExit")}}else f.error(M().canExitError);else{h&&Sa();var l=H.pop();h=H.top();t();g||q.onPop.call(f,l,h);T&&f.get_prompt()!==M().login+": "&&
(T=!1);if(a.isFunction(l.onExit))try{l.onExit.call(f,f)}catch(oa){P(oa,"onExit")}f.set_mask(h.mask)}return f},option:function(b,d){if("undefined"===typeof d){if("string"===typeof b)return q[b];"object"===typeof b&&a.each(b,function(a,b){q[a]=b})}else q[b]=d;return f},level:function(){return H.size()},reset:function(){za(function(){for(f.clear();1<H.size();)H.pop();ab()});return f},purge:function(){za(function(){var b=f.prefix_name()+"_",d=ea.get(b+"interpreters");d&&a.each(JSON.parse(d),function(a,
b){ea.remove(b+"_commands");ea.remove(b+"_token");ea.remove(b+"_login")});E.purge();ea.remove(b+"interpreters")});return f},destroy:function(){za(function(){E.destroy().remove();hb.remove();vb.remove();a(document).unbind(".terminal_"+f.id());a(window).unbind(".terminal_"+f.id());f.unbind("click wheel mousewheel mousedown mouseup");f.removeData("terminal").removeClass("terminal").unbind(".terminal");q.width&&f.css("width","");q.height&&f.css("height","");a(window).off("blur",va).off("focus",wa);f.find(".terminal-fill").remove();
aa.remove(ub);N&&N.unobserve(f[0]);J&&J.disconnect();f.resizer("unbind");aa.length()||a(window).off("hashchange")});return f},scroll_to_bottom:ia,is_bottom:function(){if(-1===q.scrollBottomOffset)return!1;if(f.is("body")){var b=a(document).height();var d=a(window).scrollTop();var g=window.innerHeight}else b=qa[0].scrollHeight,d=qa.scrollTop(),g=qa.outerHeight();return d+g>b-q.scrollBottomOffset}},function(a,b){return function(){try{return b.apply(f,[].slice.apply(arguments))}catch(C){if("exec"!==
a&&"resume"!==a&&P(C,"TERMINAL"),!q.exceptionHandler)throw C;}}}));!0===q.ignoreSystemDescribe&&(q.describe=!1);q.width&&f.width(q.width);q.height&&f.height(q.height);var qa=f.scroll_element();a(document).bind("ajaxSend.terminal_"+f.id(),function(a,b){ob.push(b)});var vb=a('<div class="terminal-wrapper"/>').appendTo(f);a('<div class="terminal-fill"/>').appendTo(f);var hb=a("<div>").addClass("terminal-output").attr("role","log").appendTo(vb);f.addClass("terminal");if(q.login&&a.isFunction(q.onBeforeLogin))try{!1===
q.onBeforeLogin.call(f,f)&&(Wa=!1)}catch(l){if(P(l,"onBeforeLogin"),!q.exceptionHandler)throw l;}if("string"===typeof g)var ib=g;else if(g instanceof Array)for(var Xa=0,xb=g.length;Xa<xb;++Xa)if("string"===typeof g[Xa]){ib=g[Xa];break}!ib||"string"!==typeof q.login&&!0!==q.login||(q.login=Ba(ib,q.login));aa.append(f);f.on("focus.terminal","textarea",function(a){f.enabled()||a.originalEvent===b||f.focus(!0)});a(document).on("paste.terminal_"+f.id(),function(a){a=a.originalEvent;if(a.clipboardData&&
f.enabled()&&(a=a.clipboardData.items))for(var b=0;b<a.length;b++)if(-1!==a[b].type.indexOf("image")){var d=a[b].getAsFile();d=(window.URL||window.webkitURL).createObjectURL(d);f.echo('<img src="'+d+'"/>',{raw:!0})}});I(g,!!q.login,function(d){function g(b){!a(b.target).closest(".terminal").length&&f.enabled()&&f.disable()}function h(){if(f.is(":visible")){var a=f.width(),b=f.height();sb===b&&fb===a||f.resize();sb=b;fb=a}}function k(){N&&N.unobserve(f[0]);var b;N=new IntersectionObserver(function(){f.is(":visible")?
(f.resizer("unbind").resizer(h),h(),b&&f.enabled()):(b=a.terminal.active()===f&&f.enabled(),f.disable())},{root:document.body});N.observe(f[0])}function l(b){var d=aa.get()[b[0]];if(d&&ub===d.id()&&b[2])try{if(Va){var c=a.Deferred();A.push(function(){return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1]);c.resolve()})});return c.promise()}return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1])})}catch(m){var e=d.settings();a.isFunction(e.exceptionHandler)?e.exceptionHandler.call(f,
m,"EXEC HASH"):(e=a.terminal.escape_brackets($a),d.error("Error while exec with command "+e).exception(m))}}function p(b,d){if(!t){var c=H.top();if(a.isFunction(c.mousewheel)){if(c=c.mousewheel(b,d,f),!1===c)return}else if(a.isFunction(q.mousewheel)&&(c=q.mousewheel(b,d,f),!1===c))return;0<d?f.scroll(-40):f.scroll(40)}}if(q.completion&&"boolean"!==typeof q.completion||!q.completion)d.completion="settings";var v=a.extend({},rb,q.keymap||{});H=new L(a.extend({},q.extra,{name:q.name,prompt:q.prompt,
keypress:q.keypress,keydown:q.keydown,resize:q.onResize,greetings:q.greetings,mousewheel:q.mousewheel,keymap:v},d));E=a("<div/>").appendTo(vb).cmd({prompt:q.prompt,history:q.memory?"memory":q.history,historyFilter:q.historyFilter,historySize:q.historySize,width:"100%",enabled:!1,keydown:wb,keymap:v,clickTimeout:q.clickTimeout,keypress:function(b){var d=H.top();if(fa&&(!Va||!q.pauseEvents)){if(a.isFunction(d.keypress))return d.keypress.call(f,b,f);if(a.isFunction(q.keypress))return q.keypress.call(f,
b,f)}},onCommandChange:function(b){if(a.isFunction(q.onCommandChange))try{q.onCommandChange.call(f,b,f)}catch(S){if(P(S,"onCommandChange"),!q.exceptionHandler)throw S;}ia()},commands:pa});fa&&f.is(":visible")&&!zb?f.focus(b,!0):f.disable();f.oneTime(100,function(){a(document).bind("click.terminal_"+f.id(),g).bind("contextmenu.terminal_"+f.id(),g)});a(window);document.addEventListener("resume",function(){f.disable()});zb?f.click(function(){Ea||(f.enabled()?f.disable():(f.focus(),E.enable()))}):(function(){function b(){if(c.is(".terminal")||
c.is(".terminal-wrapper")){var a=f.get_command().length;f.set_position(a)}else c.closest(".prompt").length&&f.set_position(0);d=0}var d=0,c,e="click_"+f.id();f.mousedown(function(b){c=a(b.target)}).mouseup(function(){if(""===Ab())if(1===++d){if(!Ea)if(fa)f.oneTime(q.clickTimeout,e,b);else E.enable(),d=0}else f.stopTime(e),d=0}).dblclick(function(){d=0;f.stopTime(e)})}(),function(){var a=f.find("textarea");f.on("mousedown.terminal",function(b){if(2===b.originalEvent.button){f.enabled()||f.enable();
b.preventDefault();var c=E.offset();a.css({left:b.pageX-c.left-5,top:b.pageY-c.top-5})}});f.bind("contextmenu",function(){f.oneTime(100,function(){a.css({left:"",top:""})})})}());f.delegate(".exception a","click",function(b){var d=a(this).attr("href");d.match(/:[0-9]+$/)&&(b.preventDefault(),n(d))});f.is(":visible")&&(R=f.cols(),E.resize(R),V||(V=Ha()),ha=Ra(f,V));pb.resolve();q.login?f.login(q.login,!0,ab):ab();f.is(":visible")&&f.resizer(h);var w=!!f.closest("body").length;d=window.MutationObserver||
window.WebKitMutationObserver;window.IntersectionObserver&&(d&&(J=new d(function(){f.closest("body").length?(w||(f.scroll_to_bottom(),k()),w=!0):w&&(w=!1)}),J.observe(document.body,{childList:!0})),w&&k());q.execHash?location.hash?setTimeout(function(){try{var a=location.hash.replace(/^#/,"");na=JSON.parse(decodeURIComponent(a));var b=0;(function e(){var a=na[b++];a?l(a).done(e):Ja=!0})()}catch(c){}}):Ja=!0:Ja=!0;var t=!1;a(document).bind("keydown.terminal_"+f.id(),function(a){a.shiftKey&&(t=!0)}).bind("keyup.terminal_"+
f.id(),function(a){if(a.shiftKey||16===a.which)t=!1});if(a.event.special.mousewheel)f.on("mousewheel",function(a,b){p(a,b);a.preventDefault()});else{var x="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll";f.on(x,function(a){p(a,-("mousewheel"===x?-.025*a.originalEvent.wheelDelta:a.originalEvent.deltaY||a.originalEvent.detail));return!1})}});f.data("terminal",f);return f}});/*
 Autosize 4.0.0
 license: MIT
 http://www.jacklmoore.com/autosize
*/
!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var k={exports:{}};b(k.exports,k);a.autosize=k.exports}}(this,function(a,b){function k(a){function b(){var b=window.getComputedStyle(a,null);"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal");x="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):parseFloat(b.borderTopWidth)+
parseFloat(b.borderBottomWidth);isNaN(x)&&(x=0);v()}function g(b){var g=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=g;a.style.overflowY=b}function h(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function k(){var b=a.style.height,g=h(a),k=document.documentElement&&document.documentElement.scrollTop;a.style.height="";var p=a.scrollHeight+x;return 0===a.scrollHeight?
void(a.style.height=b):(a.style.height=p+"px",Ha=a.clientWidth,g.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(k&&(document.documentElement.scrollTop=k)))}function v(){k();var b=Math.round(parseFloat(a.style.height)),h=window.getComputedStyle(a,null),p="content-box"===h.boxSizing?Math.round(parseFloat(h.height)):a.offsetHeight;if(p!==b?"hidden"===h.overflowY&&(g("scroll"),k(),p="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight):"hidden"!==
h.overflowY&&(g("hidden"),k(),p="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight),W!==p){W=p;b=w("autosize:resized");try{a.dispatchEvent(b)}catch(ia){}}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!p.has(a)){var x=null;var Ha=a.clientWidth;var W=null;var Ra=function(){a.clientWidth!==Ha&&v()},Sa=function(b){window.removeEventListener("resize",Ra,!1);a.removeEventListener("input",v,!1);a.removeEventListener("keyup",v,!1);a.removeEventListener("autosize:destroy",
Sa,!1);a.removeEventListener("autosize:update",v,!1);Object.keys(b).forEach(function(g){a.style[g]=b[g]});p["delete"](a)}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",Sa,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",v,!1);window.addEventListener("resize",Ra,!1);a.addEventListener("input",v,!1);a.addEventListener("autosize:update",v,!1);a.style.overflowX=
"hidden";a.style.wordWrap="break-word";p.set(a,{destroy:Sa,update:v});b()}}function g(a){(a=p.get(a))&&a.destroy()}function h(a){(a=p.get(a))&&a.update()}var p="function"==typeof Map?new Map:function(){var a=[],b=[];return{has:function(b){return-1<a.indexOf(b)},get:function(g){return b[a.indexOf(g)]},set:function(g,h){-1===a.indexOf(g)&&(a.push(g),b.push(h))},"delete":function(g){g=a.indexOf(g);-1<g&&(a.splice(g,1),b.splice(g,1))}}}(),w=function(a){return new Event(a,{bubbles:!0})};try{new Event("test")}catch(v){w=
function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!1),b}}var x=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(x=function(a){return a},x.destroy=function(a){return a},x.update=function(a){return a}):(x=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return k(a,b)}),a},x.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],g),a},x.update=function(a){return a&&Array.prototype.forEach.call(a.length?
a:[a],h),a});b.exports=x});var def_conf={application:{name:"Tooterminal",website:"https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{monitor:"local",terminal:{logging:{favourite:!0,reblog:!0,mention:!0,following:!0},monitor:"local"},status:{}}},config,instances,prompt,term_mode,mode_global,mode_configuration,mode_instance,instance_name,beep_buf,context=new AudioContext,enterCommand=function(a,b){a=a.trim();b.resize(window.innerWidth-
36,window.innerHeight-36);0!==a.length&&!0!==term_mode.execute(a,b)&&b.error(term_mode.result.message)},completion=function(a,b){var k=term_mode.getCompletion(a);1===k.length?$.terminal.active().set_command(term_mode.completion):b(k)},initConfig=function(a){var b=localStorage,k=b.getItem("configuration");config=new ConfigManager(def_conf,k?JSON.parse(k):{});instances=(b=b.getItem("instances"))?JSON.parse(b):{};if(location.search.match(/^\?.+=.+/)){b=location.search.replace(/^\?/,"").split(/[=&]/);
k={};history.replaceState("","",location.pathname);for(var g=0;g<b.length;g+=2)k[b[g]]=b[g+1];k.hasOwnProperty("code")&&instances.hasOwnProperty(k.instance_name)?(instance_name=k.instance_name,instances[instance_name].auth_code=k.code,a.exec("instance "+instance_name)):k.hasOwnProperty("instance")&&instances.hasOwnProperty(k.instance)&&a.exec("instance "+k.instance)}},filterKey=function(a,b){if(63===a.charCode){var k=term_mode.information(b.get_command()).map(function(a){return"undefined"===typeof a.command?
a:"  "+tab(a.command,a.description,22)});k.unshift(b.get_prompt()+b.get_command()+"?");k.push("");more(b,k,!0);var g=b.get_command();b.set_command("");setTimeout(function(){b.set_command(g)},10)}},parseCommand=function(a,b){term_mode.parse(a.replace(/\?$/,""))},load_beep=function(){},count_toot_size=function(){var a=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>a?"#F00":"#bbb").text(a)};
function upload_img(a){var b=new FormData,k=instances[instance_name],g=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+g));b.append("file",a);$.ajax("https://"+k.domain+"/api/v1/media",{type:"POST",contentType:!1,processData:!1,headers:{Authorization:k.token_type+" "+k.access_token},data:b}).then(function(a,b,k){$("#media_"+g).attr("data-id",a.id).attr("data-url",a.text_url);b=new Image;b.onload=function(){$("#media_"+g).attr("src",a.preview_url);$("#toot_box").val($("#toot_box").val()+
" "+a.text_url);autosize.update($("#toot_box"));count_toot_size()};b.onerror=function(a){console.log(a)};b.src=a.preview_url},function(a,b,k){$.terminal.active().error("Media upload error.("+a.status+")");$("#media_"+g).remove();console.log(a)})}var tl;
$(function(){mode_global=new ModeManager(new GlobalModeElement);mode_configuration=new ModeManager(new ConfigurationModeElement);mode_instance=new ModeManager(new InstanceModeElement);term_mode=mode_global;tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:'=== CLI\u753b\u9762\u98a8 \u30de\u30b9\u30c8\u30c9\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 "Tooterminal" ===\n\n\u4f7f\u3044\u65b9\u306f"help"\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f"?"\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n',
login:!1,onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function(a){a.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function(a){return!1},onResume:!1,onCommandChange:parseCommand});$("#toot").on("keydown",function(a){27===a.keyCode?closeTootbox():13===a.keyCode&&a.ctrlKey&&post_status()}).on("paste",function(a){4<=$(".toot_media img").length||"undefined"===typeof a.originalEvent.clipboardData||
"undefined"===typeof a.originalEvent.clipboardData.types||1!==a.originalEvent.clipboardData.types.length||"Files"!==a.originalEvent.clipboardData.types[0]||(a=a.originalEvent.clipboardData.items[0].getAsFile(),upload_img(a))});$("#toot_box").on("dragenter",function(a){console.log(a);a.preventDefault();$("#toot_box").addClass("toot_imghover")}).on("dragover",function(a){console.log(a)}).on("dragleave",function(a){console.log(a);$("#toot_box").removeClass("toot_imghover")}).on("drop",function(a){console.log(a);
a.preventDefault();$("#toot_box").removeClass("toot_imghover");a=a.originalEvent.dataTransfer.files;var b=4-$("#toot_media img").length;b=b<a.length?b:a.length;for(var k=0;k<b;k++)a[k].type.match(/^(video|image)\//)&&upload_img(a[k])});$("#toot_cw").on("keyup",count_toot_size);$("#toot_box").on("keyup",count_toot_size);$("#toot_post").on("click",function(){post_status()});$("#help_close").on("click",function(){$("#help").slideUp("first");$.terminal.active().focus()});$("#reply_close").on("click",
function(a){$("#sid").text("");$("#reply").hide();$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+(?:@(?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+)?\s+/,""))});$(".img_background").on("click",function(){$("#img_view").fadeOut("first");$("#video_view").fadeOut("first");$(".img_background").fadeOut("first");$.terminal.active().enable()});$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("click",".a_acct",function(a){term_mode===mode_instance&&
(a=$(this).text().match(/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+))|(?:@([a-zA-Z0-9_]+)))/),callAPI("/api/v1/accounts/search",{data:{q:a[0],limit:1}}).then(function(a,k,g){$.terminal.active().exec("show user id "+a[0].id+" statuses limit 3").done(function(){$.terminal.active().exec("show user id "+a[0].id)})}))}).on("mouseover",".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").show()}).on("mouseout",
".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").hide()}).on("click",".status",function(a){if(!$(this).hasClass("status_deleted")){$(this).data("sid");if(a.shiftKey){var b="@"+$(this).data("acct").toString();$(this).find(".status_contents")[0].textContent.replace(new RegExp(b,"g"),"").match(/((?:@([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g);$.terminal.active().disable();
$("#toot").slideDown("first");$("#reply").show();$("#sid").text($(this).data("sid"));$("#reply_head").text("reply to: "+$(this).data("dispname"));$("#reply_body").text($(this).find("#status_contents")[0].textContent);$("#toot_box").focus().val("@"+$(this).data("acct")+" "+$(this).data("reply"));$($(this).find(".status_head i")[2]).hasClass("fa-envelope")&&$("#toot_visibility").val("direct")}a.ctrlKey&&favorite(this);a.altKey&&boost(this)}}).on("dblclick",".status",function(a){$.terminal.active().exec("show status id "+
$(this).data("sid"))}).on("click",".status_contents img",function(a){var b=$(this);$("#img_view").attr("src",b.attr("src")).fadeIn("first");"gifv"===b.data("type")?(a=$("#video_view")[0],a.src=b.data("url"),a.loop=!0,a.autoplay=!0,a.muted=!0,a.controls=!0,a.oncanplay=function(){$("#img_view").fadeOut("first")},$("#video_view").fadeIn("first"),$(".img_background").fadeIn("first")):(a=new Image,a.onload=function(){$("#img_view").attr("src",b.data("url"))},a.onerror=function(a){console.log(a)},$(".img_background").fadeIn("first"),
$.terminal.active().disable(),a.src=b.data("url"))}).on("click","[name=cmd_followers]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" followers")}).on("click","[name=cmd_following]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" following")}).on("click","[name=cmd_status_pinned]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" statuses pinned")}).on("keydown",".img_background",function(a){27===a.keyCode&&
$(".img_background").trigger("click")}).on("click",".status_enquete span",function(a){$.terminal.active().echo("\u307e\u3060\u6295\u7968\u3067\u304d\u306a\u3044\u3067\u3059\u3002\u3002\u3002")}).on("click",".toot_media img",function(a,b,k){$(a.target).remove();$("#toot_box").val($("#toot_box").val().replace($(a.target).data("url"),""))}).on("keydown",function(a){65===a.keyCode&&a.altKey&&term_mode===mode_instance&&"none"===$("#toot").css("display")&&$.terminal.active().exec("toot")});autosize($("#toot_box"))});
function makeStatus(a){var b=new Date(a.created_at),k="undefined"!==typeof a.reblog&&null!==a.reblog,g="mention"===a.type,h=k?a.reblog:g?a.status:a;null===h.application?g="":null===h.application.website?g=" via "+h.application.name:(g=$("<a />").text(h.application.name).attr("href",h.application.website).attr("target","_blank").prop("outerHTML"),g=" via "+g);b=(k?$.terminal.format("[[!i;;]reblogged by "+a.account.display_name+" @"+a.account.acct+"]")+"<br />":"")+"[ "+("undefined"===typeof h.account.display_name?
"":h.account.display_name)+" "+$.terminal.format("[[!;;]@"+h.account.acct+"]")+" "+$("<i />").addClass("fa fa-"+(h.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+(h.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===h.visibility?"globe":"unlisted"===h.visibility?"unlock":"private"===h.visibility?"lock":"direct"===h.visibility?"envelope":"question")).attr("aria-hidden",
"true").prop("outerHTML")+(h.in_reply_to_id?" "+$($("<i />").addClass("fa fa-mail-reply")).attr("aria-hidden","true").prop("outerHTML")+" ":"")+" "+b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+" "+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+b.getMilliseconds()).slice(-3)+" ]"+g;a="";if(0<h.mentions.length){for(k=0;k<h.mentions.length;k++)a+="@"+h.mentions[k].acct+" ";a=a.replace("@"+instances[instance_name].user.acct+
" ","")}k=$("<td />").addClass("status_avatar");if("undefined"!==typeof config.find("instances.status.avatar")){k.append($("<img />").attr("name","img_"+h.account.id));var p=h.account.avatar_static;p.match(/^http/)||(p="https://"+instances[instance_name].domain+p);g=new Image;g.onload=function(){$("[name=img_"+h.account.id+"]").attr("src",p)};g.onerror=function(a){console.log(a)};g.src=p}else k.hide();if("undefined"!==typeof h.enquete&&null!==h.enquete){var w=JSON.parse(h.enquete);g=$("<div />").append(w.question.replace(/<p>(.*?)<\/p>/g,
"<p><span>$1"+("enquete"===w.type?"(\u56de\u7b54\u67a0)":"(\u7d50\u679c)")+"</span></p>"));for(var x=$("<div />").addClass("status_"+w.type),v=0;v<w.items.length;v++)"enquete"===w.type?x.append($("<span />").html(w.items[v])):x.append($("<span />").append($("<span />").addClass("progress").text(w.items[v])).append($("<span />").addClass("proceed").css("width",w.ratios[v].toString()+"%")));g.append(x)}else g=h.content,g.match(/^<.+>$/)&&(g=g.replace(/<p>(.*?)<\/p>/g,"<p><span>$1</span></p>"));if(0<
h.media_attachments.length){var G=$("<div />").addClass("status_thumbnail");h.media_attachments.forEach(function(a,b,g){var h=a.preview_url.match(/^https?:\/\//)?a.preview_url:"https://"+instances[instance_name].domain+a.preview_url;b=a.remote_url?a.remote_url:a.url;var k="media_"+a.id;G.append($("<img />").attr("id",k).attr("data-url",b).attr("data-type",a.type));a=new Image;a.onload=function(){$("#"+k).attr("src",h)};a.onerror=function(a){console.log(a)};a.src=h});"undefined"===typeof config.find("instances.status.thumbnail")&&
G.hide()}w=$("<div />").addClass("status_contents").attr("id","status_contents");if(h.sensitive){var y=$("<div />");0<h.spoiler_text.length?(w.append($.terminal.format(h.spoiler_text)),y.append(g)):w.append(g);"undefined"!==typeof G&&y.append(G)}else 0<h.spoiler_text.length?(w.append($.terminal.format(h.spoiler_text)),y=$("<div />"),y.append(g)):w.append(g),"undefined"!==typeof G&&w.append(G);"undefined"!==typeof y&&w.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(y.hide());
y=$("<td />").addClass("status_main").append($("<div />").addClass("status_head").html($.terminal.format(b))).append(w);y=$("<table />").attr("name","id_"+h.id).attr("data-sid",h.id).attr("data-instance",instance_name).attr("data-uid",h.account.id).attr("data-dispname",h.account.display_name).attr("data-acct",h.account.acct).attr("data-fav",h.favorited?"1":"0").attr("data-reb",h.reblogged?"1":"0").attr("data-reply",a).addClass("status").append(k).append(y);config.find("instances.status.separator")&&
y.append('<tr><td colspan="2"><span>'+Array($.terminal.active().cols()-3).join("-")+"</span></td></tr>");return y.prop("outerHTML")}
function make_notification(a){var b="favourite"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.favourite"),k="reblog"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.reblog"),g="follow"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.following"),h="mention"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.mention"),
p="";if(b||k||g||h)b=a.status?$.terminal.escape_brackets($(a.status.content).text()):"(Status was deleted)",100<b.length&&(b=b.slice(0,100)+" ..."),p="Notification! : "+a.type+" << "+a.account.display_name+" "+$.terminal.format("[[!;;]@"+a.account.acct+"]")+"<br />"+(a.status?b:""),p=$("<span />").html(p).addClass("status_notify").prop("outerHTML"),"mention"===a.type&&(p+=makeStatus(a));return p}
function post_status(){var a=$("#toot_box").val().trim(),b=$("#toot_cw").val().trim(),k=$("#toot_visibility").val();k={status:a,visibility:k};var g=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===a.length||0>g||"undefined"===typeof instances[instance_name]&&"undefined"===typeof instances[instance_name].access_token)return!1;0!==b.length&&(k.spoiler_text=b);a=$(".reply #sid").text();""!==a&&(k.in_reply_to_id=a);k.media_ids=[];a=$("#toot_media img");for(b=0;b<a.length;b++)k.media_ids.push($(a[b]).data("id"));
return $.ajax({url:"https://"+instances[instance_name].domain+"/api/v1/statuses",type:"POST",headers:{Authorization:instances[instance_name].token_type+" "+instances[instance_name].access_token},data:k,timeout:5E3}).then(function(a,b,g){a=config.find("instances.visibility");"undefined"===typeof a&&(a="public");$("#toot_cw").val("");$("#toot_visibility").val(a);$("#reply_close").trigger("click");$("#toot_media").html("");$("#toot_box").val("").trigger("keyup").focus();autosize.update($("#toot_box"))},
function(a,b,g){$.terminal.active().error("Toot post error.("+a.status+")");console.log(a)})}function reduce_status(){for(var a=$(".status").parent().parent(),b=a.length-200,k=0;k<b;k++)$(a[k]).remove()}
function callAPI(a,b){b=void 0===b?{}:b;var k="undefined"===typeof b.instance_name?instances[instance_name]:instances[b.instance_name];"undefined"===typeof a?(k=new $.Deffered,k.reject("Undefined path")):"undefined"===typeof k?(k=new $.Deffered,k.reject("No instance")):"undefined"===typeof k.access_token?(k=new $.Deffered,k.reject("No login")):k=$.ajax({url:"https://"+k.domain+a,type:"undefined"!==typeof b.type?b.type:"GET",headers:{Authorization:k.token_type+" "+k.access_token},data:typeof b.data?
b.data:"",dataType:"json",timeout:5E3});return k}
function favorite(a,b){var k=1==$(a).data("fav"),g="/api/v1/statuses/"+$(a).data("sid").toString()+(k?"/unfavourite":"/favourite");"undefined"===typeof b&&(b=$.terminal.active());$($(a).find("i")[0]).removeClass().addClass("fa fa-spinner");callAPI(g,{instance_name:$(a).data("instance"),type:"POST"}).then(function(g,p,w){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[0]).removeClass().addClass("fa fa-"+(g.favourited?"star":"star-o"));$(b).data("fav",g.favourited?
"1":"0")});k===g.favourited&&b.error("favourited missed...")},function(b,g,w){$.terminal.active().error("Favorite failed.("+b.status+")");$($(a).find("i")[0]).removeClass().addClass("fa fa-"+(k?"star":"star-o"));console.log(b)})}function closeTootbox(){$("#sid").text("");$("#reply").hide();$("#toot_box").val("");$("#toot").slideUp("first");$.terminal.active().enable()}
function boost(a){var b=1==$(a).data("reb"),k="/api/v1/statuses/"+$(a).data("sid").toString()+(b?"/unreblog":"/reblog");"undefined"===typeof term&&(term=$.terminal.active());$($(a).find("i")[1]).removeClass().addClass("fa fa-spinner");callAPI(k,{instance_name:$(a).data("instance"),type:"POST"}).then(function(g,h,k){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[1]).removeClass().addClass("fa fa-"+(g.reblogged?"check-circle-o":"retweet"));$(b).data("reb",g.reblogged?
"1":"0")});b===g.reblogged&&term.error("reblogged missed...")},function(g,h,k){$.terminal.active().error("Reblogged failed.("+g.status+")");$($(a).find("i")[1]).removeClass().addClass("fa fa-"+(b?"check-circle-o":"retweet"));console.log(g)})}function tab(a,b,k){var g=escape(a).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x").length;for(a=k<=g?a.substr(0,k-4)+"... ":a;g<k;g++,a+=" ");return a+b}function status_recursive(a,b){new Primrose;ins}
String.prototype.addTab=function(a,b){return tab(a,this,b)};
function more(a,b,k){var g=a.rows(),h=a.get_command(),p=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.echo(b.slice(p,p+g).join("\n"));p+=g;p>b.length&&(a.pop(),k&&a.set_command(h));a.resume()},keydown:function(a,x){switch(a.keyCode){case 81:x.pop();k&&x.set_command(h);break;case 13:x.echo(b.slice(p,p+1).join("\n"));p++;p>b.length&&(x.pop(),k&&x.set_command(h));break;default:x.echo(b.slice(p,p+g).join("\n")),p+=g,p>b.length&&(x.pop(),k&&x.set_command(h)),x.set_command("")}return!1}})}
function begin(a,b,k,g){var h;for(h=0;h<b.length&&!b[h].match(g);h++);more(a,b.slice(h),k,g)}function include(a,b,k,g){for(var h=[],p=0;p<b.length;p++)b[p].match(g)&&h.push(b[p]);more(a,h,k)}function exclude(a,b,k,g){for(var h=[],p=0;p<b.length;p++)b[p].match(g)||h.push(b[p]);more(a,h,k)};var ModeManager=function(){function a(a){this.element=a;this.dataset=a.dataset;this.parse("")}a.prototype.execute=function(a,k){var b=this.parse(a);return b.is_parsed?"1001"==b.code?!0:""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"!==typeof b.cmd_list[0].execute?(console.log("ElementError: Undefined execution function."),12034):b.cmd_list[0].execute(k,this):(console.log("AnalyzeError: "+b.message),b.code)};a.prototype.getCompletion=function(a){a=
this.result.cmd_list;for(var b=[],g=0;g<a.length;g++)b.push("paramater"==a[g].type?"<"+a[g].name+">":"number"==a[g].type?"["+a[g].name+"]":a[g].name);return b};a.prototype.information=function(a){var b=this.parse(a).cmd_list;a=["Exec commands:"];for(var g,h=0;h<b.length;h++){if("paramater"==b[h].type)g="<"+b[h].name+">";else if("number"==b[h].type){g=parseInt(b[h].max);var p=parseInt(b[h].min);g="<"+(isNaN(p)?"":p)+"-"+(isNaN(g)?"":g)+">"}else g=b[h].name;a.push({command:g,description:b[h].description})}b=
this.line_parsed[this.line_parsed.length-1];"undefined"!==typeof b&&"function"===typeof b.execute&&"paramater"!==b.type&&"number"!==b.type&&(2===a.length&&a.pop(),a.push({command:"<cr>",description:""}));return a};a.prototype.parse=function(a,k){void 0===k&&(k=0);this.line=a;this.line_split=a.replace(/ +/g," ").split(" ");this.line_parsed=[];this.is_parsed=!0;this.err_code=0;this.err_msg="";this.position=k;this.completion="";this.cmd_list=this.dataset;this.paramaters={};this.optional={};var b,h="";
if(0>=a.length)return this.result;if(a.match(/^\s*!/))return this.is_parsed=!0,this.err_code=4097,this.err_msg="comment",this.result;for(b=this.position;b<=a.length;b++){var p=a.charAt(b);if(" "===p){for(h="";p=a.charAt(++b)," "===p&&""!==p;);this.completion=a.substring(0,b);if(1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===typeof this.cmd_list[0].children?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938;this.err_msg='% Ambiguous command:  "'+
this.line+'"';break}}if(""===p)break;h+=p;p=[];for(var w=0;w<this.cmd_list.length;w++)if("command"===this.cmd_list[w].type)this.cmd_list[w].name.match(new RegExp("^"+h,"i"))&&p.push(this.cmd_list[w]);else if("number"===this.cmd_list[w].type){var x=parseInt(h),v=parseInt(this.cmd_list[w].max),G=parseInt(this.cmd_list[w].min);0===h.length?p.push(this.cmd_list[w]):isNaN(x)||!isNaN(v)&&v<x||!isNaN(G)&&G>x||p.push(this.cmd_list[w])}else if("paramater"===this.cmd_list[w].type)p.push(this.cmd_list[w]);else if("description"===
this.cmd_list[w].type){if(1===this.cmd_list.length){b=a.length;break}}else return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[w].type+"'",this.result;this.cmd_list=p;if(0===this.cmd_list.length){this.is_parsed=!1;this.err_code=7937;for(h="";h.length<b;h+=" ");h+=$.terminal.active().get_prompt().replace(/\S/g," ");this.err_msg=h+"^\n% Invalid input detected at '^' marker.";this.cmd_list=[];break}}this.position=b;if(1===this.cmd_list.length)for(this.line_parsed.push(this.cmd_list[0]),
"undefined"===typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command."),b=0;b<this.line_parsed.length;b++){if("paramater"===this.line_parsed[b].type||"number"===this.line_parsed[b].type)this.paramaters[this.line_parsed[b].name]=this.line_split[b];this.line_parsed[b].hasOwnProperty("optional")&&(this.optional[this.line_parsed[b].optional]=!0)}this.completion=1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+(this.cmd_list[0].name+
" "):this.line;return this.result};Object.defineProperty(a.prototype,"func_name",{get:function(){if(0!==this.err_code)return"";var a=this.line_parsed[this.line_parsed.length-1];return"undefined"===typeof a.execute?"":a.execute},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"result",{get:function(){return{is_parsed:this.is_parsed,cmd_list:this.cmd_list,code:this.err_code.toString(16),message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0});
a.prototype.debug=function(){console.log("**************************************************");console.log("===== line");console.log(this.line);console.log("===== line_parsed");console.log(this.line_parsed);console.log("===== is_parsed");console.log(this.is_parsed);console.log("===== err_code");console.log(this.err_code.toString(16));console.log("===== err_msg");console.log(this.err_msg);console.log("===== line.length");console.log(this.line.length);console.log("===== position");console.log(this.position);
console.log("===== completion");console.log(this.completion);console.log("===== dataset");console.log(this.dataset);console.log("===== cmd_list");console.log(this.cmd_list)};return a}(),ConfigManager=function(){function a(a,k){this["default"]=JSON.parse(JSON.stringify(a));this.config=k?k:a;this.config=Object.assign(a,this.config)}a.prototype.find=function(a){"string"===typeof a&&(a=a.split("."));if(Array.isArray(a)){for(var b=this.config,g=0;g<a.length;g++)if("undefined"!==typeof b[a[g]])b=b[a[g]];
else{b=void 0;break}if("undefined"!==typeof b)return b;b=this["default"];for(g=0;g<a.length&&(b=b[a[g]],"undefined"!==typeof b);g++);return b}};a.prototype.write=function(a,k){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,h,p=0;p<a.length-1;p++)h=a[p],"undefined"===typeof b[h]&&(b[h]={}),b=b[h];h=a.pop();b[h]=k;return!0};a.prototype.erase=function(a){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,g,h=0;h<a.length-
1;h++){g=a[h];if("undefined"===typeof b[g])return!0;b=b[g]}g=a.pop();delete b[g];return!0};return a}();var GlobalModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5b9a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-config",description:"\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-config",description:"\u4fdd\u5b58\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",
execute:this.show_startup_config},{type:"command",name:"version",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73fe\u5728\u6642\u523b\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_clock}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002",execute:this.entry_instance}]},{type:"command",name:"delete",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d",execute:this.delete_instance}]}]},{type:"command",name:"configure",
description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",children:[{type:"command",name:"terminal",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",
execute:this.clear},{type:"command",name:"write",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory,children:[{type:"command",name:"memory",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002",children:[{type:"command",name:"display-size",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u30b5\u30a4\u30ba\u3092\u81ea\u52d5\u8abf\u6574\u3057\u307e\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30d8\u30eb\u30d7\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.help}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.show_running_config=function(a,k){var b=JSON.stringify(config.config,null,"    ");a.echo(b);return!0};a.prototype.show_startup_config=function(a,k){var b;(b=localStorage.getItem("configuration"))?(b=JSON.parse(b),b=JSON.stringify(b,null,"    ")):
b="startup-config is not present";a.echo(b);return!0};a.prototype.show_version=function(a,k){var b=new Date("2017-9-13");a.echo("Mastodon Client Tooterminal, Version 0.3.4, RELEASE SERVICE(Beta)");a.echo("Technical Support: https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md");a.echo("Copyright (c) 2017- by shiroma@mstdn.jp");a.echo("Updated "+b.toDateString()+" by shiroma@mstdn.jp");a.echo("<br>",{raw:!0});a.echo("Powered by:");a.echo("jQuery ("+$.fn.jquery+")");a.echo("https://jquery.org");
a.echo("jQuery Terminal Emulator Plugin ("+$.terminal.version+")");a.echo("http://terminal.jcubic.pl");a.echo("autosize (4.0.0)");a.echo("http://www.jacklmoore.com/autosize");a.echo("<br>",{raw:!0});a.echo("License info:");a.echo("Tooterminal, jQuery, jQuery Terminal Emulator Plugin, autosize is licensed by MIT LICENSE");a.echo("https://tldrlegal.com/license/mit-license");return!0};a.prototype.reset_display_size=function(a,k){a.resize(window.innerWidth-36,window.innerHeight-36);return!0};a.prototype.show_instance_statistics=
function(a,k){var b=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],h=0;for(ins in instances)b.push(("| "+("undefined"!==typeof instances[ins].user?"@"+instances[ins].user.username:"")).addTab("|  "+(instances[ins].application.scopes.read?"r":"-")+(instances[ins].application.scopes.write?"w":"-")+(instances[ins].application.scopes.follow?"f":"-"),8).addTab("| "+instances[ins].domain,30).addTab(ins,10)),h++;b.push("--------------------------------------------------------------------");
b.push(" \u767b\u9332\u4ef6\u6570: "+h+"\u4ef6");b.push("");a.echo(b.join("\n"));return!0};a.prototype.show_instance_detail=function(a,k){var b=k.paramaters.instance_name;if("undefined"===typeof instances[b])return a.error("instance has no regist"),!1;var h=instances[b];b=["Instance",tab("Name:",b,15),tab("Domain:",h.domain,15),tab("Application:",h.application.name,15),"","Scopes",tab("Read:",h.application.scopes.read,15),tab("Write:",h.application.scopes.write,15),tab("Follow:",h.application.scopes.follow,
15),""];more(a,b,!0);return!0};a.prototype.entry_instance=function(a,k){instance_name=k.paramaters.instance_name;var b=instances[instance_name];if("undefined"===typeof b)a.push(regist_instance,{prompt:"Input instance domain: "});else if(b.hasOwnProperty("auth_code"))console.log(b),a.pause(),$.ajax({url:"https://"+b.domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",client_id:b.client_id,client_secret:b.client_secret,code:b.auth_code,redirect_uri:b.application.uris}}).then(function(a,
g,h){b.access_token=a.access_token;b.token_type=a.token_type;localStorage.setItem("instances",JSON.stringify(instances));delete b.auth_code;return callAPI("/api/v1/accounts/verify_credentials")},function(g,h,k){a.error("User token updating error.("+g.status+")");delete b.auth_code;console.log(g)}).then(function(g,h,k){a.echo("Hello! "+g.display_name+" @"+g.username);b.user=g;localStorage.setItem("instances",JSON.stringify(instances));a.resume();g=b.user.username;g+="@"+b.domain+"# ";a.push(enterCommand,
{name:"instance",prompt:g,onStart:function(){term_mode=mode_instance;load_beep()},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})},function(g,h,k){h="@"+b.domain+"# ";console.log(g);a.error("Getting user status failed.("+g.status+")");a.echo("Enter 'login' and reflesh your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:h,onStart:function(){term_mode=mode_instance;load_beep()},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})});else if(b.hasOwnProperty("access_token"))a.pause(),
callAPI("/api/v1/accounts/verify_credentials").then(function(g,h,k){a.echo("Hello! "+g.display_name+" @"+g.username);b.user=g;localStorage.setItem("instances",JSON.stringify(instances));a.resume();g=b.user.username;g+="@"+b.domain+"# ";delete b.auth_code;a.push(enterCommand,{name:"instance",prompt:g,onStart:function(){term_mode=mode_instance;load_beep()},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})},function(g,h,k){h="@"+b.domain+"# ";console.log(g);a.error("Getting user status failed.("+
g.status+")");a.echo("Enter 'login' and reflesh your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:h,onStart:function(){term_mode=mode_instance;load_beep()},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})});else{var h="@"+b.domain+"# ";a.echo("Enter 'login' and regist your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:h,onStart:function(){term_mode=mode_instance;load_beep()},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})}return!0};
a.prototype.delete_instance=function(a,k){var b=k.paramaters.instance_name,h='Instance "'+b+'" registration will delete! Continue? [confirm]';if("undefined"===typeof instances[b])return a.error("no instance registration."),!1;a.push(function(g){g=localStorage;delete instances[b];g.setItem("instances",JSON.stringify(instances));a.echo("[OK]");a.echo("Erase of instance: complete");a.pop()},{prompt:h,keypress:function(a,b){b.set_command("");b.echo(h+a.key);b.echo("File system erase is not confirmed or Could not be completed");
b.pop()}});return!0};a.prototype.configure_terminal=function(a,k){a.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",onStart:function(){term_mode=mode_configuration},onExit:function(){term_mode=mode_global},exit:!0});return!0};a.prototype.write_memory=function(a,k){var b=localStorage;a.echo("Building configuration...");b.setItem("configuration",JSON.stringify(config.config));a.echo("[OK]");return!0};a.prototype.write_erase=function(a,k){a.push(function(b){localStorage.removeItem("configuration");
a.echo("[OK]");a.echo("Erase of nvram: complete");a.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",keypress:function(a,b){b.set_command("");b.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}})};a.prototype.reload=function(a,k){location.reload();return!0};a.prototype.clear=function(a,k){a.clear();return!0};a.prototype.show_clock=
function(a,k){a.echo(Date().toString());return!0};a.prototype.help=function(a,k){$("#help").slideDown("first");a.disable();$(document).on("keydown.help",function(a){27===a.keyCode&&$("#help_close").trigger("click")});return!0};return a}(),cnt,regist_instance=function(a,b){a=a.trim();if(!a.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/))b.error("domain couldn't unrecognize");else if(0<a.length){b.pause();var k=location.origin+location.pathname;console.log(k);$.ajax({url:"https://"+
a+"/api/v1/apps",dataType:"json",type:"POST",data:{client_name:config.find("application.name"),redirect_uris:k,website:config.find("application.website"),scopes:(config.find("application.scopes.read")?"read ":"")+(config.find("application.scopes.write")?"write ":"")+(config.find("application.scopes.follow")?"follow":"")}}).then(function(g,h,k){h=g.redirect_uri+"?instance_name="+instance_name;instances[instance_name]=config.find("instances");instances[instance_name].client_id=g.client_id;instances[instance_name].client_secret=
g.client_secret;instances[instance_name].domain=a;instances[instance_name].application=config.find("application");instances[instance_name].application.uris=h;g="@"+instances[instance_name].domain+"# ";b.echo("New instance registed. enter 'login' and regist your access_token");localStorage.setItem("instances",JSON.stringify(instances));b.resume();b.push(enterCommand,{name:"instance",prompt:g,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global},exit:!1})},
function(g,h,k){b.error('Failed to connect the instance "'+a+'"');b.resume();console.log(g)})}b.pop()};var ConfigurationModeElement=function(){function a(){this._cmd_mode="configuration";this._dataset=[{type:"command",name:"application",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u767b\u9332\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d",
execute:this.set_paramater}]},{type:"command",name:"website",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3Web\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"URL",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"read",description:"\u8aad\u307f\u53d6\u308a",execute:this.set_default},
{type:"command",name:"write",description:"\u66f8\u304d\u8fbc\u307f",execute:this.set_default},{type:"command",name:"follow",description:"\u30d5\u30a9\u30ed\u30fc",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",
name:"posts",min:1,max:40,description:"\u8868\u793a\u4ef6\u6570(\u30c7\u30d5\u30a9\u30eb\u30c820)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",
description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},
{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default}]}]},{type:"command",name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_object,children:[{type:"command",name:"animation",description:"\u5e38\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"mouseover",description:"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_true},{type:"command",name:"separator",description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"public",description:"\u516c\u958b",execute:this.set_command},{type:"command",name:"unlisted",description:"\u672a\u53ce\u8f09",execute:this.set_command},{type:"command",name:"private",description:"\u975e\u516c\u958b",execute:this.set_command},{type:"command",name:"direct",description:"\u30c0\u30a4\u30ec\u30af\u30c8",execute:this.set_command}]}]},
{type:"command",name:"no",description:"\u8a2d\u5b9a\u306e\u524a\u9664\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u884c\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",
execute:this.set_false,children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",
execute:this.set_false},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false}]}]},{type:"command",name:"broadcast-to",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",
name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"separator",
description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default}]}]}]},{type:"command",name:"exit",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",
execute:this.exit_configuration}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.set_paramater=function(a,k){for(var b=[],h=0;h<k.line_parsed.length-1;h++)b.push(k.line_parsed[h].name);return config.write(b,k.paramaters.string)};a.prototype.set_default=function(a,k){"no"===k.line_parsed[0].name&&k.line_parsed.shift();
for(var b=[],h=0;h<k.line_parsed.length-1;h++)b.push(k.line_parsed[h].name);return config.erase(b)};a.prototype.set_number=function(a,k){a.echo("executed!");return!0};a.prototype.set_true=function(a,k){"no"===k.line_parsed[0].name&&k.line_parsed.shift();for(var b=[],h=0;h<k.line_parsed.length;h++)b.push(k.line_parsed[h].name);return config.write(b,!0)};a.prototype.set_false=function(a,k){"no"===k.line_parsed[0].name&&k.line_parsed.shift();for(var b=[],h=0;h<k.line_parsed.length;h++)b.push(k.line_parsed[h].name);
return config.write(b,!1)};a.prototype.set_command=function(a,k){for(var b=[],h=0;h<k.line_parsed.length-1;h++)b.push(k.line_parsed[h].name);return config.write(b,k.line_parsed.pop().name)};a.prototype.set_object=function(a,k){for(var b=[],h=0;h<k.line_parsed.length;h++)b.push(k.line_parsed[h].name);return"object"===typeof config.find(b)?!0:config.write(b,{})};a.prototype.set_broadcast=function(a,k){a.echo("executed!");return!0};a.prototype.exit_configuration=function(a,k){a.pop();return!0};return a}();var ws=[],InstanceModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"toot",description:"\u66f8\u304d\u8fbc\u307f\u3092\u6295\u7a3f\u3057\u307e\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot},{type:"command",name:"unlisted",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u672a\u53ce\u8f09" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',
execute:this.toot},{type:"command",name:"private",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u975e\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot}]},{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"user",description:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_user,children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",
children:[{type:"number",name:"userid",min:1,max:9999999,description:"\u30e6\u30fc\u30b6ID",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,
max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance},{type:"command",name:"authentication",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_authentication},{type:"command",name:"timeline",description:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",
execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",
name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0",children:[{type:"paramater",name:"tag_name",description:"\u30bf\u30b0\u540d",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]}]}]},{type:"command",name:"notifications",description:"\u901a\u77e5\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_notifications,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u901a\u77e5\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u901a\u77e5\u6570(\u521d\u671f\u502420)",execute:this.show_notifications}]}]}]},{type:"command",name:"statuses",description:"\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"id",description:"\u30c8\u30a5\u30fc\u30c8ID\u3092\u6307\u5b9a",children:[{type:"number",name:"status_id",min:1,max:9999999999,description:"\u30c8\u30a5\u30fc\u30c8ID",execute:this.show_status_id}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_statuses}]}]},{type:"command",name:"search",description:"\u30e6\u30fc\u30b6\u30fc\u691c\u7d22\u3092\u884c\u3044\u307e\u3059",children:[{type:"paramater",name:"query",
description:"\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",execute:this.search_query}]},{type:"command",name:"login",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002",execute:this.login},{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"on_monitor",children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"no",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"no_monitor",
children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"monitor",description:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.monitor,children:[]}]}]},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.login=function(a,k){var b="https://"+instances[instance_name].domain+"/oauth/authorize?response_type=code&client_id="+instances[instance_name].client_id+"&redirect_uri="+encodeURIComponent(instances[instance_name].application.uris)+"&scope="+(instances[instance_name].application.scopes.read?"read ":"")+(instances[instance_name].application.scopes.write?
"write ":"")+(instances[instance_name].application.scopes.follow?"follow":"");location.href=b;return!0};a.prototype.terminal_monitor=function(a,k){if(!0===k.optional.on_monitor&&(0===ws.length||ws[0].readyStatus>=WebSocket.CLOSING)){monitor="undefined"===typeof k.line_parsed[2]?config.find("instances.terminal.monitor"):"tag"===k.line_parsed[2].name?k.paramaters.hashtag:k.line_parsed[2].name;var b="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+
"&stream=user";"home"===monitor?(b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event&&!0===config.find("instances.terminal.logging.delete")?(b=b.payload,a.error("deleted ID:"+b),$("[name=id_"+b+"]").addClass("status_deleted")):"notification"===b.event?(b=JSON.parse(b.payload),a.echo(make_notification(b),{raw:!0}),beep_buf&&(b=context.createBufferSource(),b.buffer=beep_buf,b.connect(context.destination),b.start(0))):"update"===b.event&&(b=JSON.parse(b.payload),b=makeStatus(b),
a.echo(b,{raw:!0}));reduce_status()},b.onopen=function(){a.echo("Home Streaming start.")},b.onerror=function(b){a.error("Home Streaming error. closed.");console.log(b)},b.onclose=function(){a.echo("Home Streaming closed.")}):(b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"notification"===b.event&&(b=JSON.parse(b.payload),a.echo(make_notification(b),{raw:!0}))},b.onopen=function(){a.echo("Notification Streaming start.")},b.onerror=function(a){console.warn(a)},b.onclose=function(){a.echo("Notification Streaming closed.")},
ws.push(b),b="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+("local"===monitor?"&stream=public:local":"public"===monitor?"&stream=public":"&stream=hashtag&tag="+monitor),b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event&&!0===config.find("instances.terminal.logging.delete")?(b=b.payload,a.error("deleted ID:"+b),$("[name=id_"+b+"]").addClass("status_deleted")):"update"===b.event&&(b=JSON.parse(b.payload),
b=makeStatus(b),a.echo(b,{raw:!0}));reduce_status()},b.onopen=function(){a.echo(monitor+" Streaming start.")},b.onerror=function(a){console.warn(a)},b.onclose=function(){a.echo(monitor+" Streaming closed.")});ws.push(b)}else if(!0===k.optional.no_monitor){for(b=0;b<ws.length;b++)ws[b].close(),ws[b]=void 0;ws=[]}};a.prototype.toot=function(a,k){var b="undefined"!==typeof k.line_parsed[1]?k.line_parsed[1].name:config.find("instances.visibility");"undefined"===typeof b&&(b="public");$("#toot_visibility").val(b);
$("#toot").slideDown("first");$("#toot_box").focus();a.focus(!1)};a.prototype.monitor=function(a,k){instances[instance_name].monitor="tag"===k.line_parsed[1].name?k.paramaters.hashtag:k.line_parsed[1].name;localStorage.setItem("instances",JSON.stringify(instances))};a.prototype.show_user=function(a,k){a.pause();("undefined"===typeof k.line_parsed[2]||"self"===k.line_parsed[2].name?callAPI("/api/v1/accounts/verify_credentials",{type:"GET"}):callAPI("/api/v1/accounts/"+k.paramaters.userid,{type:"GET"})).then(function(b,
h,k){h=new Date(b.created_at);k=parseInt((Date.now()-h.getTime())/6E4);var g=k%60,p=(k=(k-g)/60)%24,v=(k=(k-p)/24)%7,G=(k-v)/7;a.echo(b.display_name+" ID:"+b.id+(b.locked?" is locked":" is unlocked"),{flush:!1});a.echo("Username is "+b.username+", Fullname is "+b.acct,{flush:!1});a.echo("Created at "+h.toString(),{flush:!1});a.echo("Uptime is "+G+" weeks, "+v+" days, "+p+" hours, "+g+" minutes ("+k+" days have passed)",{flush:!1});a.echo(b.statuses_count+" statuses posted, "+$("<a />").attr("name",
"cmd_following").attr("data-uid",b.id).text(b.following_count+" accounts are following").prop("outerHTML")+", "+$("<a />").attr("name","cmd_followers").attr("data-uid",b.id).text(b.followers_count+" accounts are followed").prop("outerHTML"),{raw:!0,flush:!1});a.echo("1 day toot rate "+parseInt(b.statuses_count/k)+" posts/day",{flush:!1});a.echo($.terminal.format("Note:"+b.note),{raw:!0,flush:!1});a.echo("URL: "+b.url,{raw:!1,flush:!1});return callAPI("/api/v1/accounts/"+b.id+"/statuses",{data:{pinned:!0}})},
function(b,h,k){console.log(b);JSON.parse(b.responseText);a.echo("Getting user data failed.("+b+")");a.resume()}).then(function(b,h,k){if(0<b.length&&b[0].pinned)for(a.echo("<br />",{raw:!0,flush:!1}),a.echo("[[ub;;]Pinned statuses]",{flush:!1}),h=0;h<b.length;h++)if(2<h){b=$("<a />").attr("name","cmd_status_pinned").attr("data-uid",b[h].account.id).text("... and more pinned status");a.echo(b.prop("outerHTML"),{raw:!0,flush:!1});break}else a.echo(makeStatus(b[h]),{raw:!0,flush:!1});a.echo("[OK]",
{flush:!1});a.flush();a.resume()},function(b,h,k){console.log(b);JSON.parse(b.responseText);a.resume()})};a.prototype.search_query=function(a,k){a.pause();callAPI("/api/v1/search",{type:"GET",data:{q:k.paramaters.query}}).then(function(b,h,k){h=15;for(k=0;k<b.accounts.length;k++)h<b.accounts[k].acct.length&&(h=b.accounts[k].acct.length);h+=7;for(k="---------------";k.length<h;k+="-");k+="----------------------------";var g=["Accounts:","| display name".addTab("| account name",h).addTab("id",9),k];
for(k=0;k<b.accounts.length;k++)g.push(("| "+b.accounts[k].display_name).addTab("| @"+b.accounts[k].acct,h).addTab(b.accounts[k].id,9));g.push("----------------------------------------------------------");g.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.accounts.length+"\u4ef6");g.push("");g.push("Hash tags:");g.push("-----------------------------------");for(k=0;k<b.hashtags.length;k++)g.push("#"+b.hashtags[k]);g.push("-----------------------------------");g.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.hashtags.length+
"\u4ef6");a.echo(g.join("\n"));a.resume()},function(b,h,k){a.error("Search request is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_instance=function(a,k){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){a.echo("Instance name: "+b.title,{flush:!1});a.echo("Version: "+b.version,{flush:!1});a.echo("Description: "+b.description,{flush:!1});a.echo("E-mail: "+b.email,{flush:!1});a.echo("URI: "+b.uri,{flush:!1});a.flush();a.resume()},function(b,h,k){a.error("Getting instance data is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.show_authentication=function(a,k){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,k){console.log(b);a.resume()})};a.prototype.exit=function(a,k){a.pop()};a.prototype.show_statuses=function(a,k){a.pause();var b="undefined"!==typeof k.paramaters.post_limits&&0<k.paramaters.post_limits&&40>=k.paramaters.post_limits?k.paramaters.post_limits:20;if("timeline"===
k.line_parsed[1].name){var h="undefined"===typeof k.line_parsed[2]?"local":k.line_parsed[2].name,p="/api/v1/timelines/"+("local"===h?"public":h);b={limit:b};"local"===h?b.local=!0:"tag"===h&&(p+="/"+k.paramaters.tag_name);b=callAPI(p,{type:"GET",data:b})}else if("user"===k.line_parsed[1].name)if(h=2===k.line_parsed.length||"self"===k.line_parsed[2].name?instances[instance_name].user.id:"id"===k.line_parsed[2].name?k.paramaters.userid:-1,0<h)b={limit:b},k.optional.hasOwnProperty("pinned")&&(b.pinned=
!0),b=callAPI("/api/v1/accounts/"+h+"/statuses",{type:"GET",data:b});else{a.error("no login.");return}else b=callAPI("/api/v1/statuses",{type:"GET",data:{limit:b}});b.then(function(b,g,h){for(g=b.length-1;0<=g;g--)if(!k.optional.pinned||b[g].pinned)h=makeStatus(b[g]),a.echo(h,{raw:!0,flush:!1});a.flush();a.resume()},function(b,g,h){a.error("Getting timeline posts is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_status_id=function(a,k){a.pause();var b=k.paramaters.status_id,
h;callAPI("/api/v1/statuses/"+b,{type:"GET"}).then(function(a,g,k){h=makeStatus(a)+a.favourites_count+" account favourited, "+a.reblogs_count+" account reblogged. <br />";return callAPI("/api/v1/statuses/"+b+"/context",{type:"GET"})}).then(function(b,g,k){for(k=0;k<b.ancestors.length;k++)g=makeStatus(b.ancestors[k]),a.echo(g,{raw:!0,flush:!1});a.echo(h,{raw:!0,flush:!1});for(k=0;k<b.descendants.length;k++)g=makeStatus(b.descendants[k]),a.echo(g,{raw:!0,flush:!1});a.flush();a.resume()},function(b,
g,h){a.error("Getting statuses is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_follows=function(a,k){a.pause();if(2===k.line_parsed.length||"self"===k.line_parsed[2].name){var b=instances[instance_name].user.id;var h=k.line_parsed[3].name}else b=k.paramaters.userid,h=k.line_parsed[4].name;callAPI("/api/v1/accounts/"+b+"/"+h,{type:"GET"}).then(function(b,g,h){g=15;for(h=0;h<b.length;h++)g<b[h].acct.length&&(g=b[h].acct.length);g+=7;var k;for(k="---------------";k.length<g;k+=
"-");k+="----------------------------";var p=["Accounts:","| display name".addTab("| account name",g).addTab("id",9),k];for(h=0;h<b.length;h++)p.push(("| "+b[h].display_name).addTab("| @"+b[h].acct,g).addTab(b[h].id,9));p.push(k);p.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.length+"\u4ef6");p.push("");a.echo(p.join("\n"));a.resume()},function(b,g,h){a.error("Getting account data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_notifications=function(a,k){a.pause();var b={};
k.paramaters.post_limits&&(b.limit=k.paramaters.post_limits);callAPI("/api/v1/notifications",{type:"GET",data:b}).then(function(b,g,k){for(g=b.length-1;0<=g;g--)a.echo(make_notification(b[g]),{raw:!0});a.resume()},function(b,g,k){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.template=function(a,k){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,k){a.error("Getting data is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.clear=function(a,k){a.clear();return!0};return a}();