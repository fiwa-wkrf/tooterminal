/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a,b){b=b||K;var g=b.createElement("script");g.text=a;b.head.appendChild(g).parentNode.removeChild(g)}function d(a){var g=!!a&&"length"in a&&a.length,b=h.type(a);return"function"!==b&&!h.isWindow(a)&&("array"===b||0===g||"number"==
typeof g&&0<g&&g-1 in a)}function e(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function f(a,b,c){return h.isFunction(b)?h.grep(a,function(a,g){return!!b.call(a,g,a)!==c}):b.nodeType?h.grep(a,function(a){return a===b!==c}):"string"!=typeof b?h.grep(a,function(a){return-1<I.call(b,a)!==c}):Wb.test(b)?h.filter(b,a,c):(b=h.filter(b,a),h.grep(a,function(a){return-1<I.call(b,a)!==c&&1===a.nodeType}))}function k(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function m(a){var b={};
return h.each(a.match(Da)||[],function(a,g){b[g]=!0}),b}function p(a){return a}function u(a){throw a;}function n(a,b,c,d){var g;try{a&&h.isFunction(g=a.promise)?g.call(a).done(b).fail(c):a&&h.isFunction(g=a.then)?g.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(tb){c.apply(void 0,[tb])}}function x(){K.removeEventListener("DOMContentLoaded",x);a.removeEventListener("load",x);h.ready()}function C(){this.expando=h.expando+C.uid++}function B(a,b,c){var g;if(void 0===c&&1===a.nodeType)if(g="data-"+b.replace(Xb,
"-$&").toLowerCase(),c=a.getAttribute(g),"string"==typeof c){try{g=c,c="true"===g||"false"!==g&&("null"===g?null:g===+g+""?+g:Ka.test(g)?JSON.parse(g):g)}catch(Ba){}ba.set(a,b,c)}else c=void 0;return c}function Q(a,b,c,d){var g,q=1,y=20,e=d?function(){return d.cur()}:function(){return h.css(a,b,"")},U=e(),f=c&&c[3]||(h.cssNumber[b]?"":"px"),l=(h.cssNumber[b]||"px"!==f&&+U)&&R.exec(h.css(a,b));if(l&&l[3]!==f){f=f||l[3];c=c||[];l=+U||1;do q=q||".5",l/=q,h.style(a,b,l+f);while(q!==(q=e()/U)&&1!==q&&
--y)}return c&&(l=+l||+U||0,g=c[1]?l+(c[1]+1)*c[2]:+c[2],d&&(d.unit=f,d.start=l,d.end=g)),g}function V(a,b){for(var g,c,d=[],q=0,e=a.length;q<e;q++)if(c=a[q],c.style)if(g=c.style.display,b){if("none"===g&&(d[q]=J.get(c,"display")||null,d[q]||(c.style.display="")),""===c.style.display&&Ua(c)){g=q;var f=void 0;var l=c.ownerDocument;var w=c.nodeName;l=(c=Ra[w])?c:(f=l.body.appendChild(l.createElement(w)),c=h.css(f,"display"),f.parentNode.removeChild(f),"none"===c&&(c="block"),Ra[w]=c,c);d[g]=l}}else"none"!==
g&&(d[q]="none",J.set(c,"display",g));for(q=0;q<e;q++)null!=d[q]&&(a[q].style.display=d[q]);return a}function L(a,b){var g;return g="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&e(a,b)?h.merge([a],g):g}function ya(a,b){for(var g=0,c=a.length;g<c;g++)J.set(a[g],"globalEval",!b||J.get(b[g],"globalEval"))}function qa(a,b,c,d,e){for(var g,q,y,f,U=b.createDocumentFragment(),Ba=[],w=0,m=a.length;w<
m;w++)if(g=a[w],g||0===g)if("object"===h.type(g))h.merge(Ba,g.nodeType?[g]:g);else if(Ha.test(g)){q=q||U.appendChild(b.createElement("div"));y=(bb.exec(g)||["",""])[1].toLowerCase();y=D[y]||D._default;q.innerHTML=y[1]+h.htmlPrefilter(g)+y[2];for(y=y[0];y--;)q=q.lastChild;h.merge(Ba,q.childNodes);q=U.firstChild;q.textContent=""}else Ba.push(b.createTextNode(g));U.textContent="";for(w=0;g=Ba[w++];)if(d&&-1<h.inArray(g,d))e&&e.push(g);else if(f=h.contains(g.ownerDocument,g),q=L(U.appendChild(g),"script"),
f&&ya(q),c)for(y=0;g=q[y++];)l.test(g.type||"")&&c.push(g);return U}function Y(){return!0}function Ea(){return!1}function cb(){try{return K.activeElement}catch(g){}}function P(a,b,c,d,e,f){var g,q;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(q in b)P(a,q,c,d,b[q],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=Ea;else if(!e)return a;return 1===f&&(g=e,e=function(a){return h().off(a),g.apply(this,arguments)},
e.guid=g.guid||(g.guid=h.guid++)),a.each(function(){h.event.add(this,b,e,d,c)})}function Bb(a,b){return e(a,"table")&&e(11!==b.nodeType?b:b.firstChild,"tr")?h(">tbody",a)[0]||a:a}function db(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ub(a){var b=kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function qb(a,b){var g,c,d,q,e,f;if(1===b.nodeType){if(J.hasData(a)&&(g=J.access(a),c=J.set(b,g),f=g.events))for(d in delete c.handle,c.events={},f)for(g=0,c=f[d].length;g<
c;g++)h.event.add(b,d,f[d][g]);ba.hasData(a)&&(q=ba.access(a),e=h.extend({},q),ba.set(b,e))}}function Ia(a,b,d,e){b=Cb.apply([],b);var g,q,y,f=0,U=a.length,w=U-1,m=b[0],n=h.isFunction(m);if(n||1<U&&"string"==typeof m&&!E.checkClone&&$b.test(m))return a.each(function(g){var c=a.eq(g);n&&(b[0]=m.call(this,g,c.html()));Ia(c,b,d,e)});if(U&&(g=qa(b,a[0].ownerDocument,!1,a,e),q=g.firstChild,1===g.childNodes.length&&(g=q),q||e)){q=h.map(L(g,"script"),db);for(y=q.length;f<U;f++){var k=g;f!==w&&(k=h.clone(k,
!0,!0),y&&h.merge(q,L(k,"script")));d.call(a[f],k,f)}if(y)for(g=q[q.length-1].ownerDocument,h.map(q,ub),f=0;f<y;f++)k=q[f],l.test(k.type||"")&&!J.access(k,"globalEval")&&h.contains(g,k)&&(k.src?h._evalUrl&&h._evalUrl(k.src):c(k.textContent.replace(Ca,""),g))}return a}function rb(a,b,c){for(var g=b?h.filter(b,a):a,d=0;null!=(b=g[d]);d++)c||1!==b.nodeType||h.cleanData(L(b)),b.parentNode&&(c&&h.contains(b.ownerDocument,b)&&ya(L(b,"script")),b.parentNode.removeChild(b));return a}function eb(a,b,c){var g,
d,q,e,y=a.style;return c=c||T(a),c&&(e=c.getPropertyValue(b)||c[b],""!==e||h.contains(a.ownerDocument,a)||(e=h.style(a,b)),!E.pixelMarginRight()&&oa.test(e)&&Z.test(b)&&(g=y.width,d=y.minWidth,q=y.maxWidth,y.minWidth=y.maxWidth=y.width=e,e=c.width,y.width=g,y.minWidth=d,y.maxWidth=q)),void 0!==e?e+"":e}function vb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Jb(a){var b=h.cssProps[a];if(!b){b=h.cssProps;a:{var g=a;if(!(g in ra)){for(var c=
g[0].toUpperCase()+g.slice(1),d=r.length;d--;)if(g=r[d]+c,g in ra)break a;g=void 0}}b=b[a]=g||a}return b}function wb(a,b,c){return(a=R.exec(b))?Math.max(0,a[2]-(c||0))+(a[3]||"px"):b}function Db(a,b,c,d,e){var g=0;for(b=c===(d?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===c&&(g+=h.css(a,c+ma[b],!0,e)),d?("content"===c&&(g-=h.css(a,"padding"+ma[b],!0,e)),"margin"!==c&&(g-=h.css(a,"border"+ma[b]+"Width",!0,e))):(g+=h.css(a,"padding"+ma[b],!0,e),"padding"!==c&&(g+=h.css(a,"border"+ma[b]+
"Width",!0,e)));return g}function Eb(a,b,c){var g,d=T(a),q=eb(a,b,d),e="border-box"===h.css(a,"boxSizing",!1,d);return oa.test(q)?q:(g=e&&(E.boxSizingReliable()||q===a.style[b]),"auto"===q&&(q=a["offset"+b[0].toUpperCase()+b.slice(1)]),q=parseFloat(q)||0,q+Db(a,b,c||(e?"border":"content"),g,d)+"px")}function ia(a,b,c,d,h){return new ia.prototype.init(a,b,c,d,h)}function fb(){sa&&(!1===K.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(fb):a.setTimeout(fb,h.fx.interval),h.fx.tick())}function Kb(){return a.setTimeout(function(){ea=
void 0}),ea=h.now()}function gb(a,b){var g=0,c={height:a};for(b=b?1:0;4>g;g+=2-b){var d=ma[g];c["margin"+d]=c["padding"+d]=a}return b&&(c.opacity=c.width=a),c}function Lb(a,b,c){for(var g,d=(za.tweeners[b]||[]).concat(za.tweeners["*"]),q=0,h=d.length;q<h;q++)if(g=d[q].call(c,b,a))return g}function Mb(a,b){var g,c,d,q,e;for(g in a)if(c=h.camelCase(g),d=b[c],q=a[g],Array.isArray(q)&&(d=q[1],q=a[g]=q[0]),g!==c&&(a[c]=q,delete a[g]),e=h.cssHooks[c],e&&"expand"in e)for(g in q=e.expand(q),delete a[c],q)g in
a||(a[g]=q[g],b[g]=d);else b[c]=d}function za(a,b,c){var g,d=0,q=za.prefilters.length,e=h.Deferred().always(function(){delete y.elem}),y=function(){if(g)return!1;var b=ea||Kb();b=Math.max(0,f.startTime+f.duration-b);for(var c=1-(b/f.duration||0),d=0,q=f.tweens.length;d<q;d++)f.tweens[d].run(c);return e.notifyWith(a,[f,c,b]),1>c&&q?b:(q||e.notifyWith(a,[f,1,0]),e.resolveWith(a,[f]),!1)},f=e.promise({elem:a,props:h.extend({},b),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},c),originalProperties:b,
originalOptions:c,startTime:ea||Kb(),duration:c.duration,tweens:[],createTween:function(b,g){var c=h.Tween(a,f.opts,b,g,f.opts.specialEasing[b]||f.opts.easing);return f.tweens.push(c),c},stop:function(b){var c=0,d=b?f.tweens.length:0;if(g)return this;for(g=!0;c<d;c++)f.tweens[c].run(1);return b?(e.notifyWith(a,[f,1,0]),e.resolveWith(a,[f,b])):e.rejectWith(a,[f,b]),this}});c=f.props;for(Mb(c,f.opts.specialEasing);d<q;d++)if(b=za.prefilters[d].call(f,a,c,f.opts))return h.isFunction(b.stop)&&(h._queueHooks(f.elem,
f.opts.queue).stop=h.proxy(b.stop,b)),b;return h.map(c,Lb,f),h.isFunction(f.opts.start)&&f.opts.start.call(a,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),h.fx.timer(h.extend(y,{elem:a,anim:f,queue:f.opts.queue})),f}function Fa(a){return(a.match(Da)||[]).join(" ")}function ta(a){return a.getAttribute&&a.getAttribute("class")||""}function lb(a,b,c,d){var g;if(Array.isArray(b))h.each(b,function(b,g){c||La.test(a)?d(a,g):lb(a+"["+("object"==
typeof g&&null!=g?b:"")+"]",g,c,d)});else if(c||"object"!==h.type(b))d(a,b);else for(g in b)lb(a+"["+g+"]",b[g],c,d)}function xb(a){return function(b,g){"string"!=typeof b&&(g=b,b="*");var c,d=0,q=b.toLowerCase().match(Da)||[];if(h.isFunction(g))for(;c=q[d++];)"+"===c[0]?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function Va(a,b,c,d){function g(f){var y;return q[f]=!0,h.each(a[f]||[],function(a,h){var f=h(b,c,d);return"string"!=typeof f||e||q[f]?e?!(y=f):void 0:(b.dataTypes.unshift(f),
g(f),!1)}),y}var q={},e=a===Fb;return g(b.dataTypes[0])||!q["*"]&&g("*")}function aa(a,b){var g,c,d=h.ajaxSettings.flatOptions||{};for(g in b)void 0!==b[g]&&((d[g]?a:c||(c={}))[g]=b[g]);return c&&h.extend(!0,a,c),a}var ua=[],K=a.document,Ja=Object.getPrototypeOf,Ma=ua.slice,Cb=ua.concat,M=ua.push,I=ua.indexOf,ja={},ka=ja.toString,fa=ja.hasOwnProperty,ca=fa.toString,yb=ca.call(Object),E={},h=function(a,b){return new h.fn.init(a,b)},Wa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ac=/^-ms-/,Gb=/-([a-z])/g,
Nb=function(a,b){return b.toUpperCase()};h.fn=h.prototype={jquery:"3.2.1",constructor:h,length:0,toArray:function(){return Ma.call(this)},get:function(a){return null==a?Ma.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=h.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return h.each(this,a)},map:function(a){return this.pushStack(h.map(this,function(b,g){return a.call(b,g,b)}))},slice:function(){return this.pushStack(Ma.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:M,sort:ua.sort,splice:ua.splice};h.extend=h.fn.extend=function(){var a,b,c,d,e=arguments[0]||{},f=1,l=arguments.length,w=!1;"boolean"==typeof e&&(w=e,e=arguments[f]||{},f++);"object"==typeof e||h.isFunction(e)||(e={});for(f===l&&(e=this,f--);f<l;f++)if(null!=(a=arguments[f]))for(b in a){var m=e[b];var k=a[b];
e!==k&&(w&&k&&(h.isPlainObject(k)||(c=Array.isArray(k)))?(c?(c=!1,d=m&&Array.isArray(m)?m:[]):d=m&&h.isPlainObject(m)?m:{},e[b]=h.extend(w,d,k)):void 0!==k&&(e[b]=k))}return e};h.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===h.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=h.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},
isPlainObject:function(a){var b,g;return!(!a||"[object Object]"!==ka.call(a))&&(!(b=Ja(a))||(g=fa.call(b,"constructor")&&b.constructor,"function"==typeof g&&ca.call(g)===yb))},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ja[ka.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(ac,"ms-").replace(Gb,Nb)},each:function(a,b){var g,c=0;if(d(a))for(g=a.length;c<g&&!1!==
b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a},trim:function(a){return null==a?"":(a+"").replace(Wa,"")},makeArray:function(a,b){var g=b||[];return null!=a&&(d(Object(a))?h.merge(g,"string"==typeof a?[a]:a):M.call(g,a)),g},inArray:function(a,b,c){return null==b?-1:I.call(b,a,c)},merge:function(a,b){for(var g=+b.length,c=0,d=a.length;c<g;c++)a[d++]=b[c];return a.length=d,a},grep:function(a,b,c){for(var g=[],d=0,q=a.length,e=!c;d<q;d++)c=!b(a[d],d),c!==e&&g.push(a[d]);
return g},map:function(a,b,c){var g,q=0,e=[];if(d(a))for(g=a.length;q<g;q++){var h=b(a[q],q,c);null!=h&&e.push(h)}else for(q in a)h=b(a[q],q,c),null!=h&&e.push(h);return Cb.apply([],e)},guid:1,proxy:function(a,b){var g,c,d;if("string"==typeof b&&(g=a[b],b=a,a=g),h.isFunction(a))return c=Ma.call(arguments,2),d=function(){return a.apply(b||this,c.concat(Ma.call(arguments)))},d.guid=a.guid=a.guid||h.guid++,d},now:Date.now,support:E});"function"==typeof Symbol&&(h.fn[Symbol.iterator]=ua[Symbol.iterator]);
h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ja["[object "+b+"]"]=b.toLowerCase()});var Na=function(a){function b(a,b,g,c){var d,q,e,h,f=b&&b.ownerDocument,y=b?b.nodeType:9;if(g=g||[],"string"!=typeof a||!a||1!==y&&9!==y&&11!==y)return g;if(!c&&((b?b.ownerDocument||b:L)!==E&&T(b),b=b||E,B)){if(11!==y&&(h=R.exec(a)))if(d=h[1])if(9===y){if(!(q=b.getElementById(d)))return g;if(q.id===d)return g.push(q),g}else{if(f&&(q=f.getElementById(d))&&Y(b,
q)&&q.id===d)return g.push(q),g}else{if(h[2])return Oa.apply(g,b.getElementsByTagName(a)),g;if((d=h[3])&&H.getElementsByClassName&&b.getElementsByClassName)return Oa.apply(g,b.getElementsByClassName(d)),g}if(!(!H.qsa||yb[a+" "]||W&&W.test(a))){if(1!==y){f=b;var l=a}else if("object"!==b.nodeName.toLowerCase()){(e=b.getAttribute("id"))?e=e.replace(Ta,cb):b.setAttribute("id",e=S);q=Z(a);for(d=q.length;d--;)q[d]="#"+e+" "+p(q[d]);l=q.join(",");f=La.test(a)&&k(b.parentNode)||b}if(l)try{return Oa.apply(g,
f.querySelectorAll(l)),g}catch(mc){}finally{e===S&&b.removeAttribute("id")}}}return ja(a.replace(V,"$1"),b,g,c)}function g(){function a(g,c){return b.push(g+" ")>X.cacheLength&&delete a[b.shift()],a[g+" "]=c}var b=[];return a}function c(a){return a[S]=!0,a}function d(a){var b=E.createElement("fieldset");try{return!!a(b)}catch(kc){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function e(a,b){for(var g=a.split("|"),c=g.length;c--;)X.attrHandle[g[c]]=b}function h(a,b){var g=b&&a,c=g&&1===
a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(c)return c;if(g)for(;g=g.nextSibling;)if(g===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function l(a){return function(b){var g=b.nodeName.toLowerCase();return("input"===g||"button"===g)&&b.type===a}}function w(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||
b.isDisabled!==!a&&Fb(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function m(a){return c(function(b){return b=+b,c(function(g,c){for(var d,q=a([],g.length,b),e=q.length;e--;)g[d=q[e]]&&(g[d]=!(c[d]=g[d]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function n(){}function p(a){for(var b=0,g=a.length,c="";b<g;b++)c+=a[b].value;return c}function M(a,b,g){var c=b.dir,d=b.next,q=d||c,e=g&&"parentNode"===q,h=sb++;return b.first?function(b,g,d){for(;b=b[c];)if(1===b.nodeType||
e)return a(b,g,d);return!1}:function(b,g,f){var y,l,w,U=[C,h];if(f)for(;b=b[c];){if((1===b.nodeType||e)&&a(b,g,f))return!0}else for(;b=b[c];)if(1===b.nodeType||e)if(w=b[S]||(b[S]={}),l=w[b.uniqueID]||(w[b.uniqueID]={}),d&&d===b.nodeName.toLowerCase())b=b[c]||b;else{if((y=l[q])&&y[0]===C&&y[1]===h)return U[2]=y[2];if(l[q]=U,U[2]=a(b,g,f))return!0}return!1}}function O(a){return 1<a.length?function(b,g,c){for(var d=a.length;d--;)if(!a[d](b,g,c))return!1;return!0}:a[0]}function u(a,b,g,c,d){for(var q,
e=[],h=0,f=a.length,y=null!=b;h<f;h++)(q=a[h])&&(g&&!g(q,c,d)||(e.push(q),y&&b.push(h)));return e}function r(a,g,d,q,e,h){return q&&!q[S]&&(q=r(q)),e&&!e[S]&&(e=r(e,h)),c(function(c,h,f,y){var l,w=[],U=[],m=h.length,k;if(!(k=c)){k=g||"*";for(var n=f.nodeType?[f]:f,p=[],Ba=0,M=n.length;Ba<M;Ba++)b(k,n[Ba],p);k=p}k=!a||!c&&g?k:u(k,w,a,f,y);n=d?e||(c?a:m||q)?[]:h:k;if(d&&d(k,n,f,y),q){var O=u(n,U);q(O,[],f,y);for(f=O.length;f--;)(l=O[f])&&(n[U[f]]=!(k[U[f]]=l))}if(c){if(e||a){if(e){O=[];for(f=n.length;f--;)(l=
n[f])&&O.push(k[f]=l);e(null,n=[],O,y)}for(f=n.length;f--;)(l=n[f])&&-1<(O=e?Na(c,l):w[f])&&(c[O]=!(h[O]=l))}}else n=u(n===h?n.splice(m,n.length):n),e?e(null,h,n,y):Oa.apply(h,n)})}function pa(a){var b,g,c=a.length,d=X.relative[a[0].type];var q=d||X.relative[" "];for(var e=d?1:0,h=M(function(a){return a===b},q,!0),f=M(function(a){return-1<Na(b,a)},q,!0),y=[function(a,g,c){a=!d&&(c||g!==da)||((b=g).nodeType?h(a,g,c):f(a,g,c));return b=null,a}];e<c;e++)if(q=X.relative[a[e].type])y=[M(O(y),q)];else{if(q=
X.filter[a[e].type].apply(null,a[e].matches),q[S]){for(g=++e;g<c&&!X.relative[a[g].type];g++);return r(1<e&&O(y),1<e&&p(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(V,"$1"),q,e<g&&pa(a.slice(e,g)),g<c&&pa(a=a.slice(g)),g<c&&p(a))}y.push(q)}return O(y)}function x(a,g){var d=0<g.length,q=0<a.length,e=function(c,e,h,f,y){var l,w,U=0,m="0",k=c&&[],n=[],p=da,Ba=c||q&&X.find.TAG("*",y),M=C+=null==p?1:Math.random()||.1,O=Ba.length;for(y&&(da=e===E||e||y);m!==O&&null!=(l=Ba[m]);m++){if(q&&
l){var tb=0;for(e||l.ownerDocument===E||(T(l),h=!B);w=a[tb++];)if(w(l,e||E,h)){f.push(l);break}y&&(C=M)}d&&((l=!w&&l)&&U--,c&&k.push(l))}if(U+=m,d&&m!==U){for(tb=0;w=g[tb++];)w(k,n,e,h);if(c){if(0<U)for(;m--;)k[m]||n[m]||(n[m]=F.call(f));n=u(n)}Oa.apply(f,n);y&&!c&&0<n.length&&1<U+g.length&&b.uniqueSort(f)}return y&&(C=M,da=p),k};return d?c(e):e}var I,ha,ja,da,ka,ca,E,fa,B,W,A,la,Y,S="sizzle"+1*new Date,L=a.document,C=0,sb=0,Xa=g(),Q=g(),yb=g(),qa=function(a,b){return a===b&&(ca=!0),0},D={}.hasOwnProperty,
xa=[],F=xa.pop,Ea=xa.push,Oa=xa.push,Ga=xa.slice,Na=function(a,b){for(var g=0,c=a.length;g<c;g++)if(a[g]===b)return g;return-1},ya=RegExp("[\\x20\\t\\r\\n\\f]+","g"),V=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,J=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Gb=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Pa=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
K=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,N={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},wa=/^(?:input|select|textarea|button)$/i,jb=/^h\d$/i,pb=
/^[^{]+\{\s*\[native \w/,R=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,La=/[+~]/,Wa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),P=function(a,b,g){a="0x"+b-65536;return a!==a||g?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Ta=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,cb=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ab=function(){T()},Fb=M(function(a){return!0===
a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{Oa.apply(xa=Ga.call(L.childNodes),L.childNodes),xa[L.childNodes.length].nodeType}catch(jc){Oa={apply:xa.length?function(a,b){Ea.apply(a,Ga.call(b))}:function(a,b){for(var g=a.length,c=0;a[g++]=b[c++];);a.length=g-1}}}var H=b.support={};var Nb=b.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName};var T=b.setDocument=function(a){var b,g;a=a?a.ownerDocument||a:L;return a!==E&&9===a.nodeType&&
a.documentElement?(E=a,fa=E.documentElement,B=!Nb(E),L!==E&&(g=E.defaultView)&&g.top!==g&&(g.addEventListener?g.addEventListener("unload",ab,!1):g.attachEvent&&g.attachEvent("onunload",ab)),H.attributes=d(function(a){return a.className="i",!a.getAttribute("className")}),H.getElementsByTagName=d(function(a){return a.appendChild(E.createComment("")),!a.getElementsByTagName("*").length}),H.getElementsByClassName=pb.test(E.getElementsByClassName),H.getById=d(function(a){return fa.appendChild(a).id=S,
!E.getElementsByName||!E.getElementsByName(S).length}),H.getById?(X.filter.ID=function(a){var b=a.replace(Wa,P);return function(a){return a.getAttribute("id")===b}},X.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&B){var g=b.getElementById(a);return g?[g]:[]}}):(X.filter.ID=function(a){var b=a.replace(Wa,P);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},X.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&B){var g,
c,d=b.getElementById(a);if(d){if(g=d.getAttributeNode("id"),g&&g.value===a)return[d];var q=b.getElementsByName(a);for(c=0;d=q[c++];)if(g=d.getAttributeNode("id"),g&&g.value===a)return[d]}return[]}}),X.find.TAG=H.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):H.qsa?b.querySelectorAll(a):void 0}:function(a,b){var g,c=[],d=0,q=b.getElementsByTagName(a);if("*"===a){for(;g=q[d++];)1===g.nodeType&&c.push(g);return c}return q},X.find.CLASS=H.getElementsByClassName&&
function(a,b){if("undefined"!=typeof b.getElementsByClassName&&B)return b.getElementsByClassName(a)},A=[],W=[],(H.qsa=pb.test(E.querySelectorAll))&&(d(function(a){fa.appendChild(a).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&W.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||W.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+S+"-]").length||W.push("~=");a.querySelectorAll(":checked").length||W.push(":checked");a.querySelectorAll("a#"+S+"+*").length||W.push(".#.+[+~]")}),d(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=E.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&W.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&
W.push(":enabled",":disabled");fa.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&W.push(":enabled",":disabled");a.querySelectorAll("*,:x");W.push(",.*:")})),(H.matchesSelector=pb.test(la=fa.matches||fa.webkitMatchesSelector||fa.mozMatchesSelector||fa.oMatchesSelector||fa.msMatchesSelector))&&d(function(a){H.disconnectedMatch=la.call(a,"*");la.call(a,"[s!='']:x");A.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
W=W.length&&new RegExp(W.join("|")),A=A.length&&new RegExp(A.join("|")),b=pb.test(fa.compareDocumentPosition),Y=b||pb.test(fa.contains)?function(a,b){var g=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||!(g.contains?g.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},qa=b?function(a,b){if(a===b)return ca=!0,0;var g=!a.compareDocumentPosition-!b.compareDocumentPosition;
return g?g:(g=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&g||!H.sortDetached&&b.compareDocumentPosition(a)===g?a===E||a.ownerDocument===L&&Y(L,a)?-1:b===E||b.ownerDocument===L&&Y(L,b)?1:ka?Na(ka,a)-Na(ka,b):0:4&g?-1:1)}:function(a,b){if(a===b)return ca=!0,0;var g=0;var c=a.parentNode;var d=b.parentNode,q=[a],e=[b];if(!c||!d)return a===E?-1:b===E?1:c?-1:d?1:ka?Na(ka,a)-Na(ka,b):0;if(c===d)return h(a,b);for(c=a;c=c.parentNode;)q.unshift(c);for(c=b;c=c.parentNode;)e.unshift(c);
for(;q[g]===e[g];)g++;return g?h(q[g],e[g]):q[g]===L?-1:e[g]===L?1:0},E):E};b.matches=function(a,g){return b(a,null,null,g)};b.matchesSelector=function(a,g){if((a.ownerDocument||a)!==E&&T(a),g=g.replace(Gb,"='$1']"),!(!H.matchesSelector||!B||yb[g+" "]||A&&A.test(g)||W&&W.test(g)))try{var c=la.call(a,g);if(c||H.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(lc){}return 0<b(g,E,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==E&&T(a),Y(a,b)};b.attr=function(a,
b){(a.ownerDocument||a)!==E&&T(a);var g=X.attrHandle[b.toLowerCase()];g=g&&D.call(X.attrHandle,b.toLowerCase())?g(a,b,!B):void 0;return void 0!==g?g:H.attributes||!B?a.getAttribute(b):(g=a.getAttributeNode(b))&&g.specified?g.value:null};b.escape=function(a){return(a+"").replace(Ta,cb)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,g=[],c=0,d=0;if(ca=!H.detectDuplicates,ka=!H.sortStable&&a.slice(0),a.sort(qa),ca){for(;b=a[d++];)b===a[d]&&
(c=g.push(d));for(;c--;)a.splice(g[c],1)}return ka=null,a};var ba=b.getText=function(a){var b,g="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)g+=ba(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c++];)g+=ba(b);return g};var X=b.selectors={cacheLength:50,createPseudo:c,match:N,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Wa,P),a[3]=(a[3]||a[4]||a[5]||"").replace(Wa,P),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,g=!a[6]&&a[2];return N.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":g&&Pa.test(g)&&(b=
Z(g,!0))&&(b=g.indexOf(")",g.length-b)-g.length)&&(a[0]=a[0].slice(0,b),a[2]=g.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(Wa,P).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Xa[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),Xa(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||
"")}))},ATTR:function(a,g,c){return function(d){d=b.attr(d,a);return null==d?"!="===g:!g||(d+="","="===g?d===c:"!="===g?d!==c:"^="===g?c&&0===d.indexOf(c):"*="===g?c&&-1<d.indexOf(c):"$="===g?c&&d.slice(-c.length)===c:"~="===g?-1<(" "+d.replace(ya," ")+" ").indexOf(c):"|="===g&&(d===c||d.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,g,c,d){var q="nth"!==a.slice(0,3),e="last"!==a.slice(-4),h="of-type"===b;return 1===c&&0===d?function(a){return!!a.parentNode}:function(b,g,f){var y,l;g=q!==e?"nextSibling":
"previousSibling";var w=b.parentNode,U=h&&b.nodeName.toLowerCase();f=!f&&!h;var m=!1;if(w){if(q){for(;g;){for(y=b;y=y[g];)if(h?y.nodeName.toLowerCase()===U:1===y.nodeType)return!1;var k=g="only"===a&&!k&&"nextSibling"}return!0}if(k=[e?w.firstChild:w.lastChild],e&&f){y=w;var n=y[S]||(y[S]={});var p=n[y.uniqueID]||(n[y.uniqueID]={});var Ba=p[a]||[];m=(l=Ba[0]===C&&Ba[1])&&Ba[2];for(y=l&&w.childNodes[l];y=++l&&y&&y[g]||(m=l=0)||k.pop();)if(1===y.nodeType&&++m&&y===b){p[a]=[C,l,m];break}}else if(f&&(y=
b,n=y[S]||(y[S]={}),p=n[y.uniqueID]||(n[y.uniqueID]={}),Ba=p[a]||[],l=Ba[0]===C&&Ba[1],m=l),!1===m)for(;(y=++l&&y&&y[g]||(m=l=0)||k.pop())&&((h?y.nodeName.toLowerCase()!==U:1!==y.nodeType)||!++m||(f&&(n=y[S]||(y[S]={}),p=n[y.uniqueID]||(n[y.uniqueID]={}),p[a]=[C,m]),y!==b)););return m-=d,m===c||0===m%c&&0<=m/c}}},PSEUDO:function(a,g){var d,q=X.pseudos[a]||X.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return q[S]?q(g):1<q.length?(d=[a,a,"",g],X.setFilters.hasOwnProperty(a.toLowerCase())?
c(function(a,b){for(var c,d=q(a,g),e=d.length;e--;)c=Na(a,d[e]),a[c]=!(b[c]=d[e])}):function(a){return q(a,0,d)}):q}},pseudos:{not:c(function(a){var b=[],g=[],d=ha(a.replace(V,"$1"));return d[S]?c(function(a,b,g,c){var q;g=d(a,null,c,[]);for(c=a.length;c--;)(q=g[c])&&(a[c]=!(b[c]=q))}):function(a,c,q){return b[0]=a,d(b,null,q,g),b[0]=null,!g.pop()}}),has:c(function(a){return function(g){return 0<b(a,g).length}}),contains:c(function(a){return a=a.replace(Wa,P),function(b){return-1<(b.textContent||
b.innerText||ba(b)).indexOf(a)}}),lang:c(function(a){return K.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(Wa,P).toLowerCase(),function(b){var g;do if(g=B?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return g=g.toLowerCase(),g===a||0===g.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var g=a.location&&a.location.hash;return g&&g.slice(1)===b.id},root:function(a){return a===fa},focus:function(a){return a===E.activeElement&&(!E.hasFocus||
E.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:w(!1),disabled:w(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!X.pseudos.empty(a)},header:function(a){return jb.test(a.nodeName)},input:function(a){return wa.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,g){return[0>g?g+b:g]}),even:m(function(a,b){for(var g=0;g<b;g+=2)a.push(g);return a}),odd:m(function(a,b){for(var g=1;g<b;g+=2)a.push(g);return a}),lt:m(function(a,b,g){for(b=
0>g?g+b:g;0<=--b;)a.push(b);return a}),gt:m(function(a,b,g){for(g=0>g?g+b:g;++g<b;)a.push(g);return a})}};X.pseudos.nth=X.pseudos.eq;for(I in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})X.pseudos[I]=f(I);for(I in{submit:!0,reset:!0})X.pseudos[I]=l(I);n.prototype=X.filters=X.pseudos;X.setFilters=new n;var Z=b.tokenize=function(a,g){var c,d,q,e,h;if(e=Q[a+" "])return g?0:e.slice(0);e=a;var f=[];for(h=X.preFilter;e;){y&&!(c=G.exec(e))||(c&&(e=e.slice(c[0].length)||e),f.push(d=[]));var y=!1;(c=
J.exec(e))&&(y=c.shift(),d.push({value:y,type:c[0].replace(V," ")}),e=e.slice(y.length));for(q in X.filter)!(c=N[q].exec(e))||h[q]&&!(c=h[q](c))||(y=c.shift(),d.push({value:y,type:q,matches:c}),e=e.slice(y.length));if(!y)break}return g?e.length:e?b.error(a):Q(a,f).slice(0)};return ha=b.compile=function(a,b){var g,c=[],d=[],q=yb[a+" "];if(!q){b||(b=Z(a));for(g=b.length;g--;)q=pa(b[g]),q[S]?c.push(q):d.push(q);q=yb(a,x(d,c));q.selector=a}return q},ja=b.select=function(a,b,g,c){var d,q,e,h,f,y="function"==
typeof a&&a,l=!c&&Z(a=y.selector||a);if(g=g||[],1===l.length){if(q=l[0]=l[0].slice(0),2<q.length&&"ID"===(e=q[0]).type&&9===b.nodeType&&B&&X.relative[q[1].type]){if(b=(X.find.ID(e.matches[0].replace(Wa,P),b)||[])[0],!b)return g;y&&(b=b.parentNode);a=a.slice(q.shift().value.length)}for(d=N.needsContext.test(a)?0:q.length;d--&&(e=q[d],!X.relative[h=e.type]);)if((f=X.find[h])&&(c=f(e.matches[0].replace(Wa,P),La.test(q[0].type)&&k(b.parentNode)||b))){if(q.splice(d,1),a=c.length&&p(q),!a)return Oa.apply(g,
c),g;break}}return(y||ha(a,l))(c,b,!B,g,!b||La.test(a)&&k(b.parentNode)||b),g},H.sortStable=S.split("").sort(qa).join("")===S,H.detectDuplicates=!!ca,T(),H.sortDetached=d(function(a){return 1&a.compareDocumentPosition(E.createElement("fieldset"))}),d(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||e("type|href|height|width",function(a,b,g){if(!g)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),H.attributes&&d(function(a){return a.innerHTML="<input/>",
a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||e("value",function(a,b,g){if(!g&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),d(function(a){return null==a.getAttribute("disabled")})||e("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,g){var c;if(!g)return!0===a[b]?b.toLowerCase():(c=a.getAttributeNode(b))&&c.specified?c.value:null}),b}(a);h.find=Na;h.expr=Na.selectors;
h.expr[":"]=h.expr.pseudos;h.uniqueSort=h.unique=Na.uniqueSort;h.text=Na.getText;h.isXMLDoc=Na.isXML;h.contains=Na.contains;h.escapeSelector=Na.escape;var zb=function(a,b,c){for(var g=[],d=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(d&&h(a).is(c))break;g.push(a)}return g},Sb=function(a,b){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&g.push(a);return g},Tb=h.expr.match.needsContext,Ub=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Wb=/^.[^:#\[\.,]*$/;h.filter=
function(a,b,c){var g=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===g.nodeType?h.find.matchesSelector(g,a)?[g]:[]:h.find.matches(a,h.grep(b,function(a){return 1===a.nodeType}))};h.fn.extend({find:function(a){var b,g=this.length,c=this;if("string"!=typeof a)return this.pushStack(h(a).filter(function(){for(b=0;b<g;b++)if(h.contains(c[b],this))return!0}));var d=this.pushStack([]);for(b=0;b<g;b++)h.find(a,c[b],d);return 1<g?h.uniqueSort(d):d},filter:function(a){return this.pushStack(f(this,a||[],
!1))},not:function(a){return this.pushStack(f(this,a||[],!0))},is:function(a){return!!f(this,"string"==typeof a&&Tb.test(a)?h(a):a||[],!1).length}});var cc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(h.fn.init=function(a,b,c){var g,d;if(!a)return this;if(c=c||dc,"string"==typeof a){if(g="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:cc.exec(a),!g||!g[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(g[1]){if(b=b instanceof h?b[0]:b,h.merge(this,h.parseHTML(g[1],b&&b.nodeType?
b.ownerDocument||b:K,!0)),Ub.test(g[1])&&h.isPlainObject(b))for(g in b)h.isFunction(this[g])?this[g](b[g]):this.attr(g,b[g]);return this}return d=K.getElementById(g[2]),d&&(this[0]=d,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):h.isFunction(a)?void 0!==c.ready?c.ready(a):a(h):h.makeArray(a,this)}).prototype=h.fn;var dc=h(K);var ec=/^(?:parents|prev(?:Until|All))/,fc={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(a){var b=h(a,this),g=b.length;return this.filter(function(){for(var a=
0;a<g;a++)if(h.contains(this,b[a]))return!0})},closest:function(a,b){var g,c=0,d=this.length,q=[],e="string"!=typeof a&&h(a);if(!Tb.test(a))for(;c<d;c++)for(g=this[c];g&&g!==b;g=g.parentNode)if(11>g.nodeType&&(e?-1<e.index(g):1===g.nodeType&&h.find.matchesSelector(g,a))){q.push(g);break}return this.pushStack(1<q.length?h.uniqueSort(q):q)},index:function(a){return a?"string"==typeof a?I.call(h(a),this[0]):I.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,
b){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return zb(a,"parentNode")},parentsUntil:function(a,b,c){return zb(a,"parentNode",c)},next:function(a){return k(a,"nextSibling")},prev:function(a){return k(a,"previousSibling")},nextAll:function(a){return zb(a,"nextSibling")},prevAll:function(a){return zb(a,
"previousSibling")},nextUntil:function(a,b,c){return zb(a,"nextSibling",c)},prevUntil:function(a,b,c){return zb(a,"previousSibling",c)},siblings:function(a){return Sb((a.parentNode||{}).firstChild,a)},children:function(a){return Sb(a.firstChild)},contents:function(a){return e(a,"iframe")?a.contentDocument:(e(a,"template")&&(a=a.content||a),h.merge([],a.childNodes))}},function(a,b){h.fn[a]=function(g,c){var d=h.map(this,b,g);return"Until"!==a.slice(-5)&&(c=g),c&&"string"==typeof c&&(d=h.filter(c,d)),
1<this.length&&(fc[a]||h.uniqueSort(d),ec.test(a)&&d.reverse()),this.pushStack(d)}});var Da=/[^\x20\t\r\n\f]+/g;h.Callbacks=function(a){a="string"==typeof a?m(a):h.extend({},a);var b,g,c,d,e=[],f=[],l=-1,w=function(){d=d||a.once;for(c=b=!0;f.length;l=-1)for(g=f.shift();++l<e.length;)!1===e[l].apply(g[0],g[1])&&a.stopOnFalse&&(l=e.length,g=!1);a.memory||(g=!1);b=!1;d&&(e=g?[]:"")},n={add:function(){return e&&(g&&!b&&(l=e.length-1,f.push(g)),function Zb(b){h.each(b,function(b,g){h.isFunction(g)?a.unique&&
n.has(g)||e.push(g):g&&g.length&&"string"!==h.type(g)&&Zb(g)})}(arguments),g&&!b&&w()),this},remove:function(){return h.each(arguments,function(a,b){for(var g;-1<(g=h.inArray(b,e,g));)e.splice(g,1),g<=l&&l--}),this},has:function(a){return a?-1<h.inArray(a,e):0<e.length},empty:function(){return e&&(e=[]),this},disable:function(){return d=f=[],e=g="",this},disabled:function(){return!e},lock:function(){return d=f=[],g||b||(e=g=""),this},locked:function(){return!!d},fireWith:function(a,g){return d||(g=
g||[],g=[a,g.slice?g.slice():g],f.push(g),b||w()),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!c}};return n};h.extend({Deferred:function(b){var g=[["notify","progress",h.Callbacks("memory"),h.Callbacks("memory"),2],["resolve","done",h.Callbacks("once memory"),h.Callbacks("once memory"),0,"resolved"],["reject","fail",h.Callbacks("once memory"),h.Callbacks("once memory"),1,"rejected"]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),
this},"catch":function(a){return d.then(null,a)},pipe:function(){var a=arguments;return h.Deferred(function(b){h.each(g,function(g,c){var d=h.isFunction(a[c[4]])&&a[c[4]];e[c[1]](function(){var a=d&&d.apply(this,arguments);a&&h.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[c[0]+"With"](this,d?[a]:arguments)})});a=null}).promise()},then:function(b,c,d){function e(b,g,c,d){return function(){var f=this,y=arguments,l=function(){var a;if(!(b<q)){if(a=c.apply(f,y),
a===g.promise())throw new TypeError("Thenable self-resolution");var l=a&&("object"==typeof a||"function"==typeof a)&&a.then;h.isFunction(l)?d?l.call(a,e(q,g,p,d),e(q,g,u,d)):(q++,l.call(a,e(q,g,p,d),e(q,g,u,d),e(q,g,p,g.notifyWith))):(c!==p&&(f=void 0,y=[a]),(d||g.resolveWith)(f,y))}},w=d?l:function(){try{l()}catch(Rb){h.Deferred.exceptionHook&&h.Deferred.exceptionHook(Rb,w.stackTrace),b+1>=q&&(c!==u&&(f=void 0,y=[Rb]),g.rejectWith(f,y))}};b?w():(h.Deferred.getStackHook&&(w.stackTrace=h.Deferred.getStackHook()),
a.setTimeout(w))}}var q=0;return h.Deferred(function(a){g[0][3].add(e(0,a,h.isFunction(d)?d:p,a.notifyWith));g[1][3].add(e(0,a,h.isFunction(b)?b:p));g[2][3].add(e(0,a,h.isFunction(c)?c:u))}).promise()},promise:function(a){return null!=a?h.extend(a,d):d}},e={};return h.each(g,function(a,b){var q=b[2],h=b[5];d[b[1]]=q.add;h&&q.add(function(){c=h},g[3-a][2].disable,g[0][2].lock);q.add(b[3].fire);e[b[0]]=function(){return e[b[0]+"With"](this===e?void 0:this,arguments),this};e[b[0]+"With"]=q.fireWith}),
d.promise(e),b&&b.call(e,e),e},when:function(a){var b=arguments.length,g=b,c=Array(g),d=Ma.call(arguments),e=h.Deferred(),f=function(a){return function(g){c[a]=this;d[a]=1<arguments.length?Ma.call(arguments):g;--b||e.resolveWith(c,d)}};if(1>=b&&(n(a,e.done(f(g)).resolve,e.reject,!b),"pending"===e.state()||h.isFunction(d[g]&&d[g].then)))return e.then();for(;g--;)n(d[g],f(g),e.reject);return e.promise()}});var gc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;h.Deferred.exceptionHook=function(b,
c){a.console&&a.console.warn&&b&&gc.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)};h.readyException=function(b){a.setTimeout(function(){throw b;})};var Pb=h.Deferred();h.fn.ready=function(a){return Pb.then(a)["catch"](function(a){h.readyException(a)}),this};h.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==a&&0<--h.readyWait||Pb.resolveWith(K,[h]))}});h.ready.then=Pb.then;"complete"===K.readyState||"loading"!==
K.readyState&&!K.documentElement.doScroll?a.setTimeout(h.ready):(K.addEventListener("DOMContentLoaded",x),a.addEventListener("load",x));var A=function(a,b,c,d,e,f,l){var g=0,q=a.length,y=null==c;if("object"===h.type(c))for(g in e=!0,c)A(a,b,g,c[g],!0,f,l);else if(void 0!==d&&(e=!0,h.isFunction(d)||(l=!0),y&&(l?(b.call(a,d),b=null):(y=b,b=function(a,b,g){return y.call(h(a),g)})),b))for(;g<q;g++)b(a[g],c,l?d:d.call(a[g],g,b(a[g],c)));return e?a:y?b.call(a):q?b(a[0],c):f},Ab=function(a){return 1===a.nodeType||
9===a.nodeType||!+a.nodeType};C.uid=1;C.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ab(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var g;a=this.cache(a);if("string"==typeof b)a[h.camelCase(b)]=c;else for(g in b)a[h.camelCase(g)]=b[g];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][h.camelCase(b)]},access:function(a,b,c){return void 0===b||b&&"string"==
typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var g,c=a[this.expando];if(void 0!==c){if(void 0!==b)for(Array.isArray(b)?b=b.map(h.camelCase):(b=h.camelCase(b),b=b in c?[b]:b.match(Da)||[]),g=b.length;g--;)delete c[b[g]];(void 0===b||h.isEmptyObject(c))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!h.isEmptyObject(a)}};var J=new C,ba=new C,Ka=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xb=/[A-Z]/g;
h.extend({hasData:function(a){return ba.hasData(a)||J.hasData(a)},data:function(a,b,c){return ba.access(a,b,c)},removeData:function(a,b){ba.remove(a,b)},_data:function(a,b,c){return J.access(a,b,c)},_removeData:function(a,b){J.remove(a,b)}});h.fn.extend({data:function(a,b){var c,g,d,e=this[0],q=e&&e.attributes;if(void 0===a){if(this.length&&(d=ba.get(e),1===e.nodeType&&!J.get(e,"hasDataAttrs"))){for(c=q.length;c--;)q[c]&&(g=q[c].name,0===g.indexOf("data-")&&(g=h.camelCase(g.slice(5)),B(e,g,d[g])));
J.set(e,"hasDataAttrs",!0)}return d}return"object"==typeof a?this.each(function(){ba.set(this,a)}):A(this,function(b){var c;if(e&&void 0===b){if((c=ba.get(e,a),void 0!==c)||(c=B(e,a),void 0!==c))return c}else this.each(function(){ba.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){ba.remove(this,a)})}});h.extend({queue:function(a,b,c){var g;if(a)return b=(b||"fx")+"queue",g=J.get(a,b),c&&(!g||Array.isArray(c)?g=J.access(a,b,h.makeArray(c)):g.push(c)),
g||[]},dequeue:function(a,b){b=b||"fx";var c=h.queue(a,b),g=c.length,d=c.shift(),e=h._queueHooks(a,b),q=function(){h.dequeue(a,b)};"inprogress"===d&&(d=c.shift(),g--);d&&("fx"===b&&c.unshift("inprogress"),delete e.stop,d.call(a,q,e));!g&&e&&e.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return J.get(a,c)||J.access(a,c,{empty:h.Callbacks("once memory").add(function(){J.remove(a,[b+"queue",c])})})}});h.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),
arguments.length<c?h.queue(this[0],a):void 0===b?this:this.each(function(){var c=h.queue(this,a,b);h._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,g=1,d=h.Deferred(),e=this,q=this.length,f=function(){--g||d.resolveWith(e,[e])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";q--;)(c=J.get(e[q],a+"queueHooks"))&&c.empty&&(g++,
c.empty.add(f));return f(),d.promise(b)}});var Hb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=new RegExp("^(?:([+-])=|)("+Hb+")([a-z%]*)$","i"),ma=["Top","Right","Bottom","Left"],Ua=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&h.contains(a.ownerDocument,a)&&"none"===h.css(a,"display")},Aa=function(a,b,c,d){var g,e={};for(g in b)e[g]=a.style[g],a.style[g]=b[g];c=c.apply(a,d||[]);for(g in b)a.style[g]=e[g];return c},Ra={};h.fn.extend({show:function(){return V(this,
!0)},hide:function(){return V(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ua(this)?h(this).show():h(this).hide()})}});var F=/^(?:checkbox|radio)$/i,bb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,l=/^$|\/(?:java|ecma)script/i,D={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:[0,"",""]};D.optgroup=D.option;D.tbody=D.tfoot=D.colgroup=D.caption=D.thead;D.th=D.td;var Ha=/<|&#?\w+;/;!function(){var a=K.createDocumentFragment().appendChild(K.createElement("div")),b=K.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);E.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="<textarea>x</textarea>";E.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();var na=K.documentElement,
Ya=/^key/,H=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,va=/^([^.]*)(?:\.(.+)|)/;h.event={global:{},add:function(a,b,c,d,e){var g,f,q,l,y,w,m,n;if(l=J.get(a))for(c.handler&&(g=c,c=g.handler,e=g.selector),e&&h.find.matchesSelector(na,e),c.guid||(c.guid=h.guid++),(q=l.events)||(q=l.events={}),(f=l.handle)||(f=l.handle=function(b){return"undefined"!=typeof h&&h.event.triggered!==b.type?h.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Da)||[""],l=b.length;l--;){var k=va.exec(b[l])||[];
var p=n=k[1];k=(k[2]||"").split(".").sort();p&&(w=h.event.special[p]||{},p=(e?w.delegateType:w.bindType)||p,w=h.event.special[p]||{},y=h.extend({type:p,origType:n,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&h.expr.match.needsContext.test(e),namespace:k.join(".")},g),(m=q[p])||(m=q[p]=[],m.delegateCount=0,w.setup&&!1!==w.setup.call(a,d,k,f)||a.addEventListener&&a.addEventListener(p,f)),w.add&&(w.add.call(a,y),y.handler.guid||(y.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,y):m.push(y),
h.event.global[p]=!0)}},remove:function(a,b,c,d,e){var g,f,q,l,y,w,m,n,k=J.hasData(a)&&J.get(a);if(k&&(l=k.events)){b=(b||"").match(Da)||[""];for(y=b.length;y--;)if(q=va.exec(b[y])||[],w=n=q[1],m=(q[2]||"").split(".").sort(),w){var p=h.event.special[w]||{};w=(d?p.delegateType:p.bindType)||w;var U=l[w]||[];q=q[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=g=U.length;g--;){var M=U[g];!e&&n!==M.origType||c&&c.guid!==M.guid||q&&!q.test(M.namespace)||d&&d!==M.selector&&("**"!==d||!M.selector)||
(U.splice(g,1),M.selector&&U.delegateCount--,p.remove&&p.remove.call(a,M))}f&&!U.length&&(p.teardown&&!1!==p.teardown.call(a,m,k.handle)||h.removeEvent(a,w,k.handle),delete l[w])}else for(w in l)h.event.remove(a,w+b[y],c,d,!0);h.isEmptyObject(l)&&J.remove(a,"handle events")}},dispatch:function(a){var b=h.event.fix(a),c,g,d,e,f=Array(arguments.length);var l=(J.get(this,"events")||{})[b.type]||[];var w=h.event.special[b.type]||{};f[0]=b;for(c=1;c<arguments.length;c++)f[c]=arguments[c];if(b.delegateTarget=
this,!w.preDispatch||!1!==w.preDispatch.call(this,b)){var m=h.event.handlers.call(this,b,l);for(c=0;(d=m[c++])&&!b.isPropagationStopped();)for(b.currentTarget=d.elem,l=0;(e=d.handlers[l++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(e.namespace)||(b.handleObj=e,b.data=e.data,g=((h.event.special[e.origType]||{}).handle||e.handler).apply(d.elem,f),void 0!==g&&!1===(b.result=g)&&(b.preventDefault(),b.stopPropagation()));return w.postDispatch&&w.postDispatch.call(this,b),b.result}},
handlers:function(a,b){var c,g=[],d=b.delegateCount,e=a.target;if(d&&e.nodeType&&!("click"===a.type&&1<=a.button))for(;e!==this;e=e.parentNode||this)if(1===e.nodeType&&("click"!==a.type||!0!==e.disabled)){var f=[];var q={};for(c=0;c<d;c++){var l=b[c];var w=l.selector+" ";void 0===q[w]&&(q[w]=l.needsContext?-1<h(w,this).index(e):h.find(w,this,null,[e]).length);q[w]&&f.push(l)}f.length&&g.push({elem:e,handlers:f})}return e=this,d<b.length&&g.push({elem:e,handlers:b.slice(d)}),g},addProp:function(a,
b){Object.defineProperty(h.Event.prototype,a,{enumerable:!0,configurable:!0,get:h.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[h.expando]?a:new h.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus)return this.focus(),!1},delegateType:"focusin"},
blur:{trigger:function(){if(this===cb()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&e(this,"input"))return this.click(),!1},_default:function(a){return e(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};h.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)};h.Event=function(a,b){return this instanceof h.Event?
(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?Y:Ea,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&h.extend(this,b),this.timeStamp=a&&a.timeStamp||h.now(),void(this[h.expando]=!0)):new h.Event(a,b)};h.Event.prototype={constructor:h.Event,isDefaultPrevented:Ea,isPropagationStopped:Ea,isImmediatePropagationStopped:Ea,
isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Y;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Y;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Y;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};h.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&Ya.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&H.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},h.event.addProp);h.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,g=a.relatedTarget,d=a.handleObj;return g&&(g===this||h.contains(this,g))||(a.type=d.origType,c=d.handler.apply(this,arguments),a.type=b),c}}});h.fn.extend({on:function(a,b,c,d){return P(this,a,b,c,d)},one:function(a,b,c,d){return P(this,a,b,c,d,1)},off:function(a,b,c){var g,d;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,h(a.delegateTarget).off(g.namespace?
g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==typeof a){for(d in a)this.off(d,b,a[d]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=Ea),this.each(function(){h.event.remove(this,a,c,b)})}});var Za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,hb=/<script|<style|<link/i,$b=/checked\s*(?:[^=]|=\s*.checked.)/i,kb=/^true\/(.*)/,Ca=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;h.extend({htmlPrefilter:function(a){return a.replace(Za,
"<$1></$2>")},clone:function(a,b,c){var g,d=a.cloneNode(!0),e=h.contains(a.ownerDocument,a);if(!(E.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||h.isXMLDoc(a))){var f=L(d);var q=L(a);var l=0;for(g=q.length;l<g;l++){var w=q[l],y=f[l],m=y.nodeName.toLowerCase();"input"===m&&F.test(w.type)?y.checked=w.checked:"input"!==m&&"textarea"!==m||(y.defaultValue=w.defaultValue)}}if(b)if(c)for(q=q||L(a),f=f||L(d),l=0,g=q.length;l<g;l++)qb(q[l],f[l]);else qb(a,d);return f=L(d,"script"),0<f.length&&ya(f,!e&&
L(a,"script")),d},cleanData:function(a){for(var b,c,g,d=h.event.special,e=0;void 0!==(c=a[e]);e++)if(Ab(c)){if(b=c[J.expando]){if(b.events)for(g in b.events)d[g]?h.event.remove(c,g):h.removeEvent(c,g,b.handle);c[J.expando]=void 0}c[ba.expando]&&(c[ba.expando]=void 0)}}});h.fn.extend({detach:function(a){return rb(this,a,!0)},remove:function(a){return rb(this,a)},text:function(a){return A(this,function(a){return void 0===a?h.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return Ia(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bb(this,a).appendChild(a)})},prepend:function(){return Ia(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Bb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ia(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ia(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(h.cleanData(L(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return h.clone(this,a,b)})},html:function(a){return A(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!hb.test(a)&&!D[(bb.exec(a)||["",""])[1].toLowerCase()]){a=
h.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(h.cleanData(L(b,!1)),b.innerHTML=a);b=0}catch(tb){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ia(this,arguments,function(b){var c=this.parentNode;0>h.inArray(this,a)&&(h.cleanData(L(this)),c&&c.replaceChild(b,this))},a)}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){h.fn[a]=function(a){for(var c=[],
d=h(a),g=d.length-1,e=0;e<=g;e++)a=e===g?this:this.clone(!0),h(d[e])[b](a),M.apply(c,a.get());return this.pushStack(c)}});var Z=/^margin/,oa=new RegExp("^("+Hb+")(?!px)[a-z%]+$","i"),T=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)};!function(){function b(){if(w){w.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";w.innerHTML="";na.appendChild(l);var b=a.getComputedStyle(w);c="1%"!==
b.top;f="2px"===b.marginLeft;d="4px"===b.width;w.style.marginRight="50%";e="4px"===b.marginRight;na.removeChild(l);w=null}}var c,d,e,f,l=K.createElement("div"),w=K.createElement("div");w.style&&(w.style.backgroundClip="content-box",w.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle="content-box"===w.style.backgroundClip,l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.appendChild(w),h.extend(E,{pixelPosition:function(){return b(),
c},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),e},reliableMarginLeft:function(){return b(),f}}))}();var ib=/^(none|table(?!-c[ea]).+)/,mb=/^--/,nb={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},r=["Webkit","Moz","ms"],ra=K.createElement("div").style;h.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=eb(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,
flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,e,f,q=h.camelCase(b),l=mb.test(b),w=a.style;return l||(b=Jb(q)),f=h.cssHooks[b]||h.cssHooks[q],void 0===c?f&&"get"in f&&void 0!==(g=f.get(a,!1,d))?g:w[b]:(e=typeof c,"string"===e&&(g=R.exec(c))&&g[1]&&(c=Q(a,b,g),e="number"),null!=c&&c===c&&("number"===e&&(c+=g&&g[3]||(h.cssNumber[q]?
"":"px")),E.clearCloneStyle||""!==c||0!==b.indexOf("background")||(w[b]="inherit"),f&&"set"in f&&void 0===(c=f.set(a,c,d))||(l?w.setProperty(b,c):w[b]=c)),void 0)}},css:function(a,b,c,d){var g,e,f,q=h.camelCase(b);return mb.test(b)||(b=Jb(q)),f=h.cssHooks[b]||h.cssHooks[q],f&&"get"in f&&(g=f.get(a,!0,c)),void 0===g&&(g=eb(a,b,d)),"normal"===g&&b in $a&&(g=$a[b]),""===c||c?(e=parseFloat(g),!0===c||isFinite(e)?e||0:g):g}});h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,c,d){if(c)return!ib.test(h.css(a,
"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Eb(a,b,d):Aa(a,nb,function(){return Eb(a,b,d)})},set:function(a,c,d){var g,e=d&&T(a);d=d&&Db(a,b,d,"border-box"===h.css(a,"boxSizing",!1,e),e);return d&&(g=R.exec(c))&&"px"!==(g[3]||"px")&&(a.style[b]=c,c=h.css(a,b)),wb(a,c,d)}}});h.cssHooks.marginLeft=vb(E.reliableMarginLeft,function(a,b){if(b)return(parseFloat(eb(a,"marginLeft"))||a.getBoundingClientRect().left-Aa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+
"px"});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(c){var d=0,g={};for(c="string"==typeof c?c.split(" "):[c];4>d;d++)g[a+ma[d]+b]=c[d]||c[d-2]||c[0];return g}};Z.test(a)||(h.cssHooks[a+b].set=wb)});h.fn.extend({css:function(a,b){return A(this,function(a,b,c){var d,g={},e=0;if(Array.isArray(b)){c=T(a);for(d=b.length;e<d;e++)g[b[e]]=h.css(a,b[e],!1,c);return g}return void 0!==c?h.style(a,b,c):h.css(a,b)},a,b,1<arguments.length)}});h.Tween=ia;ia.prototype=
{constructor:ia,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||h.easing._default;this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(h.cssNumber[c]?"":"px")},cur:function(){var a=ia.propHooks[this.prop];return a&&a.get?a.get(this):ia.propHooks._default.get(this)},run:function(a){var b,c=ia.propHooks[this.prop];return this.options.duration?this.pos=b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*
b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):ia.propHooks._default.set(this),this}};ia.prototype.init.prototype=ia.prototype;ia.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=h.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){h.fx.step[a.prop]?h.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[h.cssProps[a.prop]]&&!h.cssHooks[a.prop]?
a.elem[a.prop]=a.now:h.style(a.elem,a.prop,a.now+a.unit)}}};ia.propHooks.scrollTop=ia.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};h.fx=ia.prototype.init;h.fx.step={};var ea,sa,Qa=/^(?:toggle|show|hide)$/,Sa=/queueHooks$/;h.Animation=h.extend(za,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return Q(c.elem,a,R.exec(b),c),c}]},
tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):a=a.match(Da);for(var c,d=0,g=a.length;d<g;d++)c=a[d],za.tweeners[c]=za.tweeners[c]||[],za.tweeners[c].unshift(b)},prefilters:[function(a,b,c){var d,g,e,f,l,q,w,m,k="width"in b||"height"in b,n=this,p={},y=a.style,M=a.nodeType&&Ua(a),O=J.get(a,"fxshow");c.queue||(f=h._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,n.always(function(){n.always(function(){f.unqueued--;h.queue(a,
"fx").length||f.empty.fire()})}));for(d in b)if(g=b[d],Qa.test(g)){if(delete b[d],e=e||"toggle"===g,g===(M?"hide":"show")){if("show"!==g||!O||void 0===O[d])continue;M=!0}p[d]=O&&O[d]||h.style(a,d)}if(q=!h.isEmptyObject(b),q||!h.isEmptyObject(p))for(d in k&&1===a.nodeType&&(c.overflow=[y.overflow,y.overflowX,y.overflowY],w=O&&O.display,null==w&&(w=J.get(a,"display")),m=h.css(a,"display"),"none"===m&&(w?m=w:(V([a],!0),w=a.style.display||w,m=h.css(a,"display"),V([a]))),("inline"===m||"inline-block"===
m&&null!=w)&&"none"===h.css(a,"float")&&(q||(n.done(function(){y.display=w}),null==w&&(m=y.display,w="none"===m?"":m)),y.display="inline-block")),c.overflow&&(y.overflow="hidden",n.always(function(){y.overflow=c.overflow[0];y.overflowX=c.overflow[1];y.overflowY=c.overflow[2]})),q=!1,p)q||(O?"hidden"in O&&(M=O.hidden):O=J.access(a,"fxshow",{display:w}),e&&(O.hidden=!M),M&&V([a],!0),n.done(function(){M||V([a]);J.remove(a,"fxshow");for(d in p)h.style(a,d,p[d])})),q=Lb(M?O[d]:0,d,n),d in O||(O[d]=q.start,
M&&(q.end=q.start,q.start=0))}],prefilter:function(a,b){b?za.prefilters.unshift(a):za.prefilters.push(a)}});h.speed=function(a,b,c){var d=a&&"object"==typeof a?h.extend({},a):{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};return h.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in h.fx.speeds?d.duration=h.fx.speeds[d.duration]:d.duration=h.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){h.isFunction(d.old)&&
d.old.call(this);d.queue&&h.dequeue(this,d.queue)},d};h.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ua).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var g=h.isEmptyObject(a),e=h.speed(b,c,d);b=function(){var b=za(this,h.extend({},a),e);(g||J.get(this,"finish"))&&b.stop(!0)};return b.finish=b,g||!1===e.queue?this.each(b):this.queue(e.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=b,b=a,
a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,g=null!=a&&a+"queueHooks",e=h.timers,f=J.get(this);if(g)f[g]&&f[g].stop&&d(f[g]);else for(g in f)f[g]&&f[g].stop&&Sa.test(g)&&d(f[g]);for(g=e.length;g--;)e[g].elem!==this||null!=a&&e[g].queue!==a||(e[g].anim.stop(c),b=!1,e.splice(g,1));!b&&c||h.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=J.get(this),c=b[a+"queue"];var d=b[a+"queueHooks"];var g=h.timers,e=c?c.length:0;b.finish=!0;
h.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=g.length;d--;)g[d].elem===this&&g[d].queue===a&&(g[d].anim.stop(!0),g.splice(d,1));for(d=0;d<e;d++)c[d]&&c[d].finish&&c[d].finish.call(this);delete b.finish})}});h.each(["toggle","show","hide"],function(a,b){var c=h.fn[b];h.fn[b]=function(a,d,g){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,g)}});h.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});h.timers=[];h.fx.tick=function(){var a=0,b=h.timers;for(ea=h.now();a<b.length;a++){var c=b[a];c()||b[a]!==c||b.splice(a--,1)}b.length||h.fx.stop();ea=void 0};h.fx.timer=function(a){h.timers.push(a);h.fx.start()};h.fx.interval=13;h.fx.start=function(){sa||(sa=!0,fb())};h.fx.stop=function(){sa=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fn.delay=function(b,c){return b=h.fx?h.fx.speeds[b]||b:
b,c=c||"fx",this.queue(c,function(c,d){var g=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(g)}})};(function(){var a=K.createElement("input"),b=K.createElement("select").appendChild(K.createElement("option"));a.type="checkbox";E.checkOn=""!==a.value;E.optSelected=b.selected;a=K.createElement("input");a.value="t";a.type="radio";E.radioValue="t"===a.value})();var N=h.expr.attrHandle;h.fn.extend({attr:function(a,b){return A(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,
a)})}});h.extend({attr:function(a,b,c){var d,g,e=a.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof a.getAttribute?h.prop(a,b,c):(1===e&&h.isXMLDoc(a)||(g=h.attrHooks[b.toLowerCase()]||(h.expr.match.bool.test(b)?G:void 0)),void 0!==c?null===c?void h.removeAttr(a,b):g&&"set"in g&&void 0!==(d=g.set(a,c,b))?d:(a.setAttribute(b,c+""),c):g&&"get"in g&&null!==(d=g.get(a,b))?d:(d=h.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!E.radioValue&&"radio"===b&&e(a,"input")){var c=
a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,g=b&&b.match(Da);if(g&&1===a.nodeType)for(;c=g[d++];)a.removeAttribute(c)}});var G={set:function(a,b,c){return!1===b?h.removeAttr(a,c):a.setAttribute(c,c),c}};h.each(h.expr.match.bool.source.match(/\w+/g),function(a,b){var c=N[b]||h.find.attr;N[b]=function(a,b,d){var g,e,f=b.toLowerCase();return d||(e=N[f],N[f]=g,g=null!=c(a,b,d)?f:null,N[f]=e),g}});var pa=/^(?:input|select|textarea|button)$/i,W=/^(?:a|area)$/i;
h.fn.extend({prop:function(a,b){return A(this,h.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[h.propFix[a]||a]})}});h.extend({prop:function(a,b,c){var d,g,e=a.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&h.isXMLDoc(a)||(b=h.propFix[b]||b,g=h.propHooks[b]),void 0!==c?g&&"set"in g&&void 0!==(d=g.set(a,c,b))?d:a[b]=c:g&&"get"in g&&null!==(d=g.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=h.find.attr(a,"tabindex");return b?parseInt(b,10):
pa.test(a.nodeName)||W.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});E.optSelected||(h.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});h.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){h.propFix[this.toLowerCase()]=this});h.fn.extend({addClass:function(a){var b,
c,d,g,e,f,l=0;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,ta(this)))});if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[l++];)if(g=ta(c),d=1===c.nodeType&&" "+Fa(g)+" "){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");d=Fa(d);g!==d&&c.setAttribute("class",d)}return this},removeClass:function(a){var b,c,d,g,e,f,l=0;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,b,ta(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof a&&a)for(b=a.match(Da)||[];c=this[l++];)if(g=ta(c),d=1===c.nodeType&&" "+Fa(g)+" "){for(f=0;e=b[f++];)for(;-1<d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");d=Fa(d);g!==d&&c.setAttribute("class",d)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,c,ta(this),b),b)}):this.each(function(){var b,d;if("string"===c){var g=0;var e=
h(this);for(d=a.match(Da)||[];b=d[g++];)e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=ta(this),b&&J.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":J.get(this,"__className__")||""))})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+Fa(ta(b))+" ").indexOf(a))return!0;return!1}});var Xa=/\r/g;h.fn.extend({val:function(a){var b,c,d,g=this[0];if(arguments.length)return d=h.isFunction(a),this.each(function(c){var g;
1===this.nodeType&&(g=d?a.call(this,c,h(this).val()):a,null==g?g="":"number"==typeof g?g+="":Array.isArray(g)&&(g=h.map(g,function(a){return null==a?"":a+""})),b=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,g,"value")||(this.value=g))});if(g)return b=h.valHooks[g.type]||h.valHooks[g.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(g,"value"))?c:(c=g.value,"string"==typeof c?c.replace(Xa,""):null==c?"":c)}});h.extend({valHooks:{option:{get:function(a){var b=
h.find.attr(a,"value");return null!=b?b:Fa(h.text(a))}},select:{get:function(a){var b,c,d=a.options,g=a.selectedIndex,f="select-one"===a.type,l=f?null:[],w=f?g+1:d.length;for(c=0>g?w:f?g:0;c<w;c++)if(b=d[c],!(!b.selected&&c!==g||b.disabled||b.parentNode.disabled&&e(b.parentNode,"optgroup"))){if(a=h(b).val(),f)return a;l.push(a)}return l},set:function(a,b){for(var c,d,g=a.options,e=h.makeArray(b),f=g.length;f--;)d=g[f],(d.selected=-1<h.inArray(h.valHooks.option.get(d),e))&&(c=!0);return c||(a.selectedIndex=
-1),e}}}});h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=-1<h.inArray(h(a).val(),b)}};E.checkOn||(h.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wa=/^(?:focusinfocus|focusoutblur)$/;h.extend(h.event,{trigger:function(b,c,d,e){var g,f,l,w,m,q=[d||K],n=fa.call(b,"type")?b.type:b;var k=fa.call(b,"namespace")?b.namespace.split("."):[];if(g=f=d=d||K,3!==d.nodeType&&8!==d.nodeType&&!wa.test(n+
h.event.triggered)&&(-1<n.indexOf(".")&&(k=n.split("."),n=k.shift(),k.sort()),l=0>n.indexOf(":")&&"on"+n,b=b[h.expando]?b:new h.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=k.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:h.makeArray(c,[b]),m=h.event.special[n]||{},e||!m.trigger||!1!==m.trigger.apply(d,c))){if(!e&&!m.noBubble&&!h.isWindow(d)){var p=m.delegateType||n;for(wa.test(p+
n)||(g=g.parentNode);g;g=g.parentNode)q.push(g),f=g;f===(d.ownerDocument||K)&&q.push(f.defaultView||f.parentWindow||a)}for(k=0;(g=q[k++])&&!b.isPropagationStopped();)b.type=1<k?p:m.bindType||n,(w=(J.get(g,"events")||{})[b.type]&&J.get(g,"handle"))&&w.apply(g,c),(w=l&&g[l])&&w.apply&&Ab(g)&&(b.result=w.apply(g,c),!1===b.result&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||m._default&&!1!==m._default.apply(q.pop(),c)||!Ab(d)||l&&h.isFunction(d[n])&&!h.isWindow(d)&&(f=d[l],f&&(d[l]=
null),h.event.triggered=n,d[n](),h.event.triggered=void 0,f&&(d[l]=f)),b.result}},simulate:function(a,b,c){a=h.extend(new h.Event,c,{type:a,isSimulated:!0});h.event.trigger(a,null,b)}});h.fn.extend({trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return h.event.trigger(a,b,c,!0)}});h.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(a,b){h.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});h.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});E.focusin="onfocusin"in a;E.focusin||h.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){h.event.simulate(b,a.target,h.event.fix(a))};h.event.special[b]={setup:function(){var d=this.ownerDocument||this,g=J.access(d,b);g||d.addEventListener(a,c,!0);J.access(d,b,(g||0)+1)},teardown:function(){var d=this.ownerDocument||
this,g=J.access(d,b)-1;g?J.access(d,b,g):(d.removeEventListener(a,c,!0),J.remove(d,b))}}});var Ta=a.location,ob=h.now(),jb=/\?/;h.parseXML=function(b){if(!b||"string"!=typeof b)return null;try{var c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(y){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+b),c};var La=/\[\]$/,Vb=/\r?\n/g,w=/^(?:submit|button|image|reset|file)$/i,O=/^(?:input|select|textarea|keygen)/i;h.param=function(a,b){var c,d=[],g=function(a,
b){var c=h.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,function(){g(this.name,this.value)});else for(c in a)lb(c,a[c],b,g);return d.join("&")};h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=h.prop(this,"elements");return a?h.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!h(this).is(":disabled")&&
O.test(this.nodeName)&&!w.test(a)&&(this.checked||!F.test(a))}).map(function(a,b){var c=h(this).val();return null==c?null:Array.isArray(c)?h.map(c,function(a){return{name:b.name,value:a.replace(Vb,"\r\n")}}):{name:b.name,value:c.replace(Vb,"\r\n")}}).get()}});var ha=/%20/g,da=/#.*$/,la=/([?&])_=[^&]*/,xa=/^(.*?):[ \t]*([^\r\n]*)$/gm,S=/^(?:GET|HEAD)$/,Oa=/^\/\//,Pa={},Fb={},sb="*/".concat("*"),Ga=K.createElement("a");Ga.href=Ta.href;h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ta.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ta.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?aa(aa(a,h.ajaxSettings),b):aa(h.ajaxSettings,a)},ajaxPrefilter:xb(Pa),ajaxTransport:xb(Fb),ajax:function(b,c){function d(b,c,d,f){var m,n,r,pa=c;if(!E){E=!0;l&&a.clearTimeout(l);g=void 0;e=f||"";I.readyState=0<b?4:0;f=200<=b&&300>b||304===b;if(d){var y=k;for(var x=I,ha,ja,da,ca,W=y.contents,fa=y.dataTypes;"*"===fa[0];)fa.shift(),void 0===ha&&(ha=y.mimeType||x.getResponseHeader("Content-Type"));if(ha)for(ja in W)if(W[ja]&&
W[ja].test(ha)){fa.unshift(ja);break}if(fa[0]in d)da=fa[0];else{for(ja in d){if(!fa[0]||y.converters[ja+" "+fa[0]]){da=ja;break}ca||(ca=ja)}da=da||ca}d=da?(da!==fa[0]&&fa.unshift(da),d[da]):void 0;y=d}a:{d=k;ha=y;ja=I;da=f;var B,A,S;y={};x=d.dataTypes.slice();if(x[1])for(B in d.converters)y[B.toLowerCase()]=d.converters[B];for(ca=x.shift();ca;)if(d.responseFields[ca]&&(ja[d.responseFields[ca]]=ha),!S&&da&&d.dataFilter&&(ha=d.dataFilter(ha,d.dataType)),S=ca,ca=x.shift())if("*"===ca)ca=S;else if("*"!==
S&&S!==ca){if(B=y[S+" "+ca]||y["* "+ca],!B)for(la in y)if(A=la.split(" "),A[1]===ca&&(B=y[S+" "+A[0]]||y["* "+A[0]])){!0===B?B=y[la]:!0!==y[la]&&(ca=A[0],x.unshift(A[1]));break}if(!0!==B)if(B&&d["throws"])ha=B(ha);else try{ha=B(ha)}catch(bc){var la={state:"parsererror",error:B?bc:"No conversion from "+S+" to "+ca};break a}}la={state:"success",data:ha}}y=la;f?(k.ifModified&&(r=I.getResponseHeader("Last-Modified"),r&&(h.lastModified[ka]=r),r=I.getResponseHeader("etag"),r&&(h.etag[ka]=r)),204===b||"HEAD"===
k.type?pa="nocontent":304===b?pa="notmodified":(pa=y.state,m=y.data,n=y.error,f=!n)):(n=pa,!b&&pa||(pa="error",0>b&&(b=0)));I.status=b;I.statusText=(c||pa)+"";f?M.resolveWith(q,[m,pa,I]):M.rejectWith(q,[I,pa,n]);I.statusCode(u);u=void 0;w&&p.trigger(f?"ajaxSuccess":"ajaxError",[I,k,f?m:n]);O.fireWith(q,[I,pa]);w&&(p.trigger("ajaxComplete",[I,k]),--h.active||h.event.trigger("ajaxStop"))}}"object"==typeof b&&(c=b,b=void 0);c=c||{};var g,e,f,l,w,m,n,k=h.ajaxSetup({},c),q=k.context||k,p=k.context&&(q.nodeType||
q.jquery)?h(q):h.event,M=h.Deferred(),O=h.Callbacks("once memory"),u=k.statusCode||{},r={},pa={},x="canceled",I={readyState:0,getResponseHeader:function(a){var b;if(E){if(!f)for(f={};b=xa.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return E?e:null},setRequestHeader:function(a,b){return null==E&&(a=pa[a.toLowerCase()]=pa[a.toLowerCase()]||a,r[a]=b),this},overrideMimeType:function(a){return null==E&&(k.mimeType=a),this},statusCode:function(a){var b;
if(a)if(E)I.always(a[I.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){a=a||x;return g&&g.abort(a),d(0,a),this}};if(M.promise(I),k.url=((b||k.url||Ta.href)+"").replace(Oa,Ta.protocol+"//"),k.type=c.method||c.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(Da)||[""],null==k.crossDomain){var ja=K.createElement("a");try{ja.href=k.url,ja.href=ja.href,k.crossDomain=Ga.protocol+"//"+Ga.host!=ja.protocol+"//"+ja.host}catch(Ob){k.crossDomain=!0}}if(k.data&&
k.processData&&"string"!=typeof k.data&&(k.data=h.param(k.data,k.traditional)),Va(Pa,k,c,I),E)return I;(w=h.event&&k.global)&&0===h.active++&&h.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!S.test(k.type);var ka=k.url.replace(da,"");k.hasContent?k.data&&k.processData&&0===(k.contentType||"").indexOf("application/x-www-form-urlencoded")&&(k.data=k.data.replace(ha,"+")):(n=k.url.slice(ka.length),k.data&&(ka+=(jb.test(ka)?"&":"?")+k.data,delete k.data),!1===k.cache&&(ka=ka.replace(la,
"$1"),n=(jb.test(ka)?"&":"?")+"_="+ob++ +n),k.url=ka+n);k.ifModified&&(h.lastModified[ka]&&I.setRequestHeader("If-Modified-Since",h.lastModified[ka]),h.etag[ka]&&I.setRequestHeader("If-None-Match",h.etag[ka]));(k.data&&k.hasContent&&!1!==k.contentType||c.contentType)&&I.setRequestHeader("Content-Type",k.contentType);I.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+sb+"; q=0.01":""):k.accepts["*"]);for(m in k.headers)I.setRequestHeader(m,
k.headers[m]);if(k.beforeSend&&(!1===k.beforeSend.call(q,I,k)||E))return I.abort();if(x="abort",O.add(k.complete),I.done(k.success),I.fail(k.error),g=Va(Fb,k,c,I)){if(I.readyState=1,w&&p.trigger("ajaxSend",[I,k]),E)return I;k.async&&0<k.timeout&&(l=a.setTimeout(function(){I.abort("timeout")},k.timeout));try{var E=!1;g.send(r,d)}catch(Ob){if(E)throw Ob;d(-1,Ob)}}else d(-1,"No Transport");return I},getJSON:function(a,b,c){return h.get(a,b,c,"json")},getScript:function(a,b){return h.get(a,void 0,b,"script")}});
h.each(["get","post"],function(a,b){h[b]=function(a,c,d,g){return h.isFunction(c)&&(g=g||d,d=c,c=void 0),h.ajax(h.extend({url:a,type:b,dataType:g,data:c,success:d},h.isPlainObject(a)&&a))}});h._evalUrl=function(a){return h.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};h.fn.extend({wrapAll:function(a){var b;return this[0]&&(h.isFunction(a)&&(a=a.call(this[0])),b=h(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=
this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){h(this).replaceWith(this.childNodes)}),this}});h.expr.pseudos.hidden=
function(a){return!h.expr.pseudos.visible(a)};h.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};h.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(g){}};var pb={0:200,1223:204},ab=h.ajaxSettings.xhr();E.cors=!!ab&&"withCredentials"in ab;E.ajax=ab=!!ab;h.ajaxTransport(function(b){var c,d;if(E.cors||ab&&!b.crossDomain)return{send:function(e,g){var f,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)h[f]=
b.xhrFields[f];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(f in e)h.setRequestHeader(f,e[f]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?g(0,"error"):g(h.status,h.statusText):g(pb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:
{text:h.responseText},h.getAllResponseHeaders()))}};h.onload=c();d=h.onerror=c("error");void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})};c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(Yb){if(c)throw Yb;}},abort:function(){c&&c()}}});h.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(a){return h.globalEval(a),a}}});h.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});h.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=h("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&e("error"===a.type?404:200,a.type)});K.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Qb=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var a=Ib.pop()||h.expando+"_"+ob++;return this[a]=!0,a}});h.ajaxPrefilter("json jsonp",function(b,c,d){var e,g,f,l=!1!==b.jsonp&&(Qb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qb.test(b.data)&&"data");if(l||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=h.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,l?b[l]=b[l].replace(Qb,"$1"+e):!1!==b.jsonp&&(b.url+=(jb.test(b.url)?"&":"?")+b.jsonp+
"="+e),b.converters["script json"]=function(){return f||h.error(e+" was not called"),f[0]},b.dataTypes[0]="json",g=a[e],a[e]=function(){f=arguments},d.always(function(){void 0===g?h(a).removeProp(e):a[e]=g;b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e));f&&h.isFunction(g)&&g(f[0]);f=g=void 0}),"script"});E.createHTMLDocument=function(){var a=K.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}();h.parseHTML=function(a,b,c){if("string"!=
typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,g;return b||(E.createHTMLDocument?(b=K.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=K.location.href,b.head.appendChild(d)):b=K),e=Ub.exec(a),g=!c&&[],e?[b.createElement(e[1])]:(e=qa([a],b,g),g&&g.length&&h(g).remove(),h.merge([],e.childNodes))};h.fn.load=function(a,b,c){var d,e,g,f=this,l=a.indexOf(" ");return-1<l&&(d=Fa(a.slice(l)),a=a.slice(0,l)),h.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),0<
f.length&&h.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){g=arguments;f.html(d?h("<div>").append(h.parseHTML(a)).find(d):a)}).always(c&&function(a,b){f.each(function(){c.apply(this,g||[a.responseText,b,a])})}),this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h.expr.pseudos.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length};h.offset={setOffset:function(a,
b,c){var d,e,g,f=h.css(a,"position"),l=h(a),w={};"static"===f&&(a.style.position="relative");var k=l.offset();var m=h.css(a,"top");var n=h.css(a,"left");("absolute"===f||"fixed"===f)&&-1<(m+n).indexOf("auto")?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(m)||0,e=parseFloat(n)||0);h.isFunction(b)&&(b=b.call(a,c,h.extend({},k)));null!=b.top&&(w.top=b.top-k.top+g);null!=b.left&&(w.left=b.left-k.left+e);"using"in b?b.using.call(a,w):l.css(w)}};h.fn.extend({offset:function(a){if(arguments.length)return void 0===
a?this:this.each(function(b){h.offset.setOffset(this,a,b)});var b,c,d,e,g=this[0];if(g)return g.getClientRects().length?(d=g.getBoundingClientRect(),b=g.ownerDocument,c=b.documentElement,e=b.defaultView,{top:d.top+e.pageYOffset-c.clientTop,left:d.left+e.pageXOffset-c.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===h.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),e(a[0],"html")||(d=a.offset()),d={top:d.top+
h.css(a[0],"borderTopWidth",!0),left:d.left+h.css(a[0],"borderLeftWidth",!0)}),{top:b.top-d.top-h.css(c,"marginTop",!0),left:b.left-d.left-h.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===h.css(a,"position");)a=a.offsetParent;return a||na})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;h.fn[a]=function(d){return A(this,function(a,d,e){var g;return h.isWindow(a)?g=a:9===a.nodeType&&
(g=a.defaultView),void 0===e?g?g[b]:a[d]:void(g?g.scrollTo(c?g.pageXOffset:e,c?e:g.pageYOffset):a[d]=e)},a,d,arguments.length)}});h.each(["top","left"],function(a,b){h.cssHooks[b]=vb(E.pixelPosition,function(a,c){if(c)return c=eb(a,b),oa.test(c)?h(a).position()[b]+"px":c})});h.each({Height:"height",Width:"width"},function(a,b){h.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){h.fn[d]=function(e,g){var f=arguments.length&&(c||"boolean"!=typeof e),l=c||(!0===e||!0===g?"margin":"border");
return A(this,function(b,c,e){var g;return h.isWindow(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(g=b.documentElement,Math.max(b.body["scroll"+a],g["scroll"+a],b.body["offset"+a],g["offset"+a],g["client"+a])):void 0===e?h.css(b,c,l):h.style(b,c,e,l)},b,f?e:void 0,f)}})});h.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,
b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});h.holdReady=function(a){a?h.readyWait++:h.ready(!0)};h.isArray=Array.isArray;h.parseJSON=JSON.parse;h.nodeName=e;"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var hc=a.jQuery,ic=a.$;return h.noConflict=function(b){return a.$===h&&(a.$=ic),b&&a.jQuery===h&&(a.jQuery=hc),h},b||(a.jQuery=a.$=h),h});(function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,p=0;b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(e=c.wheelDelta/120);c.detail&&(e=-c.detail/3);var u=e;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(u=0,p=-1*e);void 0!==c.wheelDeltaY&&(u=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(p=-1*c.wheelDeltaX/120);d.unshift(b,e,p,u);return(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);/*

       __ _____                     ________                              __
      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
           \/              /____/                              version 1.6.1

 This file is part of jQuery Terminal. http://terminal.jcubic.pl

 Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 Released under the MIT license

 Contains:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/timers/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 jQuery Caret
 Copyright (c) 2009, Gideon Sireling
 3 clause BSD License

 sprintf.js
 Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 licensed under 3 clause BSD license

 Date: Tue, 15 Aug 2017 12:10:19 +0000
*/
(function(a){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var c=function(){c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0]));return c.format.call(null,c.cache[arguments[0]],arguments)};c.format=function(a,e){var d=1,k=a.length,m=[],p,u;for(p=0;p<k;p++){var n=b(a[p]);if("string"===n)m.push(a[p]);else if("array"===n){var x=a[p];if(x[2])for(n=e[d],u=0;u<x[2].length;u++){if(!n.hasOwnProperty(x[2][u]))throw c('[sprintf] property "%s" does not exist',
x[2][u]);n=n[x[2][u]]}else n=x[1]?e[x[1]]:e[d++];if(/[^s]/.test(x[8])&&"number"!==b(n))throw c("[sprintf] expecting number but found %s",b(n));switch(x[8]){case "b":n=n.toString(2);break;case "c":n=String.fromCharCode(n);break;case "d":n=parseInt(n,10);break;case "e":n=x[7]?n.toExponential(x[7]):n.toExponential();break;case "f":n=x[7]?parseFloat(n).toFixed(x[7]):parseFloat(n);break;case "o":n=n.toString(8);break;case "s":n=(n=String(n))&&x[7]?n.substring(0,x[7]):n;break;case "u":n>>>=0;break;case "x":n=
n.toString(16);break;case "X":n=n.toString(16).toUpperCase()}n=/[def]/.test(x[8])&&x[3]&&0<=n?" +"+n:n;u=x[4]?"0"===x[4]?"0":x[4].charAt(1):" ";var C=x[6]-String(n).length;if(x[6]){for(var B=[];0<C;B[--C]=u);u=B.join("")}else u="";m.push(x[5]?n+u:u+n)}}return m.join("")};c.cache={};c.parse=function(a){for(var b,c=[],d=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))c.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))c.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){d|=
1;var m=[],p=b[2],u;if(null!==(u=/^([a-z_][a-z_\d]*)/i.exec(p)))for(m.push(u[1]);""!==(p=p.substring(u[0].length));)if(null!==(u=/^\.([a-z_][a-z_\d]*)/i.exec(p)))m.push(u[1]);else if(null!==(u=/^\[(\d+)\]/.exec(p)))m.push(u[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=m}else d|=2;if(3===d)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";c.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return c};a.sprintf=c;a.vsprintf=function(a,b,f){f=
b.slice(0);f.splice(0,0,a);return c.apply(null,f)}})("undefined"!==typeof global?global:window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=function(b,c){void 0===c&&(c="undefined"!==typeof window?require("jquery"):require("jquery")(b));a(c);return c}:a(jQuery)})(function(a,b){function c(){var b=a.Callbacks(),c=!1;this.resolve=function(){b.fire();c=!0};this.add=function(a){c?a():b.add(a)}}function d(a,b){var c;if("string"===typeof a&&"string"===typeof b)return localStorage[a]=b,!0;if("object"===typeof a&&"undefined"===
typeof b){for(c in a)a.hasOwnProperty(c)&&(localStorage[c]=a[c]);return!0}return!1}function e(a,b){var c;var d=new Date;d.setTime(d.getTime()+31536E6);d="; expires="+d.toGMTString();if("string"===typeof a&&"string"===typeof b)return document.cookie=a+"="+b+d+"; path=/",!0;if("object"===typeof a&&"undefined"===typeof b){for(c in a)a.hasOwnProperty(c)&&(document.cookie=c+"="+a[c]+d+"; path=/");return!0}return!1}function f(a){return localStorage[a]}function k(a){var b,c;a+="=";var d=document.cookie.split(";");
for(b=0;b<d.length;b++){for(c=d[b];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(a))return c.substring(a.length,c.length)}return null}function m(a){return delete localStorage[a]}function p(a){return e(a,"",-1)}function u(a){a.attr({role:"presentation","aria-hidden":"true"})}function n(b){var c=b instanceof Array?b:b?[b]:[];a.extend(this,{data:function(){return c},map:function(b){return a.map(c,b)},size:function(){return c.length},pop:function(){if(0===c.length)return null;var a=c[c.length-
1];c=c.slice(0,c.length-1);return a},push:function(a){c=c.concat([a]);return a},top:function(){return 0<c.length?c[c.length-1]:null},clone:function(){return new n(c.slice(0))}})}function x(b,c,d){var e=!0,f="";"string"===typeof b&&""!==b&&(f=b+"_");f+="commands";var k=d?[]:(k=a.Storage.get(f))?JSON.parse(k):[];var m=k.length-1;a.extend(this,{append:function(b){e&&k[k.length-1]!==b&&(k.push(b),c&&k.length>c&&(k=k.slice(-c)),m=k.length-1,d||a.Storage.set(f,JSON.stringify(k)))},set:function(b){b instanceof
Array&&(k=b,d||a.Storage.set(f,JSON.stringify(k)))},data:function(){return k},reset:function(){m=k.length-1},last:function(){return k[k.length-1]},end:function(){return m===k.length-1},position:function(){return m},current:function(){return k[m]},next:function(){m<k.length-1&&++m;if(-1!==m)return k[m]},previous:function(){var a=m;0<m&&--m;if(-1!==a)return k[m]},clear:function(){k=[];this.purge()},enabled:function(){return e},enable:function(){e=!0},purge:function(){d||a.Storage.remove(f)},disable:function(){e=
!1}})}function C(b,c){var d=b.match(ia)||[];if(d.length){var e=d.shift(),f=a.map(d,c),k=a.map(d,function(a){return(a=a.match(/^(['"]).*\1$/))&&a[1]||""});d=b.substring(e.length).trim();return{command:b,name:e,args:f,args_quotes:k,rest:d}}return{command:b,name:"",args:[],args_quotes:k,rest:""}}function B(a){a="[jQuery Terminal] "+a;console&&console.warn?console.warn(a):setTimeout(function(){throw Error("WARN: "+a);},0)}function Q(){var b=a('<div class="terminal temp"><div class="cmd"><span class="prompt">&nbsp;</span></div></div>').appendTo("body"),
c=b.find("span")[0].getBoundingClientRect();c={width:c.width,height:c.height};b.remove();return c}function V(a,b){var c=a.find(".terminal-fill").width();return Math.floor(c/b.width)||1E3}function L(a,b){return Math.floor(a.find(".terminal-fill").height()/b.height)}function ya(b,c){var d=a("<div>"+c.replace(/\n/,"<br/>")+"<div>");b.append(d);if(document.body.createTextRange){var e=document.body.createTextRange();e.moveToElementText(d[0]);e.select()}else if(window.getSelection){var f=window.getSelection();
f.setBaseAndExtent?f.setBaseAndExtent(d[0],0,d[0],1):document.createRange&&(e=document.createRange(),e.selectNodeContents(d[0]),f.removeAllRanges(),f.addRange(e))}try{document.execCommand("copy")}catch(ca){}d.remove()}a.omap=function(b,c){var d={};a.each(b,function(a,e){d[a]=c.call(b,a,e)});return d};var qa={clone_object:function(b){var c={};if("object"===typeof b){if(a.isArray(b))return this.clone_array(b);if(null===b)return b;for(var d in b)a.isArray(b[d])?c[d]=this.clone_array(b[d]):c[d]="object"===
typeof b[d]?this.clone_object(b[d]):b[d]}return c},clone_array:function(b){if(!a.isFunction(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return b.slice(0).map(function(a){return"object"===typeof a?this.clone_object(a):a}.bind(this))}},Y=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(I){return!1}}();a.extend({Storage:{set:Y?d:e,get:Y?f:k,remove:Y?m:p}});a.fn.extend({everyTime:function(b,c,d,e,f){return this.each(function(){a.timer.add(this,
b,c,d,e,f)})},oneTime:function(b,c,d){return this.each(function(){a.timer.add(this,b,c,d,1)})},stopTime:function(b,c){return this.each(function(){a.timer.remove(this,b,c)})}});a.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1E3,das:1E4,hs:1E5,ks:1E6},timeParse:function(c){if(c===b||null===c)return null;var d=this.regex.exec(a.trim(c.toString()));return d[2]?parseInt(d[1],10)*(this.powers[d[2]]||1):c},add:function(b,c,d,e,f,k){var m=0;a.isFunction(d)&&(f||
(f=e),e=d,d=c);c=a.timer.timeParse(c);if(!("number"!==typeof c||isNaN(c)||0>=c)){f&&f.constructor!==Number&&(k=!!f,f=0);f=f||0;k=k||!1;b.$timers||(b.$timers={});b.$timers[d]||(b.$timers[d]={});e.$timerID=e.$timerID||this.guid++;var n=function(){k&&n.inProgress||(n.inProgress=!0,(++m>f&&0!==f||!1===e.call(b,m))&&a.timer.remove(b,d,e),n.inProgress=!1)};n.$timerID=e.$timerID;b.$timers[d][e.$timerID]||(b.$timers[d][e.$timerID]=window.setInterval(n,c));this.global[d]||(this.global[d]=[]);this.global[d].push(b)}},
remove:function(a,b,c){var d=a.$timers;if(d){if(!b)for(var e in d)d.hasOwnProperty(e)&&this.remove(a,e,c);else if(d[b]){if(c)c.$timerID&&(window.clearInterval(d[b][c.$timerID]),delete d[b][c.$timerID]);else for(var f in d[b])d[b].hasOwnProperty(f)&&(window.clearInterval(d[b][f]),delete d[b][f]);for(k in d[b])if(d[b].hasOwnProperty(k))break;if(!k){var k=null;delete d[b]}}for(k in d)if(d.hasOwnProperty(k))break;k||(a.$timers=null)}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))a(window).one("unload",
function(){var b=a.timer.global,c;for(c in b)if(b.hasOwnProperty(c))for(var d=b[c],e=d.length;--e;)a.timer.remove(d[e],c)});(function(a){if(String.prototype.split.toString().match(/\[native/)){var b=String.prototype.split,c=/()??/.exec("")[1]===a;var d=function(d,e,f){if("[object RegExp]"!==Object.prototype.toString.call(e))return b.call(d,e,f);var k=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),m=0,n,p;e=new RegExp(e.source,h+"g");d+="";c||(n=new RegExp("^"+
e.source+"$(?!\\s)",h));for(f=f===a?4294967295:f>>>0;p=e.exec(d);){h=p.index+p[0].length;if(h>m){k.push(d.slice(m,p.index));!c&&1<p.length&&p[0].replace(n,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(p[b]=a)});1<p.length&&p.index<d.length&&Array.prototype.push.apply(k,p.slice(1));var u=p[0].length;m=h;if(k.length>=f)break}e.lastIndex===p.index&&e.lastIndex++}m===d.length?(u||!e.test(""))&&k.push(""):k.push(d.slice(m));return k.length>f?k.slice(0,f):k};String.prototype.split=
function(a,b){return d(this,a,b)};return d}})();a.fn.caret=function(a){var b=this[0],c="true"===b.contentEditable;if(0===arguments.length){if(window.getSelection){if(c){b.focus();var d=window.getSelection().getRangeAt(0);c=d.cloneRange();c.selectNodeContents(b);c.setEnd(d.endContainer,d.endOffset);return c.toString().length}return b.selectionStart}if(document.selection){b.focus();if(c)return d=document.selection.createRange(),c=document.body.createTextRange(),c.moveToElementText(b),c.setEndPoint("EndToEnd",
d),c.text.length;a=0;d=b.createTextRange();c=document.selection.createRange().duplicate();b=c.getBookmark();for(d.moveToBookmark(b);0!==d.moveStart("character",-1);)a++;return a}return 0}-1===a&&(a=this[c?"text":"val"]().length);window.getSelection?c?(b.focus(),window.getSelection().collapse(b.firstChild,a)):b.setSelectionRange(a,a):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(b),d.moveStart("character",a),d.collapse(!0),d.select());c||b.focus();return a};
var Ea=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};a.fn.resizer=function(b){var c="unbind"===b;if(!c&&!a.isFunction(b))throw Error('Invalid argument, it need to a function of string "unbind".');return this.each(function(){var d=a(this);if(c)a(this).removeData("callbacks").find(".resizer").remove();else if(d.data("callbacks"))a(this).data("callbacks").push(b);else{d.data("callbacks",[b]);var e=this,f=
a("<div/>").addClass("resizer").appendTo(this)[0];f.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";f.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
var k=f.childNodes[0],m=k.childNodes[0],n=f.childNodes[1],h,p,u,x,M=e.offsetWidth,B=e.offsetHeight,I=function(){m.style.width="100000px";m.style.height="100000px";k.scrollLeft=1E5;k.scrollTop=1E5;n.scrollLeft=1E5;n.scrollTop=1E5};I();var Y=function(){p=0;if(h){M=u;B=x;var a=d.data("callbacks");a&&a.length&&a.forEach(function(a){a()})}};f=function(){u=e.offsetWidth;x=e.offsetHeight;(h=u!==M||x!==B)&&!p&&(p=Ea(Y));I()};a(k).on("scroll",f);a(n).on("scroll",f)}})};var cb=0;a.fn.cmd=function(c){function d(){var b=
a("<span>&nbsp;</span>").appendTo(A),c=b[0].getBoundingClientRect();b.remove();return c}function e(){var a;if((a=window.getSelection())&&null!==a.focusNode)return a.focusOffset}function f(b){var c=e(),f=d().height,h=A.offset();f=Math.floor((b.pageY-h.top)/f);if(a.isNumeric(c)){if(b=a(b.target).closest('[role="presentation"]'),!b.is("div")&&!b.next().is(".cursor")){if(b.is(".cursor"))return D;if(b.prev().is(".cursor"))return D+c;c=0}}else return F.length;b=V(F);c=0<f&&1<b.length?c+b.slice(0,f).reduce(function(a,
b){return a+b.length},0):c;c=F.replace(/\t/g,"\x00\x00\x00\x00").replace(/\n/,"").slice(0,c).replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length;f=F.length;return c>f?f:c}function k(){return!0}function m(){ba.val("");Za=0;ba.focus();ba.on("input",function Xa(a){ua(a);ba.off("input",Xa)});return!0}function n(){ib?(bb=F,A.set(H.current())):A.set(H.previous());return ib=!1}function p(){A.set(H.end()?bb:H.next());return!1}function h(){0<D&&(A.position(-1,!0),Z())}function M(){D<F.length&&A.position(1,
!0);return!1}function B(){A.position(0)}function Y(){A.position(F.length)}function L(){var a=ba.is(":focus");Ha?a||(ba.trigger("focus",[!0]),A.oneTime(10,function(){ba.trigger("focus",[!0])})):a&&ub&&ba.blur()}function C(){A.oneTime(10,function(){if(Ha)A.oneTime(10,function(){})})}function Q(){va.toggleClass("inverted")}function qa(){T="(reverse-i-search)`"+ma+"': ";oa()}function Ea(b){var c=H.data(),d=c.length;b&&0<Ua&&(d-=Ua);if(0<ma.length)for(var e=ma.length;0<e;e--){var f=a.terminal.escape_regex(ma.substring(0,
e));b=new RegExp(f);for(var h=d;h--;)if(b.test(c[h])){Ua=c.length-h;A.position(c[h].indexOf(f));A.set(c[h],!0);Z();ma.length!==e&&(ma=ma.substring(0,e),qa());return}}ma=""}function V(b){var c=Ia.text(),d=new RegExp("^"+a.terminal.escape_regex(c));if(b.match(/\n/)){b=b.split("\n");for(var e=Ka-Ma-1,f=0;f<b.length-1;++f)b[f]+=" ";db(b[0])>e?(c=a.terminal.split_equal(c+b[0],Ka),c[0]=c[0].replace(d,"")):c=[b[0]];for(f=1;f<b.length;++f)b[f].length>Ka?c=c.concat(a.terminal.split_equal(b[f],Ka)):c.push(b[f])}else c=
a.terminal.split_equal(c+b,Ka),c[0]=c[0].replace(d,"");return c}function K(b){b=a.terminal.escape_formatting(b);try{return a.terminal.apply_formatters(b)}catch(W){alert(W.message+"\n"+(W.stack?W.stack:W))}}function aa(b){return a.terminal.format(a.terminal.encode(b))}function ua(){if(!(0<Za++)&&A.isenabled()){var a=A.find("textarea");a.is(":focus")||a.focus();A.oneTime(100,function(){A.insert(a.val());a.val("");C()})}}function ia(){if(a.isFunction(c.onCommandChange))c.onCommandChange(F)}function za(d){Qa=
"process"===(d.key||"").toLowerCase();nb=r&&$a;try{d.fake||($a=d.key&&1===d.key.length&&!d.ctrlKey,ra="unidentified"===String(d.key).toLowerCase(),sa="BACKSPACE"===d.key.toUpperCase()||8===d.which)}catch(wa){}if("Unidentified"===d.key)ea=!0;else{d.fake||(r=!0,ea=!1);if(d.key){var e=d.key.toUpperCase();if("CONTROL"===e)var f="CTRL";else f=[],d.ctrlKey&&f.push("CTRL"),d.metaKey&&"META"!==e&&f.push("META"),d.shiftKey&&"SHIFT"!==e&&f.push("SHIFT"),d.altKey&&"ALT"!==e&&f.push("ALT"),d.key&&("DEL"===e?
f.push("DELETE"):f.push(e)),f=f.join("+")}else f=void 0;if(a.isFunction(c.keydown)&&(e=c.keydown(d),e!==b))return e||(Sa=!0),e;if(Ha){Sa=-1!==["CTRL+V","META+V"].indexOf(f);38===d.which||80===d.which&&d.ctrlKey||(ib=!0);if(!R||35!==d.which&&36!==d.which&&37!==d.which&&38!==d.which&&39!==d.which&&40!==d.which&&13!==d.which&&27!==d.which)if(a.isFunction(hb[f])){e=hb[f]();if(!0===e)return;if(e!==b)return e}else{d.altKey||(mb=!1);return}else T=Aa,R=!1,Ua=null,ma="",oa(),27===d.which&&A.set(""),Z(),za.call(this,
d);d.preventDefault()}}}function Da(d){d.fake||(r=!1);if(!d.ctrlKey&&!d.metaKey&&!mb){if(a.isFunction(c.keypress)){var e=c.keypress(d);if(e!==b)return e||(Sa=!0),e}if(Ha&&!d.fake){e="KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype?Object.getOwnPropertyDescriptor(window.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/):!1;if(e||d.fake)var f=d.key;if(!f||ra)f=String.fromCharCode(d.which);"SPACEBAR"===f.toUpperCase()&&(f=" ");if(-1<a.inArray(d.which,[13,0,8]))return 123===
d.keyCode?void 0:!1;if(f&&(!d.ctrlKey||d.ctrlKey&&d.ctrlKey)&&(!d.altKey||100!==d.which||d.altKey)&&!nb&&(R?(ma+=f,Ea(),qa()):A.insert(f)," "===f))return!1}}}function ta(b,c,d){b=a.Event(b);b.which=d;b.key=c;b.fake=!0;G.trigger(b)}function Ja(){if(ea||Qa||(r||nb)&&!Sa&&($a||ra)&&!sa){var a=D,b=ba.val();ea&&(sa=N.substring(0,N.length-1)===N.length);if(R)ma=b,Ea(),qa();else{var c=b.substring(D);if(1===c.length||sa){if(ea){var d=sa?8:c.toUpperCase().charCodeAt(0);ta("keydown",sa?"Backspace":c,d)}r&&
!sa&&ta("keypress",c,c.charCodeAt(0))}if(sa){N=F;return}if(Sa){Sa=!1;return}A.set(b)}sa?A.position(a-1):A.position(a+Math.abs(b.length-N.length))}N=F;Sa=!1;ea=!0}var A=this,Fa=A.data("cmd");if(Fa)return Fa;var J=cb++;A.addClass("cmd");A.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');u(A.find("span").not(":eq(0)"));var ba=a("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(A);c.width&&A.width(c.width);
var Ka,Ma,Ia=A.find(".prompt"),R=!1,ma="",Ua=null,Aa,Ra=c.mask||!1,F="",bb,l="",D=0,Ha,na=c.historySize||60,Ya,H,va=A.find(".cursor"),Za=0,hb,Va={"ALT+D":function(){A.set(F.slice(0,D)+F.slice(D).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0);return!1},ENTER:function(){(H&&F&&!Ra&&a.isFunction(c.historyFilter)&&c.historyFilter(F)||c.historyFilter instanceof RegExp&&F.match(c.historyFilter)||!c.historyFilter)&&H.append(F);var b=F;H.reset();N="";ea=!0;A.set("");c.commands&&c.commands(b);a.isFunction(T)&&oa();
a(".clipboard").val("");return!1},"SHIFT+ENTER":function(){A.insert("\n");return!0},BACKSPACE:function(){if(R)ma=ma.slice(0,-1),qa();else if(""!==F&&0<D)A["delete"](-1);ea=!0;return!1},TAB:function(){A.insert("\t")},"CTRL+D":function(){A["delete"](1);return!1},DELETE:function(){A["delete"](1);return!0},ARROWUP:n,UP:n,"CTRL+P":n,ARROWDOWN:p,DOWN:p,"CTRL+N":p,ARROWLEFT:h,LEFT:h,"CTRL+B":h,"CTRL+ARROWLEFT":function(){var a=D-1,b=0;for(" "===F[a]&&--a;0<a;--a)if(" "===F[a]&&" "!==F[a+1]){b=a+1;break}else if("\n"===
F[a]&&"\n"!==F[a+1]){b=a;break}A.position(b)},"CTRL+R":function(){R?Ea(!0):(Aa=T,qa(),bb=F,A.set(""),Z(),R=!0);return!1},"CTRL+G":function(){if(R)return T=Aa,oa(),A.set(bb),Z(),R=!1,ma="",!1},ARROWRIGHT:M,"CTRL+F":M,RIGHT:M,"CTRL+ARROWRIGHT":function(){" "===F[D]&&++D;var a=F.slice(D).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!a||a[0].match(/^\s+$/)?A.position(F.length):" "!==a[0][0]?D+=a.index+1:(D+=a.index+a[0].length-1," "!==a[0][a[0].length-1]&&--D);Z()},F12:k,END:Y,"CTRL+E":Y,HOME:B,"CTRL+A":B,"SHIFT+INSERT":m,
"CTRL+SHIFT+T":k,"CTRL+W":function(){if(""!==F&&0!==D){var a=F.slice(0,D).match(/([^ ]+ *$)/);a[0].length&&(l=A["delete"](-a[0].length),ya(A,l))}return!1},"CTRL+H":function(){if(""!==F&&0<D)A["delete"](-1);return!1},"CTRL+X":k,"CTRL+C":k,"CTRL+T":k,"CTRL+Y":function(){""!==l&&A.insert(l)},"CTRL+V":m,"META+V":m,"CTRL+K":function(){F.length-D&&(l=A["delete"](F.length-D),ya(A,l));return!1},"CTRL+U":function(){""!==F&&0!==D&&(l=A["delete"](-D),ya(A,l));return!1},"CTRL+TAB":function(){return!1},"META+`":k,
"META+R":k,"META+L":k};if(P&&!Bb)var kb=function(a){a?va.addClass("blink"):va.removeClass("blink")};else{var Ca=!1;kb=function(a){a&&!Ca?(Ca=!0,va.addClass("inverted blink"),A.everyTime(500,"blink",Q)):Ca&&!a&&(Ca=!1,A.stopTime("blink",Q),va.removeClass("inverted blink"))}}var Z=function(){function c(b,c){var d=b.length;b=K(b);c===d?(h.html(aa(b)),va.html("&nbsp;"),l.html("")):0===c?(h.html(""),va.html(aa(a.terminal.substring(b,0,1))),l.html(aa(a.terminal.substring(b,1,void 0)))):(d=a.terminal.substring(b,
0,c),h.html(aa(d)),d=a.terminal.substring(b,c,c+1),va.html(aa(d)),c===b.length-1?l.html(""):l.html(aa(a.terminal.substring(b,c+1,void 0))))}function d(a){return'<div role="presentation">'+aa(K(a))+"</div>"}function e(b){var c=l;a.each(b,function(b,e){c=a(d(e)).insertAfter(c)})}function f(b){a.each(b,function(a,b){h.before(d(b))})}var h=va.prev(),l=va.next();return function(){switch(typeof Ra){case "boolean":var k=Ra?F.replace(/./g,"*"):F;break;case "string":k=F.replace(/./g,Ra)}var m;A.find("div").remove();
h.html("");if(db(k)>Ka-Ma-1||k.match(/\n/)){var n=(m=k.match(/\t/g))?3*m.length:0;m&&(k=k.replace(/\t/g,"\x00\x00\x00\x00"));var w=V(k);m&&(w=a.map(w,function(a){return a.replace(/\x00\x00\x00\x00/g,"\t")}));m=w[0].length;if(0!==m||1!==w.length)if(D<m)c(w[0],D),e(w.slice(1));else if(D===m)h.before(d(w[0])),c(w[1]||"",0),1<w.length&&e(w.slice(2));else{var p=w.length;if(D<m)c(w[0],D),e(w.slice(1));else if(D===m)h.before(d(w[0])),c(w[1],0),e(w.slice(2));else{var u=w.slice(-1)[0];n=k.length-D-n;var r=
u.length;k=0;if(n<=r)f(w.slice(0,-1)),c(u,r===n?0:r-n);else if(3===p)k=aa(w[0]),h.before('<div role="presentation">'+k+"</div>"),c(w[1],D-m-1),k=aa(K(w[2])),l.after('<div role="presentation">'+k+"</div>");else{k=D;for(m=0;m<w.length;++m)if(p=w[m].length,k>p)k-=p;else break;p=w[m];if(k===p.length&&(k=0,p=w[++m],p===b))throw Error(a.terminal.defaults.strings.redrawError);c(p,k);f(w.slice(0,m));e(w.slice(m+1))}}}}else""===k?(h.html(""),va.html("&nbsp;"),l.html("")):c(k,D)}}(),oa=function(){function b(b){var c=
a.terminal.split_equal(a.terminal.encode(b),Ka);b=c.slice(-1).map(a.terminal.format)[0];c=c.slice(0,-1).map(function(b){b=a.terminal.format(b);return b.match(/class="/)?b.replace(/class="/,'class="line '):b.replace(/^<span/,'<span class="line"')}).concat([b]).join("\n");Ia.html(c);Ma=db(a("<span>"+b+"</span>").text())}return function(){switch(typeof T){case "string":b(T);break;case "function":T(b)}}}();a.extend(A,{name:function(a){if(a!==b){Ya=a;var d=H&&H.enabled()||!H;H=new x(a,na,"memory"===c.history);
d||H.disable();return A}return Ya},purge:function(){H.clear();return A},history:function(){return H},"delete":function(a,b){if(0===a)return A;if(0>a){if(0<D){var c=F.slice(0,D).slice(a);F=F.slice(0,D+a)+F.slice(D,F.length);b||A.position(D+a);ia()}}else""!==F&&D<F.length&&(c=F.slice(D).slice(0,a),F=F.slice(0,D)+F.slice(D+a,F.length),ia());Z();C();return c},set:function(a,c){a!==b&&(F=a,c||A.position(F.length),Z(),C(),ia());return A},keymap:function(b){if("undefined"===typeof b)return hb;hb=a.extend({},
Va,a.omap(b||{},function(a,b){return function(c){return b(c,Va[a])}}));return A},insert:function(a,b){F=D===F.length?F+a:0===D?a+F:F.slice(0,D)+a+F.slice(D);b?C():A.position(a.length,!0);Z();ia();return A},get:function(){return F},commands:function(a){return a?(c.commands=a,A):a},destroy:function(){G.unbind("keypress.cmd",Da);G.unbind("keydown.cmd",za);G.unbind("input.cmd",Ja);A.stopTime("blink",Q);A.find(".cursor").next().remove().end().prev().remove().end().remove();A.find(".prompt, .clipboard").remove();
A.removeClass("cmd").removeData("cmd").off(".cmd");return A},prompt:function(a){if(a===b)return T;if("string"===typeof a||"function"===typeof a)T=a;else throw Error("prompt must be a function or string");oa();Z();return A},kill_text:function(){return l},position:function(b,d){if("number"===typeof b){D=d?D+b:0>b?0:b>F.length?F.length:b;if(a.isFunction(c.onPositionChange))c.onPositionChange(D);Z();C();return A}return D},visible:function(){var a=A.visible;return function(){a.apply(A,[]);Z();oa()}}(),
show:function(){var a=A.show;return function(){a.apply(A,[]);Z();oa()}}(),resize:function(a){if(a)Ka=a;else{var b=A.find(".prompt").text("&nbsp;");a=A.width();b=b[0].getBoundingClientRect().width;Ka=Math.floor(a/b);oa()}Z();oa();return A},enable:function(){if(!Ha){Ha=!0;A.addClass("enabled");try{ba.caret(D)}catch(pa){}kb(!0);oa();L()}return A},isenabled:function(){return Ha},disable:function(a){Ha=!1;A.removeClass("enabled");kb(!1);a||L();return A},mask:function(a){if("undefined"===typeof a)return Ra;
Ra=a;Z();return A}});A.name(c.name||c.prompt||"");var T="string"===typeof c.prompt?c.prompt:"> ";oa();c.enabled!==b&&!0!==c.enabled||A.enable();c.history||H.disable();var ib=!0,mb=!1,nb=!1,$a=!1,r=!1,ra=!1,ea=!0,sa=!1,Qa=!1,Sa,N="",G=a(document.documentElement||window);A.keymap(c.keymap);G.bind("keypress.cmd",Da).bind("keydown.cmd",za).bind("input.cmd",Ja);(function(){var b=!1,d=!1,e=0;A.on("mousedown.cmd",function(){d=!0;A.oneTime(1,function(){a(window).on("mousemove.cmd_"+J,function(){b=!0;a(window).off("mousemove.cmd_"+
J)})})}).on("mouseup.cmd",function(h){var l=b;b=!1;a(window).off("mousemove.cmd_"+J);if(!l)if(l="click_"+J,1===++e){var k=d;if(Ha)A.oneTime(c.clickTimeout,l,function(){!a(h.target).is(".prompt")&&k&&(a(h.target).is(".cmd")?A.position(F.length):A.position(f(h)));e=0});else e=0}else A.stopTime(l),e=0;d=!1})})();A.data("cmd",A);"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill");
},0);return A};var P=function(){var a=!1,c=["Webkit","Moz","O","ms","Khtml"],d=document.createElement("div");d.style.animationName&&(a=!0);if(!1===a)for(var e=0;e<c.length;e++)if(d.style[c[e]+"AnimationName"]!==b){a=!0;break}return a}(),Bb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),db=function(){return"undefined"===typeof wcwidth?function(a){return a.length}:wcwidth}(),ub="ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch,qb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,
Ia=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,rb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,eb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,vb=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,Jb=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,wb=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,
Db=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,Eb=/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,ia=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,fb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Kb=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,gb=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,Lb=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,Mb=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,
za=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./;a.terminal={version:"1.6.1",color_names:"transparent currentcolor black silver gray white maroon red purple fuchsia green lime olive yellow navy blue teal aqua aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkgrey darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkslategrey darkturquoise darkviolet deeppink deepskyblue dimgray dimgrey dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow grey honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightslategrey lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray slategrey snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
valid_color:function(b){return b.match(Jb)?!0:-1!==a.inArray(b.toLowerCase(),a.terminal.color_names)},unclosed_strings:function(a){return!!a.match(za)},escape_regex:function(a){if("string"===typeof a)return a.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(a){return"string"===typeof a&&!!a.match(eb)},is_formatting:function(a){return"string"===typeof a&&!!a.match(vb)},format_split:function(a){return a.split(qb).filter(Boolean)},iterate_formatting:function(a,c){for(var d=!1,e=!1,
f=0,k,m=-1,n=0;n<a.length;n++){(k=a.substring(n).match(Kb))?(d=k[1],e=!1):d?"]"===a[n]&&(e?(d="",e=!1):e=!0):e=!0;k=d&&e||!d;var h="["===a[n]&&"["===a[n+1];"&nbsp;"!==a.substring(n-6,n)&&" "!==a.substring(n-1,n)||!k&&!h||(m=n);h=a[n].match(/[[\]]/);if(k)if("&"===a[n]){k=a.substring(n).match(/^(&[^;]+;)/);if(!k)throw Error("Unclosed html entity at char "+(n+1));n+=k[1].length-2;continue}else"]"===a[n]&&"\\"===a[n-1]?--f:h||++f;if(!h&&k)if(2===db(a[n])&&f++,k=c({count:f,index:n,formatting:d,text:e,
space:m}),!1===k)break;else k&&(k.count!==b&&(f=k.count),k.space!==b&&(m=k.space),k.index!==b&&(n=k.index))}},substring:function(b,c,d){if(""===a("<span>"+a.terminal.strip(b)+"</span>").text().substring(c,d))return"";var e,f=b.length,k="",m="";a.terminal.iterate_formatting(b,function(a){a.count===c&&(e=a.index+1,a.formatting&&(k=a.formatting));d&&a.count===d&&(f=a.index+1,m=a.formatting)});b=k+b.substring(e,f);m&&(b+="]");return b},normalize:function(a){return a.replace(rb,function(a,b,c){if(""===
c)return"";a=b.match(/;/g).length;if(4<=a)return a=b.split(/;/),b=a.slice(0,4).join(";"),a=a.slice(4).join(";"),"[["+b+";"+(a||c)+"]"+c+"]";a=2===a?";;":3===a?";":"";var d=c.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+b+a+d+"]"+c+"]"})},split_equal:function(b,c,d){var e="",f=[];b=a.terminal.normalize(b).split(/\n/g);for(var k=0,m=b.length;k<m;++k)if(""===b[k])f.push("");else{var n=b[k],h=0,p,u=n.length;a.terminal.iterate_formatting(n,function(b){var k=b.index===
u-2&&"]"===n[b.index+1],m=b.index===u-1||k;if(b.count>=c||m||b.count===c-1&&2===db(n[b.index+1])){if(d){m=a.terminal.strip(n.substring(b.space));m=a("<span>"+m+"</span>").text();var x=m.length,B=b.index+c+1;m=m.substring(0,B);var M=!1;if(m.match(/\s/)||B>x)M=!0}if(d&&!k&&-1!==b.space&&b.index!==u-1&&M){p=n.substring(h,b.space);var Y=b.space-1}else p=n.substring(h,b.index+1);d&&(p=p.replace(/(&nbsp;|\s)+$/g,""));h=(Y||b.index)+1;e&&(b=p.match(/^[^\]]*\]/),p=e+p,b&&(e=""));k&&(p+="]",e="");if(k=p.match(rb))k=
k[k.length-1],"]"!==k[k.length-1]?(e=k.match(fb)[1],p+="]"):p.match(gb)&&(p=p.replace(gb,""),e=k.match(fb)[1]);f.push(p);return{index:Y,count:0,space:-1}}})}return f},encode:function(a){a=a.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;");return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(b){if(!a.terminal.have_formatting(b))return b;var c=[],d=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return b.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(b){if(b.match(/^\[\[/))a.terminal.is_formatting(b)||
(b+="]",c.push(b.replace(d,"$1")));else{var e=!1;b.match(/\]/)&&(e=!0);c.length&&(b=c[c.length-1]+b);e?c.pop():c.length&&(b+="]")}return b}).join("")},escape_formatting:function(b){return a.terminal.escape_brackets(b)},apply_formatters:function(b){var c=a.terminal.defaults.formatters;return a.terminal.format_split(b).map(function(b){if(!a.terminal.is_formatting(b))for(var d=0;d<c.length;++d)try{if("function"===typeof c[d]){var e=c[d](b);"string"===typeof e&&(b=e)}}catch(ca){throw Error("Error in formatter ["+
d+"]");}return b}).join("")},format:function(b,c){var d=a.extend({},{linksNoReferrer:!1},c||{});if("string"===typeof b){var e=a.terminal.format_split(b);b=a.map(e,function(b){return""===b?b:a.terminal.is_formatting(b)?(b=b.replace(/\[\[[^\]]+\]/,function(a){return a.replace(/&nbsp;/g," ")}),b.replace(Ia,function(b,c,e,f,k,m,n){if(""===n)return"";n=n.replace(/\\]/g,"]");b="";-1!==c.indexOf("b")&&(b+="font-weight:bold;");var h=[];-1!==c.indexOf("u")&&h.push("underline");-1!==c.indexOf("s")&&h.push("line-through");
-1!==c.indexOf("o")&&h.push("overline");h.length&&(b+="text-decoration:"+h.join(" ")+";");-1!==c.indexOf("i")&&(b+="font-style:italic;");a.terminal.valid_color(e)&&(b+="color:"+e+";",-1!==c.indexOf("g")&&(b+="text-shadow:0 0 5px "+e+";"));a.terminal.valid_color(f)&&(b+="background-color:"+f);e=""===m?n:m.replace(/&#93;/g,"]");-1!==c.indexOf("!")?(e.match(wb)?(f='<a target="_blank" href="'+e+'"',f=d.linksNoReferrer?f+' rel="noreferrer noopener"':f+' rel="noopener"'):f='<a class="a_acct" name="a_acct"',
f+=' tabindex="1000"'):f="<span";""!==b&&(f+=' style="'+b+'"');""!==k&&(f+=' class="'+k+'"');return f=-1!==c.indexOf("!")?f+(">"+n+"</a>"):f+(' data-text="'+e.replace('"',"&quote;")+'">'+n+"</span>")})):"<span>"+b.replace(/\\\]/g,"]")+"</span>"}).join("");return b.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(a){return a.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(a){a=a.replace(Ia,"$6");return a.replace(/(\\?)([[\]])/g,function(a,b){return b?a:
""})},active:function(){return aa.front()},last_id:function(){var a=aa.length();if(a)return a-1},parse_argument:function(a,b){function c(a){a.match(/^['"]/)&&(a=a.replace(new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+a[0],"g"),"$1"));return JSON.parse('"'+a+'"')}if(!1===b)return"'"===a[0]&&"'"===a[a.length-1]?a.replace(/^'|'$/g,""):'"'===a[0]&&'"'===a[a.length-1]?a.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):a.match(/\/.*\/[gimy]*$/)?a:a.match(/['"]]/)?c(a):a.replace(/\\ /g," ");var d=a.match(Mb);return d?
new RegExp(d[1],d[2]):a.match(/['"]/)?c(a):a.match(/^-?[0-9]+$/)?parseInt(a,10):a.match(Lb)?parseFloat(a):a.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(b){return a.map(b.match(ia)||[],a.terminal.parse_argument)},split_arguments:function(b){return a.map(b.match(ia)||[],function(b){return a.terminal.parse_argument(b,!1)})},parse_command:function(b){return C(b,a.terminal.parse_argument)},split_command:function(b){return C(b,function(b){return a.terminal.parse_argument(b,!1)})},extended_command:function(a,
b){try{Ja=!1,a.exec(b,!0).done(function(){Ja=!0})}catch(ja){}}};a.fn.visible=function(){return this.css("visibility","visible")};a.fn.hidden=function(){return this.css("visibility","hidden")};a.fn.scroll_element=function(){var b=a.fn.scroll_element.defaults;return this.map(function(){if(a(this).is("body")){var c=a("html"),d=a("body"),e=d.scrollTop()||c.scrollTop(),f=a("<pre/>").css(b.pre).appendTo("body");f.html(Array(b.lines).join("\n"));a("body,html").scrollTop(10);if(10===d.scrollTop()){d.scrollTop(e);
var k=d[0]}else 10===c.scrollTop()&&(c.scrollTop(e),k=c[0]);f.remove();return k}return this})};a.fn.scroll_element.defaults={lines:2E3,pre:{"font-size":"100px","white-space":"pre"}};var Fa={};a.jrpc=function(b,c,d,e,f){var k=a.isPlainObject(b)?b:{url:b,method:c,params:d,success:e,error:f};Fa[k.url]=Fa[k.url]||0;var m={jsonrpc:"2.0",method:k.method,params:k.params,id:++Fa[k.url]};return a.ajax({url:k.url,beforeSend:function(b,c){a.isFunction(k.request)&&k.request(b,m);c.data=JSON.stringify(m)},success:function(b,
c,d){d.getResponseHeader("Content-Type").match(/(application|text)\/json/)||B("Response Content-Type is neither application/json nor text/json");try{var e=JSON.parse(b)}catch(Gb){if(k.error)k.error(d,"Invalid JSON",Gb);else throw Error("Invalid JSON");return}a.isFunction(k.response)&&k.response(d,e);b=e;if(a.isNumeric(b.id)&&("undefined"!==typeof b.result||"undefined"!==typeof b.error)||"system.describe"===k.method)k.success(e,c,d);else if(k.error)k.error(d,"Invalid JSON-RPC");else throw Error("Invalid JSON-RPC");
},error:k.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var ta=!a.terminal.version.match(/^\{\{/);Y=ta?" v. "+a.terminal.version:" ";var lb=new RegExp(" {"+Y.length+"}$");ta="jQuery Terminal Emulator"+(ta?Y:"");var xb=[["jQuery Terminal","(c) 2011-2017 jcubic"],[ta,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright | *<.*>/g,"")],[ta,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright /,"")],
["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(lb," ")+Y,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"],["      __ _____                     ________                              __",
"     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(lb,"")+Y,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"]];a.terminal.defaults=
{prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[a.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,
clickTimeout:200,request:a.noop,response:a.noop,describe:"procs",onRPCError:null,completion:!1,onInit:a.noop,onClear:a.noop,onBlur:a.noop,onFocus:a.noop,onTerminalChange:a.noop,onExit:a.noop,onPush:a.noop,onPop:a.noop,keypress:a.noop,keydown:a.noop,onAfterRedraw:a.noop,onEchoCommand:a.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",
wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",
notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",
invalidStrings:"Command %s have unclosed strings"}};var Va=[],aa=new function(b){var c=b?[b]:[],d=0;a.extend(this,{get:function(){return c},rotate:function(){if(c.filter(Boolean).length){if(1===c.length)return c[0];d===c.length-1?d=0:++d;return c[d]?c[d]:this.rotate()}},length:function(){return c.length},remove:function(a){delete c[a]},set:function(a){for(var b=c.length;b--;)if(c[b]===a){d=b;return}this.append(a)},front:function(){if(c.length){for(var a=d,b=!1;!c[a];)if(a++,a>c.length){if(b)break;
a=0;b=!0}return c[a]}},map:function(a){return c.filter(Boolean).map(a)},forEach:function(a){c.filter(Boolean).forEach(a)},append:function(a){c.push(a)}})},ua=[],K,Ja=!1,Ma=!0,Cb=!0;a.fn.terminal=function(d,e){function f(b){if(a.terminal.unclosed_strings(b))throw b=a.terminal.escape_brackets(b),Error(sprintf(R().invalidStrings,"`"+b+"`"));return a.isFunction(r.processArguments)?C(b,r.processArguments):r.processArguments?a.terminal.parse_command(b):a.terminal.split_command(b)}function k(b){"string"===
typeof b?l.echo(b):b instanceof Array?l.echo(a.map(b,function(a){return JSON.stringify(a)}).join(" ")):"object"===typeof b?l.echo(JSON.stringify(b)):l.echo(b)}function m(b){var c=b.match(/(.*):([0-9]+):([0-9]+)$/);c&&(l.pause(r.softPause),a.get(c[1],function(b){var d=location.href.replace(/[^/]+$/,"");d=c[1].replace(d,"");l.echo("[[b;white;]"+d+"]");b=b.split("\n");var e=+c[2]-1;l.echo(b.slice(e-2,e+3).map(function(b,c){2===c&&(b="[[;#f00;]"+a.terminal.escape_brackets(b)+"]");return"["+(e+c)+"]: "+
b}).join("\n")).resume()},"text"))}function p(b){if(a.isFunction(r.onRPCError))r.onRPCError.call(l,b);else if(l.error("&#91;RPC&#93; "+b.message),b.error&&b.error.message){b=b.error;var c="\t"+b.message;b.file&&(c+=' in file "'+b.file.replace(/.*\//,"")+'"');b.at&&(c+=" at line "+b.at);l.error(c)}}function x(b,c){var d=function(c,d){l.pause(r.softPause);a.jrpc({url:b,method:c,params:d,request:function(a,b){try{r.request.apply(l,a,b,l)}catch(Oa){P(Oa,"USER")}},response:function(a,b){try{r.response.apply(l,
a,b,l)}catch(Oa){P(Oa,"USER")}},success:function(b){b.error?p(b.error):a.isFunction(r.processRPCResponse)?r.processRPCResponse.call(l,b.result,l):k(b.result);l.resume()},error:h})};return function(a,b){if(""!==a){try{a=f(a)}catch(S){P(S,"TERMINAL (get_processed_command)");return}if(c&&"help"!==a.name){var e=b.token();e?d(a.name,[e].concat(a.args)):b.error("&#91;AUTH&#93; "+R().noTokenError)}else d(a.name,a.args)}}}function B(c,d,e,h){return function(k,m){if(""!==k){try{var w=f(k)}catch(sb){a.isFunction(r.exception)?
r.exception(sb,l):l.error(sb.toString());return}var n=c[w.name],p=a.type(n);if("function"===p)if(d&&n.length!==w.args.length)l.error("&#91;Arity&#93; "+sprintf(R().wrongArity,w.name,n.length,w.args.length));else return n.apply(l,w.args);else if("object"===p||"string"===p){var O=[];"object"===p&&(O=Object.keys(n),n=B(n,d,e));m.push(n,{prompt:w.name+"> ",name:w.name,completion:"object"===p?O:b})}else a.isFunction(h)?h(k,l):a.isFunction(r.onCommandNotFound)?r.onCommandNotFound.call(l,k,l):m.error(sprintf(R().commandNotFound,
w.name))}}}function h(b,c,d){l.resume();a.isFunction(r.onAjaxError)?r.onAjaxError.call(l,b,c,d):"abort"!==c&&l.error("&#91;AJAX&#93; "+c+" - "+R().serverResponse+":\n"+a.terminal.escape_brackets(b.responseText))}function Y(b,c,d){function e(b){b.error?p(b.error):a.isFunction(r.processRPCResponse)?r.processRPCResponse.call(l,b.result,l):k(b.result);l.resume()}function f(a,b){try{r.request.call(l,a,b,l)}catch(Pa){P(Pa,"USER")}}function m(a,b){try{r.response.call(l,a,b,l)}catch(Pa){P(Pa,"USER")}}return a.jrpc({url:b,
method:"system.describe",params:[],success:function(k){var w=k;""!==r.describe&&r.describe.split(".").forEach(function(a){w=w[a]});if(w&&w.length){var n={};a.each(w,function(d,k){n[k.name]=function(){var d=c&&"help"!==k.name,w=Array.prototype.slice.call(arguments),n=w.length+(d?1:0);r.checkArity&&k.params&&k.params.length!==n?l.error("&#91;Arity&#93; "+sprintf(R().wrongArity,k.name,k.params.length,n)):(l.pause(r.softPause),d&&((d=l.token(!0))?w=[d].concat(w):l.error("&#91;AUTH&#93; "+R().noTokenError)),
a.jrpc({url:b,method:k.name,params:w,request:f,response:m,success:e,error:h}))}});n.help=n.help||function(b){if("undefined"===typeof b){var c=k.procs.map(function(a){return a.name}).join(", ")+", help";l.echo("Available commands: "+c)}else{var d=!1;a.each(w,function(a,c){if(c.name===b){d=!0;var e=""+("[[bu;#fff;]"+c.name+"]");c.params&&(e+=" "+c.params.join(" "));c.help&&(e+="\n"+c.help);l.echo(e);return!1}});d||("help"===b?l.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified"):
l.error("Method `"+b+"' not found "))}};d(n)}else d(null)},request:f,response:m,error:function(){d(null)}})}function Ea(b,c,d){d=d||a.noop;var e=a.type(b),f={},h=0,k;if("array"===e){var m={};(function Ga(b,d){if(b.length){var e=b[0],f=b.slice(1),w=a.type(e);"string"===w?(l.pause(r.softPause),!1===r.describe?(1===++h?k=x(e,c):l.error(R().oneRPCWithIgnore),Ga(f,d)):Y(e,c,function(b){b?a.extend(m,b):1===++h?k=x(e,c):l.error(R().oneRPCWithIgnore);l.resume();Ga(f,d)})):"function"===w?(k?l.error(R().oneInterpreterFunction):
k=e,Ga(f,d)):"object"===w&&(a.extend(m,e),Ga(f,d))}else d()})(b,function(){d({interpreter:B(m,!1,c,k.bind(l)),completion:Object.keys(m)})})}else if("string"===e)r.ignoreSystemDescribe?(m={interpreter:x(b,c)},a.isArray(r.completion)&&(m.completion=r.completion),d(m)):(l.pause(r.softPause),Y(b,c,function(a){a?(f.interpreter=B(a,!1,c),f.completion=Object.keys(a)):f.interpreter=x(b,c);d(f);l.resume()}));else if("object"===e)d({interpreter:B(b,r.checkArity),completion:Object.keys(b)});else{if("undefined"===
e)b=a.noop;else if("function"!==e)throw Error(e+" is invalid interpreter value");d({interpreter:b,completion:r.completion})}}function ya(b,c){var d="boolean"===a.type(c)?"login":c;return function(c,e,f){l.pause(r.softPause);a.jrpc({url:b,method:d,params:[c,e],request:function(a,b){try{r.request.call(l,a,b,l)}catch(Pa){P(Pa,"USER")}},response:function(a,b){try{r.response.call(l,a,b,l)}catch(Pa){P(Pa,"USER")}},success:function(a){!a.error&&a.result?f(a.result):f(null);l.resume()},error:h})}}function I(a){return"string"===
typeof a?a:"string"===typeof a.fileName?a.fileName+": "+a.message:a.message}function P(b,c){a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,b,c):l.exception(b,c)}function M(){var a=wa.prop?wa.prop("scrollHeight"):wa.attr("scrollHeight");wa.scrollTop(a)}function cb(b,c){try{if(a.isFunction(c))c.call(l,a.noop,l);else if("string"!==typeof c)throw b+" must be string or function";}catch(ha){return P(ha,b.toUpperCase()),!1}return!0}function ia(c,d){r.convertLinks&&!d.raw&&(c.match(Db)?c=c.replace(Db,
"[[!;;]$1]"):c.match(Eb)&&(c=c.replace(Eb,"[[!;;]$1]")));var e;if(!d.raw){if(d.formatters)try{c=a.terminal.apply_formatters(c)}catch(xa){a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,xa,"FORMATTERS"):alert(xa.message+"\n"+(xa.stack?xa.stack:xa))}c=a.terminal.encode(c)}Aa.push(1);if(!d.raw&&(db(c)>H||c.match(/\n/))&&(!0===r.wrap&&d.wrap===b||!1===r.wrap&&!0===d.wrap)){var f=a.terminal.split_equal(c,H,d.keepWords);var h=0;for(e=f.length;h<e;++h)""===f[h]||"\r"===f[h]?Aa.push("<span></span>"):
d.raw?Aa.push(f[h]):Aa.push(a.terminal.format(f[h],{linksNoReferrer:r.linksNoReferrer}))}else d.raw?Aa.push(c):(c=a.terminal.normalize(c),c=a.terminal.format(c,{linksNoReferrer:r.linksNoReferrer}),c.split(/\n/).forEach(function(a){Aa.push(a)}));Aa.push(d.finalize)}function za(b,c){try{var d=a.extend({exec:!0,raw:!1,finalize:a.noop},c||{}),e="function"===a.type(b)?b():b;e="string"===a.type(e)?e:String(e);""!==e&&ia(e,d)}catch(la){Aa=[],a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,la,
"TERMINAL"):alert("[Internal Exception(process_line)]:"+I(la)+"\n"+la.stack)}}function ta(){G.resize(H);var b=ob.empty().detach(),c=[];if(0<=r.outputLimit){var d=0===r.outputLimit?l.rows():r.outputLimit;na.forEach(function(b){var d="function"===a.type(b[0])?b[0]():b[0];d="string"===a.type(d)?d:String(d);if(db(d)>H){var e=b[1];b=a.terminal.split_equal(d,H,e.keepWords);c=c.concat(b.map(function(a){return[a,e]}))}else c.push(b)});c=c.slice(c.length-d-1)}else c=na;try{Aa=[],a.each(na,function(a,b){za.apply(null,
b)}),G.before(b),l.flush(),r.onAfterRedraw.call(l)}catch(da){a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,da,"TERMINAL (redraw)"):alert("Exception in redraw\n"+da.stack)}}function Fa(){if(r.greetings===b)l.echo(l.signature,{finalize:u});else if(r.greetings){var a=typeof r.greetings;"string"===a?l.echo(r.greetings):"function"===a?r.greetings.call(l,l.echo):l.error(R().wrongGreetings)}}function Ia(b){"undefined"===typeof b&&(b=l.get_command());var c=G.prompt(),d=G.mask();switch(typeof d){case "string":b=
b.replace(/./g,d);break;case "boolean":b=d?b.replace(/./g,r.maskChar):a.terminal.escape_formatting(b)}var e={finalize:function(a){u(a.addClass("command"));r.onEchoCommand.call(l,a)}};a.isFunction(c)?c(function(a){l.echo(a+b,e)}):l.echo(c+b,e)}function eb(a){var b=aa.get()[a[0]];if(!b)throw Error(R().invalidTerminalId);var c=a[1];ua[c]?b.import_view(ua[c]):(Ja=!1,(a=a[2])&&b.exec(a).done(function(){Ja=!0;ua[c]=b.export_view()}))}function gb(){Ja&&(Ma=!1,location.hash="#"+JSON.stringify(K),setTimeout(function(){Ma=
!0},100))}function Da(c,d,e){function f(){e||(Ja=!0,r.historyState&&l.save_state(c,!1),Ja=w);n.resolve();a.isFunction(r.onAfterCommand)&&r.onAfterCommand.call(l,l,c)}function h(a){a&&u===na.length-1&&k(a);f();l.resume()}Ra&&(Ra=!1,r.historyState||r.execHash&&e)&&(ua.length?l.save_state(null):l.save_state());try{if(!a.isFunction(r.onBeforeCommand)||!1!==r.onBeforeCommand.call(l,l,c)){e||(D=a.terminal.split_command(c));T||!1!==G.mask()||e&&(a.isFunction(r.historyFilter)&&r.historyFilter(c)||c.match(r.historyFilter))&&
G.history().append(c);var m=N.top();!d&&r.echoCommand&&Ia(c);var n=new a.Deferred,w=Ja;if(c.match(/^\s*login\s*$/)&&l.token(!0))1<l.level()?l.logout(!0):l.logout(),f();else if(r.exit&&c.match(/^\s*exit\s*$/)&&!T){var p=l.level();if(1===p&&l.get_token()||1<p)l.get_token(!0)&&l.set_token(b,!0),l.pop();f()}else if(r.clear&&c.match(/^\s*clear\s*$/)&&!T)l.clear(),f();else{var u=na.length-1,O=m.interpreter.call(l,c,l);if(O!==b)if(l.pause(r.softPause),O.then)O.then(h);else return a.when(O).done(h);else Qa?
F.push(function(){f()}):f()}return n.promise()}}catch(Ga){if(P(Ga,"USER"),l.resume(),!r.exceptionHandler)throw Ga;}}function fb(){var a=l.prefix_name(!0)+"_";ra.remove(a+"token");ra.remove(a+"login")}function lb(b){var c=l.prefix_name()+"_interpreters",d=ra.get(c);d=d?JSON.parse(d):[];-1===a.inArray(b,d)&&(d.push(b),ra.set(c,JSON.stringify(d)))}function A(b){var c=N.top(),d=l.prefix_name(!0);T||!1!==G.mask()||lb(d);G.name(d);a.isFunction(c.prompt)?G.prompt(function(a){c.prompt.call(l,a,l)}):G.prompt(c.prompt);
a.isPlainObject(c.keymap)&&G.keymap(a.omap(c.keymap,function(a,b){return function(){var a=[].slice.call(arguments);try{return b.apply(l,a)}catch(S){if(P(S,"USER KEYMAP"),!r.exceptionHandler)throw S;}}}));G.set("");kb.resolve();!b&&a.isFunction(c.onStart)&&c.onStart.call(l,l)}function Ab(){if(Ma&&r.execHash)try{if(location.hash){var a=location.hash.replace(/^#/,"");K=JSON.parse(decodeURIComponent(a))}else K=[];K.length?eb(K[K.length-1]):ua[0]&&l.import_view(ua[0])}catch(O){P(O,"TERMINAL")}}function J(){A();
Fa();na.length&&ta();var b=!1;if(a.isFunction(r.onInit)){ib=function(){b=!0};try{r.onInit.call(l,l)}catch(O){P(O,"OnInit")}finally{ib=a.noop,!b&&l.enabled()&&l.resume()}}Cb&&(Cb=!1,a(window).on("hashchange",Ab))}function ba(a,b){if(!b.length)return"";var c=!1,d=a.length;a:for(;d<b[0].length;++d){for(var e=1;e<b.length;++e)if(b[0].charAt(d)!==b[e].charAt(d))break a;c=!0}return c?b[0].slice(0,d):""}function Ka(c){var d=N.top();if(a.isFunction(d.keydown)){if(c=d.keydown.call(l,c,l),c!==b)return c}else if(a.isFunction(r.keydown)&&
(c=r.keydown.call(l,c,l),c!==b))return c}function rb(c){if(l.enabled()){if(l.paused()){if(!r.pauseEvents){var d=Ka(c);if(d!==b)return d}if(68===c.which&&c.ctrlKey){if(r.pauseEvents&&(d=Ka(c),d!==b))return d;if(Va.length){for(d=Va.length;d--;){var e=Va[d];if(4!==e.readyState)try{e.abort()}catch(da){a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,c,"AJAX ABORT"):l.error(R().ajaxAbortError)}}Va=[]}l.resume()}return!1}d=Ka(c);if(d!==b)return d;9!==c.which&&(Ha=0);l.attr({scrollTop:l.attr("scrollHeight")})}}
function Hb(a){return function(b){a.add(b)}}function R(){return a.extend({},a.terminal.defaults.strings,r.strings)}function ma(){pa&&l.focus()}function Ua(){pa=ea;l.disable()}var Aa=[],Ra=!0,F=[],bb={"CTRL+D":function(a,c){T||(""===G.get()?1<N.size()||r.login!==b?l.pop(""):(l.resume(),l.echo("")):c());return!1},"CTRL+L":function(){l.clear()},TAB:function(c,d){var e=N.top();e=r.completion&&"boolean"!==a.type(r.completion)&&e.completion===b?r.completion:e.completion;"settings"===e&&(e=r.completion);
if(e)switch(a.type(e)){case "function":var f=l.before_cursor(r.wordAutocomplete);if(3===e.length){e=Error(R().comletionParameters);P(e,"USER");break}e.call(l,f,function(a){l.complete(a,{echo:!0,word:r.wordAutocomplete,escape:r.completionEscape})});break;case "array":l.complete(e,{echo:!0,word:r.wordAutocomplete,escape:r.completionEscape});break;default:throw Error(R().invalidCompletion);}else d();return!1},"CTRL+V":function(a,b){b(a);l.oneTime(200,function(){M()});return!0},"CTRL+TAB":function(){if(1<
aa.length())return l.focus(!1),!1},PAGEDOWN:function(){l.scroll(l.height())},PAGEUP:function(){l.scroll(-l.height())}},l=this;if(1<this.length)return this.each(function(){a.fn.terminal.call(a(this),d,a.extend({name:l.selector},e))});if(l.data("terminal"))return l.data("terminal");if(0===l.length)throw Error(sprintf(R().invalidSelector,l.selector));var D,Ha=0,na=[],Ya=aa.length(),H,va,Za,hb=new n,qb=new c,kb=new c,Ca=Hb(kb),Z=Q(),oa=Hb(qb),T=!1,ib=a.noop,mb,nb,$a=[],r=a.extend({},a.terminal.defaults,
{name:l.selector},e||{}),ra=new function(b){b&&(this.storage={});this.set=function(c,d){b?this.storage[c]=d:a.Storage.set(c,d)};this.get=function(c){return b?this.storage[c]:a.Storage.get(c)};this.remove=function(c){b?delete this.storage[c]:a.Storage.remove(c)}}(r.memory),ea=r.enabled,sa=!1,Qa=!1,Sa=!0,N,G,pa,W,Xa;a.extend(l,a.omap({id:function(){return Ya},clear:function(){ob.html("");na=[];try{r.onClear.call(l,l)}catch(w){P(w,"onClear")}l.attr({scrollTop:0});return l},export_view:function(){var b=
{};if(a.isFunction(r.onExport))try{b=r.onExport.call(l)}catch(O){P(O,"onExport")}return a.extend({},{focus:ea,mask:G.mask(),prompt:l.get_prompt(),command:l.get_command(),position:G.position(),lines:qa.clone_object(na),interpreters:N.clone(),history:G.history().data},b)},import_view:function(b){if(T)throw Error(sprintf(R().notWhileLogin,"import_view"));if(a.isFunction(r.onImport))try{r.onImport.call(l,b)}catch(O){P(O,"onImport")}Ca(function(){l.set_prompt(b.prompt);l.set_command(b.command);G.position(b.position);
G.mask(b.mask);b.focus&&l.focus();na=qa.clone_object(b.lines);N=b.interpreters;r.importHistory&&G.history().set(b.history);ta()});return l},save_state:function(c,d,e){"undefined"!==typeof e?ua[e]=l.export_view():ua.push(l.export_view());a.isArray(K)||(K=[]);c===b||d||(K.push([Ya,ua.length-1,c]),gb())},exec:function(b,c,d){var e=d||new a.Deferred;oa(function(){a.isArray(b)?function xa(){var a=b.shift();a?l.exec(a,c).done(xa):e.resolve()}():Qa?$a.push([b,c,e]):Da(b,c,!0).done(function(){e.resolve(l)})});
return e.promise()},autologin:function(a,b,c){l.trigger("terminal.autologin",[a,b,c]);return l},login:function(c,d,e,f){function h(c,h,m){if(h){for(;l.level()>k;)l.pop(b,!0);r.history&&G.history().enable();m=l.prefix_name(!0)+"_";ra.set(m+"token",h);ra.set(m+"login",c);T=!1;a.isFunction(e)&&e()}else d?(m||l.error(R().wrongPasswordTryAgain),l.pop(b,!0).set_mask(!1)):(T=!1,m||l.error(R().wrongPassword),l.pop(b,!0).pop(b,!0)),a.isFunction(f)&&f();l.off("terminal.autologin")}hb.push([].slice.call(arguments));
if(T)throw Error(sprintf(R().notWhileLogin,"login"));if(!a.isFunction(c))throw Error(R().loginIsNotAFunction);T=!0;if(l.token()&&1===l.level()&&!Sa)T=!1,l.logout(!0);else if(l.token(!0)&&l.login_name(!0))return T=!1,a.isFunction(e)&&e(),l;r.history&&G.history().disable();var k=l.level();l.on("terminal.autologin",function(a,b,c,d){h(b,c,d)});l.push(function(a){l.set_mask(r.maskChar).push(function(b){try{c.call(l,a,b,function(b,c){h(a,b,c)})}catch(Pa){P(Pa,"AUTH")}},{prompt:R().password+": ",name:"password"})},
{prompt:R().login+": ",name:"login"});return l},settings:function(){return r},before_cursor:function(a){var b=G.position(),c=G.get().substring(0,b);b=c.split(" ");if(a)if(1===b.length)c=b[0];else{var d=(a=c.match(/(\\?")/g))?a.filter(function(a){return!a.match(/^\\/)}).length:0;a=c.match(/'/g);if(1===(a?a.length:0)%2)c=c.match(/('[^']*)$/)[0];else if(1===d%2)c=c.match(/("(?:[^"]|\\")*)$/)[0];else for(c=b[b.length-1],La=b.length-1;0<La;La--)if(a=b[La-1],"\\"===a[a.length-1])c=b[La-1]+" "+c;else break}return c},
complete:function(b,c){function d(a,b){var c=l.get_command(),d=l.get_position(),e=new RegExp(a+"$");e=c.substring(0,d).replace(e,"");c=c.substring(d);d=b+(f||"");l.set_command(e+d+c);l.set_position((e+d).length)}c=a.extend({word:!0,echo:!1,escape:!0},c||{});var e=l.before_cursor(c.word).replace(/\\"/g,'"'),f=!1;c.word&&(e.match(/^"/)?f='"':e.match(/^'/)&&(f="'"),f&&(e=e.replace(/^["']/,"")));b=b.slice();r.clear&&-1===a.inArray("clear",b)&&b.push("clear");r.exit&&-1===a.inArray("exit",b)&&b.push("exit");
if(0===Ha%2)Za=l.before_cursor(c.word);else if(l.before_cursor(c.word)!==Za)return;var h=a.terminal.escape_regex(e);c.escape&&(h=h.replace(/(\\+)(["'() ])/g,function(a,b,c){return c.match(/[()]/)?b+"\\?\\"+c:b+"?"+c}));for(var k=new RegExp("^"+h),m=[],n=b.length;n--;)if(k.test(b[n])){var p=b[n];'"'===f&&(p=p.replace(/"/g,'\\"'));!f&&c.escape&&(p=p.replace(/(["'() ])/g,"\\$1"));m.push(p)}if(1===m.length)return c.escape?d(h,m[0]):l.insert(m[0].replace(k,"")+(f||"")),Za=l.before_cursor(c.word),!0;if(1<
m.length)if(2<=++Ha){if(Ha=0,c.echo)return Ia(),e=m.reverse().join("\t"),l.echo(a.terminal.escape_brackets(e),{keepWords:!0}),!0}else if(h=ba(e,m))return d(e,h),Za=l.before_cursor(c.word),!0},commands:function(){return N.top().interpreter},set_interpreter:function(b,c){function d(){l.pause(r.softPause);Ea(b,!!c,function(b){l.resume();var c=N.top();a.extend(c,b);A(!0)})}"string"===a.type(b)&&c?l.login(ya(b,c),!0,d):d();return l},greetings:function(){Fa();return l},paused:function(){return Qa},pause:function(b){oa(function(){ib();
Qa=!0;G.disable(b||Bb);b||G.find(".prompt").hidden();a.isFunction(r.onPause)&&r.onPause.call(l)});return l},resume:function(){oa(function(){Qa=!1;ea&&aa.front()===l&&G.enable();G.find(".prompt").visible();var b=$a;$a=[];for(var c=0;c<b.length;++c)l.exec.apply(l,b[c]);l.trigger("resume");(b=F.shift())&&b();M();a.isFunction(r.onResume)&&r.onResume.call(l)});return l},cols:function(){if(r.numChars)return r.numChars;"undefined"===typeof H&&(H=V(l,Z));return H},rows:function(){if(r.numRows)return r.numRows;
"undefined"===typeof va&&(va=L(l,Z));return va},history:function(){return G.history()},history_state:function(a){function b(){r.historyState=!0;ua.length?1<aa.length()&&l.save_state(null):l.save_state()}a?"undefined"===typeof window.setImmediate?setTimeout(b,0):setImmediate(b):r.historyState=!1;return l},clear_history_state:function(){K=[];ua=[];return l},next:function(){if(1===aa.length())return l;aa.front().disable();var b=aa.rotate().enable(),c=b.offset().top-50;a("html,body").animate({scrollTop:c},
500);try{r.onTerminalChange.call(b,b)}catch(ha){P(ha,"onTerminalChange")}return b},focus:function(a,b){oa(function(){if(1===aa.length())if(!1===a)try{var c=r.onBlur.call(l,l);(!b&&!1!==c||b)&&l.disable()}catch(da){P(da,"onBlur")}else try{c=r.onFocus.call(l,l),(!b&&!1!==c||b)&&l.enable()}catch(da){P(da,"onFocus")}else if(!1===a)l.next();else{if(aa.front()!==l&&(aa.forEach(function(a){a!==l&&a.enabled()&&a.disable()}),!b))try{r.onTerminalChange.call(l,l)}catch(da){P(da,"onTerminalChange")}aa.set(l);
l.enable()}});return l},freeze:function(a){Ca(function(){a?(l.disable(),sa=!0):(sa=!1,l.enable())})},frozen:function(){return sa},enable:function(){ea||sa||(H===b&&l.resize(),oa(function(){l.paused()||G.enable();ea=!0}));return l},disable:function(){oa(function(){ea=!1;G.disable()});return l},enabled:function(){return ea},signature:function(){for(var a=l.cols(),b=xb.length;b--;){var c=xb[b].map(function(a){return a.length});if(Math.max.apply(null,c)<=a)return xb[b].join("\n")+"\n"}return""},version:function(){return a.terminal.version},
cmd:function(){return G},get_command:function(){return G.get()},set_command:function(a){Ca(function(){G.set(a)});return l},set_position:function(a,b){Ca(function(){G.position(a,b)});return l},get_position:function(){return G.position()},insert:function(a,b){if("string"===typeof a)return Ca(function(){var c=l.is_bottom();G.insert(a,b);(r.scrollOnEcho||c)&&M()}),l;throw Error(sprintf(R().notAString,"insert"));},set_prompt:function(b){Ca(function(){cb("prompt",b)&&(a.isFunction(b)?G.prompt(function(a){b(a,
l)}):G.prompt(b),N.top().prompt=b)});return l},get_prompt:function(){return N.top().prompt},set_mask:function(a){Ca(function(){G.mask(!0===a?r.maskChar:a)});return l},get_output:function(b){return b?na:a.map(na,function(b){return a.isFunction(b[0])?b[0]():b[0]}).join("\n")},resize:function(b,c){if(l.is(":visible")){b&&c&&(l.width(b),l.height(c));b=l.width();c=l.height();if("undefined"!==typeof r.numChars&&"undefined"!==typeof r.numRows)return;Z=Q();var d=V(l,Z),e=L(l,Z);if(d!==H||e!==va)H=d,va=e,
G.resize(H),ta(),d=N.top(),a.isFunction(d.resize)?d.resize.call(l,l):a.isFunction(r.onResize)&&r.onResize.call(l,l),M()}else l.stopTime("resize"),l.oneTime(500,"resize",function(){l.resize(b,c)});return l},flush:function(){try{var b=l.is_bottom(),c;a.each(Aa,function(b,d){1===d?c=a("<div></div>"):a.isFunction(d)?(c.appendTo(ob),d(c)):a("<div/>").html(d).appendTo(c).width("100%")});if(0<=r.outputLimit){var d=0===r.outputLimit?l.rows():r.outputLimit;var e=ob.find("div div");if(e.length+1>d){var f=e.slice(0,
e.length-d+1),h=f.parent();f.remove();h.each(function(){var b=a(this);b.is(":empty")&&b.remove()})}}(r.scrollOnEcho||b)&&M();Aa=[]}catch(S){a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,S,"TERMINAL (Flush)"):alert("[Flush] "+I(S)+"\n"+S.stack)}return l},update:function(a,b){Ca(function(){0>a&&(a=na.length+a);na[a]?(null===b?na.splice(a,1):na[a][0]=b,ta()):l.error("Invalid line number "+a)});return l},last_index:function(){return na.length-1},echo:function(b,c){function d(b){try{var d=
a.extend({flush:!0,raw:r.raw,finalize:a.noop,keepWords:!1,formatters:!0},c||{});d.raw&&function(a){d.finalize=function(b){b.addClass("raw");a(b)}}(d.finalize);d.flush&&(Aa.length&&l.flush(),Aa=[]);za(b,d);na.push([b,a.extend(d,{exec:!1})]);d.flush&&l.flush()}catch(xa){a.isFunction(r.exceptionHandler)?r.exceptionHandler.call(l,xa,"TERMINAL (echo)"):alert("[Terminal.echo] "+I(xa)+"\n"+xa.stack)}}try{c&&a.isFunction(c.finalize)&&c.finalize(a("<div/>")),a.isFunction(b.then)?a.when(b).done(d):d(b)}catch(da){P(da,
"USER:echo(finalize)")}return l},error:function(b,c){c=a.extend({},c,{raw:!1,formatters:!1});var d=a.terminal.escape_brackets(b).replace(/\\$/,"&#92;").replace(wb,"]$1[[;;;error]");return l.echo("[[;;;error]"+d+"]",c)},exception:function(b,c){var d=I(b);c&&(d="&#91;"+c+"&#93;: "+d);d&&l.error(d,{finalize:function(a){a.addClass("exception message")},keepWords:!0});"string"===typeof b.fileName&&(l.pause(r.softPause),a.get(b.fileName,function(a){var c=b.lineNumber-1;(a=a.split("\n")[c])&&l.error("["+
b.lineNumber+"]: "+a);l.resume()},"text"));b.stack&&(d=a.terminal.escape_brackets(b.stack),l.echo(d.split(/\n/g).map(function(a){return"[[;;;error]"+a.replace(wb,function(a){return"]"+a+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(a){a.addClass("exception stack-trace")},formatters:!1}))},scroll:function(a){a=Math.round(a);if(wa.prop){a>wa.prop("scrollTop")&&0<a&&wa.prop("scrollTop",0);var b=wa.prop("scrollTop")}else a>wa.attr("scrollTop")&&0<a&&wa.attr("scrollTop",0),b=wa.attr("scrollTop");
wa.scrollTop(b+a);return l},logout:function(a){if(T)throw Error(sprintf(R().notWhileLogin,"logout"));Ca(function(){if(a){var c=hb.pop();l.set_token(b,!0);l.login.apply(l,c)}else if(1===N.size()&&l.token())l.logout(!0);else for(;1<N.size();)l.token()?l.logout(!0).pop().pop():l.pop()});return l},token:function(a){return ra.get(l.prefix_name(a)+"_token")},set_token:function(a,b){var c=l.prefix_name(b)+"_token";"undefined"===typeof a?ra.remove(c,a):ra.set(c,a);return l},get_token:function(a){return l.token(a)},
login_name:function(a){return ra.get(l.prefix_name(a)+"_login")},name:function(){return N.top().name},prefix_name:function(a){var b=(r.name?r.name+"_":"")+Ya;a&&1<N.size()&&(a=N.map(function(a){return a.name||""}).slice(1).join("_"))&&(b+="_"+a);return b},read:function(b,c){var d=new a.Deferred;l.push(function(b){l.pop();a.isFunction(c)&&c(b);d.resolve(b)},{prompt:b});return d.promise()},push:function(c,d){oa(function(){function e(){r.onPush.call(l,h,N.top(),l);A()}d=d||{};var f=a.extend({},{infiniteLogin:!1},
d);!f.name&&D&&(f.name=D.name);f.prompt===b&&(f.prompt=(f.name||">")+" ");var h=N.top();h&&(h.mask=G.mask());var k=Qa;Ea(c,!!d.login,function(b){N.push(a.extend({},b,f));!0===f.completion&&(a.isArray(b.completion)?N.top().completion=b.completion:b.completion||(N.top().completion=!1));if(f.login)if(b=a.type(f.login),"function"===b)b=f.infiniteLogin?a.noop:l.pop,l.login(f.login,f.infiniteLogin,e,b);else{if("string"===a.type(c)&&"string"===b||"boolean"===b)b=f.infiniteLogin?a.noop:l.pop,l.login(ya(c,
f.login),f.infiniteLogin,e,b)}else e();!k&&l.enabled()&&l.resume()})});return l},pop:function(c,d){c!==b&&Ia(c);var e=l.token(!0);if(1===N.size())if(e=N.top(),r.login){d||r.onPop.call(l,e,null,l);a:{if(a.isFunction(r.onBeforeLogout))try{if(!1===r.onBeforeLogout.call(l,l))break a}catch(la){P(la,"onBeforeLogout")}fb();if(a.isFunction(r.onAfterLogout))try{r.onAfterLogout.call(l,l)}catch(la){P(la,"onAfterlogout")}l.login(r.login,!0,J)}if(a.isFunction(r.onExit))try{r.onExit.call(l,l)}catch(la){P(la,"onExit")}}else l.error(R().canExitError);
else{e&&fb();var f=N.pop();e=N.top();A();d||r.onPop.call(l,f,e);T&&l.get_prompt()!==R().login+": "&&(T=!1);if(a.isFunction(f.onExit))try{f.onExit.call(l,l)}catch(la){P(la,"onExit")}l.set_mask(e.mask)}return l},option:function(b,c){if("undefined"===typeof c){if("string"===typeof b)return r[b];"object"===typeof b&&a.each(b,function(a,b){r[a]=b})}else r[b]=c;return l},level:function(){return N.size()},reset:function(){Ca(function(){for(l.clear();1<N.size();)N.pop();J()});return l},purge:function(){Ca(function(){var b=
l.prefix_name()+"_",c=ra.get(b+"interpreters");c&&a.each(JSON.parse(c),function(a,b){ra.remove(b+"_commands");ra.remove(b+"_token");ra.remove(b+"_login")});G.purge();ra.remove(b+"interpreters")});return l},destroy:function(){Ca(function(){G.destroy().remove();ob.remove();Ta.remove();a(document).unbind(".terminal_"+l.id());a(window).unbind(".terminal_"+l.id());l.unbind("click wheel mousewheel mousedown mouseup");l.removeData("terminal").removeClass("terminal").unbind(".terminal");r.width&&l.css("width",
"");r.height&&l.css("height","");a(window).off("blur",Ua).off("focus",ma);l.find(".terminal-fill").remove();aa.remove(Ya);W&&W.unobserve(l[0]);Xa&&Xa.disconnect();l.resizer("unbind");aa.length()||a(window).off("hashchange")});return l},scroll_to_bottom:M,is_bottom:function(){if(-1===r.scrollBottomOffset)return!1;if(l.is("body")){var b=a(document).height();var c=a(window).scrollTop();var d=window.innerHeight}else b=wa[0].scrollHeight,c=wa.scrollTop(),d=wa.outerHeight();return c+d>b-r.scrollBottomOffset}},
function(a,b){return function(){try{return b.apply(l,[].slice.apply(arguments))}catch(ha){if("exec"!==a&&"resume"!==a&&P(ha,"TERMINAL"),!r.exceptionHandler)throw ha;}}}));!0===r.ignoreSystemDescribe&&(r.describe=!1);r.width&&l.width(r.width);r.height&&l.height(r.height);var wa=l.scroll_element();a(document).bind("ajaxSend.terminal_"+l.id(),function(a,b){Va.push(b)});var Ta=a('<div class="terminal-wrapper"/>').appendTo(l);a('<div class="terminal-fill"/>').appendTo(l);var ob=a("<div>").addClass("terminal-output").attr("role",
"log").appendTo(Ta);l.addClass("terminal");if(r.login&&a.isFunction(r.onBeforeLogin))try{!1===r.onBeforeLogin.call(l,l)&&(Sa=!1)}catch(w){if(P(w,"onBeforeLogin"),!r.exceptionHandler)throw w;}if("string"===typeof d)var jb=d;else if(d instanceof Array)for(var La=0,vb=d.length;La<vb;++La)if("string"===typeof d[La]){jb=d[La];break}!jb||"string"!==typeof r.login&&!0!==r.login||(r.login=ya(jb,r.login));aa.append(l);l.on("focus.terminal","textarea",function(a,b){ea||b||l.enable()});a(document).on("paste.terminal_"+
l.id(),function(a){a=a.originalEvent;if(a.clipboardData&&l.enabled()){var b=a.clipboardData.items;if(b)for(a=0;a<b.length;a++)if(-1!==b[a].type.indexOf("image")){var c=b[a].getAsFile();c=(window.URL||window.webkitURL).createObjectURL(c);l.echo('<img src="'+c+'"/>',{raw:!0})}else-1!==b[a].type.indexOf("text/plain")&&b[a].getAsString(l.insert);else a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"),l.insert(b));return!1}});Ea(d,!!r.login,function(c){function d(b){!a(b.target).closest(".terminal").length&&
l.enabled()&&!1!==r.onBlur.call(l,l)&&l.disable()}function e(){if(l.is(":visible")){var a=l.width(),b=l.height();nb===b&&mb===a||l.resize();nb=b;mb=a}}function f(){W&&W.unobserve(l[0]);W=new IntersectionObserver(function(){l.is(":visible")?(l.resizer("unbind").resizer(e),e()):l.disable()},{root:document.body});W.observe(l[0])}function h(b){var c=aa.get()[b[0]];if(c&&Ya===c.id()&&b[2])try{if(Qa){var d=a.Deferred();F.push(function(){return c.exec(b[2]).done(function(){c.save_state(b[2],!0,b[1]);d.resolve()})});
return d.promise()}return c.exec(b[2]).done(function(){c.save_state(b[2],!0,b[1])})}catch(Ib){var e=c.settings();a.isFunction(e.exceptionHandler)?e.exceptionHandler.call(l,Ib,"EXEC HASH"):(e=a.terminal.escape_brackets(Za),c.error("Error while exec with command "+e).exception(Ib))}}function k(b,c){if(!x){var d=N.top();if(a.isFunction(d.mousewheel)){if(d=d.mousewheel(b,c,l),!1===d)return}else if(a.isFunction(r.mousewheel)&&(d=r.mousewheel(b,c,l),!1===d))return;0<c?l.scroll(-40):l.scroll(40)}}if(r.completion&&
"boolean"!==typeof r.completion||!r.completion)c.completion="settings";var p=a.extend({},bb,r.keymap||{});N=new n(a.extend({},r.extra,{name:r.name,prompt:r.prompt,keypress:r.keypress,keydown:r.keydown,resize:r.onResize,greetings:r.greetings,mousewheel:r.mousewheel,keymap:p},c));G=a("<div/>").appendTo(Ta).cmd({prompt:r.prompt,history:r.memory?"memory":r.history,historyFilter:r.historyFilter,historySize:r.historySize,width:"100%",enabled:ea&&!ub,keydown:rb,keymap:p,clickTimeout:r.clickTimeout,keypress:function(b){var c=
N.top();if(ea&&(!Qa||!r.pauseEvents)){if(a.isFunction(c.keypress))return c.keypress.call(l,b,l);if(a.isFunction(r.keypress))return r.keypress.call(l,b,l)}},onCommandChange:function(b){if(a.isFunction(r.onCommandChange))try{r.onCommandChange.call(l,b,l)}catch(Ga){if(P(Ga,"onCommandChange"),!r.exceptionHandler)throw Ga;}M()},commands:Da});ea&&l.is(":visible")&&!ub?l.focus(b,!0):l.disable();l.oneTime(100,function(){a(document).bind("click.terminal_"+l.id(),d).bind("contextmenu.terminal_"+l.id(),d)});
a(window);document.addEventListener("resume",function(){l.disable()});ub?l.click(function(){l.enabled()||sa?l.focus(!1):(l.focus(),G.enable())}):(function(){var b=0,c=!1,d,e="click_"+l.id();l.mousedown(function(e){d=a(e.target);if(2!==e.originalEvent.button)l.oneTime(1,function(){a(window).on("mousemove.terminal_"+l.id(),function(){c=!0;b=0;a(window).off("mousemove.terminal_"+l.id())})})}).mouseup(function(){var f=c;c=!1;a(window).off("mousemove.terminal_"+l.id());if(!f)if(1===++b)if(l.enabled()||
sa)l.oneTime(r.clickTimeout,e,function(){if(d.is(".terminal")||d.is(".terminal-wrapper")){var a=l.get_command().length;l.set_position(a)}else d.closest(".prompt").length&&l.set_position(0);b=0});else G.enable(),b=0;else l.stopTime(e),b=0}).dblclick(function(){b=0;l.stopTime(e)})}(),function(){var a=l.find("textarea");l.on("mousedown.terminal",function(b){if(2===b.originalEvent.button){l.enabled()||l.enable();b.preventDefault();var c=G.offset();a.css({left:b.pageX-c.left-5,top:b.pageY-c.top-5})}});
l.bind("contextmenu",function(){l.oneTime(100,function(){a.css({left:"",top:""})})})}());l.delegate(".exception a","click",function(b){var c=a(this).attr("href");c.match(/:[0-9]+$/)&&(b.preventDefault(),m(c))});l.is(":visible")&&(H=l.cols(),G.resize(H),Z||(Z=Q()),va=L(l,Z));qb.resolve();r.login?l.login(r.login,!0,J):J();l.is(":visible")&&l.resizer(e);var u=!!l.closest("body").length;c=window.MutationObserver||window.WebKitMutationObserver;window.IntersectionObserver&&(c&&(Xa=new c(function(){l.closest("body").length?
(u||(l.scroll_to_bottom(),f()),u=!0):u&&(u=!1)}),Xa.observe(document.body,{childList:!0})),u&&f());r.execHash?location.hash?setTimeout(function(){try{var a=location.hash.replace(/^#/,"");K=JSON.parse(decodeURIComponent(a));var b=0;(function ab(){var a=K[b++];a?h(a).done(ab):Ja=!0})()}catch(pb){}}):Ja=!0:Ja=!0;var x=!1;a(document).bind("keydown.terminal_"+l.id(),function(a){a.shiftKey&&(x=!0)}).bind("keyup.terminal_"+l.id(),function(a){if(a.shiftKey||16===a.which)x=!1});if(a.event.special.mousewheel)l.on("mousewheel",
function(a,b){k(a,b);a.preventDefault()});else{var w="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll";l.on(w,function(a){k(a,-("mousewheel"===w?-.025*a.originalEvent.wheelDelta:a.originalEvent.deltaY||a.originalEvent.detail));return!1})}});l.data("terminal",l);return l}});/*
 Autosize 4.0.0
 license: MIT
 http://www.jacklmoore.com/autosize
*/
!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var c={exports:{}};b(c.exports,c);a.autosize=c.exports}}(this,function(a,b){function c(a){function b(){var b=window.getComputedStyle(a,null);"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal");p="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):parseFloat(b.borderTopWidth)+
parseFloat(b.borderBottomWidth);isNaN(p)&&(p=0);m()}function c(b){var c=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=c;a.style.overflowY=b}function d(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function e(){var b=a.style.height,c=d(a),e=document.documentElement&&document.documentElement.scrollTop;a.style.height="";var f=a.scrollHeight+p;return 0===a.scrollHeight?
void(a.style.height=b):(a.style.height=f+"px",V=a.clientWidth,c.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(e&&(document.documentElement.scrollTop=e)))}function m(){e();var b=Math.round(parseFloat(a.style.height)),d=window.getComputedStyle(a,null),f="content-box"===d.boxSizing?Math.round(parseFloat(d.height)):a.offsetHeight;if(f!==b?"hidden"===d.overflowY&&(c("scroll"),e(),f="content-box"===d.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight):"hidden"!==
d.overflowY&&(c("hidden"),e(),f="content-box"===d.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight),L!==f){L=f;b=k("autosize:resized");try{a.dispatchEvent(b)}catch(P){}}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!f.has(a)){var p=null,V=a.clientWidth,L=null,ya=function(){a.clientWidth!==V&&m()},qa=function(b){window.removeEventListener("resize",ya,!1);a.removeEventListener("input",m,!1);a.removeEventListener("keyup",m,!1);a.removeEventListener("autosize:destroy",
qa,!1);a.removeEventListener("autosize:update",m,!1);Object.keys(b).forEach(function(c){a.style[c]=b[c]});f["delete"](a)}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",qa,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",m,!1);window.addEventListener("resize",ya,!1);a.addEventListener("input",m,!1);a.addEventListener("autosize:update",m,!1);a.style.overflowX=
"hidden";a.style.wordWrap="break-word";f.set(a,{destroy:qa,update:m});b()}}function d(a){(a=f.get(a))&&a.destroy()}function e(a){(a=f.get(a))&&a.update()}var f="function"==typeof Map?new Map:function(){var a=[],b=[];return{has:function(b){return-1<a.indexOf(b)},get:function(c){return b[a.indexOf(c)]},set:function(c,d){-1===a.indexOf(c)&&(a.push(c),b.push(d))},"delete":function(c){c=a.indexOf(c);-1<c&&(a.splice(c,1),b.splice(c,1))}}}(),k=function(a){return new Event(a,{bubbles:!0})};try{new Event("test")}catch(p){k=
function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!1),b}}var m=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(m=function(a){return a},m.destroy=function(a){return a},m.update=function(a){return a}):(m=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return c(a,b)}),a},m.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],d),a},m.update=function(a){return a&&Array.prototype.forEach.call(a.length?
a:[a],e),a});b.exports=m});var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(canary&16777215);function BigInteger(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}function am1(a,b,c,d,e,f){for(;0<=--f;){var k=b*this[a++]+c[d]+e;e=Math.floor(k/67108864);c[d++]=k&67108863}return e}
function am2(a,b,c,d,e,f){var k=b&32767;for(b>>=15;0<=--f;){var m=this[a]&32767,p=this[a++]>>15,u=b*m+p*k;m=k*m+((u&32767)<<15)+c[d]+(e&1073741823);e=(m>>>30)+(u>>>15)+b*p+(e>>>30);c[d++]=m&1073741823}return e}function am3(a,b,c,d,e,f){var k=b&16383;for(b>>=14;0<=--f;){var m=this[a]&16383,p=this[a++]>>14,u=b*m+p*k;m=k*m+((u&16383)<<14)+c[d]+e;e=(m>>28)+(u>>14)+b*p;c[d++]=m&268435455}return e}
j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28);BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=(1<<dbits)-1;BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=[],rr,vv;
rr=48;for(vv=0;9>=vv;++vv)BI_RC[rr++]=vv;rr=97;for(vv=10;36>vv;++vv)BI_RC[rr++]=vv;rr=65;for(vv=10;36>vv;++vv)BI_RC[rr++]=vv;function int2char(a){return BI_RM.charAt(a)}function intAt(a,b){var c=BI_RC[a.charCodeAt(b)];return null==c?-1:c}function bnpCopyTo(a){for(var b=this.t-1;0<=b;--b)a[b]=this[b];a.t=this.t;a.s=this.s}function bnpFromInt(a){this.t=1;this.s=0>a?-1:0;0<a?this[0]=a:-1>a?this[0]=a+DV:this.t=0}function nbv(a){var b=nbi();b.fromInt(a);return b}
function bnpFromString(a,b){if(16==b)var c=4;else if(8==b)c=3;else if(256==b)c=8;else if(2==b)c=1;else if(32==b)c=5;else if(4==b)c=2;else{this.fromRadix(a,b);return}this.s=this.t=0;for(var d=a.length,e=!1,f=0;0<=--d;){var k=8==c?a[d]&255:intAt(a,d);0>k?"-"==a.charAt(d)&&(e=!0):(e=!1,0==f?this[this.t++]=k:f+c>this.DB?(this[this.t-1]|=(k&(1<<this.DB-f)-1)<<f,this[this.t++]=k>>this.DB-f):this[this.t-1]|=k<<f,f+=c,f>=this.DB&&(f-=this.DB))}8==c&&0!=(a[0]&128)&&(this.s=-1,0<f&&(this[this.t-1]|=(1<<this.DB-
f)-1<<f));this.clamp();e&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var a=this.s&this.DM;0<this.t&&this[this.t-1]==a;)--this.t}
function bnToString(a){if(0>this.s)return"-"+this.negate().toString(a);if(16==a)a=4;else if(8==a)a=3;else if(2==a)a=1;else if(32==a)a=5;else if(64==a)a=6;else if(4==a)a=2;else return this.toRadix(a);var b=(1<<a)-1,c,d=!1,e="",f=this.t,k=this.DB-f*this.DB%a;if(0<f--)for(k<this.DB&&0<(c=this[f]>>k)&&(d=!0,e=int2char(c));0<=f;)k<a?(c=(this[f]&(1<<k)-1)<<a-k,c|=this[--f]>>(k+=this.DB-a)):(c=this[f]>>(k-=a)&b,0>=k&&(k+=this.DB,--f)),0<c&&(d=!0),d&&(e+=int2char(c));return d?e:"0"}
function bnNegate(){var a=nbi();BigInteger.ZERO.subTo(this,a);return a}function bnAbs(){return 0>this.s?this.negate():this}function bnCompareTo(a){var b=this.s-a.s;if(0!=b)return b;var c=this.t;b=c-a.t;if(0!=b)return b;for(;0<=--c;)if(0!=(b=this[c]-a[c]))return b;return 0}function nbits(a){var b=1,c;0!=(c=a>>>16)&&(a=c,b+=16);0!=(c=a>>8)&&(a=c,b+=8);0!=(c=a>>4)&&(a=c,b+=4);0!=(c=a>>2)&&(a=c,b+=2);0!=a>>1&&(b+=1);return b}
function bnBitLength(){return 0>=this.t?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(a,b){var c;for(c=this.t-1;0<=c;--c)b[c+a]=this[c];for(c=a-1;0<=c;--c)b[c]=0;b.t=this.t+a;b.s=this.s}function bnpDRShiftTo(a,b){for(var c=a;c<this.t;++c)b[c-a]=this[c];b.t=Math.max(this.t-a,0);b.s=this.s}
function bnpLShiftTo(a,b){var c=a%this.DB,d=this.DB-c,e=(1<<d)-1,f=Math.floor(a/this.DB),k=this.s<<c&this.DM,m;for(m=this.t-1;0<=m;--m)b[m+f+1]=this[m]>>d|k,k=(this[m]&e)<<c;for(m=f-1;0<=m;--m)b[m]=0;b[f]=k;b.t=this.t+f+1;b.s=this.s;b.clamp()}
function bnpRShiftTo(a,b){b.s=this.s;var c=Math.floor(a/this.DB);if(c>=this.t)b.t=0;else{var d=a%this.DB,e=this.DB-d,f=(1<<d)-1;b[0]=this[c]>>d;for(var k=c+1;k<this.t;++k)b[k-c-1]|=(this[k]&f)<<e,b[k-c]=this[k]>>d;0<d&&(b[this.t-c-1]|=(this.s&f)<<e);b.t=this.t-c;b.clamp()}}
function bnpSubTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]-a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d-=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d-=a[c],b[c++]=d&this.DM,d>>=this.DB;d-=a.s}b.s=0>d?-1:0;-1>d?b[c++]=this.DV+d:0<d&&(b[c++]=d);b.t=c;b.clamp()}
function bnpMultiplyTo(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=e+d.t;0<=--e;)b[e]=0;for(e=0;e<d.t;++e)b[e+c.t]=c.am(0,d[e],b,e,0,c.t);b.s=0;b.clamp();this.s!=a.s&&BigInteger.ZERO.subTo(b,b)}function bnpSquareTo(a){for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a[c]=0;for(c=0;c<b.t-1;++c){var d=b.am(c,b[c],a,2*c,0,1);(a[c+b.t]+=b.am(c+1,2*b[c],a,2*c+1,d,b.t-c-1))>=b.DV&&(a[c+b.t]-=b.DV,a[c+b.t+1]=1)}0<a.t&&(a[a.t-1]+=b.am(c,b[c],a,2*c,0,1));a.s=0;a.clamp()}
function bnpDivRemTo(a,b,c){var d=a.abs();if(!(0>=d.t)){var e=this.abs();if(e.t<d.t)null!=b&&b.fromInt(0),null!=c&&this.copyTo(c);else{null==c&&(c=nbi());var f=nbi(),k=this.s;a=a.s;var m=this.DB-nbits(d[d.t-1]);0<m?(d.lShiftTo(m,f),e.lShiftTo(m,c)):(d.copyTo(f),e.copyTo(c));d=f.t;e=f[d-1];if(0!=e){var p=e*(1<<this.F1)+(1<d?f[d-2]>>this.F2:0),u=this.FV/p;p=(1<<this.F1)/p;var n=1<<this.F2,x=c.t,C=x-d,B=null==b?nbi():b;f.dlShiftTo(C,B);0<=c.compareTo(B)&&(c[c.t++]=1,c.subTo(B,c));BigInteger.ONE.dlShiftTo(d,
B);for(B.subTo(f,f);f.t<d;)f[f.t++]=0;for(;0<=--C;){var Q=c[--x]==e?this.DM:Math.floor(c[x]*u+(c[x-1]+n)*p);if((c[x]+=f.am(0,Q,c,C,0,d))<Q)for(f.dlShiftTo(C,B),c.subTo(B,c);c[x]<--Q;)c.subTo(B,c)}null!=b&&(c.drShiftTo(d,b),k!=a&&BigInteger.ZERO.subTo(b,b));c.t=d;c.clamp();0<m&&c.rShiftTo(m,c);0>k&&BigInteger.ZERO.subTo(c,c)}}}}function bnMod(a){var b=nbi();this.abs().divRemTo(a,null,b);0>this.s&&0<b.compareTo(BigInteger.ZERO)&&a.subTo(b,b);return b}function Classic(a){this.m=a}
function cConvert(a){return 0>a.s||0<=a.compareTo(this.m)?a.mod(this.m):a}function cRevert(a){return a}function cReduce(a){a.divRemTo(this.m,null,a)}function cMulTo(a,b,c){a.multiplyTo(b,c);this.reduce(c)}function cSqrTo(a,b){a.squareTo(b);this.reduce(b)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;
function bnpInvDigit(){if(1>this.t)return 0;var a=this[0];if(0==(a&1))return 0;var b=a&3;b=b*(2-(a&15)*b)&15;b=b*(2-(a&255)*b)&255;b=b*(2-((a&65535)*b&65535))&65535;b=b*(2-a*b%this.DV)%this.DV;return 0<b?this.DV-b:-b}function Montgomery(a){this.m=a;this.mp=a.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<a.DB-15)-1;this.mt2=2*a.t}
function montConvert(a){var b=nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.s&&0<b.compareTo(BigInteger.ZERO)&&this.m.subTo(b,b);return b}function montRevert(a){var b=nbi();a.copyTo(b);this.reduce(b);return b}
function montReduce(a){for(;a.t<=this.mt2;)a[a.t++]=0;for(var b=0;b<this.m.t;++b){var c=a[b]&32767,d=c*this.mpl+((c*this.mph+(a[b]>>15)*this.mpl&this.um)<<15)&a.DM;c=b+this.m.t;for(a[c]+=this.m.am(0,d,a,b,0,this.m.t);a[c]>=a.DV;)a[c]-=a.DV,a[++c]++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compareTo(this.m)&&a.subTo(this.m,a)}function montSqrTo(a,b){a.squareTo(b);this.reduce(b)}function montMulTo(a,b,c){a.multiplyTo(b,c);this.reduce(c)}Montgomery.prototype.convert=montConvert;
Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return 0==(0<this.t?this[0]&1:this.s)}function bnpExp(a,b){if(4294967295<a||1>a)return BigInteger.ONE;var c=nbi(),d=nbi(),e=b.convert(this),f=nbits(a)-1;for(e.copyTo(c);0<=--f;)if(b.sqrTo(c,d),0<(a&1<<f))b.mulTo(d,e,c);else{var k=c;c=d;d=k}return b.revert(c)}
function bnModPowInt(a,b){var c=256>a||b.isEven()?new Classic(b):new Montgomery(b);return this.exp(a,c)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;
BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;
BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);function bnClone(){var a=nbi();this.copyTo(a);return a}function bnIntValue(){if(0>this.s){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(a){return Math.floor(Math.LN2*this.DB/Math.log(a))}
function bnSigNum(){return 0>this.s?-1:0>=this.t||1==this.t&&0>=this[0]?0:1}function bnpToRadix(a){null==a&&(a=10);if(0==this.signum()||2>a||36<a)return"0";var b=this.chunkSize(a);b=Math.pow(a,b);var c=nbv(b),d=nbi(),e=nbi(),f="";for(this.divRemTo(c,d,e);0<d.signum();)f=(b+e.intValue()).toString(a).substr(1)+f,d.divRemTo(c,d,e);return e.intValue().toString(a)+f}
function bnpFromRadix(a,b){this.fromInt(0);null==b&&(b=10);for(var c=this.chunkSize(b),d=Math.pow(b,c),e=!1,f=0,k=0,m=0;m<a.length;++m){var p=intAt(a,m);0>p?"-"==a.charAt(m)&&0==this.signum()&&(e=!0):(k=b*k+p,++f>=c&&(this.dMultiply(d),this.dAddOffset(k,0),k=f=0))}0<f&&(this.dMultiply(Math.pow(b,f)),this.dAddOffset(k,0));e&&BigInteger.ZERO.subTo(this,this)}
function bnpFromNumber(a,b,c){if("number"==typeof b)if(2>a)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{c=[];var d=a&7;c.length=(a>>3)+1;b.nextBytes(c);0<d?c[0]&=(1<<d)-1:c[0]=0;this.fromString(c,256)}}
function bnToByteArray(){var a=this.t,b=[];b[0]=this.s;var c=this.DB-a*this.DB%8,d,e=0;if(0<a--)for(c<this.DB&&(d=this[a]>>c)!=(this.s&this.DM)>>c&&(b[e++]=d|this.s<<this.DB-c);0<=a;)if(8>c?(d=(this[a]&(1<<c)-1)<<8-c,d|=this[--a]>>(c+=this.DB-8)):(d=this[a]>>(c-=8)&255,0>=c&&(c+=this.DB,--a)),0!=(d&128)&&(d|=-256),0==e&&(this.s&128)!=(d&128)&&++e,0<e||d!=this.s)b[e++]=d;return b}function bnEquals(a){return 0==this.compareTo(a)}function bnMin(a){return 0>this.compareTo(a)?this:a}
function bnMax(a){return 0<this.compareTo(a)?this:a}function bnpBitwiseTo(a,b,c){var d,e=Math.min(a.t,this.t);for(d=0;d<e;++d)c[d]=b(this[d],a[d]);if(a.t<this.t){var f=a.s&this.DM;for(d=e;d<this.t;++d)c[d]=b(this[d],f);c.t=this.t}else{f=this.s&this.DM;for(d=e;d<a.t;++d)c[d]=b(f,a[d]);c.t=a.t}c.s=b(this.s,a.s);c.clamp()}function op_and(a,b){return a&b}function bnAnd(a){var b=nbi();this.bitwiseTo(a,op_and,b);return b}function op_or(a,b){return a|b}
function bnOr(a){var b=nbi();this.bitwiseTo(a,op_or,b);return b}function op_xor(a,b){return a^b}function bnXor(a){var b=nbi();this.bitwiseTo(a,op_xor,b);return b}function op_andnot(a,b){return a&~b}function bnAndNot(a){var b=nbi();this.bitwiseTo(a,op_andnot,b);return b}function bnNot(){for(var a=nbi(),b=0;b<this.t;++b)a[b]=this.DM&~this[b];a.t=this.t;a.s=~this.s;return a}function bnShiftLeft(a){var b=nbi();0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b}
function bnShiftRight(a){var b=nbi();0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b}function lbit(a){if(0==a)return-1;var b=0;0==(a&65535)&&(a>>=16,b+=16);0==(a&255)&&(a>>=8,b+=8);0==(a&15)&&(a>>=4,b+=4);0==(a&3)&&(a>>=2,b+=2);0==(a&1)&&++b;return b}function bnGetLowestSetBit(){for(var a=0;a<this.t;++a)if(0!=this[a])return a*this.DB+lbit(this[a]);return 0>this.s?this.t*this.DB:-1}function cbit(a){for(var b=0;0!=a;)a&=a-1,++b;return b}
function bnBitCount(){for(var a=0,b=this.s&this.DM,c=0;c<this.t;++c)a+=cbit(this[c]^b);return a}function bnTestBit(a){var b=Math.floor(a/this.DB);return b>=this.t?0!=this.s:0!=(this[b]&1<<a%this.DB)}function bnpChangeBit(a,b){var c=BigInteger.ONE.shiftLeft(a);this.bitwiseTo(c,b,c);return c}function bnSetBit(a){return this.changeBit(a,op_or)}function bnClearBit(a){return this.changeBit(a,op_andnot)}function bnFlipBit(a){return this.changeBit(a,op_xor)}
function bnpAddTo(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t);c<e;)d+=this[c]+a[c],b[c++]=d&this.DM,d>>=this.DB;if(a.t<this.t){for(d+=a.s;c<this.t;)d+=this[c],b[c++]=d&this.DM,d>>=this.DB;d+=this.s}else{for(d+=this.s;c<a.t;)d+=a[c],b[c++]=d&this.DM,d>>=this.DB;d+=a.s}b.s=0>d?-1:0;0<d?b[c++]=d:-1>d&&(b[c++]=this.DV+d);b.t=c;b.clamp()}function bnAdd(a){var b=nbi();this.addTo(a,b);return b}function bnSubtract(a){var b=nbi();this.subTo(a,b);return b}
function bnMultiply(a){var b=nbi();this.multiplyTo(a,b);return b}function bnSquare(){var a=nbi();this.squareTo(a);return a}function bnDivide(a){var b=nbi();this.divRemTo(a,b,null);return b}function bnRemainder(a){var b=nbi();this.divRemTo(a,null,b);return b}function bnDivideAndRemainder(a){var b=nbi(),c=nbi();this.divRemTo(a,b,c);return[b,c]}function bnpDMultiply(a){this[this.t]=this.am(0,a-1,this,0,0,this.t);++this.t;this.clamp()}
function bnpDAddOffset(a,b){if(0!=a){for(;this.t<=b;)this[this.t++]=0;for(this[b]+=a;this[b]>=this.DV;)this[b]-=this.DV,++b>=this.t&&(this[this.t++]=0),++this[b]}}function NullExp(){}function nNop(a){return a}function nMulTo(a,b,c){a.multiplyTo(b,c)}function nSqrTo(a,b){a.squareTo(b)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(a){return this.exp(a,new NullExp)}
function bnpMultiplyLowerTo(a,b,c){var d=Math.min(this.t+a.t,b);c.s=0;for(c.t=d;0<d;)c[--d]=0;var e;for(e=c.t-this.t;d<e;++d)c[d+this.t]=this.am(0,a[d],c,d,0,this.t);for(e=Math.min(a.t,b);d<e;++d)this.am(0,a[d],c,d,0,b-d);c.clamp()}function bnpMultiplyUpperTo(a,b,c){--b;var d=c.t=this.t+a.t-b;for(c.s=0;0<=--d;)c[d]=0;for(d=Math.max(b-this.t,0);d<a.t;++d)c[this.t+d-b]=this.am(b-d,a[d],c,0,0,this.t+d-b);c.clamp();c.drShiftTo(1,c)}
function Barrett(a){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*a.t,this.r2);this.mu=this.r2.divide(a);this.m=a}function barrettConvert(a){if(0>a.s||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compareTo(this.m))return a;var b=nbi();a.copyTo(b);this.reduce(b);return b}function barrettRevert(a){return a}
function barrettReduce(a){a.drShiftTo(this.m.t-1,this.r2);a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>a.compareTo(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compareTo(this.m);)a.subTo(this.m,a)}function barrettSqrTo(a,b){a.squareTo(b);this.reduce(b)}function barrettMulTo(a,b,c){a.multiplyTo(b,c);this.reduce(c)}Barrett.prototype.convert=barrettConvert;
Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;
function bnModPow(a,b){var c=a.bitLength(),d=nbv(1);if(0>=c)return d;var e=18>c?1:48>c?3:144>c?4:768>c?5:6;var f=8>c?new Classic(b):b.isEven()?new Barrett(b):new Montgomery(b);var k=[],m=3,p=e-1,u=(1<<e)-1;k[1]=f.convert(this);if(1<e)for(c=nbi(),f.sqrTo(k[1],c);m<=u;)k[m]=nbi(),f.mulTo(c,k[m-2],k[m]),m+=2;var n=a.t-1,x,C=!0,B=nbi();for(c=nbits(a[n])-1;0<=n;){c>=p?x=a[n]>>c-p&u:(x=(a[n]&(1<<c+1)-1)<<p-c,0<n&&(x|=a[n-1]>>this.DB+c-p));for(m=e;0==(x&1);)x>>=1,--m;0>(c-=m)&&(c+=this.DB,--n);if(C)k[x].copyTo(d),
C=!1;else{for(;1<m;)f.sqrTo(d,B),f.sqrTo(B,d),m-=2;0<m?f.sqrTo(d,B):(m=d,d=B,B=m);f.mulTo(B,k[x],d)}for(;0<=n&&0==(a[n]&1<<c);)f.sqrTo(d,B),m=d,d=B,B=m,0>--c&&(c=this.DB-1,--n)}return f.revert(d)}
function bnGCD(a){var b=0>this.s?this.negate():this.clone();a=0>a.s?a.negate():a.clone();if(0>b.compareTo(a)){var c=b;b=a;a=c}c=b.getLowestSetBit();var d=a.getLowestSetBit();if(0>d)return b;c<d&&(d=c);for(0<d&&(b.rShiftTo(d,b),a.rShiftTo(d,a));0<b.signum();)0<(c=b.getLowestSetBit())&&b.rShiftTo(c,b),0<(c=a.getLowestSetBit())&&a.rShiftTo(c,a),0<=b.compareTo(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,a));0<d&&a.lShiftTo(d,a);return a}
function bnpModInt(a){if(0>=a)return 0;var b=this.DV%a,c=0>this.s?a-1:0;if(0<this.t)if(0==b)c=this[0]%a;else for(var d=this.t-1;0<=d;--d)c=(b*c+this[d])%a;return c}
function bnModInverse(a){var b=a.isEven();if(this.isEven()&&b||0==a.signum())return BigInteger.ZERO;for(var c=a.clone(),d=this.clone(),e=nbv(1),f=nbv(0),k=nbv(0),m=nbv(1);0!=c.signum();){for(;c.isEven();)c.rShiftTo(1,c),b?(e.isEven()&&f.isEven()||(e.addTo(this,e),f.subTo(a,f)),e.rShiftTo(1,e)):f.isEven()||f.subTo(a,f),f.rShiftTo(1,f);for(;d.isEven();)d.rShiftTo(1,d),b?(k.isEven()&&m.isEven()||(k.addTo(this,k),m.subTo(a,m)),k.rShiftTo(1,k)):m.isEven()||m.subTo(a,m),m.rShiftTo(1,m);0<=c.compareTo(d)?
(c.subTo(d,c),b&&e.subTo(k,e),f.subTo(m,f)):(d.subTo(c,d),b&&k.subTo(e,k),m.subTo(f,m))}if(0!=d.compareTo(BigInteger.ONE))return BigInteger.ZERO;if(0<=m.compareTo(a))return m.subtract(a);if(0>m.signum())m.addTo(a,m);else return m;return 0>m.signum()?m.add(a):m}
var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,
733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=67108864/lowprimes[lowprimes.length-1];
function bnIsProbablePrime(a){var b,c=this.abs();if(1==c.t&&c[0]<=lowprimes[lowprimes.length-1]){for(b=0;b<lowprimes.length;++b)if(c[0]==lowprimes[b])return!0;return!1}if(c.isEven())return!1;for(b=1;b<lowprimes.length;){for(var d=lowprimes[b],e=b+1;e<lowprimes.length&&d<lplim;)d*=lowprimes[e++];for(d=c.modInt(d);b<e;)if(0==d%lowprimes[b++])return!1}return c.millerRabin(a)}
function bnpMillerRabin(a){var b=this.subtract(BigInteger.ONE),c=b.getLowestSetBit();if(0>=c)return!1;var d=b.shiftRight(c);a=a+1>>1;a>lowprimes.length&&(a=lowprimes.length);for(var e=nbi(),f=0;f<a;++f){e.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var k=e.modPow(d,this);if(0!=k.compareTo(BigInteger.ONE)&&0!=k.compareTo(b)){for(var m=1;m++<c&&0!=k.compareTo(b);)if(k=k.modPowInt(2,this),0==k.compareTo(BigInteger.ONE))return!1;if(0!=k.compareTo(b))return!1}}return!0}
BigInteger.prototype.chunkSize=bnpChunkSize;BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;
BigInteger.prototype.modInt=bnpModInt;BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;
BigInteger.prototype.xor=bnXor;BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;
BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;BigInteger.prototype.square=bnSquare;
(function(a,b,c,d,e,f,k){function m(a){var b=this,d=a.length,e=0,f=b.i=b.j=b.m=0;b.S=[];b.c=[];for(d||(a=[d++]);e<c;)b.S[e]=e++;for(e=0;e<c;e++){var k=b.S[e];f=f+k+a[e%d]&c-1;var m=b.S[f];b.S[e]=m;b.S[f]=k}b.g=function(a){var d=b.S,e=b.i+1&c-1,f=d[e],k=b.j+f&c-1,m=d[k];d[e]=m;d[k]=f;for(var n=d[f+m&c-1];--a;)e=e+1&c-1,f=d[e],k=k+f&c-1,m=d[k],d[e]=m,d[k]=f,n=n*c+d[f+m&c-1];b.i=e;b.j=k;return n};b.g(c)}function p(a,b,c,d,e){c=[];e=typeof a;if(b&&"object"==e)for(d in a)if(5>d.indexOf("S"))try{c.push(p(a[d],
b-1))}catch(V){}return c.length?c:a+("string"!=e?"\x00":"")}function u(a,b,d,e){a+="";for(e=d=0;e<a.length;e++){var f=b,k=e&c-1,m=(d^=19*b[e&c-1])+a.charCodeAt(e);f[k]=m&c-1}a="";for(e in b)a+=String.fromCharCode(b[e]);return a}b.seedrandom=function(n,x){var C=[];n=u(p(x?[n,a]:arguments.length?n:[(new Date).getTime(),a,window],3),C);var B=new m(C);u(B.S,a);b.random=function(){for(var a=B.g(d),b=k,m=0;a<e;)a=(a+m)*c,b*=c,m=B.g(1);for(;a>=f;)a/=2,b/=2,m>>>=1;return(a+m)/b};return n};k=b.pow(c,d);e=
b.pow(2,e);f=2*e;u(b.random(),a)})([],Math,256,6,52);function SeededRandom(){}function SRnextBytes(a){var b;for(b=0;b<a.length;b++)a[b]=Math.floor(256*Math.random())}SeededRandom.prototype.nextBytes=SRnextBytes;function Arcfour(){this.j=this.i=0;this.S=[]}function ARC4init(a){var b,c;for(b=0;256>b;++b)this.S[b]=b;for(b=c=0;256>b;++b){c=c+this.S[b]+a[b%a.length]&255;var d=this.S[b];this.S[b]=this.S[c];this.S[c]=d}this.j=this.i=0}
function ARC4next(){this.i=this.i+1&255;this.j=this.j+this.S[this.i]&255;var a=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=a;return this.S[a+this.S[this.i]&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour}var rng_psize=256,rng_state,rng_pool,rng_pptr;
function rng_seed_int(a){rng_pool[rng_pptr++]^=a&255;rng_pool[rng_pptr++]^=a>>8&255;rng_pool[rng_pptr++]^=a>>16&255;rng_pool[rng_pptr++]^=a>>24&255;rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}
if(null==rng_pool){rng_pool=[];rng_pptr=0;var t;if("Netscape"==navigator.appName&&"5">navigator.appVersion&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=z.charCodeAt(t)&255}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=t&255;rng_pptr=0;rng_seed_time()}
function rng_get_byte(){if(null==rng_state){rng_seed_time();rng_state=prng_newstate();rng_state.init(rng_pool);for(rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(a){var b;for(b=0;b<a.length;++b)a[b]=rng_get_byte()}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;
function SHA256(a){function b(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}function c(a,b){return a>>>b|a<<32-b}a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);return function(a){for(var b="",c=0;c<4*a.length;c++)b+="0123456789abcdef".charAt(a[c>>
2]>>8*(3-c%4)+4&15)+"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15);return b}(function(a,e){var d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,
2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],k=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],m=Array(64),p,u;a[e>>5]|=128<<24-e%32;a[(e+64>>9<<4)+15]=e;for(p=0;p<a.length;p+=16){var n=k[0];var x=k[1];var C=k[2];var B=k[3];
var Q=k[4];var V=k[5];var L=k[6];var ya=k[7];for(u=0;64>u;u++){m[u]=16>u?a[u+p]:b(b(b(c(m[u-2],17)^c(m[u-2],19)^m[u-2]>>>10,m[u-7]),c(m[u-15],7)^c(m[u-15],18)^m[u-15]>>>3),m[u-16]);var qa=b(b(b(b(ya,c(Q,6)^c(Q,11)^c(Q,25)),Q&V^~Q&L),d[u]),m[u]);var Y=b(c(n,2)^c(n,13)^c(n,22),n&x^n&C^x&C);ya=L;L=V;V=Q;Q=b(B,qa);B=C;C=x;x=n;n=b(qa,Y)}k[0]=b(n,k[0]);k[1]=b(x,k[1]);k[2]=b(C,k[2]);k[3]=b(B,k[3]);k[4]=b(Q,k[4]);k[5]=b(V,k[5]);k[6]=b(L,k[6]);k[7]=b(ya,k[7])}return k}(function(a){for(var b=[],c=0;c<8*a.length;c+=
8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<24-c%32;return b}(a),8*a.length))}var sha256={hex:function(a){return SHA256(a)}};
function SHA1(a){function b(a,b){return a<<b|a>>>32-b}function c(a){var b="",c;for(c=7;0<=c;c--){var d=a>>>4*c&15;b+=d.toString(16)}return b}var d,e=Array(80),f=1732584193,k=4023233417,m=2562383102,p=271733878,u=3285377520;a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);
var n=a.length;var x=[];for(d=0;d<n-3;d+=4){var C=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3);x.push(C)}switch(n%4){case 0:d=2147483648;break;case 1:d=a.charCodeAt(n-1)<<24|8388608;break;case 2:d=a.charCodeAt(n-2)<<24|a.charCodeAt(n-1)<<16|32768;break;case 3:d=a.charCodeAt(n-3)<<24|a.charCodeAt(n-2)<<16|a.charCodeAt(n-1)<<8|128}for(x.push(d);14!=x.length%16;)x.push(0);x.push(n>>>29);x.push(n<<3&4294967295);for(a=0;a<x.length;a+=16){for(d=0;16>d;d++)e[d]=x[a+d];
for(d=16;79>=d;d++)e[d]=b(e[d-3]^e[d-8]^e[d-14]^e[d-16],1);C=f;n=k;var B=m;var Q=p;var V=u;for(d=0;19>=d;d++){var L=b(C,5)+(n&B|~n&Q)+V+e[d]+1518500249&4294967295;V=Q;Q=B;B=b(n,30);n=C;C=L}for(d=20;39>=d;d++)L=b(C,5)+(n^B^Q)+V+e[d]+1859775393&4294967295,V=Q,Q=B,B=b(n,30),n=C,C=L;for(d=40;59>=d;d++)L=b(C,5)+(n&B|n&Q|B&Q)+V+e[d]+2400959708&4294967295,V=Q,Q=B,B=b(n,30),n=C,C=L;for(d=60;79>=d;d++)L=b(C,5)+(n^B^Q)+V+e[d]+3395469782&4294967295,V=Q,Q=B,B=b(n,30),n=C,C=L;f=f+C&4294967295;k=k+n&4294967295;
m=m+B&4294967295;p=p+Q&4294967295;u=u+V&4294967295}L=c(f)+c(k)+c(m)+c(p)+c(u);return L.toLowerCase()}
var sha1={hex:function(a){return SHA1(a)}},MD5=function(a){function b(a,b){var c=a&2147483648;var d=b&2147483648;var e=a&1073741824;var f=b&1073741824;var k=(a&1073741823)+(b&1073741823);return e&f?k^2147483648^c^d:e|f?k&1073741824?k^3221225472^c^d:k^1073741824^c^d:k^c^d}function c(a,c,d,e,f,k,m){a=b(a,b(b(c&d|~c&e,f),m));return b(a<<k|a>>>32-k,c)}function d(a,c,d,e,f,k,m){a=b(a,b(b(c&e|d&~e,f),m));return b(a<<k|a>>>32-k,c)}function e(a,c,d,e,f,k,m){a=b(a,b(b(c^d^e,f),m));return b(a<<k|a>>>32-k,c)}
function f(a,c,d,e,f,k,m){a=b(a,b(b(d^(c|~e),f),m));return b(a<<k|a>>>32-k,c)}function k(a){var b="",c;for(c=0;3>=c;c++){var d=a>>>8*c&255;d="0"+d.toString(16);b+=d.substr(d.length-2,2)}return b}var m=[];a=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}(a);m=function(a){var b=
a.length;var c=b+8;for(var d=16*((c-c%64)/64+1),e=Array(d-1),f,k=0;k<b;)c=(k-k%4)/4,f=k%4*8,e[c]|=a.charCodeAt(k)<<f,k++;e[(k-k%4)/4]|=128<<k%4*8;e[d-2]=b<<3;e[d-1]=b>>>29;return e}(a);var p=1732584193;var u=4023233417;var n=2562383102;var x=271733878;for(a=0;a<m.length;a+=16){var C=p;var B=u;var Q=n;var V=x;p=c(p,u,n,x,m[a+0],7,3614090360);x=c(x,p,u,n,m[a+1],12,3905402710);n=c(n,x,p,u,m[a+2],17,606105819);u=c(u,n,x,p,m[a+3],22,3250441966);p=c(p,u,n,x,m[a+4],7,4118548399);x=c(x,p,u,n,m[a+5],12,1200080426);
n=c(n,x,p,u,m[a+6],17,2821735955);u=c(u,n,x,p,m[a+7],22,4249261313);p=c(p,u,n,x,m[a+8],7,1770035416);x=c(x,p,u,n,m[a+9],12,2336552879);n=c(n,x,p,u,m[a+10],17,4294925233);u=c(u,n,x,p,m[a+11],22,2304563134);p=c(p,u,n,x,m[a+12],7,1804603682);x=c(x,p,u,n,m[a+13],12,4254626195);n=c(n,x,p,u,m[a+14],17,2792965006);u=c(u,n,x,p,m[a+15],22,1236535329);p=d(p,u,n,x,m[a+1],5,4129170786);x=d(x,p,u,n,m[a+6],9,3225465664);n=d(n,x,p,u,m[a+11],14,643717713);u=d(u,n,x,p,m[a+0],20,3921069994);p=d(p,u,n,x,m[a+5],5,3593408605);
x=d(x,p,u,n,m[a+10],9,38016083);n=d(n,x,p,u,m[a+15],14,3634488961);u=d(u,n,x,p,m[a+4],20,3889429448);p=d(p,u,n,x,m[a+9],5,568446438);x=d(x,p,u,n,m[a+14],9,3275163606);n=d(n,x,p,u,m[a+3],14,4107603335);u=d(u,n,x,p,m[a+8],20,1163531501);p=d(p,u,n,x,m[a+13],5,2850285829);x=d(x,p,u,n,m[a+2],9,4243563512);n=d(n,x,p,u,m[a+7],14,1735328473);u=d(u,n,x,p,m[a+12],20,2368359562);p=e(p,u,n,x,m[a+5],4,4294588738);x=e(x,p,u,n,m[a+8],11,2272392833);n=e(n,x,p,u,m[a+11],16,1839030562);u=e(u,n,x,p,m[a+14],23,4259657740);
p=e(p,u,n,x,m[a+1],4,2763975236);x=e(x,p,u,n,m[a+4],11,1272893353);n=e(n,x,p,u,m[a+7],16,4139469664);u=e(u,n,x,p,m[a+10],23,3200236656);p=e(p,u,n,x,m[a+13],4,681279174);x=e(x,p,u,n,m[a+0],11,3936430074);n=e(n,x,p,u,m[a+3],16,3572445317);u=e(u,n,x,p,m[a+6],23,76029189);p=e(p,u,n,x,m[a+9],4,3654602809);x=e(x,p,u,n,m[a+12],11,3873151461);n=e(n,x,p,u,m[a+15],16,530742520);u=e(u,n,x,p,m[a+2],23,3299628645);p=f(p,u,n,x,m[a+0],6,4096336452);x=f(x,p,u,n,m[a+7],10,1126891415);n=f(n,x,p,u,m[a+14],15,2878612391);
u=f(u,n,x,p,m[a+5],21,4237533241);p=f(p,u,n,x,m[a+12],6,1700485571);x=f(x,p,u,n,m[a+3],10,2399980690);n=f(n,x,p,u,m[a+10],15,4293915773);u=f(u,n,x,p,m[a+1],21,2240044497);p=f(p,u,n,x,m[a+8],6,1873313359);x=f(x,p,u,n,m[a+15],10,4264355552);n=f(n,x,p,u,m[a+6],15,2734768916);u=f(u,n,x,p,m[a+13],21,1309151649);p=f(p,u,n,x,m[a+4],6,4149444226);x=f(x,p,u,n,m[a+11],10,3174756917);n=f(n,x,p,u,m[a+2],15,718787259);u=f(u,n,x,p,m[a+9],21,3951481745);p=b(p,C);u=b(u,B);n=b(n,Q);x=b(x,V)}return(k(p)+k(u)+k(n)+
k(x)).toLowerCase()};function parseBigInt(a,b){return new BigInteger(a,b)}function linebrk(a,b){for(var c="",d=0;d+b<a.length;)c+=a.substring(d,d+b)+"\n",d+=b;return c+a.substring(d,a.length)}function byte2Hex(a){return 16>a?"0"+a.toString(16):a.toString(16)}
function pkcs1pad2(a,b){if(b<a.length+11)throw"Message too long for RSA (n="+b+", l="+a.length+")";for(var c=[],d=a.length-1;0<=d&&0<b;){var e=a.charCodeAt(d--);128>e?c[--b]=e:127<e&&2048>e?(c[--b]=e&63|128,c[--b]=e>>6|192):(c[--b]=e&63|128,c[--b]=e>>6&63|128,c[--b]=e>>12|224)}c[--b]=0;d=new SecureRandom;for(e=[];2<b;){for(e[0]=0;0==e[0];)d.nextBytes(e);c[--b]=e[0]}c[--b]=2;c[--b]=0;return new BigInteger(c)}
function RSAKey(){this.n=null;this.e=0;this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null}function RSASetPublic(a,b){null!=a&&null!=b&&0<a.length&&0<b.length?(this.n=parseBigInt(a,16),this.e=parseInt(b,16)):alert("Invalid RSA public key")}function RSADoPublic(a){return a.modPowInt(this.e,this.n)}function RSAEncrypt(a){a=pkcs1pad2(a,this.n.bitLength()+7>>3);if(null==a)return null;a=this.doPublic(a);if(null==a)return null;a=a.toString(16);return 0==(a.length&1)?a:"0"+a}
RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.encrypt=RSAEncrypt;function pkcs1unpad2(a,b){for(var c=a.toByteArray(),d=0;d<c.length&&0==c[d];)++d;if(c.length-d!=b-1||2!=c[d])return null;for(++d;0!=c[d];)if(++d>=c.length)return null;for(var e="";++d<c.length;){var f=c[d]&255;128>f?e+=String.fromCharCode(f):191<f&&224>f?(e+=String.fromCharCode((f&31)<<6|c[d+1]&63),++d):(e+=String.fromCharCode((f&15)<<12|(c[d+1]&63)<<6|c[d+2]&63),d+=2)}return e}
function RSASetPrivate(a,b,c){null!=a&&null!=b&&0<a.length&&0<b.length?(this.n=parseBigInt(a,16),this.e=parseInt(b,16),this.d=parseBigInt(c,16)):alert("Invalid RSA private key")}
function RSASetPrivateEx(a,b,c,d,e,f,k,m){null!=a&&null!=b&&0<a.length&&0<b.length?(this.n=parseBigInt(a,16),this.e=parseInt(b,16),this.d=parseBigInt(c,16),this.p=parseBigInt(d,16),this.q=parseBigInt(e,16),this.dmp1=parseBigInt(f,16),this.dmq1=parseBigInt(k,16),this.coeff=parseBigInt(m,16)):alert("Invalid RSA private key")}
function RSAGenerate(a,b){var c=new SeededRandom,d=a>>1;this.e=parseInt(b,16);for(var e=new BigInteger(b,16);;){for(;this.p=new BigInteger(a-d,1,c),0!=this.p.subtract(BigInteger.ONE).gcd(e).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(d,1,c),0!=this.q.subtract(BigInteger.ONE).gcd(e).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););if(0>=this.p.compareTo(this.q)){var f=this.p;this.p=this.q;this.q=f}f=this.p.subtract(BigInteger.ONE);var k=this.q.subtract(BigInteger.ONE),
m=f.multiply(k);if(0==m.gcd(e).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q);this.d=e.modInverse(m);this.dmp1=this.d.mod(f);this.dmq1=this.d.mod(k);this.coeff=this.q.modInverse(this.p);break}}}function RSADoPrivate(a){if(null==this.p||null==this.q)return a.modPow(this.d,this.n);var b=a.mod(this.p).modPow(this.dmp1,this.p);for(a=a.mod(this.q).modPow(this.dmq1,this.q);0>b.compareTo(a);)b=b.add(this.p);return b.subtract(a).multiply(this.coeff).mod(this.p).multiply(this.q).add(a)}
function RSADecrypt(a){a=this.doPrivate(parseBigInt(a,16));return null==a?null:pkcs1unpad2(a,this.n.bitLength()+7>>3)}RSAKey.prototype.doPrivate=RSADoPrivate;RSAKey.prototype.setPrivate=RSASetPrivate;RSAKey.prototype.setPrivateEx=RSASetPrivateEx;RSAKey.prototype.generate=RSAGenerate;RSAKey.prototype.decrypt=RSADecrypt;var _RSASIGN_DIHEAD=[];_RSASIGN_DIHEAD.sha1="3021300906052b0e03021a05000414";_RSASIGN_DIHEAD.sha256="3031300d060960864801650304020105000420";var _RSASIGN_HASHHEXFUNC=[];
_RSASIGN_HASHHEXFUNC.sha1=sha1.hex;_RSASIGN_HASHHEXFUNC.sha256=sha256.hex;function _rsasign_getHexPaddedDigestInfoForString(a,b,c){b/=4;a=(0,_RSASIGN_HASHHEXFUNC[c])(a);c="00"+_RSASIGN_DIHEAD[c]+a;a="";b=b-4-c.length;for(var d=0;d<b;d+=2)a+="ff";return sPaddedMessageHex="0001"+a+c}function _rsasign_signString(a,b){var c=_rsasign_getHexPaddedDigestInfoForString(a,this.n.bitLength(),b);return this.doPrivate(parseBigInt(c,16)).toString(16)}
function _rsasign_signStringWithSHA1(a){a=_rsasign_getHexPaddedDigestInfoForString(a,this.n.bitLength(),"sha1");return this.doPrivate(parseBigInt(a,16)).toString(16)}function _rsasign_signStringWithSHA256(a){a=_rsasign_getHexPaddedDigestInfoForString(a,this.n.bitLength(),"sha256");return this.doPrivate(parseBigInt(a,16)).toString(16)}function _rsasign_getDecryptSignatureBI(a,b,c){var d=new RSAKey;d.setPublic(b,c);return d.doPublic(a)}
function _rsasign_getHexDigestInfoFromSig(a,b,c){return _rsasign_getDecryptSignatureBI(a,b,c).toString(16).replace(/^1f+00/,"")}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(a){for(var b in _RSASIGN_DIHEAD){var c=_RSASIGN_DIHEAD[b],d=c.length;if(a.substring(0,d)==c)return[b,a.substring(d)]}return[]}
function _rsasign_verifySignatureWithArgs(a,b,c,d){b=_rsasign_getHexDigestInfoFromSig(b,c,d);c=_rsasign_getAlgNameAndHashFromHexDisgestInfo(b);if(0==c.length)return!1;b=c[1];a=(0,_RSASIGN_HASHHEXFUNC[c[0]])(a);return b==a}function _rsasign_verifyHexSignatureForMessage(a,b){var c=parseBigInt(a,16);return _rsasign_verifySignatureWithArgs(b,c,this.n.toString(16),this.e.toString(16))}
function _rsasign_verifyString(a,b){b=b.replace(/[ \n]+/g,"");var c=this.doPublic(parseBigInt(b,16)).toString(16).replace(/^1f+00/,""),d=_rsasign_getAlgNameAndHashFromHexDisgestInfo(c);if(0==d.length)return!1;c=d[1];d=(0,_RSASIGN_HASHHEXFUNC[d[0]])(a);return c==d}RSAKey.prototype.signString=_rsasign_signString;RSAKey.prototype.signStringWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signStringWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.verifyString=_rsasign_verifyString;
RSAKey.prototype.verifyHexSignatureForMessage=_rsasign_verifyHexSignatureForMessage;
var aes=function(){var a={Sbox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,
95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],ShiftRowTab:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],Init:function(){a.Sbox_Inv=
Array(256);for(var b=0;256>b;b++)a.Sbox_Inv[a.Sbox[b]]=b;a.ShiftRowTab_Inv=Array(16);for(b=0;16>b;b++)a.ShiftRowTab_Inv[a.ShiftRowTab[b]]=b;a.xtime=Array(256);for(b=0;128>b;b++)a.xtime[b]=b<<1,a.xtime[128+b]=b<<1^27},Done:function(){delete a.Sbox_Inv;delete a.ShiftRowTab_Inv;delete a.xtime},ExpandKey:function(b){var c=b.length,d=1;switch(c){case 16:var e=176;break;case 24:e=208;break;case 32:e=240;break;default:alert("my.ExpandKey: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var f=c;f<e;f+=
4){var k=b.slice(f-4,f);if(0==f%c){if(k=[a.Sbox[k[1]]^d,a.Sbox[k[2]],a.Sbox[k[3]],a.Sbox[k[0]]],256<=(d<<=1))d^=283}else 24<c&&16==f%c&&(k=[a.Sbox[k[0]],a.Sbox[k[1]],a.Sbox[k[2]],a.Sbox[k[3]]]);for(var m=0;4>m;m++)b[f+m]=b[f+m-c]^k[m]}},Encrypt:function(b,c){var d=c.length;a.AddRoundKey(b,c.slice(0,16));for(var e=16;e<d-16;e+=16)a.SubBytes(b,a.Sbox),a.ShiftRows(b,a.ShiftRowTab),a.MixColumns(b),a.AddRoundKey(b,c.slice(e,e+16));a.SubBytes(b,a.Sbox);a.ShiftRows(b,a.ShiftRowTab);a.AddRoundKey(b,c.slice(e,
d))},Decrypt:function(b,c){var d=c.length;a.AddRoundKey(b,c.slice(d-16,d));a.ShiftRows(b,a.ShiftRowTab_Inv);a.SubBytes(b,a.Sbox_Inv);for(d-=32;16<=d;d-=16)a.AddRoundKey(b,c.slice(d,d+16)),a.MixColumns_Inv(b),a.ShiftRows(b,a.ShiftRowTab_Inv),a.SubBytes(b,a.Sbox_Inv);a.AddRoundKey(b,c.slice(0,16))},SubBytes:function(a,c){for(var b=0;16>b;b++)a[b]=c[a[b]]},AddRoundKey:function(a,c){for(var b=0;16>b;b++)a[b]^=c[b]},ShiftRows:function(a,c){for(var b=[].concat(a),e=0;16>e;e++)a[e]=b[c[e]]},MixColumns:function(b){for(var c=
0;16>c;c+=4){var d=b[c+0],e=b[c+1],f=b[c+2],k=b[c+3],m=d^e^f^k;b[c+0]=b[c+0]^m^a.xtime[d^e];b[c+1]=b[c+1]^m^a.xtime[e^f];b[c+2]=b[c+2]^m^a.xtime[f^k];b[c+3]=b[c+3]^m^a.xtime[k^d]}},MixColumns_Inv:function(b){for(var c=0;16>c;c+=4){var d=b[c+0],e=b[c+1],f=b[c+2],k=b[c+3],m=d^e^f^k,p=a.xtime[m],u=a.xtime[a.xtime[p^d^f]]^m;m^=a.xtime[a.xtime[p^e^k]];b[c+0]=b[c+0]^u^a.xtime[d^e];b[c+1]=b[c+1]^m^a.xtime[e^f];b[c+2]=b[c+2]^u^a.xtime[f^k];b[c+3]=b[c+3]^m^a.xtime[k^d]}}};return a}(),cryptico=function(){var a=
{};aes.Init();a.b256to64=function(a){var b,d,e="",f=0,k=a.length;for(d=0;d<k;d++){var m=a.charCodeAt(d);0==f?(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(m>>2&63),b=(m&3)<<4):1==f?(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b|m>>4&15),b=(m&15)<<2):2==f&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b|m>>6&3),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(m&63));f+=1;3==
f&&(f=0)}0<f&&(e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b),e+="=");1==f&&(e+="=");return e};a.b64to256=function(a){var b,d="",e=0,f=0,k=a.length;for(b=0;b<k;b++){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(b));0<=m&&(e&&(d+=String.fromCharCode(f|m>>6-e&255)),e=e+2&7,f=m<<e&255)}return d};a.b16to64=function(a){var b,d="";1==a.length%2&&(a="0"+a);for(b=0;b+3<=a.length;b+=3){var e=parseInt(a.substring(b,b+3),16);d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>
6)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e&63)}for(b+1==a.length?(e=parseInt(a.substring(b,b+1),16),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e<<2)):b+2==a.length&&(e=parseInt(a.substring(b,b+2),16),d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((e&3)<<4));0<(d.length&3);)d+="=";return d};a.b64to16=function(a){var b="",
d,e=0,f;for(d=0;d<a.length&&"="!=a.charAt(d);++d)v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(d)),0>v||(0==e?(b+=int2char(v>>2),f=v&3,e=1):1==e?(b+=int2char(f<<2|v>>4),f=v&15,e=2):2==e?(b+=int2char(f),b+=int2char(v>>2),f=v&3,e=3):(b+=int2char(f<<2|v>>4),b+=int2char(v&15),e=0));1==e&&(b+=int2char(f<<2));return b};a.string2bytes=function(a){for(var b=[],d=0;d<a.length;d++)b.push(a.charCodeAt(d));return b};a.bytes2string=function(a){for(var b="",d=0;d<a.length;d++)b+=
String.fromCharCode(a[d]);return b};a.blockXOR=function(a,c){for(var b=Array(16),e=0;16>e;e++)b[e]=a[e]^c[e];return b};a.blockIV=function(){var a=new SecureRandom,c=Array(16);a.nextBytes(c);return c};a.pad16=function(a){var b=a.slice(0),d=(16-a.length%16)%16;for(i=a.length;i<a.length+d;i++)b.push(0);return b};a.depad=function(a){for(a=a.slice(0);0==a[a.length-1];)a=a.slice(0,a.length-1);return a};a.encryptAESCBC=function(b,c){var d=c.slice(0);aes.ExpandKey(d);var e=a.string2bytes(b);e=a.pad16(e);
for(var f=a.blockIV(),k=0;k<e.length/16;k++){var m=e.slice(16*k,16*k+16),p=f.slice(16*k,16*k+16);m=a.blockXOR(p,m);aes.Encrypt(m,d);f=f.concat(m)}d=a.bytes2string(f);return a.b256to64(d)};a.decryptAESCBC=function(b,c){var d=c.slice(0);aes.ExpandKey(d);b=a.b64to256(b);for(var e=a.string2bytes(b),f=[],k=1;k<e.length/16;k++){var m=e.slice(16*k,16*k+16),p=e.slice(16*(k-1),16*(k-1)+16);aes.Decrypt(m,d);m=a.blockXOR(p,m);f=f.concat(m)}f=a.depad(f);return a.bytes2string(f)};a.wrap60=function(a){for(var b=
"",d=0;d<a.length;d++)0==d%60&&0!=d&&(b+="\n"),b+=a[d];return b};a.generateAESKey=function(){var a=Array(32);(new SecureRandom).nextBytes(a);return a};a.generateRSAKey=function(a,c){Math.seedrandom(sha256.hex(a));var b=new RSAKey;b.generate(c,"03");return b};a.publicKeyString=function(b){return pubkey=a.b16to64(b.n.toString(16))};a.publicKeyID=function(a){return MD5(a)};a.publicKeyFromString=function(b){b=a.b64to16(b.split("|")[0]);var c=new RSAKey;c.setPublic(b,"03");return c};a.encrypt=function(b,
c,d){var e="",f=a.generateAESKey();try{var k=a.publicKeyFromString(c);e+=a.b16to64(k.encrypt(a.bytes2string(f)))+"?"}catch(m){return{status:"Invalid public key"}}d&&(signString=cryptico.b16to64(d.signString(b,"sha256")),b+="::52cee64bb3a38f6403386519a39ac91c::",b+=cryptico.publicKeyString(d),b+="::52cee64bb3a38f6403386519a39ac91c::",b+=signString);e+=a.encryptAESCBC(b,f);return{status:"success",cipher:e}};a.decrypt=function(b,c){var d=b.split("?"),e=c.decrypt(a.b64to16(d[0]));if(null==e)return{status:"failure"};
e=a.string2bytes(e);d=a.decryptAESCBC(d[1],e).split("::52cee64bb3a38f6403386519a39ac91c::");if(3==d.length){e=a.publicKeyFromString(d[1]);var f=a.b64to16(d[2]);return e.verifyString(d[0],f)?{status:"success",plaintext:d[0],signature:"verified",publicKeyString:a.publicKeyString(e)}:{status:"success",plaintext:d[0],signature:"forged",publicKeyString:a.publicKeyString(e)}}return{status:"success",plaintext:d[0],signature:"unsigned"}};return a}();var def_conf={application:{name:"Tooterminal",website:"https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{terminal:{logging:{favourite:!0,reblog:!0,mention:!0,following:!0}},status:{}}},config,ins,url_params,acls,term_mode,mode_global,mode_configuration,mode_instance,instance_name,beep_buf,context=new AudioContext,enterCommand=function(a,b){a=a.trim();b.resize(window.innerWidth-36,
window.innerHeight-36);0!==a.length&&!0!==term_mode.execute(a,b)&&b.error(term_mode.result.message)},completion=function(a,b){var c=term_mode.getCompletion(a);1===c.length?$.terminal.active().set_command(term_mode.completion):b(c)},initConfig=function(a){var b=localStorage.getItem("configuration");config=new ConfigManager(def_conf,b?JSON.parse(b):{});url_params={};if(location.search.match(/^\?.+=.+/)){b=location.search.replace(/^\?/,"").split(/[=&]/);for(var c=0;c<b.length;c+=2)url_params[b[c]]=b[c+
1];url_params.hasOwnProperty("code")&&ins.name(url_params.instance_name)?(ins.get().auth_code=url_params.code,a.exec("instance "+ins.name()),history.replaceState("","",location.pathname)):url_params.hasOwnProperty("instance")&&ins.name(url_params.instance)&&a.exec("instance "+ins.name())}},filterKey=function(a,b){if(63===a.charCode){var c=term_mode.information(b.get_command()).map(function(a){return"undefined"===typeof a.command?a:"  "+tab(a.command,a.description,22)});c.unshift(b.get_prompt()+b.get_command()+
"?");c.push("");more(b,c,!0);var d=b.get_command();b.set_command("");setTimeout(function(){b.set_command(d)},10)}},parseCommand=function(a,b){term_mode.parse(a.replace(/\?$/,""))},init_instance=function(a){term_mode=mode_instance;var b=ins.get(),c;config.find(["instances","terminal","auto"])&&(c=config.find(["instances","terminal","monitor"]));url_params.hasOwnProperty("terminal")&&(c=url_params.terminal.match(url_params.terminal));"undefined"!==typeof c&&b.hasOwnProperty("access_token")&&a.exec("terminal monitor "+
c)},exit_instance=function(){term_mode=mode_global;closeTootbox();ins.name("")},count_toot_size=function(){var a=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>a?"#F00":"#bbb").text(a)};
function upload_img(a){var b=new FormData,c=ins.get(),d=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+d));b.append("file",a);$.ajax("https://"+c.domain+"/api/v1/media",{type:"POST",contentType:!1,processData:!1,headers:{Authorization:c.token_type+" "+c.access_token},data:b}).then(function(a,b,c){$("#media_"+d).attr("data-id",a.id).attr("data-url",a.text_url);b=new Image;b.onload=function(){$("#media_"+d).attr("src",a.preview_url);$("#toot_box").val($("#toot_box").val()+
" "+a.text_url);autosize.update($("#toot_box"));count_toot_size()};b.onerror=function(a){console.log(a)};b.src=a.preview_url},function(a,b,c){$.terminal.active().error("Media upload error.("+a.status+")");$("#media_"+d).remove();console.log(a)})}var tl;
$(function(){mode_global=new ModeManager(new GlobalModeElement);mode_configuration=new ModeManager(new ConfigurationModeElement);mode_instance=new ModeManager(new InstanceModeElement);ins=new InstanceManager;term_mode=mode_global;tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:'=== CLI\u753b\u9762\u98a8 \u30de\u30b9\u30c8\u30c9\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 "Tooterminal" ===\n\n\u4f7f\u3044\u65b9\u306f"help"\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f"?"\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n',
login:!1,onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function(a){a.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function(a){return!1},onResume:!1,onCommandChange:parseCommand});$("#toot").on("keydown",function(a){27===a.keyCode?closeTootbox():13===a.keyCode&&a.ctrlKey&&post_status()}).on("paste",function(a){4<=$(".toot_media img").length||"undefined"===typeof a.originalEvent.clipboardData||
"undefined"===typeof a.originalEvent.clipboardData.types||1!==a.originalEvent.clipboardData.types.length||"Files"!==a.originalEvent.clipboardData.types[0]||(a=a.originalEvent.clipboardData.items[0].getAsFile(),upload_img(a))});$("#toot_box").on("dragenter",function(a){console.log(a);a.preventDefault();$("#toot_box").addClass("toot_imghover")}).on("dragover",function(a){console.log(a)}).on("dragleave",function(a){console.log(a);$("#toot_box").removeClass("toot_imghover")}).on("drop",function(a){console.log(a);
a.preventDefault();$("#toot_box").removeClass("toot_imghover");a=a.originalEvent.dataTransfer.files;var b=4-$("#toot_media img").length;b=b<a.length?b:a.length;for(var c=0;c<b;c++)a[c].type.match(/^(video|image)\//)&&upload_img(a[c])});$("#toot_cw").on("keyup",count_toot_size);$("#toot_box").on("keyup",count_toot_size);$("#toot_post").on("click",function(){post_status()});$("#help_close").on("click",function(){$("#help").slideUp("first");$.terminal.active().focus()});$("#reply_close").on("click",
function(a){$("#sid").text("");$("#reply").hide();$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+(?:@(?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+)?\s+/,""))});$(".img_background").on("click",function(){$("#img_view").fadeOut("first");$("#pre_view").fadeOut("first");$("#video_view").fadeOut("first");$(".img_background").fadeOut("first");$.terminal.active().enable()});$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("click",".a_acct",
function(a){term_mode===mode_instance&&(a=$(this).text().match(/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+))|(?:@([a-zA-Z0-9_]+)))/),callAPI("/api/v1/accounts/search",{data:{q:a[0],limit:1}}).then(function(a,c,d){$.terminal.active().exec("show user id "+a[0].id).done(function(){$.terminal.active().exec("show user id "+a[0].id+" statuses limit 3")})}))}).on("mouseover",".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").show()}).on("mouseout",
".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").hide()}).on("click",".status",function(a){if(!$(this).hasClass("status_deleted")){$(this).data("sid");if(a.shiftKey){var b="@"+$(this).data("acct").toString();$(this).find(".status_contents")[0].textContent.replace(new RegExp(b,"g"),"").match(/((?:@([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g);$.terminal.active().disable();
$("#toot").slideDown("first");$("#reply").show();$("#sid").text($(this).data("sid"));$("#reply_head").text("reply to: "+$(this).data("dispname"));$("#reply_body").text($(this).find("#status_contents")[0].textContent);$("#toot_box").focus().val("@"+$(this).data("acct")+" "+$(this).data("reply"));$($(this).find(".status_head i")[2]).hasClass("fa-envelope")&&$("#toot_visibility").val("direct")}a.ctrlKey&&favorite(this);a.altKey&&boost(this)}}).on("dblclick",".status",function(a){$.terminal.active().exec("show status id "+
$(this).data("sid"))}).on("click",".status_contents img",function(a){var b=$(this);$("#pre_view").attr("src",b.attr("src")).fadeIn("first");"gifv"===b.data("type")?(a=$("#video_view")[0],a.src=b.data("url"),a.loop=!0,a.autoplay=!0,a.muted=!0,a.controls=!0,a.oncanplay=function(){$("#pre_view").fadeOut("first")},$("#video_view").fadeIn("first"),$(".img_background").fadeIn("first")):(a=new Image,a.onload=function(){$("#img_view").attr("src",b.data("url"))},a.onerror=function(a){console.log(a)},$(".img_background").fadeIn("first"),
$.terminal.active().disable(),a.src=b.data("url"))}).on("click","[name=cmd_followers]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" followers")}).on("click","[name=cmd_following]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" following")}).on("click","[name=cmd_status_pinned]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" statuses pinned")}).on("keydown",".img_background",function(a){27===a.keyCode&&
$(".img_background").trigger("click")}).on("click",".status_enquete span",function(a){var b=$(a.target).parent(),c=$(a.target).children().index(a.target),d=b.parents(".status");b=Date.now()-Date.parse($(b).data("created"));var e=$.terminal.active();3E4<b?e.error("The vote has expired."):(d="/api/v1/votes/"+$(d).data("sid"),callAPI(d,{type:"POST",data:{item_index:c}}).then(function(b,c,d){b.valid?e.echo("Vote: "+$(a.target).text()):e.error(b.message)},function(a,b,c){console.log(a)}))}).on("click",
".toot_media img",function(a,b,c){$(a.target).remove();$("#toot_box").val($("#toot_box").val().replace($(a.target).data("url"),""))}).on("keydown",function(a){65===a.keyCode&&a.altKey&&term_mode===mode_instance&&"none"===$("#toot").css("display")&&$.terminal.active().exec("toot")});window.onerror=function(a,b,c,d,e){console.log([a,b,c,d,e])};autosize($("#toot_box"))});
function makeStatus(a,b){var c=new Date(a.created_at),d="undefined"!==typeof a.reblog&&null!==a.reblog,e="mention"===a.type,f=d?a.reblog:e?a.status:a;"undefined"===typeof b&&(b=ins.name());var k=ins.get(b);null===f.application?e="":f.application.website?(e=$("<a />").text(f.application.name).attr("href",f.application.website).attr("target","_blank").prop("outerHTML"),e=" via "+e):e=" via "+f.application.name;d=(d?$.terminal.format("[[!i;;]reblogged by "+a.account.display_name+" @"+a.account.acct+
"]")+"<br />":"")+"[ "+("undefined"===typeof f.account.display_name?"":f.account.display_name)+" "+$.terminal.format("[[!;;]@"+f.account.acct+"]")+" "+$("<i />").addClass("fa fa-"+(f.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("direct"===f.visibility?"times-circle-o":f.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===f.visibility?"globe":"unlisted"===f.visibility?
"unlock":"private"===f.visibility?"lock":"direct"===f.visibility?"envelope":"question")).attr("aria-hidden","true").prop("outerHTML")+(f.in_reply_to_id?" "+$($("<i />").addClass("fa fa-mail-reply")).attr("aria-hidden","true").prop("outerHTML")+" ":"")+" "+c.getFullYear()+"-"+("0"+(c.getMonth()+1)).slice(-2)+"-"+("0"+c.getDate()).slice(-2)+" "+("0"+c.getHours()).slice(-2)+":"+("0"+c.getMinutes()).slice(-2)+":"+("0"+c.getSeconds()).slice(-2)+"."+("00"+c.getMilliseconds()).slice(-3)+" ]"+e;c="";if(0<
f.mentions.length){for(e=0;e<f.mentions.length;e++)c+="@"+f.mentions[e].acct+" ";c=c.replace("@"+k.user.acct+" ","")}e=$("<td />").addClass("status_avatar");if("undefined"!==typeof config.find("instances.status.avatar")){var m=f.account.avatar_static;e.append($("<img />").attr("name","img_"+f.account.id).attr("src",m));m.match(/^http/)||(m="https://"+k.domain+m);var p=new Image;p.onload=function(){$("[name=img_"+f.account.id+"]").attr("src",m)};p.onerror=function(a){console.log(a)};p.src=m}else e.hide();
if("undefined"!==typeof f.enquete&&null!==f.enquete){var u=JSON.parse(f.enquete);question=u.question.replace(/^(?:<p>)?(.*?)(?:<\/p>)?$/g,"<p><span>$1"+("enquete"===u.type?"(\u56de\u7b54\u67a0)":"(\u7d50\u679c)")+"</span></p>");p=$("<div />").append(question);for(var n=$("<div />").addClass("status_"+u.type).attr("data-created",f.created_at),x=0;x<u.items.length;x++)"enquete"===u.type?n.append($("<span />").html(u.items[x])):n.append($("<span />").append($("<span />").addClass("progress ratio").text(u.ratios[x]+
"%")).append($("<span />").addClass("progress item").text(u.items[x])).append($("<span />").addClass("proceed").css("width",u.ratios[x].toString()+"%")));p.append(n)}else p=f.content,p.match(/^<.+>$/)&&(p=p.replace(/<p>(.*?)<\/p>/g,"<p><span>$1</span></p>"));if(0<f.media_attachments.length){var C=$("<div />").addClass("status_thumbnail");f.media_attachments.forEach(function(a,b,c){var d=a.preview_url.match(/^https?:\/\//)?a.preview_url:"https://"+k.domain+a.preview_url;b=a.remote_url?a.remote_url:
a.url;var e="media_"+a.id;C.append($("<img />").attr("id",e).attr("src",d).attr("data-url",b).attr("data-type",a.type));a=new Image;a.onload=function(){$("#"+e).attr("src",d)};a.onerror=function(a){console.log(a)};a.src=d});"undefined"===typeof config.find("instances.status.thumbnail")&&C.hide()}u=$("<div />").addClass("status_contents").attr("id","status_contents");if(f.sensitive){var B=$("<div />");0<f.spoiler_text.length?(u.append($.terminal.format(f.spoiler_text)),B.append(p)):u.append(p);"undefined"!==
typeof C&&B.append(C)}else 0<f.spoiler_text.length?(u.append($.terminal.format(f.spoiler_text)),B=$("<div />"),B.append(p)):u.append(p),"undefined"!==typeof C&&u.append(C);"undefined"!==typeof B&&u.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(B.hide());B=$("<td />").addClass("status_main").append($("<div />").addClass("status_head").html($.terminal.format(d))).append(u);B=$("<table />").attr("name","id_"+f.id).attr("data-sid",f.id).attr("data-instance",
b).attr("data-uid",f.account.id).attr("data-dispname",f.account.display_name).attr("data-acct",f.account.acct).attr("data-fav",f.favorited?"1":"0").attr("data-reb",f.reblogged?"1":"0").attr("data-reply",c).addClass("status").append(e).append(B);if(ins.acls.hasOwnProperty(b))for(var Q in ins.acls[b])if(c=ins.acls[b][Q],B.text().match(c.regexp)){if("permit"===c.type)B.addClass("status_"+c.color);else if("deny"===c.type)return"";break}config.find("instances.status.separator")&&B.append('<tr><td colspan="2"><span>'+
Array($.terminal.active().cols()-5).join("-")+"</span></td></tr>");return B.prop("outerHTML")}
function make_notification(a,b){var c="reblog"===a.type&&b.reblog,d="follow"===a.type&&b.following,e="mention"===a.type&&b.mention,f="";if("favourite"===a.type&&b.favourite||c||d||e)c=a.status?$.terminal.escape_brackets($(a.status.content).text()):"(Status was deleted)",100<c.length&&(c=c.slice(0,100)+" ..."),f="Notification! : "+a.type+" << "+a.account.display_name+" "+$.terminal.format("[[!;;]@"+a.account.acct+"]")+"<br />"+(a.status?c:""),f=$("<span />").html(f).addClass("status_notify").prop("outerHTML"),
"mention"===a.type&&(f+=makeStatus(a));return f}
function post_status(){var a=$("#toot_box").val().trim(),b=$("#toot_cw").val().trim(),c=$("#toot_visibility").val();c={status:a,visibility:c};var d=ins.get(),e=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===a.length||0>e||"undefined"===typeof d&&"undefined"===typeof d.access_token)return!1;0!==b.length&&(c.spoiler_text=b);a=$(".reply #sid").text();""!==a&&(c.in_reply_to_id=a);c.media_ids=[];a=$("#toot_media img");for(b=0;b<a.length;b++)c.media_ids.push($(a[b]).data("id"));return $.ajax({url:"https://"+
d.domain+"/api/v1/statuses",type:"POST",headers:{Authorization:d.token_type+" "+d.access_token},data:c,timeout:5E3}).then(function(a,b,c){a=config.find("instances.visibility");"undefined"===typeof a&&(a="public");$("#toot_cw").val("");$("#toot_visibility").val(a);$("#reply_close").trigger("click");$("#toot_media").html("");$("#toot_box").val("").trigger("keyup").focus();autosize.update($("#toot_box"))},function(a,b,c){$.terminal.active().error("Toot post error.("+a.status+")");console.log(a)})}
function reduce_status(){for(var a=$(".status").parent().parent(),b=a.length-200,c=0;c<b;c++)$(a[c]).remove()}
function callAPI(a,b){b=void 0===b?{}:b;var c="undefined"===typeof b.instance_name?ins.get():ins.get(b.instance_name);"undefined"===typeof a?(c=new $.Deferred,c.reject("Undefined path")):"undefined"===typeof c?(c=new $.Deferred,c.reject("No instance")):"undefined"===typeof c.access_token?(c=new $.Deferred,c.reject("No login")):c=$.ajax({url:"https://"+c.domain+a,type:"undefined"!==typeof b.type?b.type:"GET",headers:{Authorization:c.token_type+" "+c.access_token},data:typeof b.data?b.data:"",dataType:"json",
timeout:5E3}).done(function(a,b,c){return c}).fail(function(c,e,f){term_error("API Request Error",{path:a,opts:b});return c});return c}
function favorite(a,b){var c=1==$(a).data("fav"),d="/api/v1/statuses/"+$(a).data("sid").toString()+(c?"/unfavourite":"/favourite");"undefined"===typeof b&&(b=$.terminal.active());$($(a).find("i")[0]).removeClass().addClass("fa fa-spinner fa-pulse");callAPI(d,{instance_name:$(a).data("instance"),type:"POST"}).then(function(d,f,k){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[0]).removeClass().addClass("fa fa-"+(d.favourited?"star":"star-o"));$(b).data("fav",d.favourited?
"1":"0")});c===d.favourited&&b.error("favourited missed...")},function(b,d,k){$.terminal.active().error("Favorite failed.("+b.status+")");$($(a).find("i")[0]).removeClass().addClass("fa fa-"+(c?"star":"star-o"));console.log(b)})}function closeTootbox(){$("#sid").text("");$("#reply").hide();$("#toot_box").val("");$("#toot").slideUp("first");$.terminal.active().enable()}
function boost(a){if(!$($(a).find("i")[1]).hasClass("fa-times-circle-o")){var b=1==$(a).data("reb"),c="/api/v1/statuses/"+$(a).data("sid").toString()+(b?"/unreblog":"/reblog");"undefined"===typeof term&&(term=$.terminal.active());$($(a).find("i")[1]).removeClass().addClass("fa fa-spinner fa-pulse");callAPI(c,{instance_name:$(a).data("instance"),type:"POST"}).then(function(c,e,f){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[1]).removeClass().addClass("fa fa-"+
(c.reblogged?"check-circle-o":"retweet"));$(b).data("reb",c.reblogged?"1":"0")});b===c.reblogged&&term.error("reblogged missed...")},function(c,e,f){$.terminal.active().error("Reblogged failed.("+c.status+")");$($(a).find("i")[1]).removeClass().addClass("fa fa-"+(b?"check-circle-o":"retweet"));console.log(c)})}}function tab(a,b,c){var d=escape(a).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x").length;for(a=c<=d?a.substr(0,c-4)+"... ":a;d<c;d++,a+=" ");return a+b}
String.prototype.addTab=function(a,b){return tab(a,this,b)};
function term_error(a,b){var c=new Date,d=localStorage.getItem("configuration"),e=localStorage.getItem("term_error");e=e?JSON.parse(e):[];d=d?d:{};var f="object"===typeof b?JSON.parse(JSON.stringify(b)):b?b:{};c=JSON.stringify({running_config:config.config,startup_config:d,default_config:config["default"],instances:ins.instances,status:{message:a,created_at:c.getTime()},params:f});e.push(JSON.parse(c));5<e.length&&e.shift();localStorage.setItem("term_error",JSON.stringify(e))}
function OutputText(a,b){var c=new Blob(["\ufeff",a]);navigator.msSaveBlob?navigator.msSaveOrOpenBlob(c,b):(c=$("<a />").attr("href",URL.createObjectURL(c)).attr("download",b).attr("target","_blank"),$("body").append(c),c[0].click(),c.remove())}
function more(a,b,c){var d=a.rows(),e=a.get_command(),f=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.echo(b.slice(f,f+d).join("\n"));f+=d;f>b.length&&(a.pop(),c&&a.set_command(e));a.resume()},keydown:function(a,m){switch(a.keyCode){case 81:m.pop();c&&m.set_command(e);break;case 13:m.echo(b.slice(f,f+1).join("\n"));f++;f>b.length&&(m.pop(),c&&m.set_command(e));break;default:m.echo(b.slice(f,f+d).join("\n")),f+=d,f>b.length&&(m.pop(),c&&m.set_command(e)),m.set_command("")}return!1}})}
function begin(a,b,c,d){var e;for(e=0;e<b.length&&!b[e].match(d);e++);more(a,b.slice(e),c,d)}function include(a,b,c,d){for(var e=[],f=0;f<b.length;f++)b[f].match(d)&&e.push(b[f]);more(a,e,c)}function exclude(a,b,c,d){for(var e=[],f=0;f<b.length;f++)b[f].match(d)||e.push(b[f]);more(a,e,c)};var ModeManager=function(){function a(a){this.element=a;this.dataset=a.dataset;this.parse("")}a.prototype.execute=function(a,c){var b=this.parse(a);return b.is_parsed?"1001"==b.code?!0:""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"!==typeof b.cmd_list[0].execute?(console.log("ElementError: Undefined execution function."),12034):b.cmd_list[0].execute(c,this):(console.log("AnalyzeError: "+b.message),b.code)};a.prototype.getCompletion=function(a){a=
this.result.cmd_list;for(var b=[],d=0;d<a.length;d++)b.push("paramater"==a[d].type?"<"+a[d].name+">":"number"==a[d].type?"["+a[d].name+"]":a[d].name);return b};a.prototype.information=function(a){var b=this.parse(a).cmd_list;a=["Exec commands:"];for(var d,e=0;e<b.length;e++){if("paramater"==b[e].type)d="<"+b[e].name+">";else if("number"==b[e].type){d=parseInt(b[e].max);var f=parseInt(b[e].min);d="<"+(isNaN(f)?"":f)+"-"+(isNaN(d)?"":d)+">"}else d=b[e].name;a.push({command:d,description:b[e].description})}b=
this.line_parsed[this.line_parsed.length-1];"undefined"!==typeof b&&"function"===typeof b.execute&&"paramater"!==b.type&&"number"!==b.type&&(2===a.length&&a.pop(),a.push({command:"<cr>",description:""}));return a};a.prototype.parse=function(a,c){void 0===c&&(c=0);this.line=a;this.line_parsed=[];this.is_parsed=!0;this.err_code=0;this.err_msg="";this.position=c;this.completion="";this.cmd_list=this.dataset;this.paramaters={};this.optional={};var b,e="",f="";if(0>=a.length)return this.result;if(a.match(/^\s*!/))return this.is_parsed=
!0,this.err_code=4097,this.err_msg="comment",this.result;for(b=this.position;b<=a.length;b++){var k=a.charAt(b);if(" "===k&&""===f){for(e="";k=a.charAt(++b)," "===k&&""!==k;);this.completion=a.substring(0,b);if(1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===typeof this.cmd_list[0].children?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938;this.err_msg='% Ambiguous command:  "'+this.line+'"';break}}e+=k;f=(f=e.match(/^(?:(')[^']+|(")[^"]+)$/))?
f[1]?"'":f[2]?'"':"":"";k=[];for(var m=0;m<this.cmd_list.length;m++)if("command"===this.cmd_list[m].type)this.cmd_list[m].name.match(new RegExp("^"+e,"i"))&&k.push(this.cmd_list[m]);else if("number"===this.cmd_list[m].type){var p=parseInt(e),u=parseInt(this.cmd_list[m].max),n=parseInt(this.cmd_list[m].min);0===e.length?(this.cmd_list[m].param=parseInt(e),k.push(this.cmd_list[m])):isNaN(p)||!isNaN(u)&&u<p||!isNaN(n)&&n>p||(this.cmd_list[m].param=parseInt(e),k.push(this.cmd_list[m]))}else if("paramater"===
this.cmd_list[m].type)this.cmd_list[m].param=e.replace(/^["']?(.*?)["']?$/,"$1"),k.push(this.cmd_list[m]);else if("description"===this.cmd_list[m].type){if(1===this.cmd_list.length){b=a.length;break}}else return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[m].type+"'",this.result;this.cmd_list=k;if(0===this.cmd_list.length){this.is_parsed=!1;this.err_code=7937;for(e="";e.length<b;e+=" ");e+=$.terminal.active().get_prompt().replace(/\S/g," ");this.err_msg=e+"^\n% Invalid input detected at '^' marker.";
this.cmd_list=[];break}}this.position=b;if(1===this.cmd_list.length)for(this.line_parsed.push(this.cmd_list[0]),"undefined"===typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command."),b=0;b<this.line_parsed.length;b++){if("paramater"===this.line_parsed[b].type||"number"===this.line_parsed[b].type)this.paramaters[this.line_parsed[b].name]=this.line_parsed[b].param;this.line_parsed[b].hasOwnProperty("optional")&&(this.optional[this.line_parsed[b].optional]=
!0)}this.completion=1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+(this.cmd_list[0].name+" "):this.line;return this.result};Object.defineProperty(a.prototype,"func_name",{get:function(){if(0!==this.err_code)return"";var a=this.line_parsed[this.line_parsed.length-1];return"undefined"===typeof a.execute?"":a.execute},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"result",{get:function(){return{is_parsed:this.is_parsed,cmd_list:this.cmd_list,code:this.err_code.toString(16),
message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0});a.prototype.debug=function(){console.log("**************************************************");console.log("===== line");console.log(this.line);console.log("===== line_parsed");console.log(this.line_parsed);console.log("===== is_parsed");console.log(this.is_parsed);console.log("===== err_code");console.log(this.err_code.toString(16));console.log("===== err_msg");console.log(this.err_msg);console.log("===== line.length");
console.log(this.line.length);console.log("===== position");console.log(this.position);console.log("===== completion");console.log(this.completion);console.log("===== dataset");console.log(this.dataset);console.log("===== cmd_list");console.log(this.cmd_list)};return a}(),ConfigManager=function(){function a(a,c){this["default"]=JSON.parse(JSON.stringify(a));this.config=c?c:a;this.config=Object.assign(a,this.config)}a.prototype.find=function(a){"string"===typeof a&&(a=a.split("."));if(Array.isArray(a)){for(var b=
this.config,d=0;d<a.length;d++)if("undefined"!==typeof b[a[d]])b=b[a[d]];else{b=void 0;break}if("undefined"!==typeof b)return b;b=this["default"];for(d=0;d<a.length&&(b=b[a[d]],"undefined"!==typeof b);d++);return b}};a.prototype.write=function(a,c){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,e,f=0;f<a.length-1;f++)e=a[f],"undefined"===typeof b[e]&&(b[e]={}),b=b[e];e=a.pop();b[e]=c;return!0};a.prototype.erase=function(a){"string"===typeof a&&(a=a.split("."));
if(!Array.isArray(a))return!1;for(var b=this.config,d,e=0;e<a.length-1;e++){d=a[e];if("undefined"===typeof b[d])return!0;b=b[d]}d=a.pop();delete b[d];return!0};return a}(),InstanceManager=function(){function a(){var a=localStorage.getItem("instances");a?(this.instances=JSON.parse(a),this.parse_acl()):this.instances={};this.ins=void 0;this._name=""}a.prototype.parse_acl=function(){this.acls={};for(var a in this.instances)if(this.acls[a]={},this.instances[a].hasOwnProperty("acl"))for(var c in this.instances[a].acl){var d=
this.instances[a].acl[c],e=d.color?d.color:"dark-blue",f=d.regexp,k=f.match(/^\/(.+)\/([igym]*)$/);this.acls[a][c]={type:d.type,regexp:k?new RegExp(k[1],k[2]):new RegExp(f),color:e}}};a.prototype.name=function(a){"string"===typeof a&&(this._name=a,this.ins=this.instances[a]);return this._name};a.prototype.save=function(){var a=JSON.stringify(this.instances);localStorage.setItem("instances",a);return!0};a.prototype.get=function(a){return"undefined"===typeof a?this.ins:this.instances[a]};a.prototype.set=
function(a,c){"undefined"===typeof c&&(c=this.name());if(!c)return!1;this.ins=this.instances[c]=a;this.save()};a.prototype["delete"]=function(a){"undefined"===typeof a&&(a=this._name);if(result=delete this.instances[a])this._name="",this.ins=void 0;this.save();return result};a.prototype.create=function(a){this.instances.hasOwnProperty(a)||(this.instances[a]={},this.name(a));return this.instances[a]};return a}();var GlobalModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5b9a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-config",description:"\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-config",description:"\u4fdd\u5b58\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",
execute:this.show_startup_config},{type:"command",name:"version",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73fe\u5728\u6642\u523b\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_clock},{type:"command",name:"tech-support",description:"\u30b5\u30dd\u30fc\u30c8\u554f\u3044\u5408\u308f\u305b\u7528\u30ec\u30dd\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u51fa\u529b\u3057\u307e\u3059\u3002",
execute:this.show_tech,children:[{type:"command",name:"encrypt",optional:"encrypt",description:"\u30d5\u30a1\u30a4\u30eb\u3092\u6697\u53f7\u5316\u3057\u307e\u3059\u3002",execute:this.show_tech}]}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002",execute:this.entry_instance}]},
{type:"command",name:"delete",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d",execute:this.delete_instance}]}]},{type:"command",name:"configure",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",children:[{type:"command",name:"terminal",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",
execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"write",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory,children:[{type:"command",
name:"memory",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"display-size",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u30b5\u30a4\u30ba\u3092\u81ea\u52d5\u8abf\u6574\u3057\u307e\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30d8\u30eb\u30d7\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.help}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",
{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.show_running_config=function(a,c){var b=JSON.stringify(config.config,null,"    ");a.echo(b);return!0};a.prototype.show_startup_config=function(a,c){var b;(b=localStorage.getItem("configuration"))?(b=JSON.parse(b),b=JSON.stringify(b,null,"    ")):b="startup-config is not present";a.echo(b);return!0};a.prototype.show_version=function(a,c){var b=new Date("2017-9-21");a.echo("Mastodon Client Tooterminal, Version 0.4.0, RELEASE SERVICE(Beta)");
a.echo("Technical Support: https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md");a.echo("Copyright (c) 2017 by Gusk-ma(Shiroma)");a.echo("Updated "+b.toDateString()+" by shiroma@mstdn.jp");a.echo("<br>",{raw:!0});a.echo("Powered by:");a.echo("jQuery ("+$.fn.jquery+")");a.echo("https://jquery.org");a.echo("jQuery Terminal Emulator Plugin ("+$.terminal.version+")");a.echo("http://terminal.jcubic.pl");a.echo("autosize (4.0.0)");a.echo("http://www.jacklmoore.com/autosize");a.echo("cryptico");
a.echo("http://wwwtyro.github.io/cryptico/");a.echo("<br>",{raw:!0});a.echo("License info:");a.echo("Tooterminal, jQuery, jQuery Terminal Emulator Plugin, autosize is licensed by MIT LICENSE");a.echo("https://tldrlegal.com/license/mit-license");return!0};a.prototype.reset_display_size=function(a,c){a.resize(window.innerWidth-36,window.innerHeight-36);return!0};a.prototype.show_instance_statistics=function(a,c){var b=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],
e=0,f;for(f in ins.instances){var k=ins.get(f);b.push(("| "+("undefined"!==typeof k.user?"@"+k.user.username:"")).addTab("|  "+(k.application.scopes.read?"r":"-")+(k.application.scopes.write?"w":"-")+(k.application.scopes.follow?"f":"-"),8).addTab("| "+k.domain,30).addTab(f,10));e++}b.push("--------------------------------------------------------------------");b.push(" \u767b\u9332\u4ef6\u6570: "+e+"\u4ef6");b.push("");a.echo(b.join("\n"));return!0};a.prototype.show_instance_detail=function(a,c){var b=
ins.name(c.paramaters.instance_name),e=ins.get();if(!e)return a.error("instance has no regist"),!1;b=["Instance",tab("Name:",b,15),tab("Domain:",e.domain,15),"","Application",tab("Client Name:",e.application.name,17),tab("Client ID:",e.client_id,17),tab("Client Secret:",e.client_secret,17),tab("Website:",e.application.website,17),tab("Redirect URI:",e.application.uris,17),tab("Read:",e.application.scopes.read,17),tab("Write:",e.application.scopes.write,17),tab("Follow:",e.application.scopes.follow,
17),"","Autheorized user",tab("Access Token:",e.access_token,20),tab("Monitor defaults:",e.monitor,20),tab("User Account:","@"+e.user.acct,20),tab("User ID:",e.user.id,20)];more(a,b,!0);return!0};a.prototype.entry_instance=function(a,c){ins.name(c.paramaters.instance_name);var b=ins.get();if("undefined"===typeof b)ins.create(c.paramaters.instance_name),a.push(regist_instance,{prompt:"Input instance domain: "});else if(b.hasOwnProperty("auth_code"))a.pause(),$.ajax({url:"https://"+b.domain+"/oauth/token",
type:"POST",dataType:"json",data:{grant_type:"authorization_code",client_id:b.client_id,client_secret:b.client_secret,code:b.auth_code,redirect_uri:b.application.uris}}).then(function(a,c,d){b.access_token=a.access_token;b.token_type=a.token_type;delete b.auth_code;ins.save();return callAPI("/api/v1/accounts/verify_credentials")},function(c,d,e){a.error("User token updating error.("+c.status+")");delete b.auth_code;console.log(c)}).then(function(c,d,e){a.echo("Hello! "+c.display_name+" @"+c.username);
b.user=c;ins.save();a.resume();c=b.user.username;c+="@"+b.domain+"# ";a.push(enterCommand,{name:"instance",prompt:c,onStart:init_instance,onExit:exit_instance,exit:!1})},function(c,d,e){d="@"+b.domain+"# ";console.log(c);a.error("Getting user status failed.("+c.status+")");a.resume();a.push(enterCommand,{name:"instance",prompt:d,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:exit_instance,exit:!1})});else if(b.hasOwnProperty("access_token"))a.pause(),callAPI("/api/v1/accounts/verify_credentials").then(function(c,
d,e){a.echo("Hello! "+c.display_name+" @"+c.username);b.user=c;ins.save();a.resume();c=b.user.username;c+="@"+b.domain+"# ";delete b.auth_code;a.push(enterCommand,{name:"instance",prompt:c,onStart:init_instance,onExit:exit_instance,exit:!1})},function(b,c,d){console.log(b);a.error("Getting user status failed.("+b.status+")");a.resume()});else{var e="@"+b.domain+"# ";a.echo("Enter 'login' and regist your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:e,onStart:function(a){term_mode=
mode_instance;a.exec("login")},onExit:exit_instance,exit:!1})}return!0};a.prototype.delete_instance=function(a,c){var b=ins.name(c.paramaters.instance_name),e=ins.get(),f='Instance "'+b+'" registration will delete! Continue? [confirm]';if("undefined"===typeof e)return a.error("no instance registration."),!1;a.push(function(b){ins["delete"]();a.echo("[OK]");a.echo("Erase of instance: complete");a.pop()},{prompt:f,keypress:function(a,b){b.set_command("");b.echo(f+a.key);b.echo("File system erase is not confirmed or Could not be completed");
b.pop()}});return!0};a.prototype.configure_terminal=function(a,c){a.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",onStart:function(){term_mode=mode_configuration},onExit:function(){term_mode=mode_global},exit:!0});return!0};a.prototype.write_memory=function(a,c){var b=localStorage;a.echo("Building configuration...");b.setItem("configuration",JSON.stringify(config.config));a.echo("[OK]");return!0};a.prototype.write_erase=function(a,c){a.push(function(b){localStorage.removeItem("configuration");
a.echo("[OK]");a.echo("Erase of nvram: complete");a.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",keypress:function(a,b){b.set_command("");b.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}})};a.prototype.reload=function(a,c){location.reload();return!0};a.prototype.clear=function(a,c){a.clear();return!0};a.prototype.show_clock=
function(a,c){a.echo(Date().toString());return!0};a.prototype.show_tech=function(a,c){var b=localStorage.getItem("configuration");b=b?JSON.parse(b):{};var e=new Date,f=localStorage.getItem("term_error");f=f?JSON.parse(f):[];b=JSON.stringify({running_config:config.config,startup_config:b,default_config:config["default"],instances:ins.instances,status:{created_at:e.getTime(),location:location.href},errors:f});e="tech-support_"+e.getFullYear()+("0"+(e.getMonth()+1)).substr(-2)+("0"+e.getDate()).substr(-2)+
("0"+e.getHours()).substr(-2)+("0"+e.getMinutes()).substr(-2)+("0"+e.getSeconds()).substr(-2)+".txt";if(c.optional.encrypt){f=[];for(b=encodeURIComponent(b);b.length;){var k=b.slice(0,30);k=cryptico.encrypt(k,"fxDuMgvOBYwvpkQvZ++boTmicqo3IqvJh/WsYw6IH1ClLowIn/7vm5DJiJKcU+OTRQgwp1KZuq1bZqam/OG3n1xEo7n/i4YJ38TtGUbdBdcxzKSx5xNP/CRtHrdMCbnKV8DxFocPM2GnCl7xvGbfFumEtSiCkCgODuGDQhz9xIRKgsI/VGgPlKzgAUT0tJaaSQeCSRtE3B0DZqZkXJChlGy+tpeytIokT9dGVdOLVe/DdgL/JpIjjgeBqul9T56BtFbrawUhv8CSoDPbLT4UxZ7qLKao/X5xd+cLQ031FnKxhhSz2/YUuoL2QM5qxZfVt/bSYAjy6ZtXwHY9UOXtOw==");
f.push(k.cipher);b=b.slice(30)}b=f.join("\n")}OutputText(b,e);return!0};a.prototype.help=function(a,c){$("#help").slideDown("first");a.disable();$(document).on("keydown.help",function(a){27===a.keyCode&&$("#help_close").trigger("click")});return!0};return a}(),cnt,regist_instance=function(a,b){a=a.trim();if(!a.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/))b.error("domain couldn't unrecognize");else if(0<a.length){b.pause();var c="https://"+a+"/api/v1/apps",d=location.origin+
location.pathname,e=d.match(/^https?:\/\/([^\/:]+)(?::(\d+))?/),f=e&&!e[1].match(/(?:\d+\.){3}\d+$/);f||(d="urn:ietf:wg:oauth:2.0:oob");var k={client_name:config.find("application.name"),redirect_uris:d,website:config.find("application.website"),scopes:(config.find("application.scopes.read")?"read ":"")+(config.find("application.scopes.write")?"write ":"")+(config.find("application.scopes.follow")?"follow":"")};$.ajax({url:c,dataType:"json",type:"POST",data:k}).then(function(c,d,e){console.log(ins);
d=c.redirect_uri;ins.name();f&&(d+="?instance_name="+instance_name);var k=config.find("instances");k.client_id=c.client_id;k.client_secret=c.client_secret;k.domain=a;k.application=config.find("application");k.application.uris=d;var m="@"+k.domain+"# ";b.echo("New instance registed. enter 'login' and regist your access_token");ins.set(k);b.resume();b.push(enterCommand,{name:"instance",prompt:m,onStart:function(a){term_mode=mode_instance;m="@"+k.domain+"# ";k.hasOwnProperty("user")?(m=k.user.username+
m,a.set_prompt(m)):a.exec("login")},onExit:function(){term_mode=mode_global;ins.name("")},exit:!1})},function(d,e,f){e='Failed to connect the instance "'+a+'"';b.error(e);term_error(e,{path:c,opts:k,jqxhr:d});b.resume()})}b.pop()};var ConfigurationModeElement=function(){function a(){this._cmd_mode="configuration";this._dataset=[{type:"command",name:"application",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u767b\u9332\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d",
execute:this.set_paramater}]},{type:"command",name:"website",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3Web\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"URL",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"read",description:"\u8aad\u307f\u53d6\u308a",execute:this.set_default},
{type:"command",name:"write",description:"\u66f8\u304d\u8fbc\u307f",execute:this.set_default},{type:"command",name:"follow",description:"\u30d5\u30a9\u30ed\u30fc",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",
name:"posts",min:1,max:40,description:"\u8868\u793a\u4ef6\u6570(\u30c7\u30d5\u30a9\u30eb\u30c820)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",
description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},
{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u306e\u53d6\u5f97\u6570\u306b\u3064\u3044\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"number",max:100,min:0,description:"\u53d6\u5f97\u6570(\u521d\u671f\u502420)",execute:this.set_number}]},{type:"command",name:"auto",description:"\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001terminal monitor\u3092\u81ea\u52d5\u767a\u884c\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_object,children:[{type:"command",name:"animation",description:"\u5e38\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",
name:"mouseover",description:"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_true},{type:"command",name:"separator",description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"public",description:"\u516c\u958b",execute:this.set_command},{type:"command",name:"unlisted",description:"\u672a\u53ce\u8f09",execute:this.set_command},{type:"command",name:"private",description:"\u975e\u516c\u958b",execute:this.set_command},{type:"command",name:"direct",description:"\u30c0\u30a4\u30ec\u30af\u30c8",execute:this.set_command}]}]},
{type:"command",name:"no",description:"\u8a2d\u5b9a\u306e\u524a\u9664\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u884c\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",
execute:this.set_false,children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",
execute:this.set_false},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false}]}]},{type:"command",name:"broadcast-to",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",
name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"separator",
description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default}]}]}]},{type:"command",name:"exit",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",
execute:this.exit_configuration}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.set_paramater=function(a,c){for(var b=[],e=0;e<c.line_parsed.length-1;e++)b.push(c.line_parsed[e].name);return config.write(b,c.paramaters.string)};a.prototype.set_default=function(a,c){"no"===c.line_parsed[0].name&&c.line_parsed.shift();
for(var b=[],e=0;e<c.line_parsed.length-1;e++)b.push(c.line_parsed[e].name);return config.erase(b)};a.prototype.set_number=function(a,c){var b=parseInt(c.paramaters.number);return config.write(["instances","terminal","length"],b)};a.prototype.set_true=function(a,c){"no"===c.line_parsed[0].name&&c.line_parsed.shift();for(var b=[],e=0;e<c.line_parsed.length;e++)b.push(c.line_parsed[e].name);return config.write(b,!0)};a.prototype.set_false=function(a,c){"no"===c.line_parsed[0].name&&c.line_parsed.shift();
for(var b=[],e=0;e<c.line_parsed.length;e++)b.push(c.line_parsed[e].name);return config.write(b,!1)};a.prototype.set_command=function(a,c){for(var b=[],e=0;e<c.line_parsed.length-1;e++)b.push(c.line_parsed[e].name);return config.write(b,c.line_parsed.pop().name)};a.prototype.set_object=function(a,c){for(var b=[],e=0;e<c.line_parsed.length;e++)b.push(c.line_parsed[e].name);return"object"===typeof config.find(b)?!0:config.write(b,{})};a.prototype.set_broadcast=function(a,c){a.echo("executed!");return!0};
a.prototype.exit_configuration=function(a,c){a.pop();return!0};return a}();var ws=[],InstanceModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"toot",description:"\u66f8\u304d\u8fbc\u307f\u3092\u6295\u7a3f\u3057\u307e\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot},{type:"command",name:"unlisted",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u672a\u53ce\u8f09" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',
execute:this.toot},{type:"command",name:"private",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u975e\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot}]},{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"access-list",description:"\u6b63\u898f\u8868\u73fe\u30d5\u30a3\u30eb\u30bf\u30fc\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_acl},{type:"command",name:"user",description:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_user,children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",children:[{type:"number",name:"userid",min:1,max:9999999,description:"\u30e6\u30fc\u30b6ID",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",
children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",
name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows}]}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",
children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",
name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows}]}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance},{type:"command",name:"authentication",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_authentication},
{type:"command",name:"timeline",description:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]}]},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",
execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0",children:[{type:"paramater",name:"tag_name",description:"\u30bf\u30b0\u540d",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",
children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]}]},{type:"command",name:"notifications",description:"\u901a\u77e5\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_notifications,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u901a\u77e5\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u901a\u77e5\u6570(\u521d\u671f\u502420)",execute:this.show_notifications}]}]}]},
{type:"command",name:"statuses",description:"\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"id",description:"\u30c8\u30a5\u30fc\u30c8ID\u3092\u6307\u5b9a",children:[{type:"number",name:"status_id",min:1,max:9999999999,description:"\u30c8\u30a5\u30fc\u30c8ID",execute:this.show_status_id}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_statuses}]}]},{type:"command",name:"search",description:"\u30e6\u30fc\u30b6\u30fc\u691c\u7d22\u3092\u884c\u3044\u307e\u3059",
children:[{type:"paramater",name:"query",description:"\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",execute:this.search_query}]},{type:"command",name:"login",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30ed\u30b0\u30a4\u30f3\u3092\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u66f4\u65b0\u3057\u307e\u3059",execute:this.login},{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",
execute:this.terminal_monitor,optional:"on_monitor",children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.terminal_monitor,children:[]}]}]},{type:"command",
name:"no",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"no_monitor",children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"monitor",description:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",
children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.monitor,children:[]}]}]},{type:"command",name:"access-list",description:"\u6b63\u898f\u8868\u73fe\u30d5\u30a3\u30eb\u30bf\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"acl_num",description:"ACL\u756a\u53f7",
min:1,max:99,children:[{type:"command",name:"deny",description:"\u975e\u8868\u793a\u306b\u3059\u308b\u30c8\u30a5\u30fc\u30c8",children:[{type:"paramater",name:"regular_expression",description:"\u6b63\u898f\u8868\u73fe\u6587\u5b57\u5217",execute:this.set_acl}]},{type:"command",name:"permit",description:"\u5f37\u8abf\u3059\u308b\u30c8\u30a5\u30fc\u30c8",children:[{type:"paramater",name:"regular_expression",description:"\u6b63\u898f\u8868\u73fe\u6587\u5b57\u5217",execute:this.set_acl,children:[{type:"command",
name:"color",description:"\u80cc\u666f\u8272\u3092\u8a2d\u5b9a\u3057\u307e\u3059",children:[{type:"command",name:"red",optional:"is_color",description:"\u8d64\u8272",execute:this.set_acl},{type:"command",name:"green",optional:"is_color",description:"\u7dd1\u8272",execute:this.set_acl},{type:"command",name:"blue",optional:"is_color",description:"\u9752\u8272",execute:this.set_acl},{type:"command",name:"yellow",optional:"is_color",description:"\u9ec4\u8272",execute:this.set_acl},{type:"command",name:"purple",
optional:"is_color",description:"\u7d2b\u8272",execute:this.set_acl},{type:"command",name:"cyan",optional:"is_color",description:"\u6c34\u8272",execute:this.set_acl},{type:"command",name:"dark-red",optional:"is_color",description:"\u6fc3\u8d64\u8272",execute:this.set_acl},{type:"command",name:"dark-blue",optional:"is_color",description:"\u7d3a\u8272",execute:this.set_acl},{type:"command",name:"dark-green",optional:"is_color",description:"\u6df1\u7dd1\u8272",execute:this.set_acl},{type:"command",name:"dark-yellow",
optional:"is_color",description:"\u5c71\u5439\u8272",execute:this.set_acl},{type:"command",name:"dark-purple",optional:"is_color",description:"\u7d2b\u7d3a\u8272",execute:this.set_acl},{type:"command",name:"dark-cyan",optional:"is_color",description:"\u85cd\u8272",execute:this.set_acl}]}]}]}]}]},{type:"command",name:"no",description:"\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"access-list",description:"\u6b63\u898f\u8868\u73fe\u30d5\u30a3\u30eb\u30bf\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
execute:this.set_acl,children:[{type:"number",name:"acl_num",description:"\u6b63\u898f\u8868\u73fe\u6587\u5b57\u5217",min:1,max:99,execute:this.set_acl}]}]},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.login=function(a,c){a.pause();var b=ins.get(),e=encodeURIComponent(b.application.uris),f="https://"+b.domain+"/oauth/authorize?response_type=code&client_id="+b.client_id+"&redirect_uri="+e+"&scope="+(b.application.scopes.read?"read ":"")+(b.application.scopes.write?"write ":"")+(b.application.scopes.follow?"follow":"");if(e.match(/^https?:\/\//))return location.href=
f,a.pause(),!0;window.open(f,"_blank");a.push(function(a,c){0==a.trim().length&&c.pop();c.pause();c.prompt="";$.ajax({url:"https://"+b.domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",redirect_uri:b.application.uris,client_id:b.client_id,client_secret:b.client_secret,code:a.trim()}}).then(function(a,c,d){b.access_token=a.access_token;b.token_type=a.token_type;ins.save();return callAPI("/api/v1/accounts/verify_credentials")},function(a,b,d){c.error("User token updating error.("+
a.status+")");console.log(a)}).then(function(a,d,e){c.echo("Hello! "+a.display_name+" @"+a.username);b.user=a;ins.save();c.resume();delete b.auth_code;c.pop()},function(a,b,d){console.log(a);c.error("Getting user status failed.("+a.status+")");c.resume()})},{prompt:"Input Authentication Code: "});return!0};a.prototype.terminal_monitor=function(a,c){if(!0===c.optional.on_monitor&&(0===ws.length||ws[0].readyStatus>=WebSocket.CLOSING)){var b=ins.get();monitor="undefined"===typeof c.line_parsed[2]?config.find("instances.terminal.monitor"):
"tag"===c.line_parsed[2].name?c.paramaters.hashtag:c.line_parsed[2].name;var e=config_notify(),f=!1;for(k in e)f=f||k;var k="wss://"+b.domain+"/api/v1/streaming?access_token="+b.access_token+"&stream=user";var m="undefined"===typeof c.line_parsed[2]?"local":c.line_parsed[2].name,p="/api/v1/timelines/"+("local"===m?"public":m),u=config.find(["instances","terminal","length"]);params={limit:0<u?u:20};"local"===m?params.local=!0:"tag"===m&&(p+="/"+c.paramaters.tag_name);a.pause();callAPI(p,{data:params}).then(function(b,
d,e){for(d=b.length-1;0<=d;d--)c.optional.pinned&&!b[d].pinned||a.echo(makeStatus(b[d]),{raw:!0,flush:!1});a.resume();a.flush()});"home"===monitor?(b=new WebSocket(k),b.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event?(b=b.payload,$("[name=id_"+b+"]").addClass("status_deleted"),e["delete"]&&a.error("deleted ID:"+b)):"notification"===b.event?(b=JSON.parse(b.payload),a.echo(make_notification(b,e),{raw:!0}),beep_buf&&(b=context.createBufferSource(),b.buffer=beep_buf,b.connect(context.destination),
b.start(0))):"update"===b.event&&(b=JSON.parse(b.payload),b=makeStatus(b),a.echo(b,{raw:!0}));reduce_status()},b.onopen=function(){a.echo("Home Streaming start.")},b.onerror=function(b){a.error("Home Streaming error. closed.");console.log(b)},b.onclose=function(){a.echo("Home Streaming closed.")},ws.push(b)):(k=new WebSocket(k),f&&(k.onmessage=function(b){b=JSON.parse(b.data);"notification"===b.event&&(b=JSON.parse(b.payload),a.echo(make_notification(b,e),{raw:!0}))},k.onopen=function(){a.echo("Notification Streaming start.")},
k.onerror=function(a){console.warn(a)},k.onclose=function(){a.echo("Notification Streaming closed.")},ws.push(k)),k="wss://"+b.domain+"/api/v1/streaming?access_token="+b.access_token+("local"===monitor?"&stream=public:local":"public"===monitor?"&stream=public":"&stream=hashtag&tag="+monitor),k=new WebSocket(k),k.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event?(b=b.payload,$("[name=id_"+b+"]").addClass("status_deleted"),e["delete"]&&a.error("deleted ID:"+b)):"update"===b.event&&(b=JSON.parse(b.payload),
b=makeStatus(b),a.echo(b,{raw:!0}));reduce_status()},k.onopen=function(){a.echo(monitor+" Streaming start.")},k.onerror=function(a){console.warn(a)},k.onclose=function(){a.echo(monitor+" Streaming closed.")},ws.push(k))}else if(!0===c.optional.no_monitor){for(b=0;b<ws.length;b++)ws[b].close(),ws[b]=void 0;ws=[]}};a.prototype.toot=function(a,c){var b="undefined"!==typeof c.line_parsed[1]?c.line_parsed[1].name:config.find("instances.visibility");"undefined"===typeof b&&(b="public");$("#toot_visibility").val(b);
$("#toot").slideDown("first");$("#toot_box").focus();a.focus(!1)};a.prototype.monitor=function(a,c){ins.get().monitor="tag"===c.line_parsed[1].name?c.paramaters.hashtag:c.line_parsed[1].name;ins.save()};a.prototype.show_user=function(a,c){a.pause();("undefined"===typeof c.line_parsed[2]||"self"===c.line_parsed[2].name?callAPI("/api/v1/accounts/verify_credentials",{type:"GET"}):callAPI("/api/v1/accounts/"+c.paramaters.userid,{type:"GET"})).then(function(b,c,f){c=new Date(b.created_at);f=parseInt((Date.now()-
c.getTime())/6E4);var d=f%60,e=(f=(f-d)/60)%24,p=(f=(f-e)/24)%7,u=(f-p)/7;a.echo(b.display_name+" ID:"+b.id+(b.locked?" is locked":" is unlocked"),{flush:!1});a.echo("Username is "+b.username+", Fullname is "+b.acct,{flush:!1});a.echo("Created at "+c.toString(),{flush:!1});a.echo("Uptime is "+u+" weeks, "+p+" days, "+e+" hours, "+d+" minutes ("+f+" days have passed)",{flush:!1});a.echo(b.statuses_count+" statuses posted, "+$("<a />").attr("name","cmd_following").attr("data-uid",b.id).text(b.following_count+
" accounts are following").prop("outerHTML")+", "+$("<a />").attr("name","cmd_followers").attr("data-uid",b.id).text(b.followers_count+" accounts are followed").prop("outerHTML"),{raw:!0,flush:!1});a.echo("1 day toot rate "+parseInt(b.statuses_count/f)+" posts/day",{flush:!1});a.echo($.terminal.format("Note:"+b.note),{raw:!0,flush:!1});a.echo("URL: "+b.url,{raw:!1,flush:!1});return callAPI("/api/v1/accounts/"+b.id+"/statuses",{data:{pinned:!0}})},function(b,c,f){console.log(b);JSON.parse(b.responseText);
a.echo("Getting user data failed.("+b+")");a.resume()}).then(function(b,c,f){if(0<b.length&&b[0].pinned)for(a.echo("<br />",{raw:!0,flush:!1}),a.echo("[[ub;;]Pinned statuses]",{flush:!1}),c=0;c<b.length;c++)if(2<c){b=$("<a />").attr("name","cmd_status_pinned").attr("data-uid",b[c].account.id).text("... and more pinned status");a.echo(b.prop("outerHTML"),{raw:!0,flush:!1});break}else a.echo(makeStatus(b[c]),{raw:!0,flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},function(b,c,f){console.log(b);
JSON.parse(b.responseText);a.resume()})};a.prototype.search_query=function(a,c){a.pause();callAPI("/api/v1/search",{type:"GET",data:{q:c.paramaters.query}}).then(function(b,c,f){c=15;for(f=0;f<b.accounts.length;f++)c<b.accounts[f].acct.length&&(c=b.accounts[f].acct.length);c+=7;for(f="---------------";f.length<c;f+="-");f+="----------------------------";f=["Accounts:","| display name".addTab("| account name",c).addTab("id",9),f];for(var d=0;d<b.accounts.length;d++)f.push(("| "+b.accounts[d].display_name).addTab("| @"+
b.accounts[d].acct,c).addTab(b.accounts[d].id,9));f.push("----------------------------------------------------------");f.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.accounts.length+"\u4ef6");f.push("");f.push("Hash tags:");f.push("-----------------------------------");for(c=0;c<b.hashtags.length;c++)f.push("#"+b.hashtags[c]);f.push("-----------------------------------");f.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.hashtags.length+"\u4ef6");a.echo(f.join("\n"));a.resume()},function(b,c,f){a.error("Search request is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.show_instance=function(a,c){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,c,f){console.log(b);a.echo("======== API Information ========",{flush:!1});a.echo("Instance name: "+b.title,{flush:!1});a.echo("Version: "+b.version,{flush:!1});a.echo("Description: "+b.description,{flush:!1});a.echo("E-mail: "+b.email,{flush:!1});a.echo("URI: "+b.uri,{flush:!1});b.hasOwnProperty("stats")&&(a.echo("Connection instances: "+b.stats.domain_count,
{flush:!1}),a.echo("Posted toots: "+b.stats.status_count,{flush:!1}),a.echo("Registed users: "+b.stats.user_count,{flush:!1}));a.echo("Streaming uri: "+b.urls.streaming_api,{flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},function(b,c,f){a.error("Getting instance data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_authentication=function(a,c){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,c,f){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},
function(b,c,f){console.log(b);a.resume()})};a.prototype.exit=function(a,c){a.pop()};a.prototype.show_statuses=function(a,c){a.pause();var b="undefined"!==typeof c.paramaters.post_limits&&0<c.paramaters.post_limits?c.paramaters.post_limits:config.find(["instances","terminal","length"]);b=0<b?b:20;if("timeline"===c.line_parsed[1].name){var e="undefined"===typeof c.line_parsed[2]?"local":c.line_parsed[2].name;var f="/api/v1/timelines/"+("local"===e?"public":e);var k={};"local"===e?k.local=!0:"tag"===
e&&(f+="/"+c.paramaters.tag_name)}else if("user"===c.line_parsed[1].name)if(e=2===c.line_parsed.length||"self"===c.line_parsed[2].name?ins.get().user.id:"id"===c.line_parsed[2].name?c.paramaters.userid:-1,0<e)k={limit:b},c.optional.hasOwnProperty("pinned")&&(k.pinned=!0),f="/api/v1/accounts/"+e+"/statuses";else{a.error("no login.");return}if("undefined"===typeof f)a.error("show status error.");else{var m=[],p=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.pause();callAPI(f,
{type:"GET",data:k}).then(function(d,e,f){m=[];for(e=0;e<d.length;e++)if(!c.optional.pinned||d[e].pinned)a.echo(makeStatus(d[e]),{raw:!0,flush:!1}),p=d[e].id;a.resume();a.flush();d.length<b&&a.pop()},function(b,c,d){a.error("Failed to getting statsues.");a.resume()})},onExit:function(a){setTimeout(function(){a.set_command("")},10)},keydown:function(a,d){function e(a){if(0<a){a=m.length<a?m.length:a;for(var b=0;b<a;b++){var c=m.shift();d.echo(c,{raw:!0,flush:!1})}d.flush()}}switch(a.keyCode){case 27:case 81:d.pop();
d.set_command("");break;default:d.pause();var n=13===a.keyCode?1:b;k.limit=100;0<p&&(k.max_id=p-1);0<m.length?(e(n),d.resume()):callAPI(f,{type:"GET",data:k}).then(function(a,b,f){if(0===a.length)d.pop();else{m=[];for(b=0;b<a.length;b++)if(!c.optional.pinned||a[b].pinned)m.push(makeStatus(a[b])),p=a[b].id;e(n);d.resume()}},function(a,b,c){d.error("Failed to getting statsues.")})}setTimeout(function(){d.set_command("")},10);return!0}})}};a.prototype.show_status_id=function(a,c){a.pause();var b=c.paramaters.status_id;
$.when(callAPI("/api/v1/statuses/"+b,{type:"GET"}),callAPI("/api/v1/statuses/"+b+"/context",{type:"GET"}),callAPI("/api/v1/statuses/"+b+"/card",{type:"GET"})).then(function(b,c,d){var e=b[0];b=c[0];var f=d[0];for(c=0;c<b.ancestors.length;c++)d=makeStatus(b.ancestors[c]),a.echo(d,{raw:!0,flush:!1});a.echo(makeStatus(e),{raw:!0,flush:!1});f.hasOwnProperty("url")&&(d=$("<a />").attr("href",f.url).attr("target","_blank").addClass("status_card").append($("<div />").append($("<span />").text("[ "+f.title+
" ]")).append($("<br />")).append($("<span />").text(f.description))),!0===config.find(["instances","status","avater"])&&d.append($("<img />").attr("src",f.image)),c=new Image,c.onload=function(){$("[name=card_"+e.id+"] img").attr("src",f.image)},c.onerror=function(a){console.log(a)},c.src=f.image,a.echo(d.prop("outerHTML"),{raw:!0,flush:!1}),a.echo("<br />",{raw:!0,flush:!1}));d=e.favourites_count+" account favourited, "+e.reblogs_count+" account reblogged.\nURL: "+e.url+"\n";config.find("instances.status.separator")&&
(d+=Array($.terminal.active().cols()-5).join("-")+"\n");a.echo(d,{flush:!1});for(c=0;c<b.descendants.length;c++)d=makeStatus(b.descendants[c]),a.echo(d,{raw:!0,flush:!1});a.flush();a.resume()},function(b,c,d){a.error("Getting statuses is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_follows=function(a,c){a.pause();if(2===c.line_parsed.length||"self"===c.line_parsed[2].name){var b=ins.get().user.id;var e=c.line_parsed[3].name}else b=c.paramaters.userid,e=c.line_parsed[4].name;
callAPI("/api/v1/accounts/"+b+"/"+e,{type:"GET"}).then(function(b,c,d){c=15;for(d=0;d<b.length;d++)c<b[d].acct.length&&(c=b[d].acct.length);c+=7;for(d="---------------";d.length<c;d+="-");d+="----------------------------";for(var e=["Accounts:","| display name".addTab("| account name",c).addTab("id",9),d],f=0;f<b.length;f++)e.push(("| "+b[f].display_name).addTab("| @"+b[f].acct,c).addTab(b[f].id,9));e.push(d);e.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.length+"\u4ef6");e.push("");a.echo(e.join("\n"));
a.resume()},function(b,c,d){a.error("Getting account data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_notifications=function(a,c){a.pause();var b={},e=config_notify();c.paramaters.post_limits&&(b.limit=c.paramaters.post_limits);callAPI("/api/v1/notifications",{type:"GET",data:b}).then(function(b,c,d){for(c=b.length-1;0<=c;c--)a.echo(make_notification(b[c],e),{raw:!0});a.resume()},function(b,c,d){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};
a.prototype.show_acl=function(a,c){var b=ins.acls[ins.name()];if(b){for(var e in b)a.echo("Standard Status access list "+e),a.echo("    "+b[e].type+" regexp "+b[e].regexp.toString()+", color "+b[e].color);return!0}};a.prototype.set_acl=function(a,c){var b=ins.get(),e=c.optional.is_color?c.line_parsed[5].name:"dark-blue";"no"===c.line_parsed[0].name?c.paramaters.hasOwnProperty("acl_num")?delete b.acl[c.paramaters.acl_num]:delete b.acl:(b.hasOwnProperty("acl")||(b.acl={}),b.acl[c.paramaters.acl_num]||
(b.acl[c.paramaters.acl_num]={}),b=b.acl[c.paramaters.acl_num],b.type=c.line_parsed[2].name,b.regexp=c.paramaters.regular_expression,b.color=e);ins.parse_acl();ins.save();return!0};a.prototype.template=function(a,c){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,c,f){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,c,f){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.clear=function(a,c){a.clear();return!0};return a}();
function config_notify(){var a=config.find(["instances","terminal","logging"]);url_params.hasOwnProperty("notification")?(a=url_params.notification.split(","),a={"delete":0<=a.indexOf("del"),favourite:0<=a.indexOf("fav"),reblog:0<=a.indexOf("reb"),mention:0<=a.indexOf("men"),following:0<=a.indexOf("fol")}):a="object"===typeof a?{"delete":!1!==a&&!0===a["delete"],favourite:!1!==a&&!1!==a.favourite,reblog:!1!==a&&!1!==a.reblog,mention:!1!==a&&!1!==a.mention,following:!1!==a&&!1!==a.following}:{"delete":!1,
favourite:!0,reblog:!0,mention:!0,following:!0};return a};