/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function h(c,f){f=f||E;var q=f.createElement("script");q.text=c;f.head.appendChild(q).parentNode.removeChild(q)}function e(c){var f=!!c&&"length"in c&&c.length,q=d.type(c);return"function"!==q&&!d.isWindow(c)&&("array"===q||0===f||"number"==
typeof f&&0<f&&f-1 in c)}function m(c,f){return c.nodeName&&c.nodeName.toLowerCase()===f.toLowerCase()}function n(c,f,q){return d.isFunction(f)?d.grep(c,function(c,a){return!!f.call(c,a,c)!==q}):f.nodeType?d.grep(c,function(c){return c===f!==q}):"string"!=typeof f?d.grep(c,function(c){return-1<J.call(f,c)!==q}):Wb.test(f)?d.filter(f,c,q):(f=d.filter(f,c),d.grep(c,function(c){return-1<J.call(f,c)!==q&&1===c.nodeType}))}function w(c,f){for(;(c=c[f])&&1!==c.nodeType;);return c}function t(c){var f={};
return d.each(c.match(za)||[],function(c,a){f[a]=!0}),f}function x(c){return c}function D(c){throw c;}function y(c,f,q,a){var u;try{c&&d.isFunction(u=c.promise)?u.call(c).done(f).fail(q):c&&d.isFunction(u=c.then)?u.call(c,f,q):f.apply(void 0,[c].slice(a))}catch(Ca){q.apply(void 0,[Ca])}}function L(){E.removeEventListener("DOMContentLoaded",L);a.removeEventListener("load",L);d.ready()}function Aa(){this.expando=d.expando+Aa.uid++}function ta(c,f,q){var a;if(void 0===q&&1===c.nodeType)if(a="data-"+
f.replace(Xb,"-$&").toLowerCase(),q=c.getAttribute(a),"string"==typeof q){try{a=q,q="true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Ia.test(a)?JSON.parse(a):a)}catch(H){}W.set(c,f,q)}else q=void 0;return q}function Fa(c,f,a,u){var q,g=1,b=20,k=u?function(){return u.cur()}:function(){return d.css(c,f,"")},e=k(),l=a&&a[3]||(d.cssNumber[f]?"":"px"),r=(d.cssNumber[f]||"px"!==l&&+e)&&M.exec(d.css(c,f));if(r&&r[3]!==l){l=l||r[3];a=a||[];r=+e||1;do g=g||".5",r/=g,d.style(c,f,r+l);while(g!==(g=k()/
e)&&1!==g&&--b)}return a&&(r=+r||+e||0,q=a[1]?r+(a[1]+1)*a[2]:+a[2],u&&(u.unit=l,u.start=r,u.end=q)),q}function Da(c,f){for(var a,u,g=[],b=0,k=c.length;b<k;b++)if(u=c[b],u.style)if(a=u.style.display,f){if("none"===a&&(g[b]=F.get(u,"display")||null,g[b]||(u.style.display="")),""===u.style.display&&Va(u)){a=b;var e=void 0;var l=u.ownerDocument;var r=u.nodeName;l=(u=Qa[r])?u:(e=l.body.appendChild(l.createElement(r)),u=d.css(e,"display"),e.parentNode.removeChild(e),"none"===u&&(u="block"),Qa[r]=u,u);
g[a]=l}}else"none"!==a&&(g[b]="none",F.set(u,"display",a));for(b=0;b<k;b++)null!=g[b]&&(c[b].style.display=g[b]);return c}function ha(c,f){var a;return a="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(f||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(f||"*"):[],void 0===f||f&&m(c,f)?d.merge([c],a):a}function La(c,f){for(var a=0,d=c.length;a<d;a++)F.set(c[a],"globalEval",!f||F.get(f[a],"globalEval"))}function Ra(c,f,a,u,b){for(var q,H,k,e,l=f.createDocumentFragment(),
r=[],h=0,m=c.length;h<m;h++)if(q=c[h],q||0===q)if("object"===d.type(q))d.merge(r,q.nodeType?[q]:q);else if(Ga.test(q)){H=H||l.appendChild(f.createElement("div"));k=(Qb.exec(q)||["",""])[1].toLowerCase();k=z[k]||z._default;H.innerHTML=k[1]+d.htmlPrefilter(q)+k[2];for(k=k[0];k--;)H=H.lastChild;d.merge(r,H.childNodes);H=l.firstChild;H.textContent=""}else r.push(f.createTextNode(q));l.textContent="";for(h=0;q=r[h++];)if(u&&-1<d.inArray(q,u))b&&b.push(q);else if(e=d.contains(q.ownerDocument,q),H=ha(l.appendChild(q),
"script"),e&&La(H),a)for(k=0;q=H[k++];)g.test(q.type||"")&&a.push(q);return l}function ka(){return!0}function da(){return!1}function ob(){try{return E.activeElement}catch(c){}}function hb(c,f,a,u,b,g){var q,H;if("object"==typeof f){"string"!=typeof a&&(u=u||a,a=void 0);for(H in f)hb(c,H,a,u,f[H],g);return c}if(null==u&&null==b?(b=a,u=a=void 0):null==b&&("string"==typeof a?(b=u,u=void 0):(b=u,u=a,a=void 0)),!1===b)b=da;else if(!b)return c;return 1===g&&(q=b,b=function(c){return d().off(c),q.apply(this,
arguments)},b.guid=q.guid||(q.guid=d.guid++)),c.each(function(){d.event.add(this,f,b,u,a)})}function xb(c,f){return m(c,"table")&&m(11!==f.nodeType?f:f.firstChild,"tr")?d(">tbody",c)[0]||c:c}function cb(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function sb(c){var f=ib.exec(c.type);return f?c.type=f[1]:c.removeAttribute("type"),c}function tb(c,f){var a,u,b,g,k,e;if(1===f.nodeType){if(F.hasData(c)&&(a=F.access(c),u=F.set(f,a),e=a.events))for(b in delete u.handle,u.events={},e)for(a=
0,u=e[b].length;a<u;a++)d.event.add(f,b,e[b][a]);W.hasData(c)&&(g=W.access(c),k=d.extend({},g),W.set(f,k))}}function Ea(c,f,a,u){f=yb.apply([],f);var q,b,k,e=0,l=c.length,r=l-1,m=f[0],n=d.isFunction(m);if(n||1<l&&"string"==typeof m&&!K.checkClone&&$b.test(m))return c.each(function(q){var d=c.eq(q);n&&(f[0]=m.call(this,q,d.html()));Ea(d,f,a,u)});if(l&&(q=Ra(f,c[0].ownerDocument,!1,c,u),b=q.firstChild,1===q.childNodes.length&&(q=b),b||u)){b=d.map(ha(q,"script"),cb);for(k=b.length;e<l;e++){var p=q;e!==
r&&(p=d.clone(p,!0,!0),k&&d.merge(b,ha(p,"script")));a.call(c[e],p,e)}if(k)for(q=b[b.length-1].ownerDocument,d.map(b,sb),e=0;e<k;e++)p=b[e],g.test(p.type||"")&&!F.access(p,"globalEval")&&d.contains(q,p)&&(p.src?d._evalUrl&&d._evalUrl(p.src):h(p.textContent.replace(va,""),q))}return c}function pb(c,f,a){for(var q=f?d.filter(f,c):c,b=0;null!=(f=q[b]);b++)a||1!==f.nodeType||d.cleanData(ha(f)),f.parentNode&&(a&&d.contains(f.ownerDocument,f)&&La(ha(f,"script")),f.parentNode.removeChild(f));return c}function db(c,
f,a){var q,b,g,k,e=c.style;return a=a||Q(c),a&&(k=a.getPropertyValue(f)||a[f],""!==k||d.contains(c.ownerDocument,c)||(k=d.style(c,f)),!K.pixelMarginRight()&&la.test(k)&&X.test(f)&&(q=e.width,b=e.minWidth,g=e.maxWidth,e.minWidth=e.maxWidth=e.width=k,k=a.width,e.width=q,e.minWidth=b,e.maxWidth=g)),void 0!==k?k+"":k}function qb(c,f){return{get:function(){return c()?void delete this.get:(this.get=f).apply(this,arguments)}}}function ub(c){var f=d.cssProps[c];if(!f){f=d.cssProps;a:{var a=c;if(!(a in na)){for(var u=
a[0].toUpperCase()+a.slice(1),b=p.length;b--;)if(a=p[b]+u,a in na)break a;a=void 0}}f=f[c]=a||c}return f}function zb(c,f,a){return(c=M.exec(f))?Math.max(0,c[2]-(a||0))+(c[3]||"px"):f}function Eb(c,f,a,u,b){var q=0;for(f=a===(u?"border":"content")?4:"width"===f?1:0;4>f;f+=2)"margin"===a&&(q+=d.css(c,a+aa[f],!0,b)),u?("content"===a&&(q-=d.css(c,"padding"+aa[f],!0,b)),"margin"!==a&&(q-=d.css(c,"border"+aa[f]+"Width",!0,b))):(q+=d.css(c,"padding"+aa[f],!0,b),"padding"!==a&&(q+=d.css(c,"border"+aa[f]+
"Width",!0,b)));return q}function Ab(c,f,a){var q,b=Q(c),g=db(c,f,b),k="border-box"===d.css(c,"boxSizing",!1,b);return la.test(g)?g:(q=k&&(K.boxSizingReliable()||g===c.style[f]),"auto"===g&&(g=c["offset"+f[0].toUpperCase()+f.slice(1)]),g=parseFloat(g)||0,g+Eb(c,f,a||(k?"border":"content"),q,b)+"px")}function ba(c,f,a,d,b){return new ba.prototype.init(c,f,a,d,b)}function jb(){oa&&(!1===E.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(jb):a.setTimeout(jb,d.fx.interval),d.fx.tick())}function Fb(){return a.setTimeout(function(){Y=
void 0}),Y=d.now()}function Ya(c,f){var a=0,d={height:c};for(f=f?1:0;4>a;a+=2-f){var b=aa[a];d["margin"+b]=d["padding"+b]=c}return f&&(d.opacity=d.width=c),d}function Gb(c,f,a){for(var d,q=(wa.tweeners[f]||[]).concat(wa.tweeners["*"]),b=0,g=q.length;b<g;b++)if(d=q[b].call(a,f,c))return d}function Kb(c,f){var a,b,g,k,e;for(a in c)if(b=d.camelCase(a),g=f[b],k=c[a],Array.isArray(k)&&(g=k[1],k=c[a]=k[0]),a!==b&&(c[b]=k,delete c[a]),e=d.cssHooks[b],e&&"expand"in e)for(a in k=e.expand(k),delete c[b],k)a in
c||(c[a]=k[a],f[a]=g);else f[b]=g}function wa(c,f,a){var q,b=0,g=wa.prefilters.length,k=d.Deferred().always(function(){delete e.elem}),e=function(){if(q)return!1;var f=Y||Fb();f=Math.max(0,l.startTime+l.duration-f);for(var a=1-(f/l.duration||0),d=0,b=l.tweens.length;d<b;d++)l.tweens[d].run(a);return k.notifyWith(c,[l,a,f]),1>a&&b?f:(b||k.notifyWith(c,[l,1,0]),k.resolveWith(c,[l]),!1)},l=k.promise({elem:c,props:d.extend({},f),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},a),originalProperties:f,
originalOptions:a,startTime:Y||Fb(),duration:a.duration,tweens:[],createTween:function(f,a){var q=d.Tween(c,l.opts,f,a,l.opts.specialEasing[f]||l.opts.easing);return l.tweens.push(q),q},stop:function(f){var a=0,d=f?l.tweens.length:0;if(q)return this;for(q=!0;a<d;a++)l.tweens[a].run(1);return f?(k.notifyWith(c,[l,1,0]),k.resolveWith(c,[l,f])):k.rejectWith(c,[l,f]),this}});a=l.props;for(Kb(a,l.opts.specialEasing);b<g;b++)if(f=wa.prefilters[b].call(l,c,a,l.opts))return d.isFunction(f.stop)&&(d._queueHooks(l.elem,
l.opts.queue).stop=d.proxy(f.stop,f)),f;return d.map(a,Gb,l),d.isFunction(l.opts.start)&&l.opts.start.call(c,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),d.fx.timer(d.extend(e,{elem:c,anim:l,queue:l.opts.queue})),l}function xa(c){return(c.match(za)||[]).join(" ")}function Ba(c){return c.getAttribute&&c.getAttribute("class")||""}function kb(c,f,a,b){var q;if(Array.isArray(f))d.each(f,function(f,d){a||Oa.test(c)?b(c,d):kb(c+"["+("object"==
typeof d&&null!=d?f:"")+"]",d,a,b)});else if(a||"object"!==d.type(f))b(c,f);else for(q in f)kb(c+"["+q+"]",f[q],a,b)}function vb(c){return function(f,a){"string"!=typeof f&&(a=f,f="*");var q,b=0,g=f.toLowerCase().match(za)||[];if(d.isFunction(a))for(;q=g[b++];)"+"===q[0]?(q=q.slice(1)||"*",(c[q]=c[q]||[]).unshift(a)):(c[q]=c[q]||[]).push(a)}}function Wa(c,f,a,b){function q(k){var e;return u[k]=!0,d.each(c[k]||[],function(c,d){var k=d(f,a,b);return"string"!=typeof k||g||u[k]?g?!(e=k):void 0:(f.dataTypes.unshift(k),
q(k),!1)}),e}var u={},g=c===Bb;return q(f.dataTypes[0])||!u["*"]&&q("*")}function ia(c,f){var a,b,g=d.ajaxSettings.flatOptions||{};for(a in f)void 0!==f[a]&&((g[a]?c:b||(b={}))[a]=f[a]);return b&&d.extend(!0,c,b),c}var ma=[],E=a.document,Ha=Object.getPrototypeOf,Ja=ma.slice,yb=ma.concat,l=ma.push,J=ma.indexOf,Sa={},pa=Sa.toString,ja=Sa.hasOwnProperty,P=ja.toString,Ma=P.call(Object),K={},d=function(c,f){return new d.fn.init(c,f)},Lb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Mb=/^-ms-/,Cb=/-([a-z])/g,Xa=
function(c,f){return f.toUpperCase()};d.fn=d.prototype={jquery:"3.2.1",constructor:d,length:0,toArray:function(){return Ja.call(this)},get:function(c){return null==c?Ja.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=d.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return d.each(this,c)},map:function(c){return this.pushStack(d.map(this,function(f,a){return c.call(f,a,f)}))},slice:function(){return this.pushStack(Ja.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(c){var f=this.length;c=+c+(0>c?f:0);return this.pushStack(0<=c&&c<f?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:ma.sort,splice:ma.splice};d.extend=d.fn.extend=function(){var c,f,a,b,g=arguments[0]||{},k=1,e=arguments.length,l=!1;"boolean"==typeof g&&(l=g,g=arguments[k]||{},k++);"object"==typeof g||d.isFunction(g)||(g={});for(k===e&&(g=this,k--);k<e;k++)if(null!=(c=arguments[k]))for(f in c){var r=g[f];var h=c[f];
g!==h&&(l&&h&&(d.isPlainObject(h)||(a=Array.isArray(h)))?(a?(a=!1,b=r&&Array.isArray(r)?r:[]):b=r&&d.isPlainObject(r)?r:{},g[f]=d.extend(l,b,h)):void 0!==h&&(g[f]=h))}return g};d.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===d.type(c)},isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var f=d.type(c);return("number"===f||"string"===f)&&!isNaN(c-parseFloat(c))},
isPlainObject:function(c){var f,a;return!(!c||"[object Object]"!==pa.call(c))&&(!(f=Ha(c))||(a=ja.call(f,"constructor")&&f.constructor,"function"==typeof a&&P.call(a)===Ma))},isEmptyObject:function(c){for(var f in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?Sa[pa.call(c)]||"object":typeof c},globalEval:function(c){h(c)},camelCase:function(c){return c.replace(Mb,"ms-").replace(Cb,Xa)},each:function(c,f){var a,d=0;if(e(c))for(a=c.length;d<a&&!1!==
f.call(c[d],d,c[d]);d++);else for(d in c)if(!1===f.call(c[d],d,c[d]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Lb,"")},makeArray:function(c,f){var a=f||[];return null!=c&&(e(Object(c))?d.merge(a,"string"==typeof c?[c]:c):l.call(a,c)),a},inArray:function(c,f,a){return null==f?-1:J.call(f,c,a)},merge:function(c,f){for(var a=+f.length,d=0,b=c.length;d<a;d++)c[b++]=f[d];return c.length=b,c},grep:function(c,f,a){for(var d=[],q=0,b=c.length,g=!a;q<b;q++)a=!f(c[q],q),a!==g&&d.push(c[q]);
return d},map:function(c,f,a){var d,q=0,b=[];if(e(c))for(d=c.length;q<d;q++){var g=f(c[q],q,a);null!=g&&b.push(g)}else for(q in c)g=f(c[q],q,a),null!=g&&b.push(g);return yb.apply([],b)},guid:1,proxy:function(c,f){var a,b,g;if("string"==typeof f&&(a=c[f],f=c,c=a),d.isFunction(c))return b=Ja.call(arguments,2),g=function(){return c.apply(f||this,b.concat(Ja.call(arguments)))},g.guid=c.guid=c.guid||d.guid++,g},now:Date.now,support:K});"function"==typeof Symbol&&(d.fn[Symbol.iterator]=ma[Symbol.iterator]);
d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,f){Sa["[object "+f+"]"]=f.toLowerCase()});var N=function(c){function f(c,f,a,d){var q,b,g,k,u=f&&f.ownerDocument,e=f?f.nodeType:9;if(a=a||[],"string"!=typeof c||!c||1!==e&&9!==e&&11!==e)return a;if(!d&&((f?f.ownerDocument||f:Ma)!==C&&da(f),f=f||C,T)){if(11!==e&&(k=Bb.exec(c)))if(q=k[1])if(9===e){if(!(b=f.getElementById(q)))return a;if(b.id===q)return a.push(b),a}else{if(u&&(b=u.getElementById(q))&&
D(f,b)&&b.id===q)return a.push(b),a}else{if(k[2])return sa.apply(a,f.getElementsByTagName(c)),a;if((q=k[3])&&V.getElementsByClassName&&f.getElementsByClassName)return sa.apply(a,f.getElementsByClassName(q)),a}if(!(!V.qsa||ya[c+" "]||y&&y.test(c))){if(1!==e){u=f;var l=c}else if("object"!==f.nodeName.toLowerCase()){(g=f.getAttribute("id"))?g=g.replace(W,X):f.setAttribute("id",g=R);b=Z(c);for(q=b.length;q--;)b[q]="#"+g+" "+n(b[q]);l=b.join(",");u=S.test(c)&&m(f.parentNode)||f}if(l)try{return sa.apply(a,
u.querySelectorAll(l)),a}catch(kc){}finally{g===R&&f.removeAttribute("id")}}}return P(c.replace(Ua,"$1"),f,a,d)}function a(){function c(a,d){return f.push(a+" ")>U.cacheLength&&delete c[f.shift()],c[a+" "]=d}var f=[];return c}function d(c){return c[R]=!0,c}function b(c){var f=C.createElement("fieldset");try{return!!c(f)}catch(ic){return!1}finally{f.parentNode&&f.parentNode.removeChild(f)}}function g(c,f){for(var a=c.split("|"),d=a.length;d--;)U.attrHandle[a[d]]=f}function k(c,f){var a=f&&c,d=a&&1===
c.nodeType&&1===f.nodeType&&c.sourceIndex-f.sourceIndex;if(d)return d;if(a)for(;a=a.nextSibling;)if(a===f)return-1;return c?1:-1}function e(c){return function(f){return"input"===f.nodeName.toLowerCase()&&f.type===c}}function l(c){return function(f){var a=f.nodeName.toLowerCase();return("input"===a||"button"===a)&&f.type===c}}function r(c){return function(f){return"form"in f?f.parentNode&&!1===f.disabled?"label"in f?"label"in f.parentNode?f.parentNode.disabled===c:f.disabled===c:f.isDisabled===c||
f.isDisabled!==!c&&Mb(f)===c:f.disabled===c:"label"in f&&f.disabled===c}}function h(c){return d(function(f){return f=+f,d(function(a,d){for(var q,b=c([],a.length,f),g=b.length;g--;)a[q=b[g]]&&(a[q]=!(d[q]=a[q]))})})}function m(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function p(){}function n(c){for(var f=0,a=c.length,d="";f<a;f++)d+=c[f].value;return d}function O(c,f,a){var d=f.dir,q=f.next,b=q||d,g=a&&"parentNode"===b,k=Ka++;return f.first?function(f,a,q){for(;f=f[d];)if(1===f.nodeType||
g)return c(f,a,q);return!1}:function(f,a,u){var e,l,H,r=[z,k];if(u)for(;f=f[d];){if((1===f.nodeType||g)&&c(f,a,u))return!0}else for(;f=f[d];)if(1===f.nodeType||g)if(H=f[R]||(f[R]={}),l=H[f.uniqueID]||(H[f.uniqueID]={}),q&&q===f.nodeName.toLowerCase())f=f[d]||f;else{if((e=l[b])&&e[0]===z&&e[1]===k)return r[2]=e[2];if(l[b]=r,r[2]=c(f,a,u))return!0}return!1}}function J(c){return 1<c.length?function(f,a,d){for(var q=c.length;q--;)if(!c[q](f,a,d))return!1;return!0}:c[0]}function I(c,f,a,d,q){for(var b,
g=[],k=0,u=c.length,e=null!=f;k<u;k++)(b=c[k])&&(a&&!a(b,d,q)||(g.push(b),e&&f.push(k)));return g}function Sa(c,a,q,b,g,k){return b&&!b[R]&&(b=Sa(b)),g&&!g[R]&&(g=Sa(g,k)),d(function(d,k,u,e){var l,H=[],r=[],h=k.length,m;if(!(m=d)){m=a||"*";for(var ea=u.nodeType?[u]:u,Ca=[],p=0,n=ea.length;p<n;p++)f(m,ea[p],Ca);m=Ca}m=!c||!d&&a?m:I(m,H,c,u,e);ea=q?g||(d?c:h||b)?[]:k:m;if(q&&q(m,ea,u,e),b){var O=I(ea,r);b(O,[],u,e);for(u=O.length;u--;)(l=O[u])&&(ea[r[u]]=!(m[r[u]]=l))}if(d){if(g||c){if(g){O=[];for(u=
ea.length;u--;)(l=ea[u])&&O.push(m[u]=l);g(null,ea=[],O,e)}for(u=ea.length;u--;)(l=ea[u])&&-1<(O=g?G(d,l):H[u])&&(d[O]=!(k[O]=l))}}else ea=I(ea===k?ea.splice(h,ea.length):ea),g?g(null,k,ea,e):sa.apply(k,ea)})}function ca(c){var f,a,d=c.length,q=U.relative[c[0].type];var b=q||U.relative[" "];for(var g=q?1:0,k=O(function(c){return c===f},b,!0),u=O(function(c){return-1<G(f,c)},b,!0),e=[function(c,a,d){c=!q&&(d||a!==w)||((f=a).nodeType?k(c,a,d):u(c,a,d));return f=null,c}];g<d;g++)if(b=U.relative[c[g].type])e=
[O(J(e),b)];else{if(b=U.filter[c[g].type].apply(null,c[g].matches),b[R]){for(a=++g;a<d&&!U.relative[c[a].type];a++);return Sa(1<g&&J(e),1<g&&n(c.slice(0,g-1).concat({value:" "===c[g-2].type?"*":""})).replace(Ua,"$1"),b,g<a&&ca(c.slice(g,a)),a<d&&ca(c=c.slice(a)),a<d&&n(c))}e.push(b)}return J(e)}function pa(c,a){var q=0<a.length,b=0<c.length,g=function(d,g,k,u,e){var l,H,r=0,h="0",m=d&&[],ea=[],Ca=w,p=d||b&&U.find.TAG("*",e),n=z+=null==Ca?1:Math.random()||.1,O=p.length;for(e&&(w=g===C||g||e);h!==O&&
null!=(l=p[h]);h++){if(b&&l){var Jb=0;for(g||l.ownerDocument===C||(da(l),k=!T);H=c[Jb++];)if(H(l,g||C,k)){u.push(l);break}e&&(z=n)}q&&((l=!H&&l)&&r--,d&&m.push(l))}if(r+=h,q&&h!==r){for(Jb=0;H=a[Jb++];)H(m,ea,g,k);if(d){if(0<r)for(;h--;)m[h]||ea[h]||(ea[h]=F.call(u));ea=I(ea)}sa.apply(u,ea);e&&!d&&0<ea.length&&1<r+a.length&&f.uniqueSort(u)}return e&&(z=n,w=Ca),m};return q?d(g):g}var x,t,P,w,K,ja,C,v,T,y,fa,bb,D,R="sizzle"+1*new Date,Ma=c.document,z=0,Ka=0,A=a(),nb=a(),ya=a(),L=function(c,f){return c===
f&&(ja=!0),0},N={}.hasOwnProperty,B=[],F=B.pop,Cb=B.push,sa=B.push,E=B.slice,G=function(c,f){for(var a=0,d=c.length;a<d;a++)if(c[a]===f)return a;return-1},ra=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Ua=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Ib=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,M=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Oa=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),Lb=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
ka=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Na={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},gb=/^(?:input|select|textarea|button)$/i,Aa=/^h\d$/i,ta=
/^[^{]+\{\s*\[native \w/,Bb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,S=/[+~]/,Xa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Q=function(c,f,a){c="0x"+f-65536;return c!==c||a?f:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},W=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,X=function(c,f){return f?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},Y=function(){da()},Mb=O(function(c){return!0===
c.disabled&&("form"in c||"label"in c)},{dir:"parentNode",next:"legend"});try{sa.apply(B=E.call(Ma.childNodes),Ma.childNodes),B[Ma.childNodes.length].nodeType}catch(ea){sa={apply:B.length?function(c,f){Cb.apply(c,E.call(f))}:function(c,f){for(var a=c.length,d=0;c[a++]=f[d++];);c.length=a-1}}}var V=f.support={};var rb=f.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};var da=f.setDocument=function(c){var f,a;c=c?c.ownerDocument||c:Ma;return c!==C&&9===c.nodeType&&
c.documentElement?(C=c,v=C.documentElement,T=!rb(C),Ma!==C&&(a=C.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",Y,!1):a.attachEvent&&a.attachEvent("onunload",Y)),V.attributes=b(function(c){return c.className="i",!c.getAttribute("className")}),V.getElementsByTagName=b(function(c){return c.appendChild(C.createComment("")),!c.getElementsByTagName("*").length}),V.getElementsByClassName=ta.test(C.getElementsByClassName),V.getById=b(function(c){return v.appendChild(c).id=R,!C.getElementsByName||
!C.getElementsByName(R).length}),V.getById?(U.filter.ID=function(c){var f=c.replace(Xa,Q);return function(c){return c.getAttribute("id")===f}},U.find.ID=function(c,f){if("undefined"!=typeof f.getElementById&&T){var a=f.getElementById(c);return a?[a]:[]}}):(U.filter.ID=function(c){var f=c.replace(Xa,Q);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===f}},U.find.ID=function(c,f){if("undefined"!=typeof f.getElementById&&T){var a,d,q=f.getElementById(c);
if(q){if(a=q.getAttributeNode("id"),a&&a.value===c)return[q];var b=f.getElementsByName(c);for(d=0;q=b[d++];)if(a=q.getAttributeNode("id"),a&&a.value===c)return[q]}return[]}}),U.find.TAG=V.getElementsByTagName?function(c,f){return"undefined"!=typeof f.getElementsByTagName?f.getElementsByTagName(c):V.qsa?f.querySelectorAll(c):void 0}:function(c,f){var a,d=[],q=0,b=f.getElementsByTagName(c);if("*"===c){for(;a=b[q++];)1===a.nodeType&&d.push(a);return d}return b},U.find.CLASS=V.getElementsByClassName&&
function(c,f){if("undefined"!=typeof f.getElementsByClassName&&T)return f.getElementsByClassName(c)},fa=[],y=[],(V.qsa=ta.test(C.querySelectorAll))&&(b(function(c){v.appendChild(c).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||y.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+R+"-]").length||y.push("~=");c.querySelectorAll(":checked").length||y.push(":checked");c.querySelectorAll("a#"+R+"+*").length||y.push(".#.+[+~]")}),b(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var f=C.createElement("input");f.setAttribute("type","hidden");c.appendChild(f).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&y.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
y.push(":enabled",":disabled");v.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled");c.querySelectorAll("*,:x");y.push(",.*:")})),(V.matchesSelector=ta.test(bb=v.matches||v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&b(function(c){V.disconnectedMatch=bb.call(c,"*");bb.call(c,"[s!='']:x");fa.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
y=y.length&&new RegExp(y.join("|")),fa=fa.length&&new RegExp(fa.join("|")),f=ta.test(v.compareDocumentPosition),D=f||ta.test(v.contains)?function(c,f){var a=9===c.nodeType?c.documentElement:c,d=f&&f.parentNode;return c===d||!(!d||1!==d.nodeType||!(a.contains?a.contains(d):c.compareDocumentPosition&&16&c.compareDocumentPosition(d)))}:function(c,f){if(f)for(;f=f.parentNode;)if(f===c)return!0;return!1},L=f?function(c,f){if(c===f)return ja=!0,0;var a=!c.compareDocumentPosition-!f.compareDocumentPosition;
return a?a:(a=(c.ownerDocument||c)===(f.ownerDocument||f)?c.compareDocumentPosition(f):1,1&a||!V.sortDetached&&f.compareDocumentPosition(c)===a?c===C||c.ownerDocument===Ma&&D(Ma,c)?-1:f===C||f.ownerDocument===Ma&&D(Ma,f)?1:K?G(K,c)-G(K,f):0:4&a?-1:1)}:function(c,f){if(c===f)return ja=!0,0;var a=0;var d=c.parentNode;var q=f.parentNode,b=[c],g=[f];if(!d||!q)return c===C?-1:f===C?1:d?-1:q?1:K?G(K,c)-G(K,f):0;if(d===q)return k(c,f);for(d=c;d=d.parentNode;)b.unshift(d);for(d=f;d=d.parentNode;)g.unshift(d);
for(;b[a]===g[a];)a++;return a?k(b[a],g[a]):b[a]===Ma?-1:g[a]===Ma?1:0},C):C};f.matches=function(c,a){return f(c,null,null,a)};f.matchesSelector=function(c,a){if((c.ownerDocument||c)!==C&&da(c),a=a.replace(Oa,"='$1']"),!(!V.matchesSelector||!T||ya[a+" "]||fa&&fa.test(a)||y&&y.test(a)))try{var d=bb.call(c,a);if(d||V.disconnectedMatch||c.document&&11!==c.document.nodeType)return d}catch(jc){}return 0<f(a,C,null,[c]).length};f.contains=function(c,f){return(c.ownerDocument||c)!==C&&da(c),D(c,f)};f.attr=
function(c,f){(c.ownerDocument||c)!==C&&da(c);var a=U.attrHandle[f.toLowerCase()];a=a&&N.call(U.attrHandle,f.toLowerCase())?a(c,f,!T):void 0;return void 0!==a?a:V.attributes||!T?c.getAttribute(f):(a=c.getAttributeNode(f))&&a.specified?a.value:null};f.escape=function(c){return(c+"").replace(W,X)};f.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};f.uniqueSort=function(c){var f,a=[],d=0,q=0;if(ja=!V.detectDuplicates,K=!V.sortStable&&c.slice(0),c.sort(L),ja){for(;f=c[q++];)f===
c[q]&&(d=a.push(q));for(;d--;)c.splice(a[d],1)}return K=null,c};var aa=f.getText=function(c){var f,a="",d=0;if(f=c.nodeType)if(1===f||9===f||11===f){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)a+=aa(c)}else{if(3===f||4===f)return c.nodeValue}else for(;f=c[d++];)a+=aa(f);return a};var U=f.selectors={cacheLength:50,createPseudo:d,match:Na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(Xa,Q),c[3]=(c[3]||c[4]||c[5]||"").replace(Xa,Q),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||f.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&f.error(c[0]),c},PSEUDO:function(c){var f,a=!c[6]&&c[2];return Na.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":a&&Lb.test(a)&&
(f=Z(a,!0))&&(f=a.indexOf(")",a.length-f)-a.length)&&(c[0]=c[0].slice(0,f),c[2]=a.slice(0,f)),c.slice(0,3))}},filter:{TAG:function(c){var f=c.replace(Xa,Q).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===f}},CLASS:function(c){var f=A[c+" "];return f||(f=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),A(c,function(c){return f.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,a,d){return function(q){q=f.attr(q,c);return null==q?"!="===a:!a||(q+="","="===a?q===d:"!="===a?q!==d:"^="===a?d&&0===q.indexOf(d):"*="===a?d&&-1<q.indexOf(d):"$="===a?d&&q.slice(-d.length)===d:"~="===a?-1<(" "+q.replace(ra," ")+" ").indexOf(d):"|="===a&&(q===d||q.slice(0,d.length+1)===d+"-"))}},CHILD:function(c,f,a,d,q){var b="nth"!==c.slice(0,3),g="last"!==c.slice(-4),k="of-type"===f;return 1===d&&0===q?function(c){return!!c.parentNode}:function(f,a,u){var e,l;a=b!==g?"nextSibling":
"previousSibling";var H=f.parentNode,r=k&&f.nodeName.toLowerCase();u=!u&&!k;var h=!1;if(H){if(b){for(;a;){for(e=f;e=e[a];)if(k?e.nodeName.toLowerCase()===r:1===e.nodeType)return!1;var m=a="only"===c&&!m&&"nextSibling"}return!0}if(m=[g?H.firstChild:H.lastChild],g&&u){e=H;var Ca=e[R]||(e[R]={});var p=Ca[e.uniqueID]||(Ca[e.uniqueID]={});var n=p[c]||[];h=(l=n[0]===z&&n[1])&&n[2];for(e=l&&H.childNodes[l];e=++l&&e&&e[a]||(h=l=0)||m.pop();)if(1===e.nodeType&&++h&&e===f){p[c]=[z,l,h];break}}else if(u&&(e=
f,Ca=e[R]||(e[R]={}),p=Ca[e.uniqueID]||(Ca[e.uniqueID]={}),n=p[c]||[],l=n[0]===z&&n[1],h=l),!1===h)for(;(e=++l&&e&&e[a]||(h=l=0)||m.pop())&&((k?e.nodeName.toLowerCase()!==r:1!==e.nodeType)||!++h||(u&&(Ca=e[R]||(e[R]={}),p=Ca[e.uniqueID]||(Ca[e.uniqueID]={}),p[c]=[z,h]),e!==f)););return h-=q,h===d||0===h%d&&0<=h/d}}},PSEUDO:function(c,a){var q,b=U.pseudos[c]||U.setFilters[c.toLowerCase()]||f.error("unsupported pseudo: "+c);return b[R]?b(a):1<b.length?(q=[c,c,"",a],U.setFilters.hasOwnProperty(c.toLowerCase())?
d(function(c,f){for(var d,q=b(c,a),g=q.length;g--;)d=G(c,q[g]),c[d]=!(f[d]=q[g])}):function(c){return b(c,0,q)}):b}},pseudos:{not:d(function(c){var f=[],a=[],q=t(c.replace(Ua,"$1"));return q[R]?d(function(c,f,a,d){var b;a=q(c,null,d,[]);for(d=c.length;d--;)(b=a[d])&&(c[d]=!(f[d]=b))}):function(c,d,b){return f[0]=c,q(f,null,b,a),f[0]=null,!a.pop()}}),has:d(function(c){return function(a){return 0<f(c,a).length}}),contains:d(function(c){return c=c.replace(Xa,Q),function(f){return-1<(f.textContent||f.innerText||
aa(f)).indexOf(c)}}),lang:d(function(c){return ka.test(c||"")||f.error("unsupported lang: "+c),c=c.replace(Xa,Q).toLowerCase(),function(f){var a;do if(a=T?f.lang:f.getAttribute("xml:lang")||f.getAttribute("lang"))return a=a.toLowerCase(),a===c||0===a.indexOf(c+"-");while((f=f.parentNode)&&1===f.nodeType);return!1}}),target:function(f){var a=c.location&&c.location.hash;return a&&a.slice(1)===f.id},root:function(c){return c===v},focus:function(c){return c===C.activeElement&&(!C.hasFocus||C.hasFocus())&&
!!(c.type||c.href||~c.tabIndex)},enabled:r(!1),disabled:r(!0),checked:function(c){var f=c.nodeName.toLowerCase();return"input"===f&&!!c.checked||"option"===f&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!U.pseudos.empty(c)},header:function(c){return Aa.test(c.nodeName)},input:function(c){return gb.test(c.nodeName)},button:function(c){var f=
c.nodeName.toLowerCase();return"input"===f&&"button"===c.type||"button"===f},text:function(c){var f;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(f=c.getAttribute("type"))||"text"===f.toLowerCase())},first:h(function(){return[0]}),last:h(function(c,f){return[f-1]}),eq:h(function(c,f,a){return[0>a?a+f:a]}),even:h(function(c,f){for(var a=0;a<f;a+=2)c.push(a);return c}),odd:h(function(c,f){for(var a=1;a<f;a+=2)c.push(a);return c}),lt:h(function(c,f,a){for(f=0>a?a+f:a;0<=--f;)c.push(f);
return c}),gt:h(function(c,f,a){for(a=0>a?a+f:a;++a<f;)c.push(a);return c})}};U.pseudos.nth=U.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})U.pseudos[x]=e(x);for(x in{submit:!0,reset:!0})U.pseudos[x]=l(x);p.prototype=U.filters=U.pseudos;U.setFilters=new p;var Z=f.tokenize=function(c,a){var d,q,b,g,k;if(g=nb[c+" "])return a?0:g.slice(0);g=c;var u=[];for(k=U.preFilter;g;){e&&!(d=Ib.exec(g))||(d&&(g=g.slice(d[0].length)||g),u.push(q=[]));var e=!1;(d=M.exec(g))&&(e=d.shift(),
q.push({value:e,type:d[0].replace(Ua," ")}),g=g.slice(e.length));for(b in U.filter)!(d=Na[b].exec(g))||k[b]&&!(d=k[b](d))||(e=d.shift(),q.push({value:e,type:b,matches:d}),g=g.slice(e.length));if(!e)break}return a?g.length:g?f.error(c):nb(c,u).slice(0)};return t=f.compile=function(c,f){var a,d=[],q=[],b=ya[c+" "];if(!b){f||(f=Z(c));for(a=f.length;a--;)b=ca(f[a]),b[R]?d.push(b):q.push(b);b=ya(c,pa(q,d));b.selector=c}return b},P=f.select=function(c,f,a,d){var q,b,g,k,u,e="function"==typeof c&&c,l=!d&&
Z(c=e.selector||c);if(a=a||[],1===l.length){if(b=l[0]=l[0].slice(0),2<b.length&&"ID"===(g=b[0]).type&&9===f.nodeType&&T&&U.relative[b[1].type]){if(f=(U.find.ID(g.matches[0].replace(Xa,Q),f)||[])[0],!f)return a;e&&(f=f.parentNode);c=c.slice(b.shift().value.length)}for(q=Na.needsContext.test(c)?0:b.length;q--&&(g=b[q],!U.relative[k=g.type]);)if((u=U.find[k])&&(d=u(g.matches[0].replace(Xa,Q),S.test(b[0].type)&&m(f.parentNode)||f))){if(b.splice(q,1),c=d.length&&n(b),!c)return sa.apply(a,d),a;break}}return(e||
t(c,l))(d,f,!T,a,!f||S.test(c)&&m(f.parentNode)||f),a},V.sortStable=R.split("").sort(L).join("")===R,V.detectDuplicates=!!ja,da(),V.sortDetached=b(function(c){return 1&c.compareDocumentPosition(C.createElement("fieldset"))}),b(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||g("type|href|height|width",function(c,f,a){if(!a)return c.getAttribute(f,"type"===f.toLowerCase()?1:2)}),V.attributes&&b(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||g("value",function(c,f,a){if(!a&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),b(function(c){return null==c.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,f,a){var d;if(!a)return!0===c[f]?f.toLowerCase():(d=c.getAttributeNode(f))&&d.specified?d.value:null}),f}(a);d.find=N;d.expr=N.selectors;d.expr[":"]=d.expr.pseudos;d.uniqueSort=
d.unique=N.uniqueSort;d.text=N.getText;d.isXMLDoc=N.isXML;d.contains=N.contains;d.escapeSelector=N.escape;var wb=function(c,f,a){for(var q=[],b=void 0!==a;(c=c[f])&&9!==c.nodeType;)if(1===c.nodeType){if(b&&d(c).is(a))break;q.push(c)}return q},Sb=function(c,f){for(var a=[];c;c=c.nextSibling)1===c.nodeType&&c!==f&&a.push(c);return a},Tb=d.expr.match.needsContext,Ub=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Wb=/^.[^:#\[\.,]*$/;d.filter=function(c,f,a){var q=f[0];return a&&(c=
":not("+c+")"),1===f.length&&1===q.nodeType?d.find.matchesSelector(q,c)?[q]:[]:d.find.matches(c,d.grep(f,function(c){return 1===c.nodeType}))};d.fn.extend({find:function(c){var f,a=this.length,b=this;if("string"!=typeof c)return this.pushStack(d(c).filter(function(){for(f=0;f<a;f++)if(d.contains(b[f],this))return!0}));var g=this.pushStack([]);for(f=0;f<a;f++)d.find(c,b[f],g);return 1<a?d.uniqueSort(g):g},filter:function(c){return this.pushStack(n(this,c||[],!1))},not:function(c){return this.pushStack(n(this,
c||[],!0))},is:function(c){return!!n(this,"string"==typeof c&&Tb.test(c)?d(c):c||[],!1).length}});var bc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(d.fn.init=function(c,f,a){var b,q;if(!c)return this;if(a=a||cc,"string"==typeof c){if(b="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:bc.exec(c),!b||!b[1]&&f)return!f||f.jquery?(f||a).find(c):this.constructor(f).find(c);if(b[1]){if(f=f instanceof d?f[0]:f,d.merge(this,d.parseHTML(b[1],f&&f.nodeType?f.ownerDocument||f:E,!0)),Ub.test(b[1])&&d.isPlainObject(f))for(b in f)d.isFunction(this[b])?
this[b](f[b]):this.attr(b,f[b]);return this}return q=E.getElementById(b[2]),q&&(this[0]=q,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):d.isFunction(c)?void 0!==a.ready?a.ready(c):c(d):d.makeArray(c,this)}).prototype=d.fn;var cc=d(E);var dc=/^(?:parents|prev(?:Until|All))/,ec={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(c){var f=d(c,this),a=f.length;return this.filter(function(){for(var c=0;c<a;c++)if(d.contains(this,f[c]))return!0})},closest:function(c,
f){var a,b=0,g=this.length,k=[],e="string"!=typeof c&&d(c);if(!Tb.test(c))for(;b<g;b++)for(a=this[b];a&&a!==f;a=a.parentNode)if(11>a.nodeType&&(e?-1<e.index(a):1===a.nodeType&&d.find.matchesSelector(a,c))){k.push(a);break}return this.pushStack(1<k.length?d.uniqueSort(k):k)},index:function(c){return c?"string"==typeof c?J.call(d(c),this[0]):J.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,f){return this.pushStack(d.uniqueSort(d.merge(this.get(),
d(c,f))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});d.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return wb(c,"parentNode")},parentsUntil:function(c,f,a){return wb(c,"parentNode",a)},next:function(c){return w(c,"nextSibling")},prev:function(c){return w(c,"previousSibling")},nextAll:function(c){return wb(c,"nextSibling")},prevAll:function(c){return wb(c,"previousSibling")},nextUntil:function(c,f,a){return wb(c,
"nextSibling",a)},prevUntil:function(c,f,a){return wb(c,"previousSibling",a)},siblings:function(c){return Sb((c.parentNode||{}).firstChild,c)},children:function(c){return Sb(c.firstChild)},contents:function(c){return m(c,"iframe")?c.contentDocument:(m(c,"template")&&(c=c.content||c),d.merge([],c.childNodes))}},function(c,f){d.fn[c]=function(a,b){var q=d.map(this,f,a);return"Until"!==c.slice(-5)&&(b=a),b&&"string"==typeof b&&(q=d.filter(b,q)),1<this.length&&(ec[c]||d.uniqueSort(q),dc.test(c)&&q.reverse()),
this.pushStack(q)}});var za=/[^\x20\t\r\n\f]+/g;d.Callbacks=function(c){c="string"==typeof c?t(c):d.extend({},c);var f,a,b,g,k=[],e=[],l=-1,r=function(){g=g||c.once;for(b=f=!0;e.length;l=-1)for(a=e.shift();++l<k.length;)!1===k[l].apply(a[0],a[1])&&c.stopOnFalse&&(l=k.length,a=!1);c.memory||(a=!1);f=!1;g&&(k=a?[]:"")},h={add:function(){return k&&(a&&!f&&(l=k.length-1,e.push(a)),function Zb(f){d.each(f,function(f,a){d.isFunction(a)?c.unique&&h.has(a)||k.push(a):a&&a.length&&"string"!==d.type(a)&&Zb(a)})}(arguments),
a&&!f&&r()),this},remove:function(){return d.each(arguments,function(c,f){for(var a;-1<(a=d.inArray(f,k,a));)k.splice(a,1),a<=l&&l--}),this},has:function(c){return c?-1<d.inArray(c,k):0<k.length},empty:function(){return k&&(k=[]),this},disable:function(){return g=e=[],k=a="",this},disabled:function(){return!k},lock:function(){return g=e=[],a||f||(k=a=""),this},locked:function(){return!!g},fireWith:function(c,a){return g||(a=a||[],a=[c,a.slice?a.slice():a],e.push(a),f||r()),this},fire:function(){return h.fireWith(this,
arguments),this},fired:function(){return!!b}};return h};d.extend({Deferred:function(c){var f=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],b="pending",g={state:function(){return b},always:function(){return k.done(arguments).fail(arguments),this},"catch":function(c){return g.then(null,c)},pipe:function(){var c=
arguments;return d.Deferred(function(a){d.each(f,function(f,b){var q=d.isFunction(c[b[4]])&&c[b[4]];k[b[1]](function(){var c=q&&q.apply(this,arguments);c&&d.isFunction(c.promise)?c.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[b[0]+"With"](this,q?[c]:arguments)})});c=null}).promise()},then:function(c,b,q){function g(c,f,b,q){return function(){var e=this,u=arguments,l=function(){var a;if(!(c<k)){if(a=b.apply(e,u),a===f.promise())throw new TypeError("Thenable self-resolution");var l=
a&&("object"==typeof a||"function"==typeof a)&&a.then;d.isFunction(l)?q?l.call(a,g(k,f,x,q),g(k,f,D,q)):(k++,l.call(a,g(k,f,x,q),g(k,f,D,q),g(k,f,x,f.notifyWith))):(b!==x&&(e=void 0,u=[a]),(q||f.resolveWith)(e,u))}},r=q?l:function(){try{l()}catch(Rb){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Rb,r.stackTrace),c+1>=k&&(b!==D&&(e=void 0,u=[Rb]),f.rejectWith(e,u))}};c?r():(d.Deferred.getStackHook&&(r.stackTrace=d.Deferred.getStackHook()),a.setTimeout(r))}}var k=0;return d.Deferred(function(a){f[0][3].add(g(0,
a,d.isFunction(q)?q:x,a.notifyWith));f[1][3].add(g(0,a,d.isFunction(c)?c:x));f[2][3].add(g(0,a,d.isFunction(b)?b:D))}).promise()},promise:function(c){return null!=c?d.extend(c,g):g}},k={};return d.each(f,function(c,a){var d=a[2],q=a[5];g[a[1]]=d.add;q&&d.add(function(){b=q},f[3-c][2].disable,f[0][2].lock);d.add(a[3].fire);k[a[0]]=function(){return k[a[0]+"With"](this===k?void 0:this,arguments),this};k[a[0]+"With"]=d.fireWith}),g.promise(k),c&&c.call(k,k),k},when:function(c){var a=arguments.length,
b=a,g=Array(b),k=Ja.call(arguments),e=d.Deferred(),l=function(c){return function(f){g[c]=this;k[c]=1<arguments.length?Ja.call(arguments):f;--a||e.resolveWith(g,k)}};if(1>=a&&(y(c,e.done(l(b)).resolve,e.reject,!a),"pending"===e.state()||d.isFunction(k[b]&&k[b].then)))return e.then();for(;b--;)y(k[b],l(b),e.reject);return e.promise()}});var fc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(c,f){a.console&&a.console.warn&&c&&fc.test(c.name)&&a.console.warn("jQuery.Deferred exception: "+
c.message,c.stack,f)};d.readyException=function(c){a.setTimeout(function(){throw c;})};var Ob=d.Deferred();d.fn.ready=function(c){return Ob.then(c)["catch"](function(c){d.readyException(c)}),this};d.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--d.readyWait:d.isReady)||(d.isReady=!0,!0!==c&&0<--d.readyWait||Ob.resolveWith(E,[d]))}});d.ready.then=Ob.then;"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?a.setTimeout(d.ready):(E.addEventListener("DOMContentLoaded",
L),a.addEventListener("load",L));var v=function(c,a,b,g,k,e,l){var f=0,q=c.length,u=null==b;if("object"===d.type(b))for(f in k=!0,b)v(c,a,f,b[f],!0,e,l);else if(void 0!==g&&(k=!0,d.isFunction(g)||(l=!0),u&&(l?(a.call(c,g),a=null):(u=a,a=function(c,a,f){return u.call(d(c),f)})),a))for(;f<q;f++)a(c[f],b,l?g:g.call(c[f],f,a(c[f],b)));return k?c:u?a.call(c):q?a(c[0],b):e},Hb=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};Aa.uid=1;Aa.prototype={cache:function(c){var a=c[this.expando];
return a||(a={},Hb(c)&&(c.nodeType?c[this.expando]=a:Object.defineProperty(c,this.expando,{value:a,configurable:!0}))),a},set:function(c,a,b){var f;c=this.cache(c);if("string"==typeof a)c[d.camelCase(a)]=b;else for(f in a)c[d.camelCase(f)]=a[f];return c},get:function(c,a){return void 0===a?this.cache(c):c[this.expando]&&c[this.expando][d.camelCase(a)]},access:function(c,a,d){return void 0===a||a&&"string"==typeof a&&void 0===d?this.get(c,a):(this.set(c,a,d),void 0!==d?d:a)},remove:function(c,a){var f,
b=c[this.expando];if(void 0!==b){if(void 0!==a)for(Array.isArray(a)?a=a.map(d.camelCase):(a=d.camelCase(a),a=a in b?[a]:a.match(za)||[]),f=a.length;f--;)delete b[a[f]];(void 0===a||d.isEmptyObject(b))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!d.isEmptyObject(c)}};var F=new Aa,W=new Aa,Ia=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xb=/[A-Z]/g;d.extend({hasData:function(c){return W.hasData(c)||F.hasData(c)},data:function(c,a,d){return W.access(c,
a,d)},removeData:function(c,a){W.remove(c,a)},_data:function(c,a,d){return F.access(c,a,d)},_removeData:function(c,a){F.remove(c,a)}});d.fn.extend({data:function(c,a){var f,b,g,k=this[0],e=k&&k.attributes;if(void 0===c){if(this.length&&(g=W.get(k),1===k.nodeType&&!F.get(k,"hasDataAttrs"))){for(f=e.length;f--;)e[f]&&(b=e[f].name,0===b.indexOf("data-")&&(b=d.camelCase(b.slice(5)),ta(k,b,g[b])));F.set(k,"hasDataAttrs",!0)}return g}return"object"==typeof c?this.each(function(){W.set(this,c)}):v(this,
function(a){var f;if(k&&void 0===a){if((f=W.get(k,c),void 0!==f)||(f=ta(k,c),void 0!==f))return f}else this.each(function(){W.set(this,c,a)})},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){W.remove(this,c)})}});d.extend({queue:function(c,a,b){var f;if(c)return a=(a||"fx")+"queue",f=F.get(c,a),b&&(!f||Array.isArray(b)?f=F.access(c,a,d.makeArray(b)):f.push(b)),f||[]},dequeue:function(c,a){a=a||"fx";var f=d.queue(c,a),b=f.length,g=f.shift(),k=d._queueHooks(c,
a),e=function(){d.dequeue(c,a)};"inprogress"===g&&(g=f.shift(),b--);g&&("fx"===a&&f.unshift("inprogress"),delete k.stop,g.call(c,e,k));!b&&k&&k.empty.fire()},_queueHooks:function(c,a){var f=a+"queueHooks";return F.get(c,f)||F.access(c,f,{empty:d.Callbacks("once memory").add(function(){F.remove(c,[a+"queue",f])})})}});d.fn.extend({queue:function(c,a){var f=2;return"string"!=typeof c&&(a=c,c="fx",f--),arguments.length<f?d.queue(this[0],c):void 0===a?this:this.each(function(){var f=d.queue(this,c,a);
d._queueHooks(this,c);"fx"===c&&"inprogress"!==f[0]&&d.dequeue(this,c)})},dequeue:function(c){return this.each(function(){d.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var f,b=1,g=d.Deferred(),k=this,e=this.length,l=function(){--b||g.resolveWith(k,[k])};"string"!=typeof c&&(a=c,c=void 0);for(c=c||"fx";e--;)(f=F.get(k[e],c+"queueHooks"))&&f.empty&&(b++,f.empty.add(l));return l(),g.promise(a)}});var Db=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,M=
new RegExp("^(?:([+-])=|)("+Db+")([a-z%]*)$","i"),aa=["Top","Right","Bottom","Left"],Va=function(c,a){return c=a||c,"none"===c.style.display||""===c.style.display&&d.contains(c.ownerDocument,c)&&"none"===d.css(c,"display")},ua=function(c,a,d,b){var f,g={};for(f in a)g[f]=c.style[f],c.style[f]=a[f];d=d.apply(c,b||[]);for(f in a)c.style[f]=g[f];return d},Qa={};d.fn.extend({show:function(){return Da(this,!0)},hide:function(){return Da(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():
this.hide():this.each(function(){Va(this)?d(this).show():d(this).hide()})}});var A=/^(?:checkbox|radio)$/i,Qb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,g=/^$|\/(?:java|ecma)script/i,z={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};z.optgroup=z.option;z.tbody=z.tfoot=z.colgroup=z.caption=z.thead;z.th=z.td;
var Ga=/<|&#?\w+;/;!function(){var c=E.createDocumentFragment().appendChild(E.createElement("div")),a=E.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");c.appendChild(a);K.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";K.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Z=E.documentElement,Za=/^key/,S=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qa=/^([^.]*)(?:\.(.+)|)/;
d.event={global:{},add:function(c,a,b,g,k){var f,q,e,l,u,r,h,m;if(l=F.get(c))for(b.handler&&(f=b,b=f.handler,k=f.selector),k&&d.find.matchesSelector(Z,k),b.guid||(b.guid=d.guid++),(e=l.events)||(e=l.events={}),(q=l.handle)||(q=l.handle=function(a){return"undefined"!=typeof d&&d.event.triggered!==a.type?d.event.dispatch.apply(c,arguments):void 0}),a=(a||"").match(za)||[""],l=a.length;l--;){var H=qa.exec(a[l])||[];var p=m=H[1];H=(H[2]||"").split(".").sort();p&&(r=d.event.special[p]||{},p=(k?r.delegateType:
r.bindType)||p,r=d.event.special[p]||{},u=d.extend({type:p,origType:m,data:g,handler:b,guid:b.guid,selector:k,needsContext:k&&d.expr.match.needsContext.test(k),namespace:H.join(".")},f),(h=e[p])||(h=e[p]=[],h.delegateCount=0,r.setup&&!1!==r.setup.call(c,g,H,q)||c.addEventListener&&c.addEventListener(p,q)),r.add&&(r.add.call(c,u),u.handler.guid||(u.handler.guid=b.guid)),k?h.splice(h.delegateCount++,0,u):h.push(u),d.event.global[p]=!0)}},remove:function(c,a,b,g,k){var f,q,e,l,u,r,h,m,H=F.hasData(c)&&
F.get(c);if(H&&(l=H.events)){a=(a||"").match(za)||[""];for(u=a.length;u--;)if(e=qa.exec(a[u])||[],r=m=e[1],h=(e[2]||"").split(".").sort(),r){var p=d.event.special[r]||{};r=(g?p.delegateType:p.bindType)||r;var n=l[r]||[];e=e[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)");for(q=f=n.length;f--;){var O=n[f];!k&&m!==O.origType||b&&b.guid!==O.guid||e&&!e.test(O.namespace)||g&&g!==O.selector&&("**"!==g||!O.selector)||(n.splice(f,1),O.selector&&n.delegateCount--,p.remove&&p.remove.call(c,O))}q&&
!n.length&&(p.teardown&&!1!==p.teardown.call(c,h,H.handle)||d.removeEvent(c,r,H.handle),delete l[r])}else for(r in l)d.event.remove(c,r+a[u],b,g,!0);d.isEmptyObject(l)&&F.remove(c,"handle events")}},dispatch:function(c){var a=d.event.fix(c),b,g,k,e,l=Array(arguments.length);var r=(F.get(this,"events")||{})[a.type]||[];var h=d.event.special[a.type]||{};l[0]=a;for(b=1;b<arguments.length;b++)l[b]=arguments[b];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){var m=d.event.handlers.call(this,
a,r);for(b=0;(k=m[b++])&&!a.isPropagationStopped();)for(a.currentTarget=k.elem,r=0;(e=k.handlers[r++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(e.namespace)||(a.handleObj=e,a.data=e.data,g=((d.event.special[e.origType]||{}).handle||e.handler).apply(k.elem,l),void 0!==g&&!1===(a.result=g)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(c,a){var f,b=[],g=a.delegateCount,k=c.target;if(g&&k.nodeType&&
!("click"===c.type&&1<=c.button))for(;k!==this;k=k.parentNode||this)if(1===k.nodeType&&("click"!==c.type||!0!==k.disabled)){var e=[];var l={};for(f=0;f<g;f++){var r=a[f];var h=r.selector+" ";void 0===l[h]&&(l[h]=r.needsContext?-1<d(h,this).index(k):d.find(h,this,null,[k]).length);l[h]&&e.push(r)}e.length&&b.push({elem:k,handlers:e})}return k=this,g<a.length&&b.push({elem:k,handlers:a.slice(g)}),b},addProp:function(c,a){Object.defineProperty(d.Event.prototype,c,{enumerable:!0,configurable:!0,get:d.isFunction(a)?
function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(a){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(c){return c[d.expando]?c:new d.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ob()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ob()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&m(this,"input"))return this.click(),!1},_default:function(c){return m(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};d.removeEvent=function(c,a,d){c.removeEventListener&&c.removeEventListener(a,d)};d.Event=function(c,a){return this instanceof d.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===
c.defaultPrevented&&!1===c.returnValue?ka:da,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,a&&d.extend(this,a),this.timeStamp=c&&c.timeStamp||d.now(),void(this[d.expando]=!0)):new d.Event(c,a)};d.Event.prototype={constructor:d.Event,isDefaultPrevented:da,isPropagationStopped:da,isImmediatePropagationStopped:da,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=
ka;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=ka;c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=ka;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(c){var a=c.button;return null==c.which&&Za.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==a&&S.test(c.type)?1&a?1:2&a?3:4&a?2:0:c.which}},d.event.addProp);d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,a){d.event.special[c]=
{delegateType:a,bindType:a,handle:function(c){var f,b=c.relatedTarget,g=c.handleObj;return b&&(b===this||d.contains(this,b))||(c.type=g.origType,f=g.handler.apply(this,arguments),c.type=a),f}}});d.fn.extend({on:function(c,a,d,b){return hb(this,c,a,d,b)},one:function(c,a,d,b){return hb(this,c,a,d,b,1)},off:function(c,a,b){var f,g;if(c&&c.preventDefault&&c.handleObj)return f=c.handleObj,d(c.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if("object"==
typeof c){for(g in c)this.off(g,a,c[g]);return this}return!1!==a&&"function"!=typeof a||(b=a,a=void 0),!1===b&&(b=da),this.each(function(){d.event.remove(this,c,b,a)})}});var $a=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,eb=/<script|<style|<link/i,$b=/checked\s*(?:[^=]|=\s*.checked.)/i,ib=/^true\/(.*)/,va=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;d.extend({htmlPrefilter:function(c){return c.replace($a,"<$1></$2>")},clone:function(c,a,b){var f,g=
c.cloneNode(!0),k=d.contains(c.ownerDocument,c);if(!(K.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||d.isXMLDoc(c))){var q=ha(g);var e=ha(c);var l=0;for(f=e.length;l<f;l++){var r=e[l],h=q[l],m=h.nodeName.toLowerCase();"input"===m&&A.test(r.type)?h.checked=r.checked:"input"!==m&&"textarea"!==m||(h.defaultValue=r.defaultValue)}}if(a)if(b)for(e=e||ha(c),q=q||ha(g),l=0,f=e.length;l<f;l++)tb(e[l],q[l]);else tb(c,g);return q=ha(g,"script"),0<q.length&&La(q,!k&&ha(c,"script")),g},cleanData:function(c){for(var a,
b,g,k=d.event.special,e=0;void 0!==(b=c[e]);e++)if(Hb(b)){if(a=b[F.expando]){if(a.events)for(g in a.events)k[g]?d.event.remove(b,g):d.removeEvent(b,g,a.handle);b[F.expando]=void 0}b[W.expando]&&(b[W.expando]=void 0)}}});d.fn.extend({detach:function(c){return pb(this,c,!0)},remove:function(c){return pb(this,c)},text:function(c){return v(this,function(c){return void 0===c?d.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,
c,arguments.length)},append:function(){return Ea(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xb(this,c).appendChild(c)})},prepend:function(){return Ea(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=xb(this,c);a.insertBefore(c,a.firstChild)}})},before:function(){return Ea(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Ea(this,arguments,function(c){this.parentNode&&
this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,a=0;null!=(c=this[a]);a++)1===c.nodeType&&(d.cleanData(ha(c,!1)),c.textContent="");return this},clone:function(c,a){return c=null!=c&&c,a=null==a?c:a,this.map(function(){return d.clone(this,c,a)})},html:function(c){return v(this,function(c){var a=this[0]||{},f=0,b=this.length;if(void 0===c&&1===a.nodeType)return a.innerHTML;if("string"==typeof c&&!eb.test(c)&&!z[(Qb.exec(c)||["",""])[1].toLowerCase()]){c=d.htmlPrefilter(c);
try{for(;f<b;f++)a=this[f]||{},1===a.nodeType&&(d.cleanData(ha(a,!1)),a.innerHTML=c);a=0}catch(Ca){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];return Ea(this,arguments,function(a){var f=this.parentNode;0>d.inArray(this,c)&&(d.cleanData(ha(this)),f&&f.replaceChild(a,this))},c)}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){d.fn[c]=function(c){for(var f=[],b=d(c),g=b.length-
1,k=0;k<=g;k++)c=k===g?this:this.clone(!0),d(b[k])[a](c),l.apply(f,c.get());return this.pushStack(f)}});var X=/^margin/,la=new RegExp("^("+Db+")(?!px)[a-z%]+$","i"),Q=function(c){var f=c.ownerDocument.defaultView;return f&&f.opener||(f=a),f.getComputedStyle(c)};!function(){function c(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";l.innerHTML="";Z.appendChild(e);var c=a.getComputedStyle(l);f="1%"!==c.top;k="2px"===
c.marginLeft;b="4px"===c.width;l.style.marginRight="50%";g="4px"===c.marginRight;Z.removeChild(e);l=null}}var f,b,g,k,e=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===l.style.backgroundClip,e.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",e.appendChild(l),d.extend(K,{pixelPosition:function(){return c(),f},boxSizingReliable:function(){return c(),
b},pixelMarginRight:function(){return c(),g},reliableMarginLeft:function(){return c(),k}}))}();var fb=/^(none|table(?!-c[ea]).+)/,lb=/^--/,mb={position:"absolute",visibility:"hidden",display:"block"},ab={letterSpacing:"0",fontWeight:"400"},p=["Webkit","Moz","ms"],na=E.createElement("div").style;d.extend({cssHooks:{opacity:{get:function(c,a){if(a){var f=db(c,"opacity");return""===f?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,
lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,a,b,g){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var f,k,e,q=d.camelCase(a),l=lb.test(a),u=c.style;return l||(a=ub(q)),e=d.cssHooks[a]||d.cssHooks[q],void 0===b?e&&"get"in e&&void 0!==(f=e.get(c,!1,g))?f:u[a]:(k=typeof b,"string"===k&&(f=M.exec(b))&&f[1]&&(b=Fa(c,a,f),k="number"),null!=b&&b===b&&("number"===k&&(b+=f&&f[3]||(d.cssNumber[q]?"":"px")),K.clearCloneStyle||""!==
b||0!==a.indexOf("background")||(u[a]="inherit"),e&&"set"in e&&void 0===(b=e.set(c,b,g))||(l?u.setProperty(a,b):u[a]=b)),void 0)}},css:function(c,a,b,g){var f,k,e,q=d.camelCase(a);return lb.test(a)||(a=ub(q)),e=d.cssHooks[a]||d.cssHooks[q],e&&"get"in e&&(f=e.get(c,!0,b)),void 0===f&&(f=db(c,a,g)),"normal"===f&&a in ab&&(f=ab[a]),""===b||b?(k=parseFloat(f),!0===b||isFinite(k)?k||0:f):f}});d.each(["height","width"],function(c,a){d.cssHooks[a]={get:function(c,f,b){if(f)return!fb.test(d.css(c,"display"))||
c.getClientRects().length&&c.getBoundingClientRect().width?Ab(c,a,b):ua(c,mb,function(){return Ab(c,a,b)})},set:function(c,f,b){var g,k=b&&Q(c);b=b&&Eb(c,a,b,"border-box"===d.css(c,"boxSizing",!1,k),k);return b&&(g=M.exec(f))&&"px"!==(g[3]||"px")&&(c.style[a]=f,f=d.css(c,a)),zb(c,f,b)}}});d.cssHooks.marginLeft=qb(K.reliableMarginLeft,function(c,a){if(a)return(parseFloat(db(c,"marginLeft"))||c.getBoundingClientRect().left-ua(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});
d.each({margin:"",padding:"",border:"Width"},function(c,a){d.cssHooks[c+a]={expand:function(f){var d=0,b={};for(f="string"==typeof f?f.split(" "):[f];4>d;d++)b[c+aa[d]+a]=f[d]||f[d-2]||f[0];return b}};X.test(c)||(d.cssHooks[c+a].set=zb)});d.fn.extend({css:function(c,a){return v(this,function(c,a,f){var b,g={},k=0;if(Array.isArray(a)){f=Q(c);for(b=a.length;k<b;k++)g[a[k]]=d.css(c,a[k],!1,f);return g}return void 0!==f?d.style(c,a,f):d.css(c,a)},c,a,1<arguments.length)}});d.Tween=ba;ba.prototype={constructor:ba,
init:function(c,a,b,g,k,e){this.elem=c;this.prop=b;this.easing=k||d.easing._default;this.options=a;this.start=this.now=this.cur();this.end=g;this.unit=e||(d.cssNumber[b]?"":"px")},cur:function(){var c=ba.propHooks[this.prop];return c&&c.get?c.get(this):ba.propHooks._default.get(this)},run:function(c){var a,b=ba.propHooks[this.prop];return this.options.duration?this.pos=a=d.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=a=c,this.now=(this.end-this.start)*a+this.start,
this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):ba.propHooks._default.set(this),this}};ba.prototype.init.prototype=ba.prototype;ba.propHooks={_default:{get:function(c){var a;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(a=d.css(c.elem,c.prop,""),a&&"auto"!==a?a:0)},set:function(c){d.fx.step[c.prop]?d.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[d.cssProps[c.prop]]&&!d.cssHooks[c.prop]?c.elem[c.prop]=
c.now:d.style(c.elem,c.prop,c.now+c.unit)}}};ba.propHooks.scrollTop=ba.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};d.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};d.fx=ba.prototype.init;d.fx.step={};var Y,oa,Pa=/^(?:toggle|show|hide)$/,Ta=/queueHooks$/;d.Animation=d.extend(wa,{tweeners:{"*":[function(c,a){var f=this.createTween(c,a);return Fa(f.elem,c,M.exec(a),f),f}]},tweener:function(c,
a){d.isFunction(c)?(a=c,c=["*"]):c=c.match(za);for(var f,b=0,g=c.length;b<g;b++)f=c[b],wa.tweeners[f]=wa.tweeners[f]||[],wa.tweeners[f].unshift(a)},prefilters:[function(c,a,b){var f,g,k,e,l,q,r,h,m="width"in a||"height"in a,p=this,n={},O=c.style,J=c.nodeType&&Va(c),I=F.get(c,"fxshow");b.queue||(e=d._queueHooks(c,"fx"),null==e.unqueued&&(e.unqueued=0,l=e.empty.fire,e.empty.fire=function(){e.unqueued||l()}),e.unqueued++,p.always(function(){p.always(function(){e.unqueued--;d.queue(c,"fx").length||e.empty.fire()})}));
for(f in a)if(g=a[f],Pa.test(g)){if(delete a[f],k=k||"toggle"===g,g===(J?"hide":"show")){if("show"!==g||!I||void 0===I[f])continue;J=!0}n[f]=I&&I[f]||d.style(c,f)}if(q=!d.isEmptyObject(a),q||!d.isEmptyObject(n))for(f in m&&1===c.nodeType&&(b.overflow=[O.overflow,O.overflowX,O.overflowY],r=I&&I.display,null==r&&(r=F.get(c,"display")),h=d.css(c,"display"),"none"===h&&(r?h=r:(Da([c],!0),r=c.style.display||r,h=d.css(c,"display"),Da([c]))),("inline"===h||"inline-block"===h&&null!=r)&&"none"===d.css(c,
"float")&&(q||(p.done(function(){O.display=r}),null==r&&(h=O.display,r="none"===h?"":h)),O.display="inline-block")),b.overflow&&(O.overflow="hidden",p.always(function(){O.overflow=b.overflow[0];O.overflowX=b.overflow[1];O.overflowY=b.overflow[2]})),q=!1,n)q||(I?"hidden"in I&&(J=I.hidden):I=F.access(c,"fxshow",{display:r}),k&&(I.hidden=!J),J&&Da([c],!0),p.done(function(){J||Da([c]);F.remove(c,"fxshow");for(f in n)d.style(c,f,n[f])})),q=Gb(J?I[f]:0,f,p),f in I||(I[f]=q.start,J&&(q.end=q.start,q.start=
0))}],prefilter:function(c,a){a?wa.prefilters.unshift(c):wa.prefilters.push(c)}});d.speed=function(c,a,b){var f=c&&"object"==typeof c?d.extend({},c):{complete:b||!b&&a||d.isFunction(c)&&c,duration:c,easing:b&&a||a&&!d.isFunction(a)&&a};return d.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration in d.fx.speeds?f.duration=d.fx.speeds[f.duration]:f.duration=d.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){d.isFunction(f.old)&&f.old.call(this);
f.queue&&d.dequeue(this,f.queue)},f};d.fn.extend({fadeTo:function(c,a,b,d){return this.filter(Va).css("opacity",0).show().end().animate({opacity:a},c,b,d)},animate:function(c,a,b,g){var f=d.isEmptyObject(c),k=d.speed(a,b,g);a=function(){var a=wa(this,d.extend({},c),k);(f||F.get(this,"finish"))&&a.stop(!0)};return a.finish=a,f||!1===k.queue?this.each(a):this.queue(k.queue,a)},stop:function(c,a,b){var f=function(c){var a=c.stop;delete c.stop;a(b)};return"string"!=typeof c&&(b=a,a=c,c=void 0),a&&!1!==
c&&this.queue(c||"fx",[]),this.each(function(){var a=!0,g=null!=c&&c+"queueHooks",k=d.timers,e=F.get(this);if(g)e[g]&&e[g].stop&&f(e[g]);else for(g in e)e[g]&&e[g].stop&&Ta.test(g)&&f(e[g]);for(g=k.length;g--;)k[g].elem!==this||null!=c&&k[g].queue!==c||(k[g].anim.stop(b),a=!1,k.splice(g,1));!a&&b||d.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var a=F.get(this),b=a[c+"queue"];var g=a[c+"queueHooks"];var k=d.timers,e=b?b.length:0;a.finish=!0;d.queue(this,c,[]);
g&&g.stop&&g.stop.call(this,!0);for(g=k.length;g--;)k[g].elem===this&&k[g].queue===c&&(k[g].anim.stop(!0),k.splice(g,1));for(g=0;g<e;g++)b[g]&&b[g].finish&&b[g].finish.call(this);delete a.finish})}});d.each(["toggle","show","hide"],function(c,a){var f=d.fn[a];d.fn[a]=function(c,b,d){return null==c||"boolean"==typeof c?f.apply(this,arguments):this.animate(Ya(a,!0),c,b,d)}});d.each({slideDown:Ya("show"),slideUp:Ya("hide"),slideToggle:Ya("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(c,a){d.fn[c]=function(c,f,b){return this.animate(a,c,f,b)}});d.timers=[];d.fx.tick=function(){var c=0,a=d.timers;for(Y=d.now();c<a.length;c++){var b=a[c];b()||a[c]!==b||a.splice(c--,1)}a.length||d.fx.stop();Y=void 0};d.fx.timer=function(c){d.timers.push(c);d.fx.start()};d.fx.interval=13;d.fx.start=function(){oa||(oa=!0,jb())};d.fx.stop=function(){oa=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fn.delay=function(c,f){return c=d.fx?d.fx.speeds[c]||c:c,f=f||"fx",this.queue(f,function(f,
b){var d=a.setTimeout(f,c);b.stop=function(){a.clearTimeout(d)}})};(function(){var c=E.createElement("input"),a=E.createElement("select").appendChild(E.createElement("option"));c.type="checkbox";K.checkOn=""!==c.value;K.optSelected=a.selected;c=E.createElement("input");c.value="t";c.type="radio";K.radioValue="t"===c.value})();var G=d.expr.attrHandle;d.fn.extend({attr:function(c,a){return v(this,d.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){d.removeAttr(this,c)})}});
d.extend({attr:function(c,a,b){var f,g,k=c.nodeType;if(3!==k&&8!==k&&2!==k)return"undefined"==typeof c.getAttribute?d.prop(c,a,b):(1===k&&d.isXMLDoc(c)||(g=d.attrHooks[a.toLowerCase()]||(d.expr.match.bool.test(a)?B:void 0)),void 0!==b?null===b?void d.removeAttr(c,a):g&&"set"in g&&void 0!==(f=g.set(c,b,a))?f:(c.setAttribute(a,b+""),b):g&&"get"in g&&null!==(f=g.get(c,a))?f:(f=d.find.attr(c,a),null==f?void 0:f))},attrHooks:{type:{set:function(c,a){if(!K.radioValue&&"radio"===a&&m(c,"input")){var f=c.value;
return c.setAttribute("type",a),f&&(c.value=f),a}}}},removeAttr:function(c,a){var f,b=0,d=a&&a.match(za);if(d&&1===c.nodeType)for(;f=d[b++];)c.removeAttribute(f)}});var B={set:function(c,a,b){return!1===a?d.removeAttr(c,b):c.setAttribute(b,b),b}};d.each(d.expr.match.bool.source.match(/\w+/g),function(c,a){var f=G[a]||d.find.attr;G[a]=function(c,a,b){var d,g,k=a.toLowerCase();return b||(g=G[k],G[k]=d,d=null!=f(c,a,b)?k:null,G[k]=g),d}});var O=/^(?:input|select|textarea|button)$/i,C=/^(?:a|area)$/i;
d.fn.extend({prop:function(c,a){return v(this,d.prop,c,a,1<arguments.length)},removeProp:function(c){return this.each(function(){delete this[d.propFix[c]||c]})}});d.extend({prop:function(c,a,b){var f,g,k=c.nodeType;if(3!==k&&8!==k&&2!==k)return 1===k&&d.isXMLDoc(c)||(a=d.propFix[a]||a,g=d.propHooks[a]),void 0!==b?g&&"set"in g&&void 0!==(f=g.set(c,b,a))?f:c[a]=b:g&&"get"in g&&null!==(f=g.get(c,a))?f:c[a]},propHooks:{tabIndex:{get:function(c){var a=d.find.attr(c,"tabindex");return a?parseInt(a,10):
O.test(c.nodeName)||C.test(c.nodeName)&&c.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});K.optSelected||(d.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});d.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){d.propFix[this.toLowerCase()]=this});d.fn.extend({addClass:function(c){var a,
b,g,k,e,l,r=0;if(d.isFunction(c))return this.each(function(a){d(this).addClass(c.call(this,a,Ba(this)))});if("string"==typeof c&&c)for(a=c.match(za)||[];b=this[r++];)if(k=Ba(b),g=1===b.nodeType&&" "+xa(k)+" "){for(l=0;e=a[l++];)0>g.indexOf(" "+e+" ")&&(g+=e+" ");g=xa(g);k!==g&&b.setAttribute("class",g)}return this},removeClass:function(c){var a,b,g,k,e,l,r=0;if(d.isFunction(c))return this.each(function(a){d(this).removeClass(c.call(this,a,Ba(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof c&&c)for(a=c.match(za)||[];b=this[r++];)if(k=Ba(b),g=1===b.nodeType&&" "+xa(k)+" "){for(l=0;e=a[l++];)for(;-1<g.indexOf(" "+e+" ");)g=g.replace(" "+e+" "," ");g=xa(g);k!==g&&b.setAttribute("class",g)}return this},toggleClass:function(c,a){var f=typeof c;return"boolean"==typeof a&&"string"===f?a?this.addClass(c):this.removeClass(c):d.isFunction(c)?this.each(function(f){d(this).toggleClass(c.call(this,f,Ba(this),a),a)}):this.each(function(){var a,b;if("string"===f){var g=0;var k=
d(this);for(b=c.match(za)||[];a=b[g++];)k.hasClass(a)?k.removeClass(a):k.addClass(a)}else void 0!==c&&"boolean"!==f||(a=Ba(this),a&&F.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===c?"":F.get(this,"__className__")||""))})},hasClass:function(c){var a,b=0;for(c=" "+c+" ";a=this[b++];)if(1===a.nodeType&&-1<(" "+xa(Ba(a))+" ").indexOf(c))return!0;return!1}});var R=/\r/g;d.fn.extend({val:function(c){var a,b,g,k=this[0];if(arguments.length)return g=d.isFunction(c),this.each(function(f){var b;
1===this.nodeType&&(b=g?c.call(this,f,d(this).val()):c,null==b?b="":"number"==typeof b?b+="":Array.isArray(b)&&(b=d.map(b,function(c){return null==c?"":c+""})),a=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,b,"value")||(this.value=b))});if(k)return a=d.valHooks[k.type]||d.valHooks[k.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(b=a.get(k,"value"))?b:(b=k.value,"string"==typeof b?b.replace(R,""):null==b?"":b)}});d.extend({valHooks:{option:{get:function(c){var a=
d.find.attr(c,"value");return null!=a?a:xa(d.text(c))}},select:{get:function(c){var a,b,g=c.options,k=c.selectedIndex,e="select-one"===c.type,l=e?null:[],r=e?k+1:g.length;for(b=0>k?r:e?k:0;b<r;b++)if(a=g[b],!(!a.selected&&b!==k||a.disabled||a.parentNode.disabled&&m(a.parentNode,"optgroup"))){if(c=d(a).val(),e)return c;l.push(c)}return l},set:function(c,a){for(var f,b,g=c.options,k=d.makeArray(a),e=g.length;e--;)b=g[e],(b.selected=-1<d.inArray(d.valHooks.option.get(b),k))&&(f=!0);return f||(c.selectedIndex=
-1),k}}}});d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(c,a){if(Array.isArray(a))return c.checked=-1<d.inArray(d(c).val(),a)}};K.checkOn||(d.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var ra=/^(?:focusinfocus|focusoutblur)$/;d.extend(d.event,{trigger:function(c,f,b,g){var k,e,l,r,q,h=[b||E],m=ja.call(c,"type")?c.type:c;var p=ja.call(c,"namespace")?c.namespace.split("."):[];if(k=e=b=b||E,3!==b.nodeType&&8!==b.nodeType&&!ra.test(m+
d.event.triggered)&&(-1<m.indexOf(".")&&(p=m.split("."),m=p.shift(),p.sort()),l=0>m.indexOf(":")&&"on"+m,c=c[d.expando]?c:new d.Event(m,"object"==typeof c&&c),c.isTrigger=g?2:3,c.namespace=p.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=b),f=null==f?[c]:d.makeArray(f,[c]),q=d.event.special[m]||{},g||!q.trigger||!1!==q.trigger.apply(b,f))){if(!g&&!q.noBubble&&!d.isWindow(b)){var n=q.delegateType||m;for(ra.test(n+
m)||(k=k.parentNode);k;k=k.parentNode)h.push(k),e=k;e===(b.ownerDocument||E)&&h.push(e.defaultView||e.parentWindow||a)}for(p=0;(k=h[p++])&&!c.isPropagationStopped();)c.type=1<p?n:q.bindType||m,(r=(F.get(k,"events")||{})[c.type]&&F.get(k,"handle"))&&r.apply(k,f),(r=l&&k[l])&&r.apply&&Hb(k)&&(c.result=r.apply(k,f),!1===c.result&&c.preventDefault());return c.type=m,g||c.isDefaultPrevented()||q._default&&!1!==q._default.apply(h.pop(),f)||!Hb(b)||l&&d.isFunction(b[m])&&!d.isWindow(b)&&(e=b[l],e&&(b[l]=
null),d.event.triggered=m,b[m](),d.event.triggered=void 0,e&&(b[l]=e)),c.result}},simulate:function(c,a,b){c=d.extend(new d.Event,b,{type:c,isSimulated:!0});d.event.trigger(c,null,a)}});d.fn.extend({trigger:function(c,a){return this.each(function(){d.event.trigger(c,a,this)})},triggerHandler:function(c,a){var f=this[0];if(f)return d.event.trigger(c,a,f,!0)}});d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(c,a){d.fn[a]=function(c,f){return 0<arguments.length?this.on(a,null,c,f):this.trigger(a)}});d.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)}});K.focusin="onfocusin"in a;K.focusin||d.each({focus:"focusin",blur:"focusout"},function(c,a){var f=function(c){d.event.simulate(a,c.target,d.event.fix(c))};d.event.special[a]={setup:function(){var b=this.ownerDocument||this,d=F.access(b,a);d||b.addEventListener(c,f,!0);F.access(b,a,(d||0)+1)},teardown:function(){var b=this.ownerDocument||
this,d=F.access(b,a)-1;d?F.access(b,a,d):(b.removeEventListener(c,f,!0),F.remove(b,a))}}});var Na=a.location,V=d.now(),Ua=/\?/;d.parseXML=function(c){if(!c||"string"!=typeof c)return null;try{var f=(new a.DOMParser).parseFromString(c,"text/xml")}catch(q){f=void 0}return f&&!f.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+c),f};var Oa=/\[\]$/,Vb=/\r?\n/g,k=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i;d.param=function(c,a){var f,b=[],g=function(c,
a){var f=d.isFunction(a)?a():a;b[b.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==f?"":f)};if(Array.isArray(c)||c.jquery&&!d.isPlainObject(c))d.each(c,function(){g(this.name,this.value)});else for(f in c)kb(f,c[f],a,g);return b.join("&")};d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=d.prop(this,"elements");return c?d.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!d(this).is(":disabled")&&
r.test(this.nodeName)&&!k.test(c)&&(this.checked||!A.test(c))}).map(function(c,a){var f=d(this).val();return null==f?null:Array.isArray(f)?d.map(f,function(c){return{name:a.name,value:c.replace(Vb,"\r\n")}}):{name:a.name,value:f.replace(Vb,"\r\n")}}).get()}});var I=/%20/g,ca=/#.*$/,T=/([?&])_=[^&]*/,Ka=/^(.*?):[ \t]*([^\r\n]*)$/gm,fa=/^(?:GET|HEAD)$/,nb=/^\/\//,sa={},Bb={},bb="*/".concat("*"),ya=E.createElement("a");ya.href=Na.href;d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Na.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Na.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?ia(ia(c,d.ajaxSettings),a):ia(d.ajaxSettings,c)},ajaxPrefilter:vb(sa),ajaxTransport:vb(Bb),ajax:function(c,f){function b(c,f,b,e){var h,q,m,I=f;if(!v){v=!0;l&&a.clearTimeout(l);g=void 0;k=e||"";P.readyState=0<c?4:0;e=200<=c&&300>c||304===c;if(b){var u=p;for(var ca=P,pa,t,C,w,y=u.contents,T=u.dataTypes;"*"===T[0];)T.shift(),void 0===pa&&(pa=u.mimeType||ca.getResponseHeader("Content-Type"));if(pa)for(t in y)if(y[t]&&
y[t].test(pa)){T.unshift(t);break}if(T[0]in b)C=T[0];else{for(t in b){if(!T[0]||u.converters[t+" "+T[0]]){C=t;break}w||(w=t)}C=C||w}b=C?(C!==T[0]&&T.unshift(C),b[C]):void 0;u=b}a:{b=p;pa=u;t=P;C=e;var ja,R,fa;u={};ca=b.dataTypes.slice();if(ca[1])for(ja in b.converters)u[ja.toLowerCase()]=b.converters[ja];for(w=ca.shift();w;)if(b.responseFields[w]&&(t[b.responseFields[w]]=pa),!fa&&C&&b.dataFilter&&(pa=b.dataFilter(pa,b.dataType)),fa=w,w=ca.shift())if("*"===w)w=fa;else if("*"!==fa&&fa!==w){if(ja=u[fa+
" "+w]||u["* "+w],!ja)for(H in u)if(R=H.split(" "),R[1]===w&&(ja=u[fa+" "+R[0]]||u["* "+R[0]])){!0===ja?ja=u[H]:!0!==u[H]&&(w=R[0],ca.unshift(R[1]));break}if(!0!==ja)if(ja&&b["throws"])pa=ja(pa);else try{pa=ja(pa)}catch(ac){var H={state:"parsererror",error:ja?ac:"No conversion from "+fa+" to "+w};break a}}H={state:"success",data:pa}}u=H;e?(p.ifModified&&(m=P.getResponseHeader("Last-Modified"),m&&(d.lastModified[K]=m),m=P.getResponseHeader("etag"),m&&(d.etag[K]=m)),204===c||"HEAD"===p.type?I="nocontent":
304===c?I="notmodified":(I=u.state,h=u.data,q=u.error,e=!q)):(q=I,!c&&I||(I="error",0>c&&(c=0)));P.status=c;P.statusText=(f||I)+"";e?J.resolveWith(n,[h,I,P]):J.rejectWith(n,[P,I,q]);P.statusCode(x);x=void 0;r&&O.trigger(e?"ajaxSuccess":"ajaxError",[P,p,e?h:q]);Sa.fireWith(n,[P,I]);r&&(O.trigger("ajaxComplete",[P,p]),--d.active||d.event.trigger("ajaxStop"))}}"object"==typeof c&&(f=c,c=void 0);f=f||{};var g,k,e,l,r,h,m,p=d.ajaxSetup({},f),n=p.context||p,O=p.context&&(n.nodeType||n.jquery)?d(n):d.event,
J=d.Deferred(),Sa=d.Callbacks("once memory"),x=p.statusCode||{},pa={},t={},C="canceled",P={readyState:0,getResponseHeader:function(c){var a;if(v){if(!e)for(e={};a=Ka.exec(k);)e[a[1].toLowerCase()]=a[2];a=e[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return v?k:null},setRequestHeader:function(c,a){return null==v&&(c=t[c.toLowerCase()]=t[c.toLowerCase()]||c,pa[c]=a),this},overrideMimeType:function(c){return null==v&&(p.mimeType=c),this},statusCode:function(c){var a;if(c)if(v)P.always(c[P.status]);
else for(a in c)x[a]=[x[a],c[a]];return this},abort:function(c){c=c||C;return g&&g.abort(c),b(0,c),this}};if(J.promise(P),p.url=((c||p.url||Na.href)+"").replace(nb,Na.protocol+"//"),p.type=f.method||f.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(za)||[""],null==p.crossDomain){var w=E.createElement("a");try{w.href=p.url,w.href=w.href,p.crossDomain=ya.protocol+"//"+ya.host!=w.protocol+"//"+w.host}catch(Nb){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&
(p.data=d.param(p.data,p.traditional)),Wa(sa,p,f,P),v)return P;(r=d.event&&p.global)&&0===d.active++&&d.event.trigger("ajaxStart");p.type=p.type.toUpperCase();p.hasContent=!fa.test(p.type);var K=p.url.replace(ca,"");p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(I,"+")):(m=p.url.slice(K.length),p.data&&(K+=(Ua.test(K)?"&":"?")+p.data,delete p.data),!1===p.cache&&(K=K.replace(T,"$1"),m=(Ua.test(K)?"&":"?")+"_="+V++ +
m),p.url=K+m);p.ifModified&&(d.lastModified[K]&&P.setRequestHeader("If-Modified-Since",d.lastModified[K]),d.etag[K]&&P.setRequestHeader("If-None-Match",d.etag[K]));(p.data&&p.hasContent&&!1!==p.contentType||f.contentType)&&P.setRequestHeader("Content-Type",p.contentType);P.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+bb+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)P.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===
p.beforeSend.call(n,P,p)||v))return P.abort();if(C="abort",Sa.add(p.complete),P.done(p.success),P.fail(p.error),g=Wa(Bb,p,f,P)){if(P.readyState=1,r&&O.trigger("ajaxSend",[P,p]),v)return P;p.async&&0<p.timeout&&(l=a.setTimeout(function(){P.abort("timeout")},p.timeout));try{var v=!1;g.send(pa,b)}catch(Nb){if(v)throw Nb;b(-1,Nb)}}else b(-1,"No Transport");return P},getJSON:function(c,a,b){return d.get(c,a,b,"json")},getScript:function(c,a){return d.get(c,void 0,a,"script")}});d.each(["get","post"],function(c,
a){d[a]=function(c,b,f,g){return d.isFunction(b)&&(g=g||f,f=b,b=void 0),d.ajax(d.extend({url:c,type:a,dataType:g,data:b,success:f},d.isPlainObject(c)&&c))}});d._evalUrl=function(c){return d.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};d.fn.extend({wrapAll:function(c){var a;return this[0]&&(d.isFunction(c)&&(c=c.call(this[0])),a=d(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var c=this;c.firstElementChild;)c=
c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return d.isFunction(c)?this.each(function(a){d(this).wrapInner(c.call(this,a))}):this.each(function(){var a=d(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=d.isFunction(c);return this.each(function(b){d(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}});d.expr.pseudos.hidden=function(c){return!d.expr.pseudos.visible(c)};
d.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||c.getClientRects().length)};d.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(c){}};var Ib={0:200,1223:204},gb=d.ajaxSettings.xhr();K.cors=!!gb&&"withCredentials"in gb;K.ajax=gb=!!gb;d.ajaxTransport(function(c){var b,d;if(K.cors||gb&&!c.crossDomain)return{send:function(f,g){var k,e=c.xhr();if(e.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(k in c.xhrFields)e[k]=c.xhrFields[k];c.mimeType&&
e.overrideMimeType&&e.overrideMimeType(c.mimeType);c.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");for(k in f)e.setRequestHeader(k,f[k]);b=function(c){return function(){b&&(b=d=e.onload=e.onerror=e.onabort=e.onreadystatechange=null,"abort"===c?e.abort():"error"===c?"number"!=typeof e.status?g(0,"error"):g(e.status,e.statusText):g(Ib[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},
e.getAllResponseHeaders()))}};e.onload=b();d=e.onerror=b("error");void 0!==e.onabort?e.onabort=d:e.onreadystatechange=function(){4===e.readyState&&a.setTimeout(function(){b&&d()})};b=b("abort");try{e.send(c.hasContent&&c.data||null)}catch(Yb){if(b)throw Yb;}},abort:function(){b&&b()}}});d.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(c){return d.globalEval(c),c}}});d.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});d.ajaxTransport("script",function(c){if(c.crossDomain){var a,b;return{send:function(f,g){a=d("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&g("error"===c.type?404:200,c.type)});E.head.appendChild(a[0])},abort:function(){b&&b()}}}});var rb=[],Pb=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var c=rb.pop()||d.expando+"_"+V++;return this[c]=!0,c}});d.ajaxPrefilter("json jsonp",function(c,b,g){var f,k,e,l=!1!==c.jsonp&&(Pb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pb.test(c.data)&&"data");if(l||"jsonp"===c.dataTypes[0])return f=c.jsonpCallback=d.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,l?c[l]=c[l].replace(Pb,"$1"+f):!1!==c.jsonp&&(c.url+=(Ua.test(c.url)?"&":"?")+c.jsonp+
"="+f),c.converters["script json"]=function(){return e||d.error(f+" was not called"),e[0]},c.dataTypes[0]="json",k=a[f],a[f]=function(){e=arguments},g.always(function(){void 0===k?d(a).removeProp(f):a[f]=k;c[f]&&(c.jsonpCallback=b.jsonpCallback,rb.push(f));e&&d.isFunction(k)&&k(e[0]);e=k=void 0}),"script"});K.createHTMLDocument=function(){var c=E.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();d.parseHTML=function(c,a,b){if("string"!=
typeof c)return[];"boolean"==typeof a&&(b=a,a=!1);var f,g,k;return a||(K.createHTMLDocument?(a=E.implementation.createHTMLDocument(""),f=a.createElement("base"),f.href=E.location.href,a.head.appendChild(f)):a=E),g=Ub.exec(c),k=!b&&[],g?[a.createElement(g[1])]:(g=Ra([c],a,k),k&&k.length&&d(k).remove(),d.merge([],g.childNodes))};d.fn.load=function(c,a,b){var f,g,k,e=this,l=c.indexOf(" ");return-1<l&&(f=xa(c.slice(l)),c=c.slice(0,l)),d.isFunction(a)?(b=a,a=void 0):a&&"object"==typeof a&&(g="POST"),0<
e.length&&d.ajax({url:c,type:g||"GET",dataType:"html",data:a}).done(function(c){k=arguments;e.html(f?d("<div>").append(d.parseHTML(c)).find(f):c)}).always(b&&function(c,a){e.each(function(){b.apply(this,k||[c.responseText,a,c])})}),this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){d.fn[a]=function(c){return this.on(a,c)}});d.expr.pseudos.animated=function(c){return d.grep(d.timers,function(a){return c===a.elem}).length};d.offset={setOffset:function(c,
a,b){var f,g,k,e=d.css(c,"position"),l=d(c),r={};"static"===e&&(c.style.position="relative");var h=l.offset();var p=d.css(c,"top");var m=d.css(c,"left");("absolute"===e||"fixed"===e)&&-1<(p+m).indexOf("auto")?(f=l.position(),k=f.top,g=f.left):(k=parseFloat(p)||0,g=parseFloat(m)||0);d.isFunction(a)&&(a=a.call(c,b,d.extend({},h)));null!=a.top&&(r.top=a.top-h.top+k);null!=a.left&&(r.left=a.left-h.left+g);"using"in a?a.using.call(c,r):l.css(r)}};d.fn.extend({offset:function(c){if(arguments.length)return void 0===
c?this:this.each(function(a){d.offset.setOffset(this,c,a)});var a,b,g,k,e=this[0];if(e)return e.getClientRects().length?(g=e.getBoundingClientRect(),a=e.ownerDocument,b=a.documentElement,k=a.defaultView,{top:g.top+k.pageYOffset-b.clientTop,left:g.left+k.pageXOffset-b.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var c,a,b=this[0],g={top:0,left:0};return"fixed"===d.css(b,"position")?a=b.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),m(c[0],"html")||(g=c.offset()),g={top:g.top+
d.css(c[0],"borderTopWidth",!0),left:g.left+d.css(c[0],"borderLeftWidth",!0)}),{top:a.top-g.top-d.css(b,"marginTop",!0),left:a.left-g.left-d.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===d.css(c,"position");)c=c.offsetParent;return c||Z})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var b="pageYOffset"===a;d.fn[c]=function(f){return v(this,function(c,f,g){var k;return d.isWindow(c)?k=c:9===c.nodeType&&
(k=c.defaultView),void 0===g?k?k[a]:c[f]:void(k?k.scrollTo(b?k.pageXOffset:g,b?g:k.pageYOffset):c[f]=g)},c,f,arguments.length)}});d.each(["top","left"],function(c,a){d.cssHooks[a]=qb(K.pixelPosition,function(c,b){if(b)return b=db(c,a),la.test(b)?d(c).position()[a]+"px":b})});d.each({Height:"height",Width:"width"},function(c,a){d.each({padding:"inner"+c,content:a,"":"outer"+c},function(b,f){d.fn[f]=function(g,k){var e=arguments.length&&(b||"boolean"!=typeof g),l=b||(!0===g||!0===k?"margin":"border");
return v(this,function(a,b,g){var k;return d.isWindow(a)?0===f.indexOf("outer")?a["inner"+c]:a.document.documentElement["client"+c]:9===a.nodeType?(k=a.documentElement,Math.max(a.body["scroll"+c],k["scroll"+c],a.body["offset"+c],k["offset"+c],k["client"+c])):void 0===g?d.css(a,b,l):d.style(a,b,g,l)},a,e?g:void 0,e)}})});d.fn.extend({bind:function(c,a,b){return this.on(c,null,a,b)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,b,d){return this.on(a,c,b,d)},undelegate:function(c,
a,b){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",b)}});d.holdReady=function(c){c?d.readyWait++:d.ready(!0)};d.isArray=Array.isArray;d.parseJSON=JSON.parse;d.nodeName=m;"function"==typeof define&&define.amd&&define("jquery",[],function(){return d});var gc=a.jQuery,hc=a.$;return d.noConflict=function(c){return a.$===d&&(a.$=hc),c&&a.jQuery===d&&(a.jQuery=gc),d},b||(a.jQuery=a.$=d),d});(function(a){function b(b){var e=b||window.event,h=[].slice.call(arguments,1),m=0,x=0;b=a.event.fix(e);b.type="mousewheel";e.wheelDelta&&(m=e.wheelDelta/120);e.detail&&(m=-e.detail/3);var D=m;void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS&&(D=0,x=-1*m);void 0!==e.wheelDeltaY&&(D=e.wheelDeltaY/120);void 0!==e.wheelDeltaX&&(x=-1*e.wheelDeltaX/120);h.unshift(b,m,x,D);return(a.event.dispatch||a.event.handle).apply(this,h)}var h=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var e=h.length;e;)a.event.fixHooks[h[--e]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=h.length;a;)this.addEventListener(h[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);/*

       __ _____                     ________                              __
      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
           \/              /____/                              version 1.6.1

 This file is part of jQuery Terminal. http://terminal.jcubic.pl

 Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 Released under the MIT license

 Contains:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/timers/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 jQuery Caret
 Copyright (c) 2009, Gideon Sireling
 3 clause BSD License

 sprintf.js
 Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 licensed under 3 clause BSD license

 Date: Tue, 15 Aug 2017 12:10:19 +0000
*/
(function(a){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var h=function(){h.cache.hasOwnProperty(arguments[0])||(h.cache[arguments[0]]=h.parse(arguments[0]));return h.format.call(null,h.cache[arguments[0]],arguments)};h.format=function(a,m){var e=1,w=a.length,t=[],x,D;for(x=0;x<w;x++){var y=b(a[x]);if("string"===y)t.push(a[x]);else if("array"===y){var L=a[x];if(L[2])for(y=m[e],D=0;D<L[2].length;D++){if(!y.hasOwnProperty(L[2][D]))throw h('[sprintf] property "%s" does not exist',
L[2][D]);y=y[L[2][D]]}else y=L[1]?m[L[1]]:m[e++];if(/[^s]/.test(L[8])&&"number"!==b(y))throw h("[sprintf] expecting number but found %s",b(y));switch(L[8]){case "b":y=y.toString(2);break;case "c":y=String.fromCharCode(y);break;case "d":y=parseInt(y,10);break;case "e":y=L[7]?y.toExponential(L[7]):y.toExponential();break;case "f":y=L[7]?parseFloat(y).toFixed(L[7]):parseFloat(y);break;case "o":y=y.toString(8);break;case "s":y=(y=String(y))&&L[7]?y.substring(0,L[7]):y;break;case "u":y>>>=0;break;case "x":y=
y.toString(16);break;case "X":y=y.toString(16).toUpperCase()}y=/[def]/.test(L[8])&&L[3]&&0<=y?" +"+y:y;D=L[4]?"0"===L[4]?"0":L[4].charAt(1):" ";var Aa=L[6]-String(y).length;if(L[6]){for(var ta=[];0<Aa;ta[--Aa]=D);D=ta.join("")}else D="";t.push(L[5]?y+D:D+y)}}return t.join("")};h.cache={};h.parse=function(a){for(var b,e=[],h=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))e.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))e.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){h|=
1;var t=[],x=b[2],D;if(null!==(D=/^([a-z_][a-z_\d]*)/i.exec(x)))for(t.push(D[1]);""!==(x=x.substring(D[0].length));)if(null!==(D=/^\.([a-z_][a-z_\d]*)/i.exec(x)))t.push(D[1]);else if(null!==(D=/^\[(\d+)\]/.exec(x)))t.push(D[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=t}else h|=2;if(3===h)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";e.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return e};a.sprintf=h;a.vsprintf=function(a,b,n){n=
b.slice(0);n.splice(0,0,a);return h.apply(null,n)}})("undefined"!==typeof global?global:window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=function(b,h){void 0===h&&(h="undefined"!==typeof window?require("jquery"):require("jquery")(b));a(h);return h}:a(jQuery)})(function(a,b){function h(){var b=a.Callbacks(),e=!1;this.resolve=function(){b.fire();e=!0};this.add=function(a){e?a():b.add(a)}}function e(a,b){var e;if("string"===typeof a&&"string"===typeof b)return localStorage[a]=b,!0;if("object"===typeof a&&"undefined"===
typeof b){for(e in a)a.hasOwnProperty(e)&&(localStorage[e]=a[e]);return!0}return!1}function m(a,b){var e;var l=new Date;l.setTime(l.getTime()+31536E6);l="; expires="+l.toGMTString();if("string"===typeof a&&"string"===typeof b)return document.cookie=a+"="+b+l+"; path=/",!0;if("object"===typeof a&&"undefined"===typeof b){for(e in a)a.hasOwnProperty(e)&&(document.cookie=e+"="+a[e]+l+"; path=/");return!0}return!1}function n(a){return localStorage[a]}function w(a){var b,e;a+="=";var l=document.cookie.split(";");
for(b=0;b<l.length;b++){for(e=l[b];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return null}function t(a){return delete localStorage[a]}function x(a){return m(a,"",-1)}function D(a){a.attr({role:"presentation","aria-hidden":"true"})}function y(b){var e=b instanceof Array?b:b?[b]:[];a.extend(this,{data:function(){return e},map:function(b){return a.map(e,b)},size:function(){return e.length},pop:function(){if(0===e.length)return null;var a=e[e.length-
1];e=e.slice(0,e.length-1);return a},push:function(a){e=e.concat([a]);return a},top:function(){return 0<e.length?e[e.length-1]:null},clone:function(){return new y(e.slice(0))}})}function L(b,e,h){var l=!0,m="";"string"===typeof b&&""!==b&&(m=b+"_");m+="commands";var n=h?[]:(n=a.Storage.get(m))?JSON.parse(n):[];var J=n.length-1;a.extend(this,{append:function(b){l&&n[n.length-1]!==b&&(n.push(b),e&&n.length>e&&(n=n.slice(-e)),J=n.length-1,h||a.Storage.set(m,JSON.stringify(n)))},set:function(b){b instanceof
Array&&(n=b,h||a.Storage.set(m,JSON.stringify(n)))},data:function(){return n},reset:function(){J=n.length-1},last:function(){return n[n.length-1]},end:function(){return J===n.length-1},position:function(){return J},current:function(){return n[J]},next:function(){J<n.length-1&&++J;if(-1!==J)return n[J]},previous:function(){var a=J;0<J&&--J;if(-1!==a)return n[J]},clear:function(){n=[];this.purge()},enabled:function(){return l},enable:function(){l=!0},purge:function(){h||a.Storage.remove(m)},disable:function(){l=
!1}})}function Aa(b,e){var l=b.match(ba)||[];if(l.length){var h=l.shift(),m=a.map(l,e),n=a.map(l,function(a){return(a=a.match(/^(['"]).*\1$/))&&a[1]||""});l=b.substring(h.length).trim();return{command:b,name:h,args:m,args_quotes:n,rest:l}}return{command:b,name:"",args:[],args_quotes:n,rest:""}}function ta(a){a="[jQuery Terminal] "+a;console&&console.warn?console.warn(a):setTimeout(function(){throw Error("WARN: "+a);},0)}function Fa(){var b=a('<div class="terminal temp"><div class="cmd"><span class="prompt">&nbsp;</span></div></div>').appendTo("body"),
e=b.find("span")[0].getBoundingClientRect();e={width:e.width,height:e.height};b.remove();return e}function Da(a,b){var e=a.find(".terminal-fill").width();return Math.floor(e/b.width)||1E3}function ha(a,b){return Math.floor(a.find(".terminal-fill").height()/b.height)}function La(b,e){var l=a("<div>"+e.replace(/\n/,"<br/>")+"<div>");b.append(l);if(document.body.createTextRange){var h=document.body.createTextRange();h.moveToElementText(l[0]);h.select()}else if(window.getSelection){var m=window.getSelection();
m.setBaseAndExtent?m.setBaseAndExtent(l[0],0,l[0],1):document.createRange&&(h=document.createRange(),h.selectNodeContents(l[0]),m.removeAllRanges(),m.addRange(h))}try{document.execCommand("copy")}catch(P){}l.remove()}a.omap=function(b,e){var l={};a.each(b,function(a,h){l[a]=e.call(b,a,h)});return l};var Ra={clone_object:function(b){var e={};if("object"===typeof b){if(a.isArray(b))return this.clone_array(b);if(null===b)return b;for(var l in b)a.isArray(b[l])?e[l]=this.clone_array(b[l]):e[l]="object"===
typeof b[l]?this.clone_object(b[l]):b[l]}return e},clone_array:function(b){if(!a.isFunction(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return b.slice(0).map(function(a){return"object"===typeof a?this.clone_object(a):a}.bind(this))}},ka=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(J){return!1}}();a.extend({Storage:{set:ka?e:m,get:ka?n:w,remove:ka?t:x}});a.fn.extend({everyTime:function(b,e,h,m,n){return this.each(function(){a.timer.add(this,
b,e,h,m,n)})},oneTime:function(b,e,h){return this.each(function(){a.timer.add(this,b,e,h,1)})},stopTime:function(b,e){return this.each(function(){a.timer.remove(this,b,e)})}});a.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1E3,das:1E4,hs:1E5,ks:1E6},timeParse:function(e){if(e===b||null===e)return null;var l=this.regex.exec(a.trim(e.toString()));return l[2]?parseInt(l[1],10)*(this.powers[l[2]]||1):e},add:function(b,e,h,m,n,x){var l=0;a.isFunction(h)&&(n||
(n=m),m=h,h=e);e=a.timer.timeParse(e);if(!("number"!==typeof e||isNaN(e)||0>=e)){n&&n.constructor!==Number&&(x=!!n,n=0);n=n||0;x=x||!1;b.$timers||(b.$timers={});b.$timers[h]||(b.$timers[h]={});m.$timerID=m.$timerID||this.guid++;var t=function(){x&&t.inProgress||(t.inProgress=!0,(++l>n&&0!==n||!1===m.call(b,l))&&a.timer.remove(b,h,m),t.inProgress=!1)};t.$timerID=m.$timerID;b.$timers[h][m.$timerID]||(b.$timers[h][m.$timerID]=window.setInterval(t,e));this.global[h]||(this.global[h]=[]);this.global[h].push(b)}},
remove:function(a,b,e){var l=a.$timers;if(l){if(!b)for(var h in l)l.hasOwnProperty(h)&&this.remove(a,h,e);else if(l[b]){if(e)e.$timerID&&(window.clearInterval(l[b][e.$timerID]),delete l[b][e.$timerID]);else for(var m in l[b])l[b].hasOwnProperty(m)&&(window.clearInterval(l[b][m]),delete l[b][m]);for(n in l[b])if(l[b].hasOwnProperty(n))break;if(!n){var n=null;delete l[b]}}for(n in l)if(l.hasOwnProperty(n))break;n||(a.$timers=null)}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))a(window).one("unload",
function(){var b=a.timer.global,e;for(e in b)if(b.hasOwnProperty(e))for(var h=b[e],m=h.length;--m;)a.timer.remove(h[m],e)});(function(a){if(String.prototype.split.toString().match(/\[native/)){var b=String.prototype.split,e=/()??/.exec("")[1]===a;var l=function(l,h,m){if("[object RegExp]"!==Object.prototype.toString.call(h))return b.call(l,h,m);var n=[],d=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.extended?"x":"")+(h.sticky?"y":""),x=0,t,w;h=new RegExp(h.source,d+"g");l+="";e||(t=new RegExp("^"+
h.source+"$(?!\\s)",d));for(m=m===a?4294967295:m>>>0;w=h.exec(l);){d=w.index+w[0].length;if(d>x){n.push(l.slice(x,w.index));!e&&1<w.length&&w[0].replace(t,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(w[b]=a)});1<w.length&&w.index<l.length&&Array.prototype.push.apply(n,w.slice(1));var J=w[0].length;x=d;if(n.length>=m)break}h.lastIndex===w.index&&h.lastIndex++}x===l.length?(J||!h.test(""))&&n.push(""):n.push(l.slice(x));return n.length>m?n.slice(0,m):n};String.prototype.split=
function(a,b){return l(this,a,b)};return l}})();a.fn.caret=function(a){var b=this[0],e="true"===b.contentEditable;if(0===arguments.length){if(window.getSelection){if(e){b.focus();var l=window.getSelection().getRangeAt(0);e=l.cloneRange();e.selectNodeContents(b);e.setEnd(l.endContainer,l.endOffset);return e.toString().length}return b.selectionStart}if(document.selection){b.focus();if(e)return l=document.selection.createRange(),e=document.body.createTextRange(),e.moveToElementText(b),e.setEndPoint("EndToEnd",
l),e.text.length;a=0;l=b.createTextRange();e=document.selection.createRange().duplicate();b=e.getBookmark();for(l.moveToBookmark(b);0!==l.moveStart("character",-1);)a++;return a}return 0}-1===a&&(a=this[e?"text":"val"]().length);window.getSelection?e?(b.focus(),window.getSelection().collapse(b.firstChild,a)):b.setSelectionRange(a,a):document.body.createTextRange&&(l=document.body.createTextRange(),l.moveToElementText(b),l.moveStart("character",a),l.collapse(!0),l.select());e||b.focus();return a};
var da=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};a.fn.resizer=function(b){var e="unbind"===b;if(!e&&!a.isFunction(b))throw Error('Invalid argument, it need to a function of string "unbind".');return this.each(function(){var l=a(this);if(e)a(this).removeData("callbacks").find(".resizer").remove();else if(l.data("callbacks"))a(this).data("callbacks").push(b);else{l.data("callbacks",[b]);var h=this,m=
a("<div/>").addClass("resizer").appendTo(this)[0];m.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";m.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
var n=m.childNodes[0],x=n.childNodes[0],t=m.childNodes[1],d,w,y,J,D=h.offsetWidth,L=h.offsetHeight,E=function(){x.style.width="100000px";x.style.height="100000px";n.scrollLeft=1E5;n.scrollTop=1E5;t.scrollLeft=1E5;t.scrollTop=1E5};E();var ka=function(){w=0;if(d){D=y;L=J;var a=l.data("callbacks");a&&a.length&&a.forEach(function(a){a()})}};m=function(){y=h.offsetWidth;J=h.offsetHeight;(d=y!==D||J!==L)&&!w&&(w=da(ka));E()};a(n).on("scroll",m);a(t).on("scroll",m)}})};var ob=0;a.fn.cmd=function(e){function h(){var b=
a("<span>&nbsp;</span>").appendTo(v),d=b[0].getBoundingClientRect();b.remove();return d}function l(){var a;if((a=window.getSelection())&&null!==a.focusNode)return a.focusOffset}function m(b){var d=l(),g=h().height,e=v.offset();g=Math.floor((b.pageY-e.top)/g);if(a.isNumeric(d)){if(b=a(b.target).closest('[role="presentation"]'),!b.is("div")&&!b.next().is(".cursor")){if(b.is(".cursor"))return z;if(b.prev().is(".cursor"))return z+d;d=0}}else return A.length;b=ia(A);d=0<g&&1<b.length?d+b.slice(0,g).reduce(function(a,
b){return a+b.length},0):d;d=A.replace(/\t/g,"\x00\x00\x00\x00").replace(/\n/,"").slice(0,d).replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length;g=A.length;return d>g?g:d}function n(){return!0}function x(){W.val("");$a=0;W.focus();W.on("input",function R(a){ba(a);W.off("input",R)});return!0}function t(){fb?(Ea=A,v.set(S.current())):v.set(S.previous());return fb=!1}function w(){v.set(S.end()?Ea:S.next());return!1}function d(){0<z&&(v.position(-1,!0),X())}function y(){z<A.length&&v.position(1,!0);return!1}
function E(){v.position(0)}function ka(){v.position(A.length)}function ta(){var a=W.is(":focus");Ga?a||(W.trigger("focus",[!0]),v.oneTime(10,function(){W.trigger("focus",[!0])})):a&&sb&&W.blur()}function N(){v.oneTime(10,function(){if(Ga)v.oneTime(10,function(){})})}function Aa(){qa.toggleClass("inverted")}function da(){Q="(reverse-i-search)`"+aa+"': ";la()}function ha(b){var d=S.data(),g=d.length;b&&0<Va&&(g-=Va);if(0<aa.length)for(var e=aa.length;0<e;e--){var h=a.terminal.escape_regex(aa.substring(0,
e));b=new RegExp(h);for(var l=g;l--;)if(b.test(d[l])){Va=d.length-l;v.position(d[l].indexOf(h));v.set(d[l],!0);X();aa.length!==e&&(aa=aa.substring(0,e),da());return}}aa=""}function ia(b){var d=Ra.text(),g=new RegExp("^"+a.terminal.escape_regex(d));if(b.match(/\n/)){b=b.split("\n");for(var e=Ia-Ja-1,l=0;l<b.length-1;++l)b[l]+=" ";cb(b[0])>e?(d=a.terminal.split_equal(d+b[0],Ia),d[0]=d[0].replace(g,"")):d=[b[0]];for(l=1;l<b.length;++l)b[l].length>Ia?d=d.concat(a.terminal.split_equal(b[l],Ia)):d.push(b[l])}else d=
a.terminal.split_equal(d+b,Ia),d[0]=d[0].replace(g,"");return d}function ma(b){b=a.terminal.escape_formatting(b);try{return a.terminal.apply_formatters(b)}catch(C){alert(C.message+"\n"+(C.stack?C.stack:C))}}function Fa(b){return a.terminal.format(a.terminal.encode(b))}function ba(){if(!(0<$a++)&&v.isenabled()){var a=v.find("textarea");a.is(":focus")||a.focus();v.oneTime(100,function(){v.insert(a.val());a.val("");N()})}}function Da(){if(a.isFunction(e.onCommandChange))e.onCommandChange(A)}function wa(d){Pa=
"process"===(d.key||"").toLowerCase();mb=p&&ab;try{d.fake||(ab=d.key&&1===d.key.length&&!d.ctrlKey,na="unidentified"===String(d.key).toLowerCase(),oa="BACKSPACE"===d.key.toUpperCase()||8===d.which)}catch(ra){}if("Unidentified"===d.key)Y=!0;else{d.fake||(p=!0,Y=!1);if(d.key){var g=d.key.toUpperCase();if("CONTROL"===g)var l="CTRL";else l=[],d.ctrlKey&&l.push("CTRL"),d.metaKey&&"META"!==g&&l.push("META"),d.shiftKey&&"SHIFT"!==g&&l.push("SHIFT"),d.altKey&&"ALT"!==g&&l.push("ALT"),d.key&&("DEL"===g?l.push("DELETE"):
l.push(g)),l=l.join("+")}else l=void 0;if(a.isFunction(e.keydown)&&(g=e.keydown(d),g!==b))return g||(Ta=!0),g;if(Ga){Ta=-1!==["CTRL+V","META+V"].indexOf(l);38===d.which||80===d.which&&d.ctrlKey||(fb=!0);if(!M||35!==d.which&&36!==d.which&&37!==d.which&&38!==d.which&&39!==d.which&&40!==d.which&&13!==d.which&&27!==d.which)if(a.isFunction(eb[l])){g=eb[l]();if(!0===g)return;if(g!==b)return g}else{d.altKey||(lb=!1);return}else Q=ua,M=!1,Va=null,aa="",la(),27===d.which&&v.set(""),X(),wa.call(this,d);d.preventDefault()}}}
function za(d){d.fake||(p=!1);if(!d.ctrlKey&&!d.metaKey&&!lb){if(a.isFunction(e.keypress)){var g=e.keypress(d);if(g!==b)return g||(Ta=!0),g}if(Ga&&!d.fake){g="KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype?Object.getOwnPropertyDescriptor(window.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/):!1;if(g||d.fake)var l=d.key;if(!l||na)l=String.fromCharCode(d.which);"SPACEBAR"===l.toUpperCase()&&(l=" ");if(-1<a.inArray(d.which,[13,0,8]))return 123===d.keyCode?void 0:
!1;if(l&&(!d.ctrlKey||d.ctrlKey&&d.ctrlKey)&&(!d.altKey||100!==d.which||d.altKey)&&!mb&&(M?(aa+=l,ha(),da()):v.insert(l)," "===l))return!1}}}function Ba(b,d,g){b=a.Event(b);b.which=g;b.key=d;b.fake=!0;B.trigger(b)}function Ha(){if(Y||Pa||(p||mb)&&!Ta&&(ab||na)&&!oa){var a=z,b=W.val();Y&&(oa=G.substring(0,G.length-1)===G.length);if(M)aa=b,ha(),da();else{var d=b.substring(z);if(1===d.length||oa){if(Y){var g=oa?8:d.toUpperCase().charCodeAt(0);Ba("keydown",oa?"Backspace":d,g)}p&&!oa&&Ba("keypress",d,
d.charCodeAt(0))}if(oa){G=A;return}if(Ta){Ta=!1;return}v.set(b)}oa?v.position(a-1):v.position(a+Math.abs(b.length-G.length))}G=A;Ta=!1;Y=!0}var v=this,xa=v.data("cmd");if(xa)return xa;var F=ob++;v.addClass("cmd");v.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');D(v.find("span").not(":eq(0)"));var W=a("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(v);e.width&&v.width(e.width);var Ia,Ja,Ra=v.find(".prompt"),
M=!1,aa="",Va=null,ua,Qa=e.mask||!1,A="",Ea,g="",z=0,Ga,Z=e.historySize||60,Za,S,qa=v.find(".cursor"),$a=0,eb,Wa={"ALT+D":function(){v.set(A.slice(0,z)+A.slice(z).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0);return!1},ENTER:function(){(S&&A&&!Qa&&a.isFunction(e.historyFilter)&&e.historyFilter(A)||e.historyFilter instanceof RegExp&&A.match(e.historyFilter)||!e.historyFilter)&&S.append(A);var b=A;S.reset();G="";Y=!0;v.set("");e.commands&&e.commands(b);a.isFunction(Q)&&la();a(".clipboard").val("");return!1},
"SHIFT+ENTER":function(){v.insert("\n");return!0},BACKSPACE:function(){if(M)aa=aa.slice(0,-1),da();else if(""!==A&&0<z)v["delete"](-1);Y=!0;return!1},TAB:function(){v.insert("\t")},"CTRL+D":function(){v["delete"](1);return!1},DELETE:function(){v["delete"](1);return!0},ARROWUP:t,UP:t,"CTRL+P":t,ARROWDOWN:w,DOWN:w,"CTRL+N":w,ARROWLEFT:d,LEFT:d,"CTRL+B":d,"CTRL+ARROWLEFT":function(){var a=z-1,b=0;for(" "===A[a]&&--a;0<a;--a)if(" "===A[a]&&" "!==A[a+1]){b=a+1;break}else if("\n"===A[a]&&"\n"!==A[a+1]){b=
a;break}v.position(b)},"CTRL+R":function(){M?ha(!0):(ua=Q,da(),Ea=A,v.set(""),X(),M=!0);return!1},"CTRL+G":function(){if(M)return Q=ua,la(),v.set(Ea),X(),M=!1,aa="",!1},ARROWRIGHT:y,"CTRL+F":y,RIGHT:y,"CTRL+ARROWRIGHT":function(){" "===A[z]&&++z;var a=A.slice(z).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!a||a[0].match(/^\s+$/)?v.position(A.length):" "!==a[0][0]?z+=a.index+1:(z+=a.index+a[0].length-1," "!==a[0][a[0].length-1]&&--z);X()},F12:n,END:ka,"CTRL+E":ka,HOME:E,"CTRL+A":E,"SHIFT+INSERT":x,"CTRL+SHIFT+T":n,
"CTRL+W":function(){if(""!==A&&0!==z){var a=A.slice(0,z).match(/([^ ]+ *$)/);a[0].length&&(g=v["delete"](-a[0].length),La(v,g))}return!1},"CTRL+H":function(){if(""!==A&&0<z)v["delete"](-1);return!1},"CTRL+X":n,"CTRL+C":n,"CTRL+T":n,"CTRL+Y":function(){""!==g&&v.insert(g)},"CTRL+V":x,"META+V":x,"CTRL+K":function(){A.length-z&&(g=v["delete"](A.length-z),La(v,g));return!1},"CTRL+U":function(){""!==A&&0!==z&&(g=v["delete"](-z),La(v,g));return!1},"CTRL+TAB":function(){return!1},"META+`":n,"META+R":n,"META+L":n};
if(hb&&!xb)var ib=function(a){a?qa.addClass("blink"):qa.removeClass("blink")};else{var va=!1;ib=function(a){a&&!va?(va=!0,qa.addClass("inverted blink"),v.everyTime(500,"blink",Aa)):va&&!a&&(va=!1,v.stopTime("blink",Aa),qa.removeClass("inverted blink"))}}var X=function(){function d(b,d){var g=b.length;b=ma(b);d===g?(h.html(Fa(b)),qa.html("&nbsp;"),m.html("")):0===d?(h.html(""),qa.html(Fa(a.terminal.substring(b,0,1))),m.html(Fa(a.terminal.substring(b,1,void 0)))):(g=a.terminal.substring(b,0,d),h.html(Fa(g)),
g=a.terminal.substring(b,d,d+1),qa.html(Fa(g)),d===b.length-1?m.html(""):m.html(Fa(a.terminal.substring(b,d+1,void 0))))}function g(a){return'<div role="presentation">'+Fa(ma(a))+"</div>"}function e(b){var d=m;a.each(b,function(b,e){d=a(g(e)).insertAfter(d)})}function l(b){a.each(b,function(a,b){h.before(g(b))})}var h=qa.prev(),m=qa.next();return function(){switch(typeof Qa){case "boolean":var p=Qa?A.replace(/./g,"*"):A;break;case "string":p=A.replace(/./g,Qa)}var n;v.find("div").remove();h.html("");
if(cb(p)>Ia-Ja-1||p.match(/\n/)){var x=(n=p.match(/\t/g))?3*n.length:0;n&&(p=p.replace(/\t/g,"\x00\x00\x00\x00"));var k=ia(p);n&&(k=a.map(k,function(a){return a.replace(/\x00\x00\x00\x00/g,"\t")}));n=k[0].length;if(0!==n||1!==k.length)if(z<n)d(k[0],z),e(k.slice(1));else if(z===n)h.before(g(k[0])),d(k[1]||"",0),1<k.length&&e(k.slice(2));else{var r=k.length;if(z<n)d(k[0],z),e(k.slice(1));else if(z===n)h.before(g(k[0])),d(k[1],0),e(k.slice(2));else{var I=k.slice(-1)[0];x=p.length-z-x;var ca=I.length;
p=0;if(x<=ca)l(k.slice(0,-1)),d(I,ca===x?0:ca-x);else if(3===r)p=Fa(k[0]),h.before('<div role="presentation">'+p+"</div>"),d(k[1],z-n-1),p=Fa(ma(k[2])),m.after('<div role="presentation">'+p+"</div>");else{p=z;for(n=0;n<k.length;++n)if(r=k[n].length,p>r)p-=r;else break;r=k[n];if(p===r.length&&(p=0,r=k[++n],r===b))throw Error(a.terminal.defaults.strings.redrawError);d(r,p);l(k.slice(0,n));e(k.slice(n+1))}}}}else""===p?(h.html(""),qa.html("&nbsp;"),m.html("")):d(p,z)}}(),la=function(){function b(b){var d=
a.terminal.split_equal(a.terminal.encode(b),Ia);b=d.slice(-1).map(a.terminal.format)[0];d=d.slice(0,-1).map(function(b){b=a.terminal.format(b);return b.match(/class="/)?b.replace(/class="/,'class="line '):b.replace(/^<span/,'<span class="line"')}).concat([b]).join("\n");Ra.html(d);Ja=cb(a("<span>"+b+"</span>").text())}return function(){switch(typeof Q){case "string":b(Q);break;case "function":Q(b)}}}();a.extend(v,{name:function(a){if(a!==b){Za=a;var d=S&&S.enabled()||!S;S=new L(a,Z,"memory"===e.history);
d||S.disable();return v}return Za},purge:function(){S.clear();return v},history:function(){return S},"delete":function(a,b){if(0===a)return v;if(0>a){if(0<z){var d=A.slice(0,z).slice(a);A=A.slice(0,z+a)+A.slice(z,A.length);b||v.position(z+a);Da()}}else""!==A&&z<A.length&&(d=A.slice(z).slice(0,a),A=A.slice(0,z)+A.slice(z+a,A.length),Da());X();N();return d},set:function(a,d){a!==b&&(A=a,d||v.position(A.length),X(),N(),Da());return v},keymap:function(b){if("undefined"===typeof b)return eb;eb=a.extend({},
Wa,a.omap(b||{},function(a,b){return function(d){return b(d,Wa[a])}}));return v},insert:function(a,b){A=z===A.length?A+a:0===z?a+A:A.slice(0,z)+a+A.slice(z);b?N():v.position(a.length,!0);X();Da();return v},get:function(){return A},commands:function(a){return a?(e.commands=a,v):a},destroy:function(){B.unbind("keypress.cmd",za);B.unbind("keydown.cmd",wa);B.unbind("input.cmd",Ha);v.stopTime("blink",Aa);v.find(".cursor").next().remove().end().prev().remove().end().remove();v.find(".prompt, .clipboard").remove();
v.removeClass("cmd").removeData("cmd").off(".cmd");return v},prompt:function(a){if(a===b)return Q;if("string"===typeof a||"function"===typeof a)Q=a;else throw Error("prompt must be a function or string");la();X();return v},kill_text:function(){return g},position:function(b,d){if("number"===typeof b){z=d?z+b:0>b?0:b>A.length?A.length:b;if(a.isFunction(e.onPositionChange))e.onPositionChange(z);X();N();return v}return z},visible:function(){var a=v.visible;return function(){a.apply(v,[]);X();la()}}(),
show:function(){var a=v.show;return function(){a.apply(v,[]);X();la()}}(),resize:function(a){if(a)Ia=a;else{var b=v.find(".prompt").text("&nbsp;");a=v.width();b=b[0].getBoundingClientRect().width;Ia=Math.floor(a/b);la()}X();la();return v},enable:function(){if(!Ga){Ga=!0;v.addClass("enabled");try{W.caret(z)}catch(O){}ib(!0);la();ta()}return v},isenabled:function(){return Ga},disable:function(a){Ga=!1;v.removeClass("enabled");ib(!1);a||ta();return v},mask:function(a){if("undefined"===typeof a)return Qa;
Qa=a;X();return v}});v.name(e.name||e.prompt||"");var Q="string"===typeof e.prompt?e.prompt:"> ";la();e.enabled!==b&&!0!==e.enabled||v.enable();e.history||S.disable();var fb=!0,lb=!1,mb=!1,ab=!1,p=!1,na=!1,Y=!0,oa=!1,Pa=!1,Ta,G="",B=a(document.documentElement||window);v.keymap(e.keymap);B.bind("keypress.cmd",za).bind("keydown.cmd",wa).bind("input.cmd",Ha);(function(){var b=!1,d=!1,g=0;v.on("mousedown.cmd",function(){d=!0;v.oneTime(1,function(){a(window).on("mousemove.cmd_"+F,function(){b=!0;a(window).off("mousemove.cmd_"+
F)})})}).on("mouseup.cmd",function(l){var h=b;b=!1;a(window).off("mousemove.cmd_"+F);if(!h)if(h="click_"+F,1===++g){var p=d;if(Ga)v.oneTime(e.clickTimeout,h,function(){!a(l.target).is(".prompt")&&p&&(a(l.target).is(".cmd")?v.position(A.length):v.position(m(l)));g=0});else g=0}else v.stopTime(h),g=0;d=!1})})();v.data("cmd",v);"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill");
},0);return v};var hb=function(){var a=!1,e=["Webkit","Moz","O","ms","Khtml"],h=document.createElement("div");h.style.animationName&&(a=!0);if(!1===a)for(var m=0;m<e.length;m++)if(h.style[e[m]+"AnimationName"]!==b){a=!0;break}return a}(),xb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),cb=function(){return"undefined"===typeof wcwidth?function(a){return a.length}:wcwidth}(),sb="ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch,tb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,
Ea=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,pb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,db=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,qb=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,ub=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,zb=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,
Eb=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,Ab=/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,ba=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,jb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Fb=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Ya=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,Gb=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,Kb=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,
wa=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./;a.terminal={version:"1.6.1",color_names:"transparent currentcolor black silver gray white maroon red purple fuchsia green lime olive yellow navy blue teal aqua aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkgrey darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkslategrey darkturquoise darkviolet deeppink deepskyblue dimgray dimgrey dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow grey honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightslategrey lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray slategrey snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
valid_color:function(b){return b.match(ub)?!0:-1!==a.inArray(b.toLowerCase(),a.terminal.color_names)},unclosed_strings:function(a){return!!a.match(wa)},escape_regex:function(a){if("string"===typeof a)return a.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(a){return"string"===typeof a&&!!a.match(db)},is_formatting:function(a){return"string"===typeof a&&!!a.match(qb)},format_split:function(a){return a.split(tb).filter(Boolean)},iterate_formatting:function(a,e){for(var h=!1,l=!1,
m=0,n,x=-1,t=0;t<a.length;t++){(n=a.substring(t).match(Fb))?(h=n[1],l=!1):h?"]"===a[t]&&(l?(h="",l=!1):l=!0):l=!0;n=h&&l||!h;var d="["===a[t]&&"["===a[t+1];"&nbsp;"!==a.substring(t-6,t)&&" "!==a.substring(t-1,t)||!n&&!d||(x=t);d=a[t].match(/[[\]]/);if(n)if("&"===a[t]){n=a.substring(t).match(/^(&[^;]+;)/);if(!n)throw Error("Unclosed html entity at char "+(t+1));t+=n[1].length-2;continue}else"]"===a[t]&&"\\"===a[t-1]?--m:d||++m;if(!d&&n)if(2===cb(a[t])&&m++,n=e({count:m,index:t,formatting:h,text:l,
space:x}),!1===n)break;else n&&(n.count!==b&&(m=n.count),n.space!==b&&(x=n.space),n.index!==b&&(t=n.index))}},substring:function(b,e,h){if(""===a("<span>"+a.terminal.strip(b)+"</span>").text().substring(e,h))return"";var l,m=b.length,n="",t="";a.terminal.iterate_formatting(b,function(a){a.count===e&&(l=a.index+1,a.formatting&&(n=a.formatting));h&&a.count===h&&(m=a.index+1,t=a.formatting)});b=n+b.substring(l,m);t&&(b+="]");return b},normalize:function(a){return a.replace(pb,function(a,b,e){if(""===
e)return"";a=b.match(/;/g).length;if(4<=a)return a=b.split(/;/),b=a.slice(0,4).join(";"),a=a.slice(4).join(";"),"[["+b+";"+(a||e)+"]"+e+"]";a=2===a?";;":3===a?";":"";var h=e.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+b+a+h+"]"+e+"]"})},split_equal:function(b,e,h){var l="",m=[];b=a.terminal.normalize(b).split(/\n/g);for(var n=0,t=b.length;n<t;++n)if(""===b[n])m.push("");else{var x=b[n],d=0,w,y=x.length;a.terminal.iterate_formatting(x,function(b){var n=b.index===
y-2&&"]"===x[b.index+1],t=b.index===y-1||n;if(b.count>=e||t||b.count===e-1&&2===cb(x[b.index+1])){if(h){t=a.terminal.strip(x.substring(b.space));t=a("<span>"+t+"</span>").text();var J=t.length,D=b.index+e+1;t=t.substring(0,D);var P=!1;if(t.match(/\s/)||D>J)P=!0}if(h&&!n&&-1!==b.space&&b.index!==y-1&&P){w=x.substring(d,b.space);var L=b.space-1}else w=x.substring(d,b.index+1);h&&(w=w.replace(/(&nbsp;|\s)+$/g,""));d=(L||b.index)+1;l&&(b=w.match(/^[^\]]*\]/),w=l+w,b&&(l=""));n&&(w+="]",l="");if(n=w.match(pb))n=
n[n.length-1],"]"!==n[n.length-1]?(l=n.match(jb)[1],w+="]"):w.match(Ya)&&(w=w.replace(Ya,""),l=n.match(jb)[1]);m.push(w);return{index:L,count:0,space:-1}}})}return m},encode:function(a){a=a.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;");return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(b){if(!a.terminal.have_formatting(b))return b;var e=[],h=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return b.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(b){if(b.match(/^\[\[/))a.terminal.is_formatting(b)||
(b+="]",e.push(b.replace(h,"$1")));else{var l=!1;b.match(/\]/)&&(l=!0);e.length&&(b=e[e.length-1]+b);l?e.pop():e.length&&(b+="]")}return b}).join("")},escape_formatting:function(b){return a.terminal.escape_brackets(b)},apply_formatters:function(b){var e=a.terminal.defaults.formatters;return a.terminal.format_split(b).map(function(b){if(!a.terminal.is_formatting(b))for(var h=0;h<e.length;++h)try{if("function"===typeof e[h]){var l=e[h](b);"string"===typeof l&&(b=l)}}catch(P){throw Error("Error in formatter ["+
h+"]");}return b}).join("")},format:function(b,e){var h=a.extend({},{linksNoReferrer:!1},e||{});if("string"===typeof b){var l=a.terminal.format_split(b);b=a.map(l,function(b){return""===b?b:a.terminal.is_formatting(b)?(b=b.replace(/\[\[[^\]]+\]/,function(a){return a.replace(/&nbsp;/g," ")}),b.replace(Ea,function(b,e,l,d,m,n,t){if(""===t)return"";t=t.replace(/\\]/g,"]");b="";-1!==e.indexOf("b")&&(b+="font-weight:bold;");var x=[];-1!==e.indexOf("u")&&x.push("underline");-1!==e.indexOf("s")&&x.push("line-through");
-1!==e.indexOf("o")&&x.push("overline");x.length&&(b+="text-decoration:"+x.join(" ")+";");-1!==e.indexOf("i")&&(b+="font-style:italic;");a.terminal.valid_color(l)&&(b+="color:"+l+";",-1!==e.indexOf("g")&&(b+="text-shadow:0 0 5px "+l+";"));a.terminal.valid_color(d)&&(b+="background-color:"+d);l=""===n?t:n.replace(/&#93;/g,"]");-1!==e.indexOf("!")?(l.match(Ab)?d='<a class="a_acct" name="a_acct"':(d='<a target="_blank" href="'+l+'"',d=h.linksNoReferrer?d+' rel="noreferrer noopener"':d+' rel="noopener"'),
d+=' tabindex="1000"'):d="<span";""!==b&&(d+=' style="'+b+'"');""!==m&&(d+=' class="'+m+'"');return d=-1!==e.indexOf("!")?d+(">"+t+"</a>"):d+(' data-text="'+l.replace('"',"&quote;")+'">'+t+"</span>")})):"<span>"+b.replace(/\\\]/g,"]")+"</span>"}).join("");return b.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(a){return a.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(a){a=a.replace(Ea,"$6");return a.replace(/(\\?)([[\]])/g,function(a,b){return b?a:
""})},active:function(){return ia.front()},last_id:function(){var a=ia.length();if(a)return a-1},parse_argument:function(a,b){function e(a){a.match(/^['"]/)&&(a=a.replace(new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+a[0],"g"),"$1"));return JSON.parse('"'+a+'"')}if(!1===b)return"'"===a[0]&&"'"===a[a.length-1]?a.replace(/^'|'$/g,""):'"'===a[0]&&'"'===a[a.length-1]?a.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):a.match(/\/.*\/[gimy]*$/)?a:a.match(/['"]]/)?e(a):a.replace(/\\ /g," ");var h=a.match(Kb);return h?
new RegExp(h[1],h[2]):a.match(/['"]/)?e(a):a.match(/^-?[0-9]+$/)?parseInt(a,10):a.match(Gb)?parseFloat(a):a.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(b){return a.map(b.match(ba)||[],a.terminal.parse_argument)},split_arguments:function(b){return a.map(b.match(ba)||[],function(b){return a.terminal.parse_argument(b,!1)})},parse_command:function(b){return Aa(b,a.terminal.parse_argument)},split_command:function(b){return Aa(b,function(b){return a.terminal.parse_argument(b,!1)})},extended_command:function(a,
b){try{Ha=!1,a.exec(b,!0).done(function(){Ha=!0})}catch(Sa){}}};a.fn.visible=function(){return this.css("visibility","visible")};a.fn.hidden=function(){return this.css("visibility","hidden")};a.fn.scroll_element=function(){var b=a.fn.scroll_element.defaults;return this.map(function(){if(a(this).is("body")){var e=a("html"),h=a("body"),l=h.scrollTop()||e.scrollTop(),m=a("<pre/>").css(b.pre).appendTo("body");m.html(Array(b.lines).join("\n"));a("body,html").scrollTop(10);if(10===h.scrollTop()){h.scrollTop(l);
var n=h[0]}else 10===e.scrollTop()&&(e.scrollTop(l),n=e[0]);m.remove();return n}return this})};a.fn.scroll_element.defaults={lines:2E3,pre:{"font-size":"100px","white-space":"pre"}};var xa={};a.jrpc=function(b,e,h,m,n){var l=a.isPlainObject(b)?b:{url:b,method:e,params:h,success:m,error:n};xa[l.url]=xa[l.url]||0;var t={jsonrpc:"2.0",method:l.method,params:l.params,id:++xa[l.url]};return a.ajax({url:l.url,beforeSend:function(b,d){a.isFunction(l.request)&&l.request(b,t);d.data=JSON.stringify(t)},success:function(b,
d,e){e.getResponseHeader("Content-Type").match(/(application|text)\/json/)||ta("Response Content-Type is neither application/json nor text/json");try{var h=JSON.parse(b)}catch(Cb){if(l.error)l.error(e,"Invalid JSON",Cb);else throw Error("Invalid JSON");return}a.isFunction(l.response)&&l.response(e,h);b=h;if(a.isNumeric(b.id)&&("undefined"!==typeof b.result||"undefined"!==typeof b.error)||"system.describe"===l.method)l.success(h,d,e);else if(l.error)l.error(e,"Invalid JSON-RPC");else throw Error("Invalid JSON-RPC");
},error:l.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var Ba=!a.terminal.version.match(/^\{\{/);ka=Ba?" v. "+a.terminal.version:" ";var kb=new RegExp(" {"+ka.length+"}$");Ba="jQuery Terminal Emulator"+(Ba?ka:"");var vb=[["jQuery Terminal","(c) 2011-2017 jcubic"],[Ba,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright | *<.*>/g,"")],[Ba,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright /,"")],
["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(kb," ")+ka,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"],["      __ _____                     ________                              __",
"     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(kb,"")+ka,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"]];a.terminal.defaults=
{prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[a.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,
clickTimeout:200,request:a.noop,response:a.noop,describe:"procs",onRPCError:null,completion:!1,onInit:a.noop,onClear:a.noop,onBlur:a.noop,onFocus:a.noop,onTerminalChange:a.noop,onExit:a.noop,onPush:a.noop,onPop:a.noop,keypress:a.noop,keydown:a.noop,onAfterRedraw:a.noop,onEchoCommand:a.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",
wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",
notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",
invalidStrings:"Command %s have unclosed strings"}};var Wa=[],ia=new function(b){var e=b?[b]:[],h=0;a.extend(this,{get:function(){return e},rotate:function(){if(e.filter(Boolean).length){if(1===e.length)return e[0];h===e.length-1?h=0:++h;return e[h]?e[h]:this.rotate()}},length:function(){return e.length},remove:function(a){delete e[a]},set:function(a){for(var b=e.length;b--;)if(e[b]===a){h=b;return}this.append(a)},front:function(){if(e.length){for(var a=h,b=!1;!e[a];)if(a++,a>e.length){if(b)break;
a=0;b=!0}return e[a]}},map:function(a){return e.filter(Boolean).map(a)},forEach:function(a){e.filter(Boolean).forEach(a)},append:function(a){e.push(a)}})},ma=[],E,Ha=!1,Ja=!0,yb=!0;a.fn.terminal=function(e,m){function l(b){if(a.terminal.unclosed_strings(b))throw b=a.terminal.escape_brackets(b),Error(sprintf(M().invalidStrings,"`"+b+"`"));return a.isFunction(p.processArguments)?Aa(b,p.processArguments):p.processArguments?a.terminal.parse_command(b):a.terminal.split_command(b)}function n(b){"string"===
typeof b?g.echo(b):b instanceof Array?g.echo(a.map(b,function(a){return JSON.stringify(a)}).join(" ")):"object"===typeof b?g.echo(JSON.stringify(b)):g.echo(b)}function t(b){var d=b.match(/(.*):([0-9]+):([0-9]+)$/);d&&(g.pause(p.softPause),a.get(d[1],function(b){var e=location.href.replace(/[^/]+$/,"");e=d[1].replace(e,"");g.echo("[[b;white;]"+e+"]");b=b.split("\n");var k=+d[2]-1;g.echo(b.slice(k-2,k+3).map(function(b,d){2===d&&(b="[[;#f00;]"+a.terminal.escape_brackets(b)+"]");return"["+(k+d)+"]: "+
b}).join("\n")).resume()},"text"))}function x(b){if(a.isFunction(p.onRPCError))p.onRPCError.call(g,b);else if(g.error("&#91;RPC&#93; "+b.message),b.error&&b.error.message){b=b.error;var d="\t"+b.message;b.file&&(d+=' in file "'+b.file.replace(/.*\//,"")+'"');b.at&&(d+=" at line "+b.at);g.error(d)}}function w(b,e){var k=function(e,k){g.pause(p.softPause);a.jrpc({url:b,method:e,params:k,request:function(a,b){try{p.request.apply(g,a,b,g)}catch(nb){N(nb,"USER")}},response:function(a,b){try{p.response.apply(g,
a,b,g)}catch(nb){N(nb,"USER")}},success:function(b){b.error?x(b.error):a.isFunction(p.processRPCResponse)?p.processRPCResponse.call(g,b.result,g):n(b.result);g.resume()},error:d})};return function(a,b){if(""!==a){try{a=l(a)}catch(fa){N(fa,"TERMINAL (get_processed_command)");return}if(e&&"help"!==a.name){var d=b.token();d?k(a.name,[d].concat(a.args)):b.error("&#91;AUTH&#93; "+M().noTokenError)}else k(a.name,a.args)}}}function L(d,e,h,m){return function(k,r){if(""!==k){try{var n=l(k)}catch(bb){a.isFunction(p.exception)?
p.exception(bb,g):g.error(bb.toString());return}var t=d[n.name],x=a.type(t);if("function"===x)if(e&&t.length!==n.args.length)g.error("&#91;Arity&#93; "+sprintf(M().wrongArity,n.name,t.length,n.args.length));else return t.apply(g,n.args);else if("object"===x||"string"===x){var I=[];"object"===x&&(I=Object.keys(t),t=L(t,e,h));r.push(t,{prompt:n.name+"> ",name:n.name,completion:"object"===x?I:b})}else a.isFunction(m)?m(k,g):a.isFunction(p.onCommandNotFound)?p.onCommandNotFound.call(g,k,g):r.error(sprintf(M().commandNotFound,
n.name))}}}function d(b,d,e){g.resume();a.isFunction(p.onAjaxError)?p.onAjaxError.call(g,b,d,e):"abort"!==d&&g.error("&#91;AJAX&#93; "+d+" - "+M().serverResponse+":\n"+a.terminal.escape_brackets(b.responseText))}function ka(b,e,h){function k(b){b.error?x(b.error):a.isFunction(p.processRPCResponse)?p.processRPCResponse.call(g,b.result,g):n(b.result);g.resume()}function l(a,b){try{p.request.call(g,a,b,g)}catch(sa){N(sa,"USER")}}function m(a,b){try{p.response.call(g,a,b,g)}catch(sa){N(sa,"USER")}}return a.jrpc({url:b,
method:"system.describe",params:[],success:function(n){var r=n;""!==p.describe&&p.describe.split(".").forEach(function(a){r=r[a]});if(r&&r.length){var t={};a.each(r,function(h,n){t[n.name]=function(){var h=e&&"help"!==n.name,r=Array.prototype.slice.call(arguments),t=r.length+(h?1:0);p.checkArity&&n.params&&n.params.length!==t?g.error("&#91;Arity&#93; "+sprintf(M().wrongArity,n.name,n.params.length,t)):(g.pause(p.softPause),h&&((h=g.token(!0))?r=[h].concat(r):g.error("&#91;AUTH&#93; "+M().noTokenError)),
a.jrpc({url:b,method:n.name,params:r,request:l,response:m,success:k,error:d}))}});t.help=t.help||function(b){if("undefined"===typeof b){var d=n.procs.map(function(a){return a.name}).join(", ")+", help";g.echo("Available commands: "+d)}else{var e=!1;a.each(r,function(a,d){if(d.name===b){e=!0;var k=""+("[[bu;#fff;]"+d.name+"]");d.params&&(k+=" "+d.params.join(" "));d.help&&(k+="\n"+d.help);g.echo(k);return!1}});e||("help"===b?g.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified"):
g.error("Method `"+b+"' not found "))}};h(t)}else h(null)},request:l,response:m,error:function(){h(null)}})}function J(b,d,e){e=e||a.noop;var k=a.type(b),h={},l=0,m;if("array"===k){var n={};(function ya(b,e){if(b.length){var k=b[0],h=b.slice(1),r=a.type(k);"string"===r?(g.pause(p.softPause),!1===p.describe?(1===++l?m=w(k,d):g.error(M().oneRPCWithIgnore),ya(h,e)):ka(k,d,function(b){b?a.extend(n,b):1===++l?m=w(k,d):g.error(M().oneRPCWithIgnore);g.resume();ya(h,e)})):"function"===r?(m?g.error(M().oneInterpreterFunction):
m=k,ya(h,e)):"object"===r&&(a.extend(n,k),ya(h,e))}else e()})(b,function(){e({interpreter:L(n,!1,d,m.bind(g)),completion:Object.keys(n)})})}else if("string"===k)p.ignoreSystemDescribe?(n={interpreter:w(b,d)},a.isArray(p.completion)&&(n.completion=p.completion),e(n)):(g.pause(p.softPause),ka(b,d,function(a){a?(h.interpreter=L(a,!1,d),h.completion=Object.keys(a)):h.interpreter=w(b,d);e(h);g.resume()}));else if("object"===k)e({interpreter:L(b,p.checkArity),completion:Object.keys(b)});else{if("undefined"===
k)b=a.noop;else if("function"!==k)throw Error(k+" is invalid interpreter value");e({interpreter:b,completion:p.completion})}}function ta(b,e){var k="boolean"===a.type(e)?"login":e;return function(e,h,l){g.pause(p.softPause);a.jrpc({url:b,method:k,params:[e,h],request:function(a,b){try{p.request.call(g,a,b,g)}catch(sa){N(sa,"USER")}},response:function(a,b){try{p.response.call(g,a,b,g)}catch(sa){N(sa,"USER")}},success:function(a){!a.error&&a.result?l(a.result):l(null);g.resume()},error:d})}}function da(a){return"string"===
typeof a?a:"string"===typeof a.fileName?a.fileName+": "+a.message:a.message}function N(b,d){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(g,b,d):g.exception(b,d)}function ba(){var a=ra.prop?ra.prop("scrollHeight"):ra.attr("scrollHeight");ra.scrollTop(a)}function wa(b,d){try{if(a.isFunction(d))d.call(g,a.noop,g);else if("string"!==typeof d)throw b+" must be string or function";}catch(I){return N(I,b.toUpperCase()),!1}return!0}function Ba(d,e){p.convertLinks&&!e.raw&&(d=d.replace(Ab,"[[!;;]$1]").replace(Eb,
"[[!;;]$1]"));var k;if(!e.raw){if(e.formatters)try{d=a.terminal.apply_formatters(d)}catch(Ka){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(g,Ka,"FORMATTERS"):alert(Ka.message+"\n"+(Ka.stack?Ka.stack:Ka))}d=a.terminal.encode(d)}ua.push(1);if(!e.raw&&(cb(d)>S||d.match(/\n/))&&(!0===p.wrap&&e.wrap===b||!1===p.wrap&&!0===e.wrap)){var h=a.terminal.split_equal(d,S,e.keepWords);var l=0;for(k=h.length;l<k;++l)""===h[l]||"\r"===h[l]?ua.push("<span></span>"):e.raw?ua.push(h[l]):ua.push(a.terminal.format(h[l],
{linksNoReferrer:p.linksNoReferrer}))}else e.raw?ua.push(d):(d=a.terminal.normalize(d),d=a.terminal.format(d,{linksNoReferrer:p.linksNoReferrer}),d.split(/\n/).forEach(function(a){ua.push(a)}));ua.push(e.finalize)}function Ea(b,d){try{var e=a.extend({exec:!0,raw:!1,finalize:a.noop},d||{}),k="function"===a.type(b)?b():b;k="string"===a.type(k)?k:String(k);""!==k&&Ba(k,e)}catch(T){ua=[],a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(g,T,"TERMINAL"):alert("[Internal Exception(process_line)]:"+
da(T)+"\n"+T.stack)}}function xa(){B.resize(S);var b=V.empty().detach(),d=[];if(0<=p.outputLimit){var e=0===p.outputLimit?g.rows():p.outputLimit;Z.forEach(function(b){var e="function"===a.type(b[0])?b[0]():b[0];e="string"===a.type(e)?e:String(e);if(cb(e)>S){var g=b[1];b=a.terminal.split_equal(e,S,g.keepWords);d=d.concat(b.map(function(a){return[a,g]}))}else d.push(b)});d=d.slice(d.length-e-1)}else d=Z;try{ua=[],a.each(Z,function(a,b){Ea.apply(null,b)}),B.before(b),g.flush(),p.onAfterRedraw.call(g)}catch(ca){a.isFunction(p.exceptionHandler)?
p.exceptionHandler.call(g,ca,"TERMINAL (redraw)"):alert("Exception in redraw\n"+ca.stack)}}function ob(){if(p.greetings===b)g.echo(g.signature,{finalize:D});else if(p.greetings){var a=typeof p.greetings;"string"===a?g.echo(p.greetings):"function"===a?p.greetings.call(g,g.echo):g.error(M().wrongGreetings)}}function La(b){"undefined"===typeof b&&(b=g.get_command());var d=B.prompt(),e=B.mask();switch(typeof e){case "string":b=b.replace(/./g,e);break;case "boolean":b=e?b.replace(/./g,p.maskChar):a.terminal.escape_formatting(b)}var k=
{finalize:function(a){D(a.addClass("command"));p.onEchoCommand.call(g,a)}};a.isFunction(d)?d(function(a){g.echo(a+b,k)}):g.echo(d+b,k)}function hb(a){var b=ia.get()[a[0]];if(!b)throw Error(M().invalidTerminalId);var d=a[1];ma[d]?b.import_view(ma[d]):(Ha=!1,(a=a[2])&&b.exec(a).done(function(){Ha=!0;ma[d]=b.export_view()}))}function db(){Ha&&(Ja=!1,location.hash="#"+JSON.stringify(E),setTimeout(function(){Ja=!0},100))}function za(d,e,h){function k(){h||(Ha=!0,p.historyState&&g.save_state(d,!1),Ha=t);
r.resolve();a.isFunction(p.onAfterCommand)&&p.onAfterCommand.call(g,g,d)}function l(a){a&&w===Z.length-1&&n(a);k();g.resume()}Qa&&(Qa=!1,p.historyState||p.execHash&&h)&&(ma.length?g.save_state(null):g.save_state());try{if(!a.isFunction(p.onBeforeCommand)||!1!==p.onBeforeCommand.call(g,g,d)){h||(z=a.terminal.split_command(d));Q||!1!==B.mask()||h&&(a.isFunction(p.historyFilter)&&p.historyFilter(d)||d.match(p.historyFilter))&&B.history().append(d);var m=G.top();!e&&p.echoCommand&&La(d);var r=new a.Deferred,
t=Ha;if(d.match(/^\s*login\s*$/)&&g.token(!0))1<g.level()?g.logout(!0):g.logout(),k();else if(p.exit&&d.match(/^\s*exit\s*$/)&&!Q){var x=g.level();if(1===x&&g.get_token()||1<x)g.get_token(!0)&&g.set_token(b,!0),g.pop();k()}else if(p.clear&&d.match(/^\s*clear\s*$/)&&!Q)g.clear(),k();else{var w=Z.length-1,I=m.interpreter.call(g,d,g);if(I!==b)if(g.pause(p.softPause),I.then)I.then(l);else return a.when(I).done(l);else Pa?A.push(function(){k()}):k()}return r.promise()}}catch(ya){if(N(ya,"USER"),g.resume(),
!p.exceptionHandler)throw ya;}}function Ya(){var a=g.prefix_name(!0)+"_";na.remove(a+"token");na.remove(a+"login")}function jb(b){var d=g.prefix_name()+"_interpreters",e=na.get(d);e=e?JSON.parse(e):[];-1===a.inArray(b,e)&&(e.push(b),na.set(d,JSON.stringify(e)))}function v(b){var d=G.top(),e=g.prefix_name(!0);Q||!1!==B.mask()||jb(e);B.name(e);a.isFunction(d.prompt)?B.prompt(function(a){d.prompt.call(g,a,g)}):B.prompt(d.prompt);a.isPlainObject(d.keymap)&&B.keymap(a.omap(d.keymap,function(a,b){return function(){var a=
[].slice.call(arguments);try{return b.apply(g,a)}catch(fa){if(N(fa,"USER KEYMAP"),!p.exceptionHandler)throw fa;}}}));B.set("");ib.resolve();!b&&a.isFunction(d.onStart)&&d.onStart.call(g,g)}function kb(){if(Ja&&p.execHash)try{if(location.hash){var a=location.hash.replace(/^#/,"");E=JSON.parse(decodeURIComponent(a))}else E=[];E.length?hb(E[E.length-1]):ma[0]&&g.import_view(ma[0])}catch(r){N(r,"TERMINAL")}}function F(){v();ob();Z.length&&xa();var b=!1;if(a.isFunction(p.onInit)){fb=function(){b=!0};try{p.onInit.call(g,
g)}catch(r){N(r,"OnInit")}finally{fb=a.noop,!b&&g.enabled()&&g.resume()}}yb&&(yb=!1,a(window).on("hashchange",kb))}function W(a,b){if(!b.length)return"";var d=!1,e=a.length;a:for(;e<b[0].length;++e){for(var g=1;g<b.length;++g)if(b[0].charAt(e)!==b[g].charAt(e))break a;d=!0}return d?b[0].slice(0,e):""}function Ia(d){var e=G.top();if(a.isFunction(e.keydown)){if(d=e.keydown.call(g,d,g),d!==b)return d}else if(a.isFunction(p.keydown)&&(d=p.keydown.call(g,d,g),d!==b))return d}function pb(d){if(g.enabled()){if(g.paused()){if(!p.pauseEvents){var e=
Ia(d);if(e!==b)return e}if(68===d.which&&d.ctrlKey){if(p.pauseEvents&&(e=Ia(d),e!==b))return e;if(Wa.length){for(e=Wa.length;e--;){var k=Wa[e];if(4!==k.readyState)try{k.abort()}catch(ca){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(g,d,"AJAX ABORT"):g.error(M().ajaxAbortError)}}Wa=[]}g.resume()}return!1}e=Ia(d);if(e!==b)return e;9!==d.which&&(Ga=0);g.attr({scrollTop:g.attr("scrollHeight")})}}function Db(a){return function(b){a.add(b)}}function M(){return a.extend({},a.terminal.defaults.strings,
p.strings)}function aa(){O&&g.focus()}function Va(){O=Y;g.disable()}var ua=[],Qa=!0,A=[],tb={"CTRL+D":function(a,d){Q||(""===B.get()?1<G.size()||p.login!==b?g.pop(""):(g.resume(),g.echo("")):d());return!1},"CTRL+L":function(){g.clear()},TAB:function(d,e){var k=G.top();k=p.completion&&"boolean"!==a.type(p.completion)&&k.completion===b?p.completion:k.completion;"settings"===k&&(k=p.completion);if(k)switch(a.type(k)){case "function":var h=g.before_cursor(p.wordAutocomplete);if(3===k.length){k=Error(M().comletionParameters);
N(k,"USER");break}k.call(g,h,function(a){g.complete(a,{echo:!0,word:p.wordAutocomplete,escape:p.completionEscape})});break;case "array":g.complete(k,{echo:!0,word:p.wordAutocomplete,escape:p.completionEscape});break;default:throw Error(M().invalidCompletion);}else e();return!1},"CTRL+V":function(a,b){b(a);g.oneTime(200,function(){ba()});return!0},"CTRL+TAB":function(){if(1<ia.length())return g.focus(!1),!1},PAGEDOWN:function(){g.scroll(g.height())},PAGEUP:function(){g.scroll(-g.height())}},g=this;
if(1<this.length)return this.each(function(){a.fn.terminal.call(a(this),e,a.extend({name:g.selector},m))});if(g.data("terminal"))return g.data("terminal");if(0===g.length)throw Error(sprintf(M().invalidSelector,g.selector));var z,Ga=0,Z=[],Za=ia.length(),S,qa,$a,eb=new y,qb=new h,ib=new h,va=Db(ib),X=Fa(),la=Db(qb),Q=!1,fb=a.noop,lb,mb,ab=[],p=a.extend({},a.terminal.defaults,{name:g.selector},m||{}),na=new function(b){b&&(this.storage={});this.set=function(d,e){b?this.storage[d]=e:a.Storage.set(d,
e)};this.get=function(d){return b?this.storage[d]:a.Storage.get(d)};this.remove=function(d){b?delete this.storage[d]:a.Storage.remove(d)}}(p.memory),Y=p.enabled,oa=!1,Pa=!1,Ta=!0,G,B,O,C,R;a.extend(g,a.omap({id:function(){return Za},clear:function(){V.html("");Z=[];try{p.onClear.call(g,g)}catch(k){N(k,"onClear")}g.attr({scrollTop:0});return g},export_view:function(){var b={};if(a.isFunction(p.onExport))try{b=p.onExport.call(g)}catch(r){N(r,"onExport")}return a.extend({},{focus:Y,mask:B.mask(),prompt:g.get_prompt(),
command:g.get_command(),position:B.position(),lines:Ra.clone_object(Z),interpreters:G.clone(),history:B.history().data},b)},import_view:function(b){if(Q)throw Error(sprintf(M().notWhileLogin,"import_view"));if(a.isFunction(p.onImport))try{p.onImport.call(g,b)}catch(r){N(r,"onImport")}va(function(){g.set_prompt(b.prompt);g.set_command(b.command);B.position(b.position);B.mask(b.mask);b.focus&&g.focus();Z=Ra.clone_object(b.lines);G=b.interpreters;p.importHistory&&B.history().set(b.history);xa()});return g},
save_state:function(d,e,h){"undefined"!==typeof h?ma[h]=g.export_view():ma.push(g.export_view());a.isArray(E)||(E=[]);d===b||e||(E.push([Za,ma.length-1,d]),db())},exec:function(b,d,e){var k=e||new a.Deferred;la(function(){a.isArray(b)?function Ka(){var a=b.shift();a?g.exec(a,d).done(Ka):k.resolve()}():Pa?ab.push([b,d,k]):za(b,d,!0).done(function(){k.resolve(g)})});return k.promise()},autologin:function(a,b,d){g.trigger("terminal.autologin",[a,b,d]);return g},login:function(d,e,h,l){function k(d,k,
n){if(k){for(;g.level()>m;)g.pop(b,!0);p.history&&B.history().enable();n=g.prefix_name(!0)+"_";na.set(n+"token",k);na.set(n+"login",d);Q=!1;a.isFunction(h)&&h()}else e?(n||g.error(M().wrongPasswordTryAgain),g.pop(b,!0).set_mask(!1)):(Q=!1,n||g.error(M().wrongPassword),g.pop(b,!0).pop(b,!0)),a.isFunction(l)&&l();g.off("terminal.autologin")}eb.push([].slice.call(arguments));if(Q)throw Error(sprintf(M().notWhileLogin,"login"));if(!a.isFunction(d))throw Error(M().loginIsNotAFunction);Q=!0;if(g.token()&&
1===g.level()&&!Ta)Q=!1,g.logout(!0);else if(g.token(!0)&&g.login_name(!0))return Q=!1,a.isFunction(h)&&h(),g;p.history&&B.history().disable();var m=g.level();g.on("terminal.autologin",function(a,b,d,e){k(b,d,e)});g.push(function(a){g.set_mask(p.maskChar).push(function(b){try{d.call(g,a,b,function(b,d){k(a,b,d)})}catch(sa){N(sa,"AUTH")}},{prompt:M().password+": ",name:"password"})},{prompt:M().login+": ",name:"login"});return g},settings:function(){return p},before_cursor:function(a){var b=B.position(),
d=B.get().substring(0,b);b=d.split(" ");if(a)if(1===b.length)d=b[0];else{var e=(a=d.match(/(\\?")/g))?a.filter(function(a){return!a.match(/^\\/)}).length:0;a=d.match(/'/g);if(1===(a?a.length:0)%2)d=d.match(/('[^']*)$/)[0];else if(1===e%2)d=d.match(/("(?:[^"]|\\")*)$/)[0];else for(d=b[b.length-1],Oa=b.length-1;0<Oa;Oa--)if(a=b[Oa-1],"\\"===a[a.length-1])d=b[Oa-1]+" "+d;else break}return d},complete:function(b,d){function e(a,b){var d=g.get_command(),e=g.get_position(),k=new RegExp(a+"$");k=d.substring(0,
e).replace(k,"");d=d.substring(e);e=b+(h||"");g.set_command(k+e+d);g.set_position((k+e).length)}d=a.extend({word:!0,echo:!1,escape:!0},d||{});var k=g.before_cursor(d.word).replace(/\\"/g,'"'),h=!1;d.word&&(k.match(/^"/)?h='"':k.match(/^'/)&&(h="'"),h&&(k=k.replace(/^["']/,"")));b=b.slice();p.clear&&-1===a.inArray("clear",b)&&b.push("clear");p.exit&&-1===a.inArray("exit",b)&&b.push("exit");if(0===Ga%2)$a=g.before_cursor(d.word);else if(g.before_cursor(d.word)!==$a)return;var l=a.terminal.escape_regex(k);
d.escape&&(l=l.replace(/(\\+)(["'() ])/g,function(a,b,d){return d.match(/[()]/)?b+"\\?\\"+d:b+"?"+d}));for(var m=new RegExp("^"+l),n=[],r=b.length;r--;)if(m.test(b[r])){var t=b[r];'"'===h&&(t=t.replace(/"/g,'\\"'));!h&&d.escape&&(t=t.replace(/(["'() ])/g,"\\$1"));n.push(t)}if(1===n.length)return d.escape?e(l,n[0]):g.insert(n[0].replace(m,"")+(h||"")),$a=g.before_cursor(d.word),!0;if(1<n.length)if(2<=++Ga){if(Ga=0,d.echo)return La(),k=n.reverse().join("\t"),g.echo(a.terminal.escape_brackets(k),{keepWords:!0}),
!0}else if(l=W(k,n))return e(k,l),$a=g.before_cursor(d.word),!0},commands:function(){return G.top().interpreter},set_interpreter:function(b,d){function e(){g.pause(p.softPause);J(b,!!d,function(b){g.resume();var d=G.top();a.extend(d,b);v(!0)})}"string"===a.type(b)&&d?g.login(ta(b,d),!0,e):e();return g},greetings:function(){ob();return g},paused:function(){return Pa},pause:function(b){la(function(){fb();Pa=!0;B.disable(b||xb);b||B.find(".prompt").hidden();a.isFunction(p.onPause)&&p.onPause.call(g)});
return g},resume:function(){la(function(){Pa=!1;Y&&ia.front()===g&&B.enable();B.find(".prompt").visible();var b=ab;ab=[];for(var d=0;d<b.length;++d)g.exec.apply(g,b[d]);g.trigger("resume");(b=A.shift())&&b();ba();a.isFunction(p.onResume)&&p.onResume.call(g)});return g},cols:function(){if(p.numChars)return p.numChars;"undefined"===typeof S&&(S=Da(g,X));return S},rows:function(){if(p.numRows)return p.numRows;"undefined"===typeof qa&&(qa=ha(g,X));return qa},history:function(){return B.history()},history_state:function(a){function b(){p.historyState=
!0;ma.length?1<ia.length()&&g.save_state(null):g.save_state()}a?"undefined"===typeof window.setImmediate?setTimeout(b,0):setImmediate(b):p.historyState=!1;return g},clear_history_state:function(){E=[];ma=[];return g},next:function(){if(1===ia.length())return g;ia.front().disable();var b=ia.rotate().enable(),d=b.offset().top-50;a("html,body").animate({scrollTop:d},500);try{p.onTerminalChange.call(b,b)}catch(I){N(I,"onTerminalChange")}return b},focus:function(a,b){la(function(){if(1===ia.length())if(!1===
a)try{var d=p.onBlur.call(g,g);(!b&&!1!==d||b)&&g.disable()}catch(ca){N(ca,"onBlur")}else try{d=p.onFocus.call(g,g),(!b&&!1!==d||b)&&g.enable()}catch(ca){N(ca,"onFocus")}else if(!1===a)g.next();else{if(ia.front()!==g&&(ia.forEach(function(a){a!==g&&a.enabled()&&a.disable()}),!b))try{p.onTerminalChange.call(g,g)}catch(ca){N(ca,"onTerminalChange")}ia.set(g);g.enable()}});return g},freeze:function(a){va(function(){a?(g.disable(),oa=!0):(oa=!1,g.enable())})},frozen:function(){return oa},enable:function(){Y||
oa||(S===b&&g.resize(),la(function(){g.paused()||B.enable();Y=!0}));return g},disable:function(){la(function(){Y=!1;B.disable()});return g},enabled:function(){return Y},signature:function(){for(var a=g.cols(),b=vb.length;b--;){var d=vb[b].map(function(a){return a.length});if(Math.max.apply(null,d)<=a)return vb[b].join("\n")+"\n"}return""},version:function(){return a.terminal.version},cmd:function(){return B},get_command:function(){return B.get()},set_command:function(a){va(function(){B.set(a)});return g},
set_position:function(a,b){va(function(){B.position(a,b)});return g},get_position:function(){return B.position()},insert:function(a,b){if("string"===typeof a)return va(function(){var d=g.is_bottom();B.insert(a,b);(p.scrollOnEcho||d)&&ba()}),g;throw Error(sprintf(M().notAString,"insert"));},set_prompt:function(b){va(function(){wa("prompt",b)&&(a.isFunction(b)?B.prompt(function(a){b(a,g)}):B.prompt(b),G.top().prompt=b)});return g},get_prompt:function(){return G.top().prompt},set_mask:function(a){va(function(){B.mask(!0===
a?p.maskChar:a)});return g},get_output:function(b){return b?Z:a.map(Z,function(b){return a.isFunction(b[0])?b[0]():b[0]}).join("\n")},resize:function(b,d){if(g.is(":visible")){b&&d&&(g.width(b),g.height(d));b=g.width();d=g.height();if("undefined"!==typeof p.numChars&&"undefined"!==typeof p.numRows)return;X=Fa();var e=Da(g,X),k=ha(g,X);if(e!==S||k!==qa)S=e,qa=k,B.resize(S),xa(),e=G.top(),a.isFunction(e.resize)?e.resize.call(g,g):a.isFunction(p.onResize)&&p.onResize.call(g,g),ba()}else g.stopTime("resize"),
g.oneTime(500,"resize",function(){g.resize(b,d)});return g},flush:function(){try{var b=g.is_bottom(),d;a.each(ua,function(b,e){1===e?d=a("<div></div>"):a.isFunction(e)?(d.appendTo(V),e(d)):a("<div/>").html(e).appendTo(d).width("100%")});if(0<=p.outputLimit){var e=0===p.outputLimit?g.rows():p.outputLimit;var h=V.find("div div");if(h.length+1>e){var l=h.slice(0,h.length-e+1),m=l.parent();l.remove();m.each(function(){var b=a(this);b.is(":empty")&&b.remove()})}}(p.scrollOnEcho||b)&&ba();ua=[]}catch(fa){a.isFunction(p.exceptionHandler)?
p.exceptionHandler.call(g,fa,"TERMINAL (Flush)"):alert("[Flush] "+da(fa)+"\n"+fa.stack)}return g},update:function(a,b){va(function(){0>a&&(a=Z.length+a);Z[a]?(null===b?Z.splice(a,1):Z[a][0]=b,xa()):g.error("Invalid line number "+a)});return g},last_index:function(){return Z.length-1},echo:function(b,d){function e(b){try{var e=a.extend({flush:!0,raw:p.raw,finalize:a.noop,keepWords:!1,formatters:!0},d||{});e.raw&&function(a){e.finalize=function(b){b.addClass("raw");a(b)}}(e.finalize);e.flush&&(ua.length&&
g.flush(),ua=[]);Ea(b,e);Z.push([b,a.extend(e,{exec:!1})]);e.flush&&g.flush()}catch(Ka){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(g,Ka,"TERMINAL (echo)"):alert("[Terminal.echo] "+da(Ka)+"\n"+Ka.stack)}}try{d&&a.isFunction(d.finalize)&&d.finalize(a("<div/>")),a.isFunction(b.then)?a.when(b).done(e):e(b)}catch(ca){N(ca,"USER:echo(finalize)")}return g},error:function(b,d){d=a.extend({},d,{raw:!1,formatters:!1});var e=a.terminal.escape_brackets(b).replace(/\\$/,"&#92;").replace(zb,"]$1[[;;;error]");
return g.echo("[[;;;error]"+e+"]",d)},exception:function(b,d){var e=da(b);d&&(e="&#91;"+d+"&#93;: "+e);e&&g.error(e,{finalize:function(a){a.addClass("exception message")},keepWords:!0});"string"===typeof b.fileName&&(g.pause(p.softPause),a.get(b.fileName,function(a){var d=b.lineNumber-1;(a=a.split("\n")[d])&&g.error("["+b.lineNumber+"]: "+a);g.resume()},"text"));b.stack&&(e=a.terminal.escape_brackets(b.stack),g.echo(e.split(/\n/g).map(function(a){return"[[;;;error]"+a.replace(zb,function(a){return"]"+
a+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(a){a.addClass("exception stack-trace")},formatters:!1}))},scroll:function(a){a=Math.round(a);if(ra.prop){a>ra.prop("scrollTop")&&0<a&&ra.prop("scrollTop",0);var b=ra.prop("scrollTop")}else a>ra.attr("scrollTop")&&0<a&&ra.attr("scrollTop",0),b=ra.attr("scrollTop");ra.scrollTop(b+a);return g},logout:function(a){if(Q)throw Error(sprintf(M().notWhileLogin,"logout"));va(function(){if(a){var d=eb.pop();g.set_token(b,!0);g.login.apply(g,d)}else if(1===
G.size()&&g.token())g.logout(!0);else for(;1<G.size();)g.token()?g.logout(!0).pop().pop():g.pop()});return g},token:function(a){return na.get(g.prefix_name(a)+"_token")},set_token:function(a,b){var d=g.prefix_name(b)+"_token";"undefined"===typeof a?na.remove(d,a):na.set(d,a);return g},get_token:function(a){return g.token(a)},login_name:function(a){return na.get(g.prefix_name(a)+"_login")},name:function(){return G.top().name},prefix_name:function(a){var b=(p.name?p.name+"_":"")+Za;a&&1<G.size()&&(a=
G.map(function(a){return a.name||""}).slice(1).join("_"))&&(b+="_"+a);return b},read:function(b,d){var e=new a.Deferred;g.push(function(b){g.pop();a.isFunction(d)&&d(b);e.resolve(b)},{prompt:b});return e.promise()},push:function(d,e){la(function(){function h(){p.onPush.call(g,l,G.top(),g);v()}e=e||{};var k=a.extend({},{infiniteLogin:!1},e);!k.name&&z&&(k.name=z.name);k.prompt===b&&(k.prompt=(k.name||">")+" ");var l=G.top();l&&(l.mask=B.mask());var m=Pa;J(d,!!e.login,function(b){G.push(a.extend({},
b,k));!0===k.completion&&(a.isArray(b.completion)?G.top().completion=b.completion:b.completion||(G.top().completion=!1));if(k.login)if(b=a.type(k.login),"function"===b)b=k.infiniteLogin?a.noop:g.pop,g.login(k.login,k.infiniteLogin,h,b);else{if("string"===a.type(d)&&"string"===b||"boolean"===b)b=k.infiniteLogin?a.noop:g.pop,g.login(ta(d,k.login),k.infiniteLogin,h,b)}else h();!m&&g.enabled()&&g.resume()})});return g},pop:function(d,e){d!==b&&La(d);var h=g.token(!0);if(1===G.size())if(h=G.top(),p.login){e||
p.onPop.call(g,h,null,g);a:{if(a.isFunction(p.onBeforeLogout))try{if(!1===p.onBeforeLogout.call(g,g))break a}catch(T){N(T,"onBeforeLogout")}Ya();if(a.isFunction(p.onAfterLogout))try{p.onAfterLogout.call(g,g)}catch(T){N(T,"onAfterlogout")}g.login(p.login,!0,F)}if(a.isFunction(p.onExit))try{p.onExit.call(g,g)}catch(T){N(T,"onExit")}}else g.error(M().canExitError);else{h&&Ya();var k=G.pop();h=G.top();v();e||p.onPop.call(g,k,h);Q&&g.get_prompt()!==M().login+": "&&(Q=!1);if(a.isFunction(k.onExit))try{k.onExit.call(g,
g)}catch(T){N(T,"onExit")}g.set_mask(h.mask)}return g},option:function(b,d){if("undefined"===typeof d){if("string"===typeof b)return p[b];"object"===typeof b&&a.each(b,function(a,b){p[a]=b})}else p[b]=d;return g},level:function(){return G.size()},reset:function(){va(function(){for(g.clear();1<G.size();)G.pop();F()});return g},purge:function(){va(function(){var b=g.prefix_name()+"_",d=na.get(b+"interpreters");d&&a.each(JSON.parse(d),function(a,b){na.remove(b+"_commands");na.remove(b+"_token");na.remove(b+
"_login")});B.purge();na.remove(b+"interpreters")});return g},destroy:function(){va(function(){B.destroy().remove();V.remove();Na.remove();a(document).unbind(".terminal_"+g.id());a(window).unbind(".terminal_"+g.id());g.unbind("click wheel mousewheel mousedown mouseup");g.removeData("terminal").removeClass("terminal").unbind(".terminal");p.width&&g.css("width","");p.height&&g.css("height","");a(window).off("blur",Va).off("focus",aa);g.find(".terminal-fill").remove();ia.remove(Za);C&&C.unobserve(g[0]);
R&&R.disconnect();g.resizer("unbind");ia.length()||a(window).off("hashchange")});return g},scroll_to_bottom:ba,is_bottom:function(){if(-1===p.scrollBottomOffset)return!1;if(g.is("body")){var b=a(document).height();var d=a(window).scrollTop();var e=window.innerHeight}else b=ra[0].scrollHeight,d=ra.scrollTop(),e=ra.outerHeight();return d+e>b-p.scrollBottomOffset}},function(a,b){return function(){try{return b.apply(g,[].slice.apply(arguments))}catch(I){if("exec"!==a&&"resume"!==a&&N(I,"TERMINAL"),!p.exceptionHandler)throw I;
}}}));!0===p.ignoreSystemDescribe&&(p.describe=!1);p.width&&g.width(p.width);p.height&&g.height(p.height);var ra=g.scroll_element();a(document).bind("ajaxSend.terminal_"+g.id(),function(a,b){Wa.push(b)});var Na=a('<div class="terminal-wrapper"/>').appendTo(g);a('<div class="terminal-fill"/>').appendTo(g);var V=a("<div>").addClass("terminal-output").attr("role","log").appendTo(Na);g.addClass("terminal");if(p.login&&a.isFunction(p.onBeforeLogin))try{!1===p.onBeforeLogin.call(g,g)&&(Ta=!1)}catch(k){if(N(k,
"onBeforeLogin"),!p.exceptionHandler)throw k;}if("string"===typeof e)var Ua=e;else if(e instanceof Array)for(var Oa=0,ub=e.length;Oa<ub;++Oa)if("string"===typeof e[Oa]){Ua=e[Oa];break}!Ua||"string"!==typeof p.login&&!0!==p.login||(p.login=ta(Ua,p.login));ia.append(g);g.on("focus.terminal","textarea",function(a,b){Y||b||g.enable()});a(document).on("paste.terminal_"+g.id(),function(a){a=a.originalEvent;if(a.clipboardData&&g.enabled()){var b=a.clipboardData.items;if(b)for(a=0;a<b.length;a++)if(-1!==
b[a].type.indexOf("image")){var d=b[a].getAsFile();d=(window.URL||window.webkitURL).createObjectURL(d);g.echo('<img src="'+d+'"/>',{raw:!0})}else-1!==b[a].type.indexOf("text/plain")&&b[a].getAsString(g.insert);else a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"),g.insert(b));return!1}});J(e,!!p.login,function(d){function e(b){!a(b.target).closest(".terminal").length&&g.enabled()&&!1!==p.onBlur.call(g,g)&&g.disable()}function h(){if(g.is(":visible")){var a=g.width(),b=g.height();
mb===b&&lb===a||g.resize();mb=b;lb=a}}function k(){C&&C.unobserve(g[0]);C=new IntersectionObserver(function(){g.is(":visible")?(g.resizer("unbind").resizer(h),h()):g.disable()},{root:document.body});C.observe(g[0])}function l(b){var d=ia.get()[b[0]];if(d&&Za===d.id()&&b[2])try{if(Pa){var e=a.Deferred();A.push(function(){return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1]);e.resolve()})});return e.promise()}return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1])})}catch(rb){var h=
d.settings();a.isFunction(h.exceptionHandler)?h.exceptionHandler.call(g,rb,"EXEC HASH"):(h=a.terminal.escape_brackets($a),d.error("Error while exec with command "+h).exception(rb))}}function m(b,d){if(!w){var e=G.top();if(a.isFunction(e.mousewheel)){if(e=e.mousewheel(b,d,g),!1===e)return}else if(a.isFunction(p.mousewheel)&&(e=p.mousewheel(b,d,g),!1===e))return;0<d?g.scroll(-40):g.scroll(40)}}if(p.completion&&"boolean"!==typeof p.completion||!p.completion)d.completion="settings";var n=a.extend({},
tb,p.keymap||{});G=new y(a.extend({},p.extra,{name:p.name,prompt:p.prompt,keypress:p.keypress,keydown:p.keydown,resize:p.onResize,greetings:p.greetings,mousewheel:p.mousewheel,keymap:n},d));B=a("<div/>").appendTo(Na).cmd({prompt:p.prompt,history:p.memory?"memory":p.history,historyFilter:p.historyFilter,historySize:p.historySize,width:"100%",enabled:Y&&!sb,keydown:pb,keymap:n,clickTimeout:p.clickTimeout,keypress:function(b){var d=G.top();if(Y&&(!Pa||!p.pauseEvents)){if(a.isFunction(d.keypress))return d.keypress.call(g,
b,g);if(a.isFunction(p.keypress))return p.keypress.call(g,b,g)}},onCommandChange:function(b){if(a.isFunction(p.onCommandChange))try{p.onCommandChange.call(g,b,g)}catch(ya){if(N(ya,"onCommandChange"),!p.exceptionHandler)throw ya;}ba()},commands:za});Y&&g.is(":visible")&&!sb?g.focus(b,!0):g.disable();g.oneTime(100,function(){a(document).bind("click.terminal_"+g.id(),e).bind("contextmenu.terminal_"+g.id(),e)});a(window);document.addEventListener("resume",function(){g.disable()});sb?g.click(function(){g.enabled()||
oa?g.focus(!1):(g.focus(),B.enable())}):(function(){var b=0,d=!1,e,h="click_"+g.id();g.mousedown(function(h){e=a(h.target);if(2!==h.originalEvent.button)g.oneTime(1,function(){a(window).on("mousemove.terminal_"+g.id(),function(){d=!0;b=0;a(window).off("mousemove.terminal_"+g.id())})})}).mouseup(function(){var k=d;d=!1;a(window).off("mousemove.terminal_"+g.id());if(!k)if(1===++b)if(g.enabled()||oa)g.oneTime(p.clickTimeout,h,function(){if(e.is(".terminal")||e.is(".terminal-wrapper")){var a=g.get_command().length;
g.set_position(a)}else e.closest(".prompt").length&&g.set_position(0);b=0});else B.enable(),b=0;else g.stopTime(h),b=0}).dblclick(function(){b=0;g.stopTime(h)})}(),function(){var a=g.find("textarea");g.on("mousedown.terminal",function(b){if(2===b.originalEvent.button){g.enabled()||g.enable();b.preventDefault();var d=B.offset();a.css({left:b.pageX-d.left-5,top:b.pageY-d.top-5})}});g.bind("contextmenu",function(){g.oneTime(100,function(){a.css({left:"",top:""})})})}());g.delegate(".exception a","click",
function(b){var d=a(this).attr("href");d.match(/:[0-9]+$/)&&(b.preventDefault(),t(d))});g.is(":visible")&&(S=g.cols(),B.resize(S),X||(X=Fa()),qa=ha(g,X));qb.resolve();p.login?g.login(p.login,!0,F):F();g.is(":visible")&&g.resizer(h);var x=!!g.closest("body").length;d=window.MutationObserver||window.WebKitMutationObserver;window.IntersectionObserver&&(d&&(R=new d(function(){g.closest("body").length?(x||(g.scroll_to_bottom(),k()),x=!0):x&&(x=!1)}),R.observe(document.body,{childList:!0})),x&&k());p.execHash?
location.hash?setTimeout(function(){try{var a=location.hash.replace(/^#/,"");E=JSON.parse(decodeURIComponent(a));var b=0;(function gb(){var a=E[b++];a?l(a).done(gb):Ha=!0})()}catch(Ib){}}):Ha=!0:Ha=!0;var w=!1;a(document).bind("keydown.terminal_"+g.id(),function(a){a.shiftKey&&(w=!0)}).bind("keyup.terminal_"+g.id(),function(a){if(a.shiftKey||16===a.which)w=!1});if(a.event.special.mousewheel)g.on("mousewheel",function(a,b){m(a,b);a.preventDefault()});else{var v="onwheel"in document.createElement("div")?
"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll";g.on(v,function(a){m(a,-("mousewheel"===v?-.025*a.originalEvent.wheelDelta:a.originalEvent.deltaY||a.originalEvent.detail));return!1})}});g.data("terminal",g);return g}});/*
 Autosize 4.0.0
 license: MIT
 http://www.jacklmoore.com/autosize
*/
!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var h={exports:{}};b(h.exports,h);a.autosize=h.exports}}(this,function(a,b){function h(a){function b(){var b=window.getComputedStyle(a,null);"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal");x="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):parseFloat(b.borderTopWidth)+
parseFloat(b.borderBottomWidth);isNaN(x)&&(x=0);t()}function e(b){var e=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=e;a.style.overflowY=b}function h(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function m(){var b=a.style.height,e=h(a),m=document.documentElement&&document.documentElement.scrollTop;a.style.height="";var n=a.scrollHeight+x;return 0===a.scrollHeight?
void(a.style.height=b):(a.style.height=n+"px",Da=a.clientWidth,e.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(m&&(document.documentElement.scrollTop=m)))}function t(){m();var b=Math.round(parseFloat(a.style.height)),h=window.getComputedStyle(a,null),n="content-box"===h.boxSizing?Math.round(parseFloat(h.height)):a.offsetHeight;if(n!==b?"hidden"===h.overflowY&&(e("scroll"),m(),n="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight):"hidden"!==
h.overflowY&&(e("hidden"),m(),n="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight),ha!==n){ha=n;b=w("autosize:resized");try{a.dispatchEvent(b)}catch(hb){}}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!n.has(a)){var x=null,Da=a.clientWidth,ha=null,La=function(){a.clientWidth!==Da&&t()},Ra=function(b){window.removeEventListener("resize",La,!1);a.removeEventListener("input",t,!1);a.removeEventListener("keyup",t,!1);a.removeEventListener("autosize:destroy",
Ra,!1);a.removeEventListener("autosize:update",t,!1);Object.keys(b).forEach(function(e){a.style[e]=b[e]});n["delete"](a)}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",Ra,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",t,!1);window.addEventListener("resize",La,!1);a.addEventListener("input",t,!1);a.addEventListener("autosize:update",t,!1);a.style.overflowX=
"hidden";a.style.wordWrap="break-word";n.set(a,{destroy:Ra,update:t});b()}}function e(a){(a=n.get(a))&&a.destroy()}function m(a){(a=n.get(a))&&a.update()}var n="function"==typeof Map?new Map:function(){var a=[],b=[];return{has:function(b){return-1<a.indexOf(b)},get:function(e){return b[a.indexOf(e)]},set:function(e,h){-1===a.indexOf(e)&&(a.push(e),b.push(h))},"delete":function(e){e=a.indexOf(e);-1<e&&(a.splice(e,1),b.splice(e,1))}}}(),w=function(a){return new Event(a,{bubbles:!0})};try{new Event("test")}catch(x){w=
function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!1),b}}var t=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(t=function(a){return a},t.destroy=function(a){return a},t.update=function(a){return a}):(t=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return h(a,b)}),a},t.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],e),a},t.update=function(a){return a&&Array.prototype.forEach.call(a.length?
a:[a],m),a});b.exports=t});var def_conf={application:{name:"Tooterminal",website:"https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{terminal:{logging:{favourite:!0,reblog:!0,mention:!0,following:!0},monitor:"local"},status:{}}},config,instances,prompt,url_params,term_mode,mode_global,mode_configuration,mode_instance,instance_name,beep_buf,context=new AudioContext,enterCommand=function(a,b){a=a.trim();b.resize(window.innerWidth-
36,window.innerHeight-36);0!==a.length&&!0!==term_mode.execute(a,b)&&b.error(term_mode.result.message)},completion=function(a,b){var h=term_mode.getCompletion(a);1===h.length?$.terminal.active().set_command(term_mode.completion):b(h)},initConfig=function(a){var b=localStorage,h=b.getItem("configuration");config=new ConfigManager(def_conf,h?JSON.parse(h):{});url_params={};instances=(b=b.getItem("instances"))?JSON.parse(b):{};if(location.search.match(/^\?.+=.+/)){b=location.search.replace(/^\?/,"").split(/[=&]/);
for(h=0;h<b.length;h+=2)url_params[b[h]]=b[h+1];url_params.hasOwnProperty("code")&&instances.hasOwnProperty(url_params.instance_name)?(instance_name=url_params.instance_name,instances[instance_name].auth_code=url_params.code,a.exec("instance "+instance_name),history.replaceState("","",location.pathname)):url_params.hasOwnProperty("instance")&&instances.hasOwnProperty(url_params.instance)&&a.exec("instance "+url_params.instance)}},filterKey=function(a,b){if(63===a.charCode){var h=term_mode.information(b.get_command()).map(function(a){return"undefined"===
typeof a.command?a:"  "+tab(a.command,a.description,22)});h.unshift(b.get_prompt()+b.get_command()+"?");h.push("");more(b,h,!0);var e=b.get_command();b.set_command("");setTimeout(function(){b.set_command(e)},10)}},parseCommand=function(a,b){term_mode.parse(a.replace(/\?$/,""))},init_instance=function(a){term_mode=mode_instance;var b;config.find(["instances","terminal","auto"])&&(b=config.find(["instances","terminal","monitor"]));url_params.hasOwnProperty("terminal")&&(b=url_params.terminal.match(url_params.terminal));
"undefined"!==typeof b&&instances[instance_name].hasOwnProperty("access_token")&&a.exec("terminal monitor "+b)},count_toot_size=function(){var a=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>a?"#F00":"#bbb").text(a)};
function upload_img(a){var b=new FormData,h=instances[instance_name],e=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+e));b.append("file",a);$.ajax("https://"+h.domain+"/api/v1/media",{type:"POST",contentType:!1,processData:!1,headers:{Authorization:h.token_type+" "+h.access_token},data:b}).then(function(a,b,h){$("#media_"+e).attr("data-id",a.id).attr("data-url",a.text_url);b=new Image;b.onload=function(){$("#media_"+e).attr("src",a.preview_url);$("#toot_box").val($("#toot_box").val()+
" "+a.text_url);autosize.update($("#toot_box"));count_toot_size()};b.onerror=function(a){console.log(a)};b.src=a.preview_url},function(a,b,h){$.terminal.active().error("Media upload error.("+a.status+")");$("#media_"+e).remove();console.log(a)})}var tl;
$(function(){mode_global=new ModeManager(new GlobalModeElement);mode_configuration=new ModeManager(new ConfigurationModeElement);mode_instance=new ModeManager(new InstanceModeElement);term_mode=mode_global;tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:'=== CLI\u753b\u9762\u98a8 \u30de\u30b9\u30c8\u30c9\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 "Tooterminal" ===\n\n\u4f7f\u3044\u65b9\u306f"help"\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f"?"\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n',
login:!1,onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function(a){a.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function(a){return!1},onResume:!1,onCommandChange:parseCommand});$("#toot").on("keydown",function(a){27===a.keyCode?closeTootbox():13===a.keyCode&&a.ctrlKey&&post_status()}).on("paste",function(a){4<=$(".toot_media img").length||"undefined"===typeof a.originalEvent.clipboardData||
"undefined"===typeof a.originalEvent.clipboardData.types||1!==a.originalEvent.clipboardData.types.length||"Files"!==a.originalEvent.clipboardData.types[0]||(a=a.originalEvent.clipboardData.items[0].getAsFile(),upload_img(a))});$("#toot_box").on("dragenter",function(a){console.log(a);a.preventDefault();$("#toot_box").addClass("toot_imghover")}).on("dragover",function(a){console.log(a)}).on("dragleave",function(a){console.log(a);$("#toot_box").removeClass("toot_imghover")}).on("drop",function(a){console.log(a);
a.preventDefault();$("#toot_box").removeClass("toot_imghover");a=a.originalEvent.dataTransfer.files;var b=4-$("#toot_media img").length;b=b<a.length?b:a.length;for(var h=0;h<b;h++)a[h].type.match(/^(video|image)\//)&&upload_img(a[h])});$("#toot_cw").on("keyup",count_toot_size);$("#toot_box").on("keyup",count_toot_size);$("#toot_post").on("click",function(){post_status()});$("#help_close").on("click",function(){$("#help").slideUp("first");$.terminal.active().focus()});$("#reply_close").on("click",
function(a){$("#sid").text("");$("#reply").hide();$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+(?:@(?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+)?\s+/,""))});$(".img_background").on("click",function(){$("#img_view").fadeOut("first");$("#video_view").fadeOut("first");$(".img_background").fadeOut("first");$.terminal.active().enable()});$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("click",".a_acct",function(a){term_mode===mode_instance&&
(a=$(this).text().match(/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+))|(?:@([a-zA-Z0-9_]+)))/),callAPI("/api/v1/accounts/search",{data:{q:a[0],limit:1}}).then(function(a,h,e){$.terminal.active().exec("show user id "+a[0].id+" statuses limit 3").done(function(){$.terminal.active().exec("show user id "+a[0].id)})}))}).on("mouseover",".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").show()}).on("mouseout",
".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").hide()}).on("click",".status",function(a){if(!$(this).hasClass("status_deleted")){$(this).data("sid");if(a.shiftKey){var b="@"+$(this).data("acct").toString();$(this).find(".status_contents")[0].textContent.replace(new RegExp(b,"g"),"").match(/((?:@([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g);$.terminal.active().disable();
$("#toot").slideDown("first");$("#reply").show();$("#sid").text($(this).data("sid"));$("#reply_head").text("reply to: "+$(this).data("dispname"));$("#reply_body").text($(this).find("#status_contents")[0].textContent);$("#toot_box").focus().val("@"+$(this).data("acct")+" "+$(this).data("reply"));$($(this).find(".status_head i")[2]).hasClass("fa-envelope")&&$("#toot_visibility").val("direct")}a.ctrlKey&&favorite(this);a.altKey&&boost(this)}}).on("dblclick",".status",function(a){$.terminal.active().exec("show status id "+
$(this).data("sid"))}).on("click",".status_contents img",function(a){var b=$(this);$("#img_view").attr("src",b.attr("src")).fadeIn("first");"gifv"===b.data("type")?(a=$("#video_view")[0],a.src=b.data("url"),a.loop=!0,a.autoplay=!0,a.muted=!0,a.controls=!0,a.oncanplay=function(){$("#img_view").fadeOut("first")},$("#video_view").fadeIn("first"),$(".img_background").fadeIn("first")):(a=new Image,a.onload=function(){$("#img_view").attr("src",b.data("url"))},a.onerror=function(a){console.log(a)},$(".img_background").fadeIn("first"),
$.terminal.active().disable(),a.src=b.data("url"))}).on("click","[name=cmd_followers]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" followers")}).on("click","[name=cmd_following]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" following")}).on("click","[name=cmd_status_pinned]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" statuses pinned")}).on("keydown",".img_background",function(a){27===a.keyCode&&
$(".img_background").trigger("click")}).on("click",".status_enquete span",function(a){$.terminal.active().echo("\u307e\u3060\u6295\u7968\u3067\u304d\u306a\u3044\u3067\u3059\u3002\u3002\u3002")}).on("click",".toot_media img",function(a,b,h){$(a.target).remove();$("#toot_box").val($("#toot_box").val().replace($(a.target).data("url"),""))}).on("keydown",function(a){65===a.keyCode&&a.altKey&&term_mode===mode_instance&&"none"===$("#toot").css("display")&&$.terminal.active().exec("toot")});autosize($("#toot_box"))});
function makeStatus(a){var b=new Date(a.created_at),h="undefined"!==typeof a.reblog&&null!==a.reblog,e="mention"===a.type,m=h?a.reblog:e?a.status:a;null===m.application?e="":null===m.application.website?e=" via "+m.application.name:(e=$("<a />").text(m.application.name).attr("href",m.application.website).attr("target","_blank").prop("outerHTML"),e=" via "+e);b=(h?$.terminal.format("[[!i;;]reblogged by "+a.account.display_name+" @"+a.account.acct+"]")+"<br />":"")+"[ "+("undefined"===typeof m.account.display_name?
"":m.account.display_name)+" "+$.terminal.format("[[!;;]@"+m.account.acct+"]")+" "+$("<i />").addClass("fa fa-"+(m.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+(m.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===m.visibility?"globe":"unlisted"===m.visibility?"unlock":"private"===m.visibility?"lock":"direct"===m.visibility?"envelope":"question")).attr("aria-hidden",
"true").prop("outerHTML")+(m.in_reply_to_id?" "+$($("<i />").addClass("fa fa-mail-reply")).attr("aria-hidden","true").prop("outerHTML")+" ":"")+" "+b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+" "+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+b.getMilliseconds()).slice(-3)+" ]"+e;a="";if(0<m.mentions.length){for(h=0;h<m.mentions.length;h++)a+="@"+m.mentions[h].acct+" ";a=a.replace("@"+instances[instance_name].user.acct+
" ","")}h=$("<td />").addClass("status_avatar");if("undefined"!==typeof config.find("instances.status.avatar")){h.append($("<img />").attr("name","img_"+m.account.id));var n=m.account.avatar_static;n.match(/^http/)||(n="https://"+instances[instance_name].domain+n);e=new Image;e.onload=function(){$("[name=img_"+m.account.id+"]").attr("src",n)};e.onerror=function(a){console.log(a)};e.src=n}else h.hide();if("undefined"!==typeof m.enquete&&null!==m.enquete){var w=JSON.parse(m.enquete);e=$("<div />").append(w.question.replace(/<p>(.*?)<\/p>/g,
"<p><span>$1"+("enquete"===w.type?"(\u56de\u7b54\u67a0)":"(\u7d50\u679c)")+"</span></p>"));for(var t=$("<div />").addClass("status_"+w.type),x=0;x<w.items.length;x++)"enquete"===w.type?t.append($("<span />").html(w.items[x])):t.append($("<span />").append($("<span />").addClass("progress").text(w.items[x])).append($("<span />").addClass("proceed").css("width",w.ratios[x].toString()+"%")));e.append(t)}else e=m.content,e.match(/^<.+>$/)&&(e=e.replace(/<p>(.*?)<\/p>/g,"<p><span>$1</span></p>"));if(0<
m.media_attachments.length){var D=$("<div />").addClass("status_thumbnail");m.media_attachments.forEach(function(a,b,e){var h=a.preview_url.match(/^https?:\/\//)?a.preview_url:"https://"+instances[instance_name].domain+a.preview_url;b=a.remote_url?a.remote_url:a.url;var m="media_"+a.id;D.append($("<img />").attr("id",m).attr("data-url",b).attr("data-type",a.type));a=new Image;a.onload=function(){$("#"+m).attr("src",h)};a.onerror=function(a){console.log(a)};a.src=h});"undefined"===typeof config.find("instances.status.thumbnail")&&
D.hide()}w=$("<div />").addClass("status_contents").attr("id","status_contents");if(m.sensitive){var y=$("<div />");0<m.spoiler_text.length?(w.append($.terminal.format(m.spoiler_text)),y.append(e)):w.append(e);"undefined"!==typeof D&&y.append(D)}else 0<m.spoiler_text.length?(w.append($.terminal.format(m.spoiler_text)),y=$("<div />"),y.append(e)):w.append(e),"undefined"!==typeof D&&w.append(D);"undefined"!==typeof y&&w.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(y.hide());
y=$("<td />").addClass("status_main").append($("<div />").addClass("status_head").html($.terminal.format(b))).append(w);y=$("<table />").attr("name","id_"+m.id).attr("data-sid",m.id).attr("data-instance",instance_name).attr("data-uid",m.account.id).attr("data-dispname",m.account.display_name).attr("data-acct",m.account.acct).attr("data-fav",m.favorited?"1":"0").attr("data-reb",m.reblogged?"1":"0").attr("data-reply",a).addClass("status").append(h).append(y);config.find("instances.status.separator")&&
y.append('<tr><td colspan="2"><span>'+Array($.terminal.active().cols()-3).join("-")+"</span></td></tr>");return y.prop("outerHTML")}
function make_notification(a){var b="favourite"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.favourite"),h="reblog"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.reblog"),e="follow"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.following"),m="mention"===a.type&&!1!==config.find("instances.terminal.logging")&&!1!==config.find("instances.terminal.logging.mention"),
n="";if(b||h||e||m)b=a.status?$.terminal.escape_brackets($(a.status.content).text()):"(Status was deleted)",100<b.length&&(b=b.slice(0,100)+" ..."),n="Notification! : "+a.type+" << "+a.account.display_name+" "+$.terminal.format("[[!;;]@"+a.account.acct+"]")+"<br />"+(a.status?b:""),n=$("<span />").html(n).addClass("status_notify").prop("outerHTML"),"mention"===a.type&&(n+=makeStatus(a));return n}
function post_status(){var a=$("#toot_box").val().trim(),b=$("#toot_cw").val().trim(),h=$("#toot_visibility").val();h={status:a,visibility:h};var e=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===a.length||0>e||"undefined"===typeof instances[instance_name]&&"undefined"===typeof instances[instance_name].access_token)return!1;0!==b.length&&(h.spoiler_text=b);a=$(".reply #sid").text();""!==a&&(h.in_reply_to_id=a);h.media_ids=[];a=$("#toot_media img");for(b=0;b<a.length;b++)h.media_ids.push($(a[b]).data("id"));
return $.ajax({url:"https://"+instances[instance_name].domain+"/api/v1/statuses",type:"POST",headers:{Authorization:instances[instance_name].token_type+" "+instances[instance_name].access_token},data:h,timeout:5E3}).then(function(a,b,e){a=config.find("instances.visibility");"undefined"===typeof a&&(a="public");$("#toot_cw").val("");$("#toot_visibility").val(a);$("#reply_close").trigger("click");$("#toot_media").html("");$("#toot_box").val("").trigger("keyup").focus();autosize.update($("#toot_box"))},
function(a,b,e){$.terminal.active().error("Toot post error.("+a.status+")");console.log(a)})}function reduce_status(){for(var a=$(".status").parent().parent(),b=a.length-200,h=0;h<b;h++)$(a[h]).remove()}
function callAPI(a,b){b=void 0===b?{}:b;var h="undefined"===typeof b.instance_name?instances[instance_name]:instances[b.instance_name];"undefined"===typeof a?(h=new $.Deffered,h.reject("Undefined path")):"undefined"===typeof h?(h=new $.Deffered,h.reject("No instance")):"undefined"===typeof h.access_token?(h=new $.Deffered,h.reject("No login")):h=$.ajax({url:"https://"+h.domain+a,type:"undefined"!==typeof b.type?b.type:"GET",headers:{Authorization:h.token_type+" "+h.access_token},data:typeof b.data?
b.data:"",dataType:"json",timeout:5E3});return h}
function favorite(a,b){var h=1==$(a).data("fav"),e="/api/v1/statuses/"+$(a).data("sid").toString()+(h?"/unfavourite":"/favourite");"undefined"===typeof b&&(b=$.terminal.active());$($(a).find("i")[0]).removeClass().addClass("fa fa-spinner");callAPI(e,{instance_name:$(a).data("instance"),type:"POST"}).then(function(e,n,w){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[0]).removeClass().addClass("fa fa-"+(e.favourited?"star":"star-o"));$(b).data("fav",e.favourited?
"1":"0")});h===e.favourited&&b.error("favourited missed...")},function(b,e,w){$.terminal.active().error("Favorite failed.("+b.status+")");$($(a).find("i")[0]).removeClass().addClass("fa fa-"+(h?"star":"star-o"));console.log(b)})}function closeTootbox(){$("#sid").text("");$("#reply").hide();$("#toot_box").val("");$("#toot").slideUp("first");$.terminal.active().enable()}
function boost(a){var b=1==$(a).data("reb"),h="/api/v1/statuses/"+$(a).data("sid").toString()+(b?"/unreblog":"/reblog");"undefined"===typeof term&&(term=$.terminal.active());$($(a).find("i")[1]).removeClass().addClass("fa fa-spinner");callAPI(h,{instance_name:$(a).data("instance"),type:"POST"}).then(function(e,h,n){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[1]).removeClass().addClass("fa fa-"+(e.reblogged?"check-circle-o":"retweet"));$(b).data("reb",e.reblogged?
"1":"0")});b===e.reblogged&&term.error("reblogged missed...")},function(e,h,n){$.terminal.active().error("Reblogged failed.("+e.status+")");$($(a).find("i")[1]).removeClass().addClass("fa fa-"+(b?"check-circle-o":"retweet"));console.log(e)})}function tab(a,b,h){var e=escape(a).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x").length;for(a=h<=e?a.substr(0,h-4)+"... ":a;e<h;e++,a+=" ");return a+b}function status_recursive(a,b){new Primrose;ins}
String.prototype.addTab=function(a,b){return tab(a,this,b)};
function more(a,b,h){var e=a.rows(),m=a.get_command(),n=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.echo(b.slice(n,n+e).join("\n"));n+=e;n>b.length&&(a.pop(),h&&a.set_command(m));a.resume()},keydown:function(a,t){switch(a.keyCode){case 81:t.pop();h&&t.set_command(m);break;case 13:t.echo(b.slice(n,n+1).join("\n"));n++;n>b.length&&(t.pop(),h&&t.set_command(m));break;default:t.echo(b.slice(n,n+e).join("\n")),n+=e,n>b.length&&(t.pop(),h&&t.set_command(m)),t.set_command("")}return!1}})}
function begin(a,b,h,e){var m;for(m=0;m<b.length&&!b[m].match(e);m++);more(a,b.slice(m),h,e)}function include(a,b,h,e){for(var m=[],n=0;n<b.length;n++)b[n].match(e)&&m.push(b[n]);more(a,m,h)}function exclude(a,b,h,e){for(var m=[],n=0;n<b.length;n++)b[n].match(e)||m.push(b[n]);more(a,m,h)};var ModeManager=function(){function a(a){this.element=a;this.dataset=a.dataset;this.parse("")}a.prototype.execute=function(a,h){var b=this.parse(a);return b.is_parsed?"1001"==b.code?!0:""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"!==typeof b.cmd_list[0].execute?(console.log("ElementError: Undefined execution function."),12034):b.cmd_list[0].execute(h,this):(console.log("AnalyzeError: "+b.message),b.code)};a.prototype.getCompletion=function(a){a=
this.result.cmd_list;for(var b=[],e=0;e<a.length;e++)b.push("paramater"==a[e].type?"<"+a[e].name+">":"number"==a[e].type?"["+a[e].name+"]":a[e].name);return b};a.prototype.information=function(a){var b=this.parse(a).cmd_list;a=["Exec commands:"];for(var e,m=0;m<b.length;m++){if("paramater"==b[m].type)e="<"+b[m].name+">";else if("number"==b[m].type){e=parseInt(b[m].max);var n=parseInt(b[m].min);e="<"+(isNaN(n)?"":n)+"-"+(isNaN(e)?"":e)+">"}else e=b[m].name;a.push({command:e,description:b[m].description})}b=
this.line_parsed[this.line_parsed.length-1];"undefined"!==typeof b&&"function"===typeof b.execute&&"paramater"!==b.type&&"number"!==b.type&&(2===a.length&&a.pop(),a.push({command:"<cr>",description:""}));return a};a.prototype.parse=function(a,h){void 0===h&&(h=0);this.line=a;this.line_split=a.replace(/ +/g," ").split(" ");this.line_parsed=[];this.is_parsed=!0;this.err_code=0;this.err_msg="";this.position=h;this.completion="";this.cmd_list=this.dataset;this.paramaters={};this.optional={};var b,m="";
if(0>=a.length)return this.result;if(a.match(/^\s*!/))return this.is_parsed=!0,this.err_code=4097,this.err_msg="comment",this.result;for(b=this.position;b<=a.length;b++){var n=a.charAt(b);if(" "===n){for(m="";n=a.charAt(++b)," "===n&&""!==n;);this.completion=a.substring(0,b);if(1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===typeof this.cmd_list[0].children?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938;this.err_msg='% Ambiguous command:  "'+
this.line+'"';break}}if(""===n)break;m+=n;n=[];for(var w=0;w<this.cmd_list.length;w++)if("command"===this.cmd_list[w].type)this.cmd_list[w].name.match(new RegExp("^"+m,"i"))&&n.push(this.cmd_list[w]);else if("number"===this.cmd_list[w].type){var t=parseInt(m),x=parseInt(this.cmd_list[w].max),D=parseInt(this.cmd_list[w].min);0===m.length?n.push(this.cmd_list[w]):isNaN(t)||!isNaN(x)&&x<t||!isNaN(D)&&D>t||n.push(this.cmd_list[w])}else if("paramater"===this.cmd_list[w].type)n.push(this.cmd_list[w]);else if("description"===
this.cmd_list[w].type){if(1===this.cmd_list.length){b=a.length;break}}else return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[w].type+"'",this.result;this.cmd_list=n;if(0===this.cmd_list.length){this.is_parsed=!1;this.err_code=7937;for(m="";m.length<b;m+=" ");m+=$.terminal.active().get_prompt().replace(/\S/g," ");this.err_msg=m+"^\n% Invalid input detected at '^' marker.";this.cmd_list=[];break}}this.position=b;if(1===this.cmd_list.length)for(this.line_parsed.push(this.cmd_list[0]),
"undefined"===typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command."),b=0;b<this.line_parsed.length;b++){if("paramater"===this.line_parsed[b].type||"number"===this.line_parsed[b].type)this.paramaters[this.line_parsed[b].name]=this.line_split[b];this.line_parsed[b].hasOwnProperty("optional")&&(this.optional[this.line_parsed[b].optional]=!0)}this.completion=1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+(this.cmd_list[0].name+
" "):this.line;return this.result};Object.defineProperty(a.prototype,"func_name",{get:function(){if(0!==this.err_code)return"";var a=this.line_parsed[this.line_parsed.length-1];return"undefined"===typeof a.execute?"":a.execute},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"result",{get:function(){return{is_parsed:this.is_parsed,cmd_list:this.cmd_list,code:this.err_code.toString(16),message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0});
a.prototype.debug=function(){console.log("**************************************************");console.log("===== line");console.log(this.line);console.log("===== line_parsed");console.log(this.line_parsed);console.log("===== is_parsed");console.log(this.is_parsed);console.log("===== err_code");console.log(this.err_code.toString(16));console.log("===== err_msg");console.log(this.err_msg);console.log("===== line.length");console.log(this.line.length);console.log("===== position");console.log(this.position);
console.log("===== completion");console.log(this.completion);console.log("===== dataset");console.log(this.dataset);console.log("===== cmd_list");console.log(this.cmd_list)};return a}(),ConfigManager=function(){function a(a,h){this["default"]=JSON.parse(JSON.stringify(a));this.config=h?h:a;this.config=Object.assign(a,this.config)}a.prototype.find=function(a){"string"===typeof a&&(a=a.split("."));if(Array.isArray(a)){for(var b=this.config,e=0;e<a.length;e++)if("undefined"!==typeof b[a[e]])b=b[a[e]];
else{b=void 0;break}if("undefined"!==typeof b)return b;b=this["default"];for(e=0;e<a.length&&(b=b[a[e]],"undefined"!==typeof b);e++);return b}};a.prototype.write=function(a,h){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,m,n=0;n<a.length-1;n++)m=a[n],"undefined"===typeof b[m]&&(b[m]={}),b=b[m];m=a.pop();b[m]=h;return!0};a.prototype.erase=function(a){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,e,m=0;m<a.length-
1;m++){e=a[m];if("undefined"===typeof b[e])return!0;b=b[e]}e=a.pop();delete b[e];return!0};return a}();var GlobalModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5b9a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-config",description:"\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-config",description:"\u4fdd\u5b58\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",
execute:this.show_startup_config},{type:"command",name:"version",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73fe\u5728\u6642\u523b\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_clock}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002",execute:this.entry_instance}]},{type:"command",name:"delete",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d",execute:this.delete_instance}]}]},{type:"command",name:"configure",
description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",children:[{type:"command",name:"terminal",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",
execute:this.clear},{type:"command",name:"write",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory,children:[{type:"command",name:"memory",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002",children:[{type:"command",name:"display-size",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u30b5\u30a4\u30ba\u3092\u81ea\u52d5\u8abf\u6574\u3057\u307e\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30d8\u30eb\u30d7\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.help}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.show_running_config=function(a,h){var b=JSON.stringify(config.config,null,"    ");a.echo(b);return!0};a.prototype.show_startup_config=function(a,h){var b;(b=localStorage.getItem("configuration"))?(b=JSON.parse(b),b=JSON.stringify(b,null,"    ")):
b="startup-config is not present";a.echo(b);return!0};a.prototype.show_version=function(a,h){var b=new Date("2017-9-14");a.echo("Mastodon Client Tooterminal, Version 0.3.4, RELEASE SERVICE(Beta)");a.echo("Technical Support: https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md");a.echo("Copyright (c) 2017- by shiroma@mstdn.jp");a.echo("Updated "+b.toDateString()+" by shiroma@mstdn.jp");a.echo("<br>",{raw:!0});a.echo("Powered by:");a.echo("jQuery ("+$.fn.jquery+")");a.echo("https://jquery.org");
a.echo("jQuery Terminal Emulator Plugin ("+$.terminal.version+")");a.echo("http://terminal.jcubic.pl");a.echo("autosize (4.0.0)");a.echo("http://www.jacklmoore.com/autosize");a.echo("<br>",{raw:!0});a.echo("License info:");a.echo("Tooterminal, jQuery, jQuery Terminal Emulator Plugin, autosize is licensed by MIT LICENSE");a.echo("https://tldrlegal.com/license/mit-license");return!0};a.prototype.reset_display_size=function(a,h){a.resize(window.innerWidth-36,window.innerHeight-36);return!0};a.prototype.show_instance_statistics=
function(a,h){var b=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],m=0;for(ins in instances)b.push(("| "+("undefined"!==typeof instances[ins].user?"@"+instances[ins].user.username:"")).addTab("|  "+(instances[ins].application.scopes.read?"r":"-")+(instances[ins].application.scopes.write?"w":"-")+(instances[ins].application.scopes.follow?"f":"-"),8).addTab("| "+instances[ins].domain,30).addTab(ins,10)),m++;b.push("--------------------------------------------------------------------");
b.push(" \u767b\u9332\u4ef6\u6570: "+m+"\u4ef6");b.push("");a.echo(b.join("\n"));return!0};a.prototype.show_instance_detail=function(a,h){var b=h.paramaters.instance_name;if("undefined"===typeof instances[b])return a.error("instance has no regist"),!1;var m=instances[b];b=["Instance",tab("Name:",b,15),tab("Domain:",m.domain,15),tab("Application:",m.application.name,15),"","Scopes",tab("Read:",m.application.scopes.read,15),tab("Write:",m.application.scopes.write,15),tab("Follow:",m.application.scopes.follow,
15),""];more(a,b,!0);return!0};a.prototype.entry_instance=function(a,h){instance_name=h.paramaters.instance_name;var b=instances[instance_name];if("undefined"===typeof b)a.push(regist_instance,{prompt:"Input instance domain: "});else if(b.hasOwnProperty("auth_code"))console.log(b),a.pause(),$.ajax({url:"https://"+b.domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",client_id:b.client_id,client_secret:b.client_secret,code:b.auth_code,redirect_uri:b.application.uris}}).then(function(a,
e,h){b.access_token=a.access_token;b.token_type=a.token_type;localStorage.setItem("instances",JSON.stringify(instances));delete b.auth_code;return callAPI("/api/v1/accounts/verify_credentials")},function(e,h,m){a.error("User token updating error.("+e.status+")");delete b.auth_code;console.log(e)}).then(function(e,h,m){a.echo("Hello! "+e.display_name+" @"+e.username);b.user=e;localStorage.setItem("instances",JSON.stringify(instances));a.resume();e=b.user.username;e+="@"+b.domain+"# ";a.push(enterCommand,
{name:"instance",prompt:e,onStart:init_instance,onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})},function(e,h,m){h="@"+b.domain+"# ";console.log(e);a.error("Getting user status failed.("+e.status+")");a.resume();a.push(enterCommand,{name:"instance",prompt:h,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})});else if(b.hasOwnProperty("access_token"))a.pause(),callAPI("/api/v1/accounts/verify_credentials").then(function(e,
h,m){a.echo("Hello! "+e.display_name+" @"+e.username);b.user=e;localStorage.setItem("instances",JSON.stringify(instances));a.resume();e=b.user.username;e+="@"+b.domain+"# ";delete b.auth_code;a.push(enterCommand,{name:"instance",prompt:e,onStart:init_instance,onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})},function(e,h,m){h="@"+b.domain+"# ";console.log(e);a.error("Getting user status failed.("+e.status+")");a.echo("Enter 'login' and reflesh your access_token");a.resume();a.push(enterCommand,
{name:"instance",prompt:h,onStart:init_instance,onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})});else{var m="@"+b.domain+"# ";a.echo("Enter 'login' and regist your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:m,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})}return!0};a.prototype.delete_instance=function(a,h){var b=h.paramaters.instance_name,m='Instance "'+b+'" registration will delete! Continue? [confirm]';
if("undefined"===typeof instances[b])return a.error("no instance registration."),!1;a.push(function(e){e=localStorage;delete instances[b];e.setItem("instances",JSON.stringify(instances));a.echo("[OK]");a.echo("Erase of instance: complete");a.pop()},{prompt:m,keypress:function(a,b){b.set_command("");b.echo(m+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}});return!0};a.prototype.configure_terminal=function(a,h){a.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",
onStart:function(){term_mode=mode_configuration},onExit:function(){term_mode=mode_global},exit:!0});return!0};a.prototype.write_memory=function(a,h){var b=localStorage;a.echo("Building configuration...");b.setItem("configuration",JSON.stringify(config.config));a.echo("[OK]");return!0};a.prototype.write_erase=function(a,h){a.push(function(b){localStorage.removeItem("configuration");a.echo("[OK]");a.echo("Erase of nvram: complete");a.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",
keypress:function(a,b){b.set_command("");b.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}})};a.prototype.reload=function(a,h){location.reload();return!0};a.prototype.clear=function(a,h){a.clear();return!0};a.prototype.show_clock=function(a,h){a.echo(Date().toString());return!0};a.prototype.help=function(a,h){$("#help").slideDown("first");a.disable();$(document).on("keydown.help",
function(a){27===a.keyCode&&$("#help_close").trigger("click")});return!0};return a}(),cnt,regist_instance=function(a,b){a=a.trim();if(!a.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/))b.error("domain couldn't unrecognize");else if(0<a.length){b.pause();var h=location.origin+location.pathname;console.log(h);$.ajax({url:"https://"+a+"/api/v1/apps",dataType:"json",type:"POST",data:{client_name:config.find("application.name"),redirect_uris:h,website:config.find("application.website"),
scopes:(config.find("application.scopes.read")?"read ":"")+(config.find("application.scopes.write")?"write ":"")+(config.find("application.scopes.follow")?"follow":"")}}).then(function(e,h,n){h=e.redirect_uri+"?instance_name="+instance_name;instances[instance_name]=config.find("instances");instances[instance_name].client_id=e.client_id;instances[instance_name].client_secret=e.client_secret;instances[instance_name].domain=a;instances[instance_name].application=config.find("application");instances[instance_name].application.uris=
h;e="@"+instances[instance_name].domain+"# ";b.echo("New instance registed. enter 'login' and regist your access_token");localStorage.setItem("instances",JSON.stringify(instances));b.resume();b.push(enterCommand,{name:"instance",prompt:e,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global},exit:!1})},function(e,h,n){b.error('Failed to connect the instance "'+a+'"');b.resume();console.log(e)})}b.pop()};var ConfigurationModeElement=function(){function a(){this._cmd_mode="configuration";this._dataset=[{type:"command",name:"application",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u767b\u9332\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d",
execute:this.set_paramater}]},{type:"command",name:"website",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3Web\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"URL",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"read",description:"\u8aad\u307f\u53d6\u308a",execute:this.set_default},
{type:"command",name:"write",description:"\u66f8\u304d\u8fbc\u307f",execute:this.set_default},{type:"command",name:"follow",description:"\u30d5\u30a9\u30ed\u30fc",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",
name:"posts",min:1,max:40,description:"\u8868\u793a\u4ef6\u6570(\u30c7\u30d5\u30a9\u30eb\u30c820)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",
description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},
{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u306e\u53d6\u5f97\u6570\u306b\u3064\u3044\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"number",max:100,min:0,description:"\u53d6\u5f97\u6570(\u521d\u671f\u502420)",execute:this.set_number}]},{type:"command",name:"auto",description:"\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001terminal monitor\u3092\u81ea\u52d5\u767a\u884c\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_object,children:[{type:"command",name:"animation",description:"\u5e38\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",
name:"mouseover",description:"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_true},{type:"command",name:"separator",description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"public",description:"\u516c\u958b",execute:this.set_command},{type:"command",name:"unlisted",description:"\u672a\u53ce\u8f09",execute:this.set_command},{type:"command",name:"private",description:"\u975e\u516c\u958b",execute:this.set_command},{type:"command",name:"direct",description:"\u30c0\u30a4\u30ec\u30af\u30c8",execute:this.set_command}]}]},
{type:"command",name:"no",description:"\u8a2d\u5b9a\u306e\u524a\u9664\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u884c\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",
execute:this.set_false,children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",
execute:this.set_false},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false}]}]},{type:"command",name:"broadcast-to",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",
name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"separator",
description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default}]}]}]},{type:"command",name:"exit",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",
execute:this.exit_configuration}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.set_paramater=function(a,h){for(var b=[],m=0;m<h.line_parsed.length-1;m++)b.push(h.line_parsed[m].name);return config.write(b,h.paramaters.string)};a.prototype.set_default=function(a,h){"no"===h.line_parsed[0].name&&h.line_parsed.shift();
for(var b=[],m=0;m<h.line_parsed.length-1;m++)b.push(h.line_parsed[m].name);return config.erase(b)};a.prototype.set_number=function(a,h){var b=parseInt(h.paramaters.number);return config.write(["instances","terminal","length"],b)};a.prototype.set_true=function(a,h){"no"===h.line_parsed[0].name&&h.line_parsed.shift();for(var b=[],m=0;m<h.line_parsed.length;m++)b.push(h.line_parsed[m].name);return config.write(b,!0)};a.prototype.set_false=function(a,h){"no"===h.line_parsed[0].name&&h.line_parsed.shift();
for(var b=[],m=0;m<h.line_parsed.length;m++)b.push(h.line_parsed[m].name);return config.write(b,!1)};a.prototype.set_command=function(a,h){for(var b=[],m=0;m<h.line_parsed.length-1;m++)b.push(h.line_parsed[m].name);return config.write(b,h.line_parsed.pop().name)};a.prototype.set_object=function(a,h){for(var b=[],m=0;m<h.line_parsed.length;m++)b.push(h.line_parsed[m].name);return"object"===typeof config.find(b)?!0:config.write(b,{})};a.prototype.set_broadcast=function(a,h){a.echo("executed!");return!0};
a.prototype.exit_configuration=function(a,h){a.pop();return!0};return a}();var ws=[],InstanceModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"toot",description:"\u66f8\u304d\u8fbc\u307f\u3092\u6295\u7a3f\u3057\u307e\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot},{type:"command",name:"unlisted",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u672a\u53ce\u8f09" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',
execute:this.toot},{type:"command",name:"private",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u975e\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot}]},{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"user",description:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_user,children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",
children:[{type:"number",name:"userid",min:1,max:9999999,description:"\u30e6\u30fc\u30b6ID",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,
max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance},{type:"command",name:"authentication",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_authentication},{type:"command",name:"timeline",description:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",
execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",
name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0",children:[{type:"paramater",name:"tag_name",description:"\u30bf\u30b0\u540d",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]}]}]},{type:"command",name:"notifications",description:"\u901a\u77e5\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_notifications,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u901a\u77e5\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u901a\u77e5\u6570(\u521d\u671f\u502420)",execute:this.show_notifications}]}]}]},{type:"command",name:"statuses",description:"\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"id",description:"\u30c8\u30a5\u30fc\u30c8ID\u3092\u6307\u5b9a",children:[{type:"number",name:"status_id",min:1,max:9999999999,description:"\u30c8\u30a5\u30fc\u30c8ID",execute:this.show_status_id}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_statuses}]}]},{type:"command",name:"search",description:"\u30e6\u30fc\u30b6\u30fc\u691c\u7d22\u3092\u884c\u3044\u307e\u3059",children:[{type:"paramater",name:"query",
description:"\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",execute:this.search_query}]},{type:"command",name:"login",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002",execute:this.login},{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"on_monitor",children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"no",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"no_monitor",
children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"monitor",description:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.monitor,children:[]}]}]},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.login=function(a,h){a.pause();var b="https://"+instances[instance_name].domain+"/oauth/authorize?response_type=code&client_id="+instances[instance_name].client_id+"&redirect_uri="+encodeURIComponent(instances[instance_name].application.uris)+"&scope="+(instances[instance_name].application.scopes.read?"read ":"")+(instances[instance_name].application.scopes.write?
"write ":"")+(instances[instance_name].application.scopes.follow?"follow":"");location.href=b;return!0};a.prototype.terminal_monitor=function(a,h){if(!0===h.optional.on_monitor&&(0===ws.length||ws[0].readyStatus>=WebSocket.CLOSING)){monitor="undefined"===typeof h.line_parsed[2]?config.find("instances.terminal.monitor"):"tag"===h.line_parsed[2].name?h.paramaters.hashtag:h.line_parsed[2].name;var b="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+
"&stream=user",m="undefined"===typeof h.line_parsed[2]?"local":h.line_parsed[2].name,n="/api/v1/timelines/"+("local"===m?"public":m),w=config.find(["instances","terminal","length"]);params={limit:0<w?w:20};"local"===m?params.local=!0:"tag"===m&&(n+="/"+h.paramaters.tag_name);a.pause();callAPI(n,{data:params}).then(function(b,e,m){for(e=b.length-1;0<=e;e--)h.optional.pinned&&!b[e].pinned||a.echo(makeStatus(b[e]),{raw:!0,flush:!1});a.resume();a.flush()});"home"===monitor?(b=new WebSocket(b),b.onmessage=
function(b){b=JSON.parse(b.data);"delete"===b.event&&!0===config.find("instances.terminal.logging.delete")?(b=b.payload,a.error("deleted ID:"+b),$("[name=id_"+b+"]").addClass("status_deleted")):"notification"===b.event?(b=JSON.parse(b.payload),a.echo(make_notification(b),{raw:!0}),beep_buf&&(b=context.createBufferSource(),b.buffer=beep_buf,b.connect(context.destination),b.start(0))):"update"===b.event&&(b=JSON.parse(b.payload),b=makeStatus(b),a.echo(b,{raw:!0}));reduce_status()},b.onopen=function(){a.echo("Home Streaming start.")},
b.onerror=function(b){a.error("Home Streaming error. closed.");console.log(b)},b.onclose=function(){a.echo("Home Streaming closed.")}):(b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"notification"===b.event&&(b=JSON.parse(b.payload),a.echo(make_notification(b),{raw:!0}))},b.onopen=function(){a.echo("Notification Streaming start.")},b.onerror=function(a){console.warn(a)},b.onclose=function(){a.echo("Notification Streaming closed.")},ws.push(b),b="wss://"+instances[instance_name].domain+
"/api/v1/streaming?access_token="+instances[instance_name].access_token+("local"===monitor?"&stream=public:local":"public"===monitor?"&stream=public":"&stream=hashtag&tag="+monitor),b=new WebSocket(b),b.onmessage=function(b){b=JSON.parse(b.data);"delete"===b.event&&!0===config.find("instances.terminal.logging.delete")?(b=b.payload,a.error("deleted ID:"+b),$("[name=id_"+b+"]").addClass("status_deleted")):"update"===b.event&&(b=JSON.parse(b.payload),b=makeStatus(b),a.echo(b,{raw:!0}));reduce_status()},
b.onopen=function(){a.echo(monitor+" Streaming start.")},b.onerror=function(a){console.warn(a)},b.onclose=function(){a.echo(monitor+" Streaming closed.")});ws.push(b)}else if(!0===h.optional.no_monitor){for(b=0;b<ws.length;b++)ws[b].close(),ws[b]=void 0;ws=[]}};a.prototype.toot=function(a,h){var b="undefined"!==typeof h.line_parsed[1]?h.line_parsed[1].name:config.find("instances.visibility");"undefined"===typeof b&&(b="public");$("#toot_visibility").val(b);$("#toot").slideDown("first");$("#toot_box").focus();
a.focus(!1)};a.prototype.monitor=function(a,h){instances[instance_name].monitor="tag"===h.line_parsed[1].name?h.paramaters.hashtag:h.line_parsed[1].name;localStorage.setItem("instances",JSON.stringify(instances))};a.prototype.show_user=function(a,h){a.pause();("undefined"===typeof h.line_parsed[2]||"self"===h.line_parsed[2].name?callAPI("/api/v1/accounts/verify_credentials",{type:"GET"}):callAPI("/api/v1/accounts/"+h.paramaters.userid,{type:"GET"})).then(function(b,h,n){h=new Date(b.created_at);n=
parseInt((Date.now()-h.getTime())/6E4);var e=n%60,m=(n=(n-e)/60)%24,x=(n=(n-m)/24)%7,D=(n-x)/7;a.echo(b.display_name+" ID:"+b.id+(b.locked?" is locked":" is unlocked"),{flush:!1});a.echo("Username is "+b.username+", Fullname is "+b.acct,{flush:!1});a.echo("Created at "+h.toString(),{flush:!1});a.echo("Uptime is "+D+" weeks, "+x+" days, "+m+" hours, "+e+" minutes ("+n+" days have passed)",{flush:!1});a.echo(b.statuses_count+" statuses posted, "+$("<a />").attr("name","cmd_following").attr("data-uid",
b.id).text(b.following_count+" accounts are following").prop("outerHTML")+", "+$("<a />").attr("name","cmd_followers").attr("data-uid",b.id).text(b.followers_count+" accounts are followed").prop("outerHTML"),{raw:!0,flush:!1});a.echo("1 day toot rate "+parseInt(b.statuses_count/n)+" posts/day",{flush:!1});a.echo($.terminal.format("Note:"+b.note),{raw:!0,flush:!1});a.echo("URL: "+b.url,{raw:!1,flush:!1});return callAPI("/api/v1/accounts/"+b.id+"/statuses",{data:{pinned:!0}})},function(b,h,n){console.log(b);
JSON.parse(b.responseText);a.echo("Getting user data failed.("+b+")");a.resume()}).then(function(b,h,n){if(0<b.length&&b[0].pinned)for(a.echo("<br />",{raw:!0,flush:!1}),a.echo("[[ub;;]Pinned statuses]",{flush:!1}),h=0;h<b.length;h++)if(2<h){b=$("<a />").attr("name","cmd_status_pinned").attr("data-uid",b[h].account.id).text("... and more pinned status");a.echo(b.prop("outerHTML"),{raw:!0,flush:!1});break}else a.echo(makeStatus(b[h]),{raw:!0,flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},
function(b,h,n){console.log(b);JSON.parse(b.responseText);a.resume()})};a.prototype.search_query=function(a,h){a.pause();callAPI("/api/v1/search",{type:"GET",data:{q:h.paramaters.query}}).then(function(b,h,n){h=15;for(n=0;n<b.accounts.length;n++)h<b.accounts[n].acct.length&&(h=b.accounts[n].acct.length);h+=7;for(n="---------------";n.length<h;n+="-");n+="----------------------------";n=["Accounts:","| display name".addTab("| account name",h).addTab("id",9),n];for(var e=0;e<b.accounts.length;e++)n.push(("| "+
b.accounts[e].display_name).addTab("| @"+b.accounts[e].acct,h).addTab(b.accounts[e].id,9));n.push("----------------------------------------------------------");n.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.accounts.length+"\u4ef6");n.push("");n.push("Hash tags:");n.push("-----------------------------------");for(h=0;h<b.hashtags.length;h++)n.push("#"+b.hashtags[h]);n.push("-----------------------------------");n.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.hashtags.length+"\u4ef6");a.echo(n.join("\n"));
a.resume()},function(b,h,n){a.error("Search request is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_instance=function(a,h){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,n){a.echo("Instance name: "+b.title,{flush:!1});a.echo("Version: "+b.version,{flush:!1});a.echo("Description: "+b.description,{flush:!1});a.echo("E-mail: "+b.email,{flush:!1});a.echo("URI: "+b.uri,{flush:!1});a.flush();a.resume()},function(b,h,n){a.error("Getting instance data is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.show_authentication=function(a,h){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,n){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,n){console.log(b);a.resume()})};a.prototype.exit=function(a,h){a.pop()};a.prototype.show_statuses=function(a,h){a.pause();var b="undefined"!==typeof h.paramaters.post_limits&&0<h.paramaters.post_limits?h.paramaters.post_limits:config.find(["instances","terminal","length"]);
b=0<b?b:20;if("timeline"===h.line_parsed[1].name){var m="undefined"===typeof h.line_parsed[2]?"local":h.line_parsed[2].name;var n="/api/v1/timelines/"+("local"===m?"public":m);var w={limit:b};"local"===m?w.local=!0:"tag"===m&&(n+="/"+h.paramaters.tag_name)}else if("user"===h.line_parsed[1].name)if(m=2===h.line_parsed.length||"self"===h.line_parsed[2].name?instances[instance_name].user.id:"id"===h.line_parsed[2].name?h.paramaters.userid:-1,0<m)w={limit:b},h.optional.hasOwnProperty("pinned")&&(w.pinned=
!0),n="/api/v1/accounts/"+m+"/statuses";else{a.error("no login.");return}if("undefined"===typeof n)a.error("show status error.");else{var t=[],x=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.pause();callAPI(n,{type:"GET",data:w}).then(function(e,n,m){t=[];for(n=0;n<e.length;n++)if(!h.optional.pinned||e[n].pinned)a.echo(makeStatus(e[n]),{raw:!0,flush:!1}),x=e[n].id;a.resume();a.flush();e.length<b&&a.pop()},function(b,e,h){a.error("Failed to getting statsues.");a.resume()})},
onExit:function(a){setTimeout(function(){a.set_command("")},10)},keydown:function(a,e){switch(a.keyCode){case 27:case 81:e.pop();e.set_command("");break;case 13:if(0<t.length){e.echo(t.shift(),{raw:!0});return}0<x&&(w.max_id=x-1);callAPI(n,{type:"GET",data:w}).then(function(a,b,n){if(0===a.length)e.pop();else{t=[];for(b=0;b<a.length;b++)if(!h.optional.pinned||a[b].pinned)t.push(makeStatus(a[b])),x=a[b].id;e.echo(t.shift(),{raw:!0})}},function(a,b,h){e.error("Failed to getting statsues.")});break;
default:e.pause();if(0<t.length){for(var m=0;m<t.length;m++)h.optional.pinned&&!data[m].pinned||e.echo(t[m],{raw:!0,flush:!1});e.resume()}0<x&&(w.max_id=x-1);callAPI(n,{type:"GET",data:w}).then(function(a,n,m){t=[];for(n=0;n<a.length;n++)if(!h.optional.pinned||a[n].pinned)e.echo(makeStatus(a[n]),{raw:!0,flush:!1}),x=a[n].id;e.resume();e.flush();a.length<b&&e.pop()},function(a,b,h){e.error("Failed to getting statsues.");e.resume()})}return!0}})}};a.prototype.show_status_id=function(a,h){a.pause();
var b=h.paramaters.status_id,m;callAPI("/api/v1/statuses/"+b,{type:"GET"}).then(function(a,e,h){m=makeStatus(a)+a.favourites_count+" account favourited, "+a.reblogs_count+" account reblogged. <br />";return callAPI("/api/v1/statuses/"+b+"/context",{type:"GET"})}).then(function(b,e,h){for(h=0;h<b.ancestors.length;h++)e=makeStatus(b.ancestors[h]),a.echo(e,{raw:!0,flush:!1});a.echo(m,{raw:!0,flush:!1});for(h=0;h<b.descendants.length;h++)e=makeStatus(b.descendants[h]),a.echo(e,{raw:!0,flush:!1});a.flush();
a.resume()},function(b,e,h){a.error("Getting statuses is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_follows=function(a,h){a.pause();if(2===h.line_parsed.length||"self"===h.line_parsed[2].name){var b=instances[instance_name].user.id;var m=h.line_parsed[3].name}else b=h.paramaters.userid,m=h.line_parsed[4].name;callAPI("/api/v1/accounts/"+b+"/"+m,{type:"GET"}).then(function(b,e,h){e=15;for(h=0;h<b.length;h++)e<b[h].acct.length&&(e=b[h].acct.length);e+=7;for(h="---------------";h.length<
e;h+="-");h+="----------------------------";for(var m=["Accounts:","| display name".addTab("| account name",e).addTab("id",9),h],n=0;n<b.length;n++)m.push(("| "+b[n].display_name).addTab("| @"+b[n].acct,e).addTab(b[n].id,9));m.push(h);m.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.length+"\u4ef6");m.push("");a.echo(m.join("\n"));a.resume()},function(b,e,h){a.error("Getting account data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_notifications=function(a,h){a.pause();var b=
{};h.paramaters.post_limits&&(b.limit=h.paramaters.post_limits);callAPI("/api/v1/notifications",{type:"GET",data:b}).then(function(b,e,h){for(e=b.length-1;0<=e;e--)a.echo(make_notification(b[e]),{raw:!0});a.resume()},function(b,e,h){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.template=function(a,h){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,n){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,n){a.error("Getting data is failed.("+
b.status+")");console.log(b);a.resume()})};a.prototype.clear=function(a,h){a.clear();return!0};return a}();