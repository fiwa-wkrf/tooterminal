/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,c){function l(b,f){f=f||L;var m=f.createElement("script");m.text=b;f.head.appendChild(m).parentNode.removeChild(m)}function g(b){var f=!!b&&"length"in b&&b.length,m=e.type(b);return"function"!==m&&!e.isWindow(b)&&("array"===m||0===f||"number"==
typeof f&&0<f&&f-1 in b)}function h(b,f){return b.nodeName&&b.nodeName.toLowerCase()===f.toLowerCase()}function u(b,f,m){return e.isFunction(f)?e.grep(b,function(b,e){return!!f.call(b,e,b)!==m}):f.nodeType?e.grep(b,function(b){return b===f!==m}):"string"!=typeof f?e.grep(b,function(b){return-1<pa.call(f,b)!==m}):Ub.test(f)?e.filter(f,b,m):(f=e.filter(f,b),e.grep(b,function(b){return-1<pa.call(f,b)!==m&&1===b.nodeType}))}function B(b,f){for(;(b=b[f])&&1!==b.nodeType;);return b}function C(b){var f=
{};return e.each(b.match(Ha)||[],function(b,e){f[e]=!0}),f}function q(b){return b}function Q(b){throw b;}function z(b,f,m,a){var v;try{b&&e.isFunction(v=b.promise)?v.call(b).done(f).fail(m):b&&e.isFunction(v=b.then)?v.call(b,f,m):f.apply(void 0,[b].slice(a))}catch(Z){m.apply(void 0,[Z])}}function W(){L.removeEventListener("DOMContentLoaded",W);a.removeEventListener("load",W);e.ready()}function La(){this.expando=e.expando+La.uid++}function ia(b,f,m){var e;if(void 0===m&&1===b.nodeType)if(e="data-"+
f.replace(O,"-$&").toLowerCase(),m=b.getAttribute(e),"string"==typeof m){try{e=m,m="true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Vb.test(e)?JSON.parse(e):e)}catch(H){}ua.set(b,f,m)}else m=void 0;return m}function fb(b,f,m,a){var v,d=1,k=20,c=a?function(){return a.cur()}:function(){return e.css(b,f,"")},g=c(),n=m&&m[3]||(e.cssNumber[f]?"":"px"),h=(e.cssNumber[f]||"px"!==n&&+g)&&Wa.exec(e.css(b,f));if(h&&h[3]!==n){n=n||h[3];m=m||[];h=+g||1;do d=d||".5",h/=d,e.style(b,f,h+n);while(d!==(d=c()/
g)&&1!==d&&--k)}return m&&(h=+h||+g||0,v=m[1]?h+(m[1]+1)*m[2]:+m[2],a&&(a.unit=n,a.start=h,a.end=v)),v}function Pa(b,f){for(var m,a,d=[],k=0,c=b.length;k<c;k++)if(a=b[k],a.style)if(m=a.style.display,f){if("none"===m&&(d[k]=D.get(a,"display")||null,d[k]||(a.style.display="")),""===a.style.display&&Ra(a)){m=k;var h=void 0;var n=a.ownerDocument;var g=a.nodeName;n=(a=Ob[g])?a:(h=n.body.appendChild(n.createElement(g)),a=e.css(h,"display"),h.parentNode.removeChild(h),"none"===a&&(a="block"),Ob[g]=a,a);
d[m]=n}}else"none"!==m&&(d[k]="none",D.set(a,"display",m));for(k=0;k<c;k++)null!=d[k]&&(b[k].style.display=d[k]);return b}function ca(b,f){var m;return m="undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(f||"*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll(f||"*"):[],void 0===f||f&&h(b,f)?e.merge([b],m):m}function Sa(b,f){for(var m=0,e=b.length;m<e;m++)D.set(b[m],"globalEval",!f||D.get(f[m],"globalEval"))}function Xa(b,f,m,a,d){for(var v,H,k,c,h=f.createDocumentFragment(),
n=[],g=0,t=b.length;g<t;g++)if(v=b[g],v||0===v)if("object"===e.type(v))e.merge(n,v.nodeType?[v]:v);else if(sb.test(v)){H=H||h.appendChild(f.createElement("div"));k=(A.exec(v)||["",""])[1].toLowerCase();k=X[k]||X._default;H.innerHTML=k[1]+e.htmlPrefilter(v)+k[2];for(k=k[0];k--;)H=H.lastChild;e.merge(n,H.childNodes);H=h.firstChild;H.textContent=""}else n.push(f.createTextNode(v));h.textContent="";for(g=0;v=n[g++];)if(a&&-1<e.inArray(v,a))d&&d.push(v);else if(c=e.contains(v.ownerDocument,v),H=ca(h.appendChild(v),
"script"),c&&Sa(H),m)for(k=0;v=H[k++];)Ia.test(v.type||"")&&m.push(v);return h}function ja(){return!0}function qa(){return!1}function tb(){try{return L.activeElement}catch(b){}}function mb(b,f,m,a,d,k){var v,H;if("object"==typeof f){"string"!=typeof m&&(a=a||m,m=void 0);for(H in f)mb(b,H,m,a,f[H],k);return b}if(null==a&&null==d?(d=m,a=m=void 0):null==d&&("string"==typeof m?(d=a,a=void 0):(d=a,a=m,m=void 0)),!1===d)d=qa;else if(!d)return b;return 1===k&&(v=d,d=function(b){return e().off(b),v.apply(this,
arguments)},d.guid=v.guid||(v.guid=e.guid++)),b.each(function(){e.event.add(this,f,d,a,m)})}function Bb(b,f){return h(b,"table")&&h(11!==f.nodeType?f:f.firstChild,"tr")?e(">tbody",b)[0]||b:b}function gb(b){return b.type=(null!==b.getAttribute("type"))+"/"+b.type,b}function zb(b){var f=da.exec(b.type);return f?b.type=f[1]:b.removeAttribute("type"),b}function ub(b,f){var m,a,d,k,c,h;if(1===f.nodeType){if(D.hasData(b)&&(m=D.access(b),a=D.set(f,m),h=m.events))for(d in delete a.handle,a.events={},h)for(m=
0,a=h[d].length;m<a;m++)e.event.add(f,d,h[d][m]);ua.hasData(b)&&(k=ua.access(b),c=e.extend({},k),ua.set(f,c))}}function Ea(b,f,m,a){f=x.apply([],f);var v,d,k,c=0,h=b.length,n=h-1,g=f[0],t=e.isFunction(g);if(t||1<h&&"string"==typeof g&&!N.checkClone&&za.test(g))return b.each(function(e){var v=b.eq(e);t&&(f[0]=g.call(this,e,v.html()));Ea(v,f,m,a)});if(h&&(v=Xa(f,b[0].ownerDocument,!1,b,a),d=v.firstChild,1===v.childNodes.length&&(v=d),d||a)){d=e.map(ca(v,"script"),gb);for(k=d.length;c<h;c++){var r=v;
c!==n&&(r=e.clone(r,!0,!0),k&&e.merge(d,ca(r,"script")));m.call(b[c],r,c)}if(k)for(v=d[d.length-1].ownerDocument,e.map(d,zb),c=0;c<k;c++)r=d[c],Ia.test(r.type||"")&&!D.access(r,"globalEval")&&e.contains(v,r)&&(r.src?e._evalUrl&&e._evalUrl(r.src):l(r.textContent.replace(ha,""),v))}return b}function nb(b,f,m){for(var a=f?e.filter(f,b):b,d=0;null!=(f=a[d]);d++)m||1!==f.nodeType||e.cleanData(ca(f)),f.parentNode&&(m&&e.contains(f.ownerDocument,f)&&Sa(ca(f,"script")),f.parentNode.removeChild(f));return b}
function hb(b,f,m){var a,d,k,c,h=b.style;return m=m||bb(b),m&&(c=m.getPropertyValue(f)||m[f],""!==c||e.contains(b.ownerDocument,b)||(c=e.style(b,f)),!N.pixelMarginRight()&&Ya.test(c)&&S.test(f)&&(a=h.width,d=h.minWidth,k=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=m.width,h.width=a,h.minWidth=d,h.maxWidth=k)),void 0!==c?c+"":c}function vb(b,f){return{get:function(){return b()?void delete this.get:(this.get=f).apply(this,arguments)}}}function Hb(b){var f=e.cssProps[b];if(!f){f=e.cssProps;a:{var m=
b;if(!(m in Aa)){for(var a=m[0].toUpperCase()+m.slice(1),d=ka.length;d--;)if(m=ka[d]+a,m in Aa)break a;m=void 0}}f=f[b]=m||b}return f}function Cb(b,f,m){return(b=Wa.exec(f))?Math.max(0,b[2]-(m||0))+(b[3]||"px"):f}function ib(b,f,m,a,d){var v=0;for(f=m===(a?"border":"content")?4:"width"===f?1:0;4>f;f+=2)"margin"===m&&(v+=e.css(b,m+fa[f],!0,d)),a?("content"===m&&(v-=e.css(b,"padding"+fa[f],!0,d)),"margin"!==m&&(v-=e.css(b,"border"+fa[f]+"Width",!0,d))):(v+=e.css(b,"padding"+fa[f],!0,d),"padding"!==
m&&(v+=e.css(b,"border"+fa[f]+"Width",!0,d)));return v}function wb(b,f,m){var a,d=bb(b),k=hb(b,f,d),c="border-box"===e.css(b,"boxSizing",!1,d);return Ya.test(k)?k:(a=c&&(N.boxSizingReliable()||k===b.style[f]),"auto"===k&&(k=b["offset"+f[0].toUpperCase()+f.slice(1)]),k=parseFloat(k)||0,k+ib(b,f,m||(c?"border":"content"),a,d)+"px")}function ra(b,f,m,e,a){return new ra.prototype.init(b,f,m,e,a)}function jb(){Qa&&(!1===L.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(jb):a.setTimeout(jb,e.fx.interval),
e.fx.tick())}function Ib(){return a.setTimeout(function(){Fa=void 0}),Fa=e.now()}function ob(b,f){var m=0,e={height:b};for(f=f?1:0;4>m;m+=2-f){var a=fa[m];e["margin"+a]=e["padding"+a]=b}return f&&(e.opacity=e.width=b),e}function Jb(b,f,m){for(var e,a=(ma.tweeners[f]||[]).concat(ma.tweeners["*"]),d=0,k=a.length;d<k;d++)if(e=a[d].call(m,f,b))return e}function pb(b,f){var m,a,d,k,c;for(m in b)if(a=e.camelCase(m),d=f[a],k=b[m],Array.isArray(k)&&(d=k[1],k=b[m]=k[0]),m!==a&&(b[a]=k,delete b[m]),c=e.cssHooks[a],
c&&"expand"in c)for(m in k=c.expand(k),delete b[a],k)m in b||(b[m]=k[m],f[m]=d);else f[a]=d}function ma(b,f,m){var a,d=0,k=ma.prefilters.length,c=e.Deferred().always(function(){delete h.elem}),h=function(){if(a)return!1;var f=Fa||Ib();f=Math.max(0,g.startTime+g.duration-f);for(var m=1-(f/g.duration||0),e=0,d=g.tweens.length;e<d;e++)g.tweens[e].run(m);return c.notifyWith(b,[g,m,f]),1>m&&d?f:(d||c.notifyWith(b,[g,1,0]),c.resolveWith(b,[g]),!1)},g=c.promise({elem:b,props:e.extend({},f),opts:e.extend(!0,
{specialEasing:{},easing:e.easing._default},m),originalProperties:f,originalOptions:m,startTime:Fa||Ib(),duration:m.duration,tweens:[],createTween:function(f,m){var a=e.Tween(b,g.opts,f,m,g.opts.specialEasing[f]||g.opts.easing);return g.tweens.push(a),a},stop:function(f){var m=0,e=f?g.tweens.length:0;if(a)return this;for(a=!0;m<e;m++)g.tweens[m].run(1);return f?(c.notifyWith(b,[g,1,0]),c.resolveWith(b,[g,f])):c.rejectWith(b,[g,f]),this}});m=g.props;for(pb(m,g.opts.specialEasing);d<k;d++)if(f=ma.prefilters[d].call(g,
b,m,g.opts))return e.isFunction(f.stop)&&(e._queueHooks(g.elem,g.opts.queue).stop=e.proxy(f.stop,f)),f;return e.map(m,Jb,g),e.isFunction(g.opts.start)&&g.opts.start.call(b,g),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always),e.fx.timer(e.extend(h,{elem:b,anim:g,queue:g.opts.queue})),g}function Ma(b){return(b.match(Ha)||[]).join(" ")}function Na(b){return b.getAttribute&&b.getAttribute("class")||""}function Va(b,f,m,a){var d;if(Array.isArray(f))e.each(f,
function(f,e){m||k.test(b)?a(b,e):Va(b+"["+("object"==typeof e&&null!=e?f:"")+"]",e,m,a)});else if(m||"object"!==e.type(f))a(b,f);else for(d in f)Va(b+"["+d+"]",f[d],m,a)}function na(b){return function(f,m){"string"!=typeof f&&(m=f,f="*");var a,d=0,k=f.toLowerCase().match(Ha)||[];if(e.isFunction(m))for(;a=k[d++];)"+"===a[0]?(a=a.slice(1)||"*",(b[a]=b[a]||[]).unshift(m)):(b[a]=b[a]||[]).push(m)}}function Ja(b,f,m,a){function d(c){var H;return v[c]=!0,e.each(b[c]||[],function(b,e){var c=e(f,m,a);return"string"!=
typeof c||k||v[c]?k?!(H=c):void 0:(f.dataTypes.unshift(c),d(c),!1)}),H}var v={},k=b===Za;return d(f.dataTypes[0])||!v["*"]&&d("*")}function Ba(b,f){var a,d,k=e.ajaxSettings.flatOptions||{};for(a in f)void 0!==f[a]&&((k[a]?b:d||(d={}))[a]=f[a]);return d&&e.extend(!0,b,d),b}var sa=[],L=a.document,Kb=Object.getPrototypeOf,n=sa.slice,x=sa.concat,aa=sa.push,pa=sa.indexOf,ta={},F=ta.toString,kb=ta.hasOwnProperty,oa=kb.toString,lb=oa.call(Object),N={},e=function(b,f){return new e.fn.init(b,f)},Db=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
Eb=/^-ms-/,J=/-([a-z])/g,Yb=function(b,f){return f.toUpperCase()};e.fn=e.prototype={jquery:"3.2.1",constructor:e,length:0,toArray:function(){return n.call(this)},get:function(b){return null==b?n.call(this):0>b?this[b+this.length]:this[b]},pushStack:function(b){b=e.merge(this.constructor(),b);return b.prevObject=this,b},each:function(b){return e.each(this,b)},map:function(b){return this.pushStack(e.map(this,function(f,a){return b.call(f,a,f)}))},slice:function(){return this.pushStack(n.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var f=this.length;b=+b+(0>b?f:0);return this.pushStack(0<=b&&b<f?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:aa,sort:sa.sort,splice:sa.splice};e.extend=e.fn.extend=function(){var b,f,a,d,k=arguments[0]||{},c=1,g=arguments.length,h=!1;"boolean"==typeof k&&(h=k,k=arguments[c]||{},c++);"object"==typeof k||e.isFunction(k)||(k={});for(c===g&&(k=this,c--);c<g;c++)if(null!=
(b=arguments[c]))for(f in b){var n=k[f];var t=b[f];k!==t&&(h&&t&&(e.isPlainObject(t)||(a=Array.isArray(t)))?(a?(a=!1,d=n&&Array.isArray(n)?n:[]):d=n&&e.isPlainObject(n)?n:{},k[f]=e.extend(h,d,t)):void 0!==t&&(k[f]=t))}return k};e.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(b){throw Error(b);},noop:function(){},isFunction:function(b){return"function"===e.type(b)},isWindow:function(b){return null!=b&&b===b.window},isNumeric:function(b){var f=e.type(b);
return("number"===f||"string"===f)&&!isNaN(b-parseFloat(b))},isPlainObject:function(b){var f,a;return!(!b||"[object Object]"!==F.call(b))&&(!(f=Kb(b))||(a=kb.call(f,"constructor")&&f.constructor,"function"==typeof a&&oa.call(a)===lb))},isEmptyObject:function(b){for(var f in b)return!1;return!0},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?ta[F.call(b)]||"object":typeof b},globalEval:function(b){l(b)},camelCase:function(b){return b.replace(Eb,"ms-").replace(J,Yb)},
each:function(b,f){var a,e=0;if(g(b))for(a=b.length;e<a&&!1!==f.call(b[e],e,b[e]);e++);else for(e in b)if(!1===f.call(b[e],e,b[e]))break;return b},trim:function(b){return null==b?"":(b+"").replace(Db,"")},makeArray:function(b,f){var a=f||[];return null!=b&&(g(Object(b))?e.merge(a,"string"==typeof b?[b]:b):aa.call(a,b)),a},inArray:function(b,f,a){return null==f?-1:pa.call(f,b,a)},merge:function(b,f){for(var a=+f.length,e=0,d=b.length;e<a;e++)b[d++]=f[e];return b.length=d,b},grep:function(b,f,a){for(var e=
[],m=0,d=b.length,k=!a;m<d;m++)a=!f(b[m],m),a!==k&&e.push(b[m]);return e},map:function(b,f,a){var e,m=0,d=[];if(g(b))for(e=b.length;m<e;m++){var k=f(b[m],m,a);null!=k&&d.push(k)}else for(m in b)k=f(b[m],m,a),null!=k&&d.push(k);return x.apply([],d)},guid:1,proxy:function(b,f){var a,d,k;if("string"==typeof f&&(a=b[f],f=b,b=a),e.isFunction(b))return d=n.call(arguments,2),k=function(){return b.apply(f||this,d.concat(n.call(arguments)))},k.guid=b.guid=b.guid||e.guid++,k},now:Date.now,support:N});"function"==
typeof Symbol&&(e.fn[Symbol.iterator]=sa[Symbol.iterator]);e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(b,f){ta["[object "+f+"]"]=f.toLowerCase()});var xb=function(b){function f(b,f,a,e){var m,d,k,v,c=f&&f.ownerDocument,g=f?f.nodeType:9;if(a=a||[],"string"!=typeof b||!b||1!==g&&9!==g&&11!==g)return a;if(!e&&((f?f.ownerDocument||f:y)!==G&&ba(f),f=f||G,la)){if(11!==g&&(v=X.exec(b)))if(m=v[1])if(9===g){if(!(d=f.getElementById(m)))return a;if(d.id===
m)return a.push(d),a}else{if(c&&(d=c.getElementById(m))&&B(f,d)&&d.id===m)return a.push(d),a}else{if(v[2])return Ga.apply(a,f.getElementsByTagName(b)),a;if((m=v[3])&&ea.getElementsByClassName&&f.getElementsByClassName)return Ga.apply(a,f.getElementsByClassName(m)),a}if(!(!ea.qsa||A[b+" "]||T&&T.test(b))){if(1!==g){c=f;var h=b}else if("object"!==f.nodeName.toLowerCase()){(k=f.getAttribute("id"))?k=k.replace(da,$a):f.setAttribute("id",k=I);d=ha(b);for(m=d.length;m--;)d[m]="#"+k+" "+p(d[m]);h=d.join(",");
c=Eb.test(b)&&l(f.parentNode)||f}if(h)try{return Ga.apply(a,c.querySelectorAll(h)),a}catch(kc){}finally{k===I&&f.removeAttribute("id")}}}return ta(b.replace(rb,"$1"),f,a,e)}function a(){function b(a,e){return f.push(a+" ")>Y.cacheLength&&delete b[f.shift()],b[a+" "]=e}var f=[];return b}function e(b){return b[I]=!0,b}function d(b){var f=G.createElement("fieldset");try{return!!b(f)}catch(ic){return!1}finally{f.parentNode&&f.parentNode.removeChild(f)}}function k(b,f){for(var a=b.split("|"),e=a.length;e--;)Y.attrHandle[a[e]]=
f}function c(b,f){var a=f&&b,e=a&&1===b.nodeType&&1===f.nodeType&&b.sourceIndex-f.sourceIndex;if(e)return e;if(a)for(;a=a.nextSibling;)if(a===f)return-1;return b?1:-1}function g(b){return function(f){return"input"===f.nodeName.toLowerCase()&&f.type===b}}function h(b){return function(f){var a=f.nodeName.toLowerCase();return("input"===a||"button"===a)&&f.type===b}}function n(b){return function(f){return"form"in f?f.parentNode&&!1===f.disabled?"label"in f?"label"in f.parentNode?f.parentNode.disabled===
b:f.disabled===b:f.isDisabled===b||f.isDisabled!==!b&&fa(f)===b:f.disabled===b:"label"in f&&f.disabled===b}}function t(b){return e(function(f){return f=+f,e(function(a,e){for(var m,d=b([],a.length,f),k=d.length;k--;)a[m=d[k]]&&(a[m]=!(e[m]=a[m]))})})}function l(b){return b&&"undefined"!=typeof b.getElementsByTagName&&b}function r(){}function p(b){for(var f=0,a=b.length,e="";f<a;f++)e+=b[f].value;return e}function x(b,f,a){var e=f.dir,m=f.next,d=m||e,k=a&&"parentNode"===d,v=Za++;return f.first?function(f,
a,m){for(;f=f[e];)if(1===f.nodeType||k)return b(f,a,m);return!1}:function(f,a,c){var g,h,n,H=[N,v];if(c)for(;f=f[e];){if((1===f.nodeType||k)&&b(f,a,c))return!0}else for(;f=f[e];)if(1===f.nodeType||k)if(n=f[I]||(f[I]={}),h=n[f.uniqueID]||(n[f.uniqueID]={}),m&&m===f.nodeName.toLowerCase())f=f[e]||f;else{if((g=h[d])&&g[0]===N&&g[1]===v)return H[2]=g[2];if(h[d]=H,H[2]=b(f,a,c))return!0}return!1}}function V(b){return 1<b.length?function(f,a,e){for(var m=b.length;m--;)if(!b[m](f,a,e))return!1;return!0}:
b[0]}function aa(b,f,a,e,m){for(var d,k=[],v=0,c=b.length,g=null!=f;v<c;v++)(d=b[v])&&(a&&!a(d,e,m)||(k.push(d),g&&f.push(v)));return k}function u(b,a,m,d,k,v){return d&&!d[I]&&(d=u(d)),k&&!k[I]&&(k=u(k,v)),e(function(e,v,c,g){var h,n=[],H=[],t=v.length,va;if(!(va=e)){va=a||"*";for(var Z=c.nodeType?[c]:c,l=[],r=0,p=Z.length;r<p;r++)f(va,Z[r],l);va=l}va=!b||!e&&a?va:aa(va,n,b,c,g);Z=m?k||(e?b:t||d)?[]:v:va;if(m&&m(va,Z,c,g),d){var ya=aa(Z,H);d(ya,[],c,g);for(c=ya.length;c--;)(h=ya[c])&&(Z[H[c]]=!(va[H[c]]=
h))}if(e){if(k||b){if(k){ya=[];for(c=Z.length;c--;)(h=Z[c])&&ya.push(va[c]=h);k(null,Z=[],ya,g)}for(c=Z.length;c--;)(h=Z[c])&&-1<(ya=k?lb(e,h):n[c])&&(e[ya]=!(v[ya]=h))}}else Z=aa(Z===v?Z.splice(t,Z.length):Z),k?k(null,v,Z,g):Ga.apply(v,Z)})}function K(b){var f,a,e=b.length,m=Y.relative[b[0].type];var d=m||Y.relative[" "];for(var k=m?1:0,c=x(function(b){return b===f},d,!0),v=x(function(b){return-1<lb(f,b)},d,!0),g=[function(b,a,e){b=!m&&(e||a!==U)||((f=a).nodeType?c(b,a,e):v(b,a,e));return f=null,
b}];k<e;k++)if(d=Y.relative[b[k].type])g=[x(V(g),d)];else{if(d=Y.filter[b[k].type].apply(null,b[k].matches),d[I]){for(a=++k;a<e&&!Y.relative[b[a].type];a++);return u(1<k&&V(g),1<k&&p(b.slice(0,k-1).concat({value:" "===b[k-2].type?"*":""})).replace(rb,"$1"),d,k<a&&K(b.slice(k,a)),a<e&&K(b=b.slice(a)),a<e&&p(b))}g.push(d)}return V(g)}function pa(b,a){var m=0<a.length,d=0<b.length,k=function(e,k,c,v,g){var h,n,H=0,t="0",Z=e&&[],va=[],l=U,r=e||d&&Y.find.TAG("*",g),ya=N+=null==l?1:Math.random()||.1,p=
r.length;for(g&&(U=k===G||k||g);t!==p&&null!=(h=r[t]);t++){if(d&&h){var x=0;for(k||h.ownerDocument===G||(ba(h),c=!la);n=b[x++];)if(n(h,k||G,c)){v.push(h);break}g&&(N=ya)}m&&((h=!n&&h)&&H--,e&&Z.push(h))}if(H+=t,m&&t!==H){for(x=0;n=a[x++];)n(Z,va,k,c);if(e){if(0<H)for(;t--;)Z[t]||va[t]||(va[t]=Q.call(v));va=aa(va)}Ga.apply(v,va);g&&!e&&0<va.length&&1<H+a.length&&f.uniqueSort(v)}return g&&(N=ya,U=l),Z};return m?e(k):k}var q,F,ta,U,R,w,G,oa,la,T,z,kb,B,I="sizzle"+1*new Date,y=b.document,N=0,Za=0,qb=
a(),C=a(),A=a(),D=function(b,f){return b===f&&(w=!0),0},E={}.hasOwnProperty,J=[],Q=J.pop,Db=J.push,Ga=J.push,Ua=J.slice,lb=function(b,f){for(var a=0,e=b.length;a<e;a++)if(b[a]===f)return a;return-1},xa=RegExp("[\\x20\\t\\r\\n\\f]+","g"),rb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),Ta=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,M=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ja=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),O=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
L=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,P={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},yb=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,ab=/^[^{]+\{\s*\[native \w/,
X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Eb=/[+~]/,Oa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),S=function(b,f,a){b="0x"+f-65536;return b!==b||a?f:0>b?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)},da=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,$a=function(b,f){return f?"\x00"===b?"\ufffd":b.slice(0,-1)+"\\"+b.charCodeAt(b.length-1).toString(16)+" ":"\\"+b},qa=function(){ba()},fa=x(function(b){return!0===b.disabled&&("form"in
b||"label"in b)},{dir:"parentNode",next:"legend"});try{Ga.apply(J=Ua.call(y.childNodes),y.childNodes),J[y.childNodes.length].nodeType}catch(va){Ga={apply:J.length?function(b,f){Db.apply(b,Ua.call(f))}:function(b,f){for(var a=b.length,e=0;b[a++]=f[e++];);b.length=a-1}}}var ea=f.support={};var ka=f.isXML=function(b){b=b&&(b.ownerDocument||b).documentElement;return!!b&&"HTML"!==b.nodeName};var ba=f.setDocument=function(b){var f,a;b=b?b.ownerDocument||b:y;return b!==G&&9===b.nodeType&&b.documentElement?
(G=b,oa=G.documentElement,la=!ka(G),y!==G&&(a=G.defaultView)&&a.top!==a&&(a.addEventListener?a.addEventListener("unload",qa,!1):a.attachEvent&&a.attachEvent("onunload",qa)),ea.attributes=d(function(b){return b.className="i",!b.getAttribute("className")}),ea.getElementsByTagName=d(function(b){return b.appendChild(G.createComment("")),!b.getElementsByTagName("*").length}),ea.getElementsByClassName=ab.test(G.getElementsByClassName),ea.getById=d(function(b){return oa.appendChild(b).id=I,!G.getElementsByName||
!G.getElementsByName(I).length}),ea.getById?(Y.filter.ID=function(b){var f=b.replace(Oa,S);return function(b){return b.getAttribute("id")===f}},Y.find.ID=function(b,f){if("undefined"!=typeof f.getElementById&&la){var a=f.getElementById(b);return a?[a]:[]}}):(Y.filter.ID=function(b){var f=b.replace(Oa,S);return function(b){return(b="undefined"!=typeof b.getAttributeNode&&b.getAttributeNode("id"))&&b.value===f}},Y.find.ID=function(b,f){if("undefined"!=typeof f.getElementById&&la){var a,e,m=f.getElementById(b);
if(m){if(a=m.getAttributeNode("id"),a&&a.value===b)return[m];var d=f.getElementsByName(b);for(e=0;m=d[e++];)if(a=m.getAttributeNode("id"),a&&a.value===b)return[m]}return[]}}),Y.find.TAG=ea.getElementsByTagName?function(b,f){return"undefined"!=typeof f.getElementsByTagName?f.getElementsByTagName(b):ea.qsa?f.querySelectorAll(b):void 0}:function(b,f){var a,e=[],m=0,d=f.getElementsByTagName(b);if("*"===b){for(;a=d[m++];)1===a.nodeType&&e.push(a);return e}return d},Y.find.CLASS=ea.getElementsByClassName&&
function(b,f){if("undefined"!=typeof f.getElementsByClassName&&la)return f.getElementsByClassName(b)},z=[],T=[],(ea.qsa=ab.test(G.querySelectorAll))&&(d(function(b){oa.appendChild(b).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>";b.querySelectorAll("[msallowcapture^='']").length&&T.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");b.querySelectorAll("[selected]").length||T.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
b.querySelectorAll("[id~="+I+"-]").length||T.push("~=");b.querySelectorAll(":checked").length||T.push(":checked");b.querySelectorAll("a#"+I+"+*").length||T.push(".#.+[+~]")}),d(function(b){b.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var f=G.createElement("input");f.setAttribute("type","hidden");b.appendChild(f).setAttribute("name","D");b.querySelectorAll("[name=d]").length&&T.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==b.querySelectorAll(":enabled").length&&
T.push(":enabled",":disabled");oa.appendChild(b).disabled=!0;2!==b.querySelectorAll(":disabled").length&&T.push(":enabled",":disabled");b.querySelectorAll("*,:x");T.push(",.*:")})),(ea.matchesSelector=ab.test(kb=oa.matches||oa.webkitMatchesSelector||oa.mozMatchesSelector||oa.oMatchesSelector||oa.msMatchesSelector))&&d(function(b){ea.disconnectedMatch=kb.call(b,"*");kb.call(b,"[s!='']:x");z.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
T=T.length&&new RegExp(T.join("|")),z=z.length&&new RegExp(z.join("|")),f=ab.test(oa.compareDocumentPosition),B=f||ab.test(oa.contains)?function(b,f){var a=9===b.nodeType?b.documentElement:b,e=f&&f.parentNode;return b===e||!(!e||1!==e.nodeType||!(a.contains?a.contains(e):b.compareDocumentPosition&&16&b.compareDocumentPosition(e)))}:function(b,f){if(f)for(;f=f.parentNode;)if(f===b)return!0;return!1},D=f?function(b,f){if(b===f)return w=!0,0;var a=!b.compareDocumentPosition-!f.compareDocumentPosition;
return a?a:(a=(b.ownerDocument||b)===(f.ownerDocument||f)?b.compareDocumentPosition(f):1,1&a||!ea.sortDetached&&f.compareDocumentPosition(b)===a?b===G||b.ownerDocument===y&&B(y,b)?-1:f===G||f.ownerDocument===y&&B(y,f)?1:R?lb(R,b)-lb(R,f):0:4&a?-1:1)}:function(b,f){if(b===f)return w=!0,0;var a=0;var e=b.parentNode;var m=f.parentNode,d=[b],k=[f];if(!e||!m)return b===G?-1:f===G?1:e?-1:m?1:R?lb(R,b)-lb(R,f):0;if(e===m)return c(b,f);for(e=b;e=e.parentNode;)d.unshift(e);for(e=f;e=e.parentNode;)k.unshift(e);
for(;d[a]===k[a];)a++;return a?c(d[a],k[a]):d[a]===y?-1:k[a]===y?1:0},G):G};f.matches=function(b,a){return f(b,null,null,a)};f.matchesSelector=function(b,a){if((b.ownerDocument||b)!==G&&ba(b),a=a.replace(ja,"='$1']"),!(!ea.matchesSelector||!la||A[a+" "]||z&&z.test(a)||T&&T.test(a)))try{var e=kb.call(b,a);if(e||ea.disconnectedMatch||b.document&&11!==b.document.nodeType)return e}catch(jc){}return 0<f(a,G,null,[b]).length};f.contains=function(b,f){return(b.ownerDocument||b)!==G&&ba(b),B(b,f)};f.attr=
function(b,f){(b.ownerDocument||b)!==G&&ba(b);var a=Y.attrHandle[f.toLowerCase()];a=a&&E.call(Y.attrHandle,f.toLowerCase())?a(b,f,!la):void 0;return void 0!==a?a:ea.attributes||!la?b.getAttribute(f):(a=b.getAttributeNode(f))&&a.specified?a.value:null};f.escape=function(b){return(b+"").replace(da,$a)};f.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};f.uniqueSort=function(b){var f,a=[],e=0,m=0;if(w=!ea.detectDuplicates,R=!ea.sortStable&&b.slice(0),b.sort(D),w){for(;f=b[m++];)f===
b[m]&&(e=a.push(m));for(;e--;)b.splice(a[e],1)}return R=null,b};var ca=f.getText=function(b){var f,a="",e=0;if(f=b.nodeType)if(1===f||9===f||11===f){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=b.nextSibling)a+=ca(b)}else{if(3===f||4===f)return b.nodeValue}else for(;f=b[e++];)a+=ca(f);return a};var Y=f.selectors={cacheLength:50,createPseudo:e,match:P,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Oa,S),b[3]=(b[3]||b[4]||b[5]||"").replace(Oa,S),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||f.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&f.error(b[0]),b},PSEUDO:function(b){var f,a=!b[6]&&b[2];return P.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":a&&O.test(a)&&(f=ha(a,
!0))&&(f=a.indexOf(")",a.length-f)-a.length)&&(b[0]=b[0].slice(0,f),b[2]=a.slice(0,f)),b.slice(0,3))}},filter:{TAG:function(b){var f=b.replace(Oa,S).toLowerCase();return"*"===b?function(){return!0}:function(b){return b.nodeName&&b.nodeName.toLowerCase()===f}},CLASS:function(b){var f=qb[b+" "];return f||(f=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"),qb(b,function(b){return f.test("string"==typeof b.className&&b.className||"undefined"!=typeof b.getAttribute&&b.getAttribute("class")||
"")}))},ATTR:function(b,a,e){return function(m){m=f.attr(m,b);return null==m?"!="===a:!a||(m+="","="===a?m===e:"!="===a?m!==e:"^="===a?e&&0===m.indexOf(e):"*="===a?e&&-1<m.indexOf(e):"$="===a?e&&m.slice(-e.length)===e:"~="===a?-1<(" "+m.replace(xa," ")+" ").indexOf(e):"|="===a&&(m===e||m.slice(0,e.length+1)===e+"-"))}},CHILD:function(b,f,a,e,m){var d="nth"!==b.slice(0,3),k="last"!==b.slice(-4),c="of-type"===f;return 1===e&&0===m?function(b){return!!b.parentNode}:function(f,a,v){var g,h;a=d!==k?"nextSibling":
"previousSibling";var n=f.parentNode,H=c&&f.nodeName.toLowerCase();v=!v&&!c;var t=!1;if(n){if(d){for(;a;){for(g=f;g=g[a];)if(c?g.nodeName.toLowerCase()===H:1===g.nodeType)return!1;var Z=a="only"===b&&!Z&&"nextSibling"}return!0}if(Z=[k?n.firstChild:n.lastChild],k&&v){g=n;var l=g[I]||(g[I]={});var r=l[g.uniqueID]||(l[g.uniqueID]={});var ya=r[b]||[];t=(h=ya[0]===N&&ya[1])&&ya[2];for(g=h&&n.childNodes[h];g=++h&&g&&g[a]||(t=h=0)||Z.pop();)if(1===g.nodeType&&++t&&g===f){r[b]=[N,h,t];break}}else if(v&&(g=
f,l=g[I]||(g[I]={}),r=l[g.uniqueID]||(l[g.uniqueID]={}),ya=r[b]||[],h=ya[0]===N&&ya[1],t=h),!1===t)for(;(g=++h&&g&&g[a]||(t=h=0)||Z.pop())&&((c?g.nodeName.toLowerCase()!==H:1!==g.nodeType)||!++t||(v&&(l=g[I]||(g[I]={}),r=l[g.uniqueID]||(l[g.uniqueID]={}),r[b]=[N,t]),g!==f)););return t-=m,t===e||0===t%e&&0<=t/e}}},PSEUDO:function(b,a){var m,d=Y.pseudos[b]||Y.setFilters[b.toLowerCase()]||f.error("unsupported pseudo: "+b);return d[I]?d(a):1<d.length?(m=[b,b,"",a],Y.setFilters.hasOwnProperty(b.toLowerCase())?
e(function(b,f){for(var e,m=d(b,a),k=m.length;k--;)e=lb(b,m[k]),b[e]=!(f[e]=m[k])}):function(b){return d(b,0,m)}):d}},pseudos:{not:e(function(b){var f=[],a=[],m=F(b.replace(rb,"$1"));return m[I]?e(function(b,f,a,e){var d;a=m(b,null,e,[]);for(e=b.length;e--;)(d=a[e])&&(b[e]=!(f[e]=d))}):function(b,e,d){return f[0]=b,m(f,null,d,a),f[0]=null,!a.pop()}}),has:e(function(b){return function(a){return 0<f(b,a).length}}),contains:e(function(b){return b=b.replace(Oa,S),function(f){return-1<(f.textContent||
f.innerText||ca(f)).indexOf(b)}}),lang:e(function(b){return L.test(b||"")||f.error("unsupported lang: "+b),b=b.replace(Oa,S).toLowerCase(),function(f){var a;do if(a=la?f.lang:f.getAttribute("xml:lang")||f.getAttribute("lang"))return a=a.toLowerCase(),a===b||0===a.indexOf(b+"-");while((f=f.parentNode)&&1===f.nodeType);return!1}}),target:function(f){var a=b.location&&b.location.hash;return a&&a.slice(1)===f.id},root:function(b){return b===oa},focus:function(b){return b===G.activeElement&&(!G.hasFocus||
G.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:n(!1),disabled:n(!0),checked:function(b){var f=b.nodeName.toLowerCase();return"input"===f&&!!b.checked||"option"===f&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(6>b.nodeType)return!1;return!0},parent:function(b){return!Y.pseudos.empty(b)},header:function(b){return W.test(b.nodeName)},input:function(b){return yb.test(b.nodeName)},
button:function(b){var f=b.nodeName.toLowerCase();return"input"===f&&"button"===b.type||"button"===f},text:function(b){var f;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(f=b.getAttribute("type"))||"text"===f.toLowerCase())},first:t(function(){return[0]}),last:t(function(b,f){return[f-1]}),eq:t(function(b,f,a){return[0>a?a+f:a]}),even:t(function(b,f){for(var a=0;a<f;a+=2)b.push(a);return b}),odd:t(function(b,f){for(var a=1;a<f;a+=2)b.push(a);return b}),lt:t(function(b,f,a){for(f=
0>a?a+f:a;0<=--f;)b.push(f);return b}),gt:t(function(b,f,a){for(a=0>a?a+f:a;++a<f;)b.push(a);return b})}};Y.pseudos.nth=Y.pseudos.eq;for(q in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Y.pseudos[q]=g(q);for(q in{submit:!0,reset:!0})Y.pseudos[q]=h(q);r.prototype=Y.filters=Y.pseudos;Y.setFilters=new r;var ha=f.tokenize=function(b,a){var e,m,d,k,c;if(k=C[b+" "])return a?0:k.slice(0);k=b;var v=[];for(c=Y.preFilter;k;){g&&!(e=Ta.exec(k))||(e&&(k=k.slice(e[0].length)||k),v.push(m=[]));var g=!1;
(e=M.exec(k))&&(g=e.shift(),m.push({value:g,type:e[0].replace(rb," ")}),k=k.slice(g.length));for(d in Y.filter)!(e=P[d].exec(k))||c[d]&&!(e=c[d](e))||(g=e.shift(),m.push({value:g,type:d,matches:e}),k=k.slice(g.length));if(!g)break}return a?k.length:k?f.error(b):C(b,v).slice(0)};return F=f.compile=function(b,f){var a,e=[],m=[],d=A[b+" "];if(!d){f||(f=ha(b));for(a=f.length;a--;)d=K(f[a]),d[I]?e.push(d):m.push(d);d=A(b,pa(m,e));d.selector=b}return d},ta=f.select=function(b,f,a,e){var m,d,k,c,v,g="function"==
typeof b&&b,h=!e&&ha(b=g.selector||b);if(a=a||[],1===h.length){if(d=h[0]=h[0].slice(0),2<d.length&&"ID"===(k=d[0]).type&&9===f.nodeType&&la&&Y.relative[d[1].type]){if(f=(Y.find.ID(k.matches[0].replace(Oa,S),f)||[])[0],!f)return a;g&&(f=f.parentNode);b=b.slice(d.shift().value.length)}for(m=P.needsContext.test(b)?0:d.length;m--&&(k=d[m],!Y.relative[c=k.type]);)if((v=Y.find[c])&&(e=v(k.matches[0].replace(Oa,S),Eb.test(d[0].type)&&l(f.parentNode)||f))){if(d.splice(m,1),b=e.length&&p(d),!b)return Ga.apply(a,
e),a;break}}return(g||F(b,h))(e,f,!la,a,!f||Eb.test(b)&&l(f.parentNode)||f),a},ea.sortStable=I.split("").sort(D).join("")===I,ea.detectDuplicates=!!w,ba(),ea.sortDetached=d(function(b){return 1&b.compareDocumentPosition(G.createElement("fieldset"))}),d(function(b){return b.innerHTML="<a href='#'></a>","#"===b.firstChild.getAttribute("href")})||k("type|href|height|width",function(b,f,a){if(!a)return b.getAttribute(f,"type"===f.toLowerCase()?1:2)}),ea.attributes&&d(function(b){return b.innerHTML="<input/>",
b.firstChild.setAttribute("value",""),""===b.firstChild.getAttribute("value")})||k("value",function(b,f,a){if(!a&&"input"===b.nodeName.toLowerCase())return b.defaultValue}),d(function(b){return null==b.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(b,f,a){var e;if(!a)return!0===b[f]?f.toLowerCase():(e=b.getAttributeNode(f))&&e.specified?e.value:null}),f}(a);e.find=xb;e.expr=xb.selectors;
e.expr[":"]=e.expr.pseudos;e.uniqueSort=e.unique=xb.uniqueSort;e.text=xb.getText;e.isXMLDoc=xb.isXML;e.contains=xb.contains;e.escapeSelector=xb.escape;var Ab=function(b,f,a){for(var m=[],d=void 0!==a;(b=b[f])&&9!==b.nodeType;)if(1===b.nodeType){if(d&&e(b).is(a))break;m.push(b)}return m},Qb=function(b,f){for(var a=[];b;b=b.nextSibling)1===b.nodeType&&b!==f&&a.push(b);return a},Rb=e.expr.match.needsContext,Sb=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ub=/^.[^:#\[\.,]*$/;e.filter=
function(b,f,a){var m=f[0];return a&&(b=":not("+b+")"),1===f.length&&1===m.nodeType?e.find.matchesSelector(m,b)?[m]:[]:e.find.matches(b,e.grep(f,function(b){return 1===b.nodeType}))};e.fn.extend({find:function(b){var f,a=this.length,d=this;if("string"!=typeof b)return this.pushStack(e(b).filter(function(){for(f=0;f<a;f++)if(e.contains(d[f],this))return!0}));var k=this.pushStack([]);for(f=0;f<a;f++)e.find(b,d[f],k);return 1<a?e.uniqueSort(k):k},filter:function(b){return this.pushStack(u(this,b||[],
!1))},not:function(b){return this.pushStack(u(this,b||[],!0))},is:function(b){return!!u(this,"string"==typeof b&&Rb.test(b)?e(b):b||[],!1).length}});var $b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(e.fn.init=function(b,f,a){var m,d;if(!b)return this;if(a=a||ac,"string"==typeof b){if(m="<"===b[0]&&">"===b[b.length-1]&&3<=b.length?[null,b,null]:$b.exec(b),!m||!m[1]&&f)return!f||f.jquery?(f||a).find(b):this.constructor(f).find(b);if(m[1]){if(f=f instanceof e?f[0]:f,e.merge(this,e.parseHTML(m[1],f&&f.nodeType?
f.ownerDocument||f:L,!0)),Sb.test(m[1])&&e.isPlainObject(f))for(m in f)e.isFunction(this[m])?this[m](f[m]):this.attr(m,f[m]);return this}return d=L.getElementById(m[2]),d&&(this[0]=d,this.length=1),this}return b.nodeType?(this[0]=b,this.length=1,this):e.isFunction(b)?void 0!==a.ready?a.ready(b):b(e):e.makeArray(b,this)}).prototype=e.fn;var ac=e(L);var bc=/^(?:parents|prev(?:Until|All))/,cc={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({has:function(b){var f=e(b,this),a=f.length;return this.filter(function(){for(var b=
0;b<a;b++)if(e.contains(this,f[b]))return!0})},closest:function(b,f){var a,d=0,k=this.length,c=[],g="string"!=typeof b&&e(b);if(!Rb.test(b))for(;d<k;d++)for(a=this[d];a&&a!==f;a=a.parentNode)if(11>a.nodeType&&(g?-1<g.index(a):1===a.nodeType&&e.find.matchesSelector(a,b))){c.push(a);break}return this.pushStack(1<c.length?e.uniqueSort(c):c)},index:function(b){return b?"string"==typeof b?pa.call(e(b),this[0]):pa.call(this,b.jquery?b[0]:b):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},
add:function(b,f){return this.pushStack(e.uniqueSort(e.merge(this.get(),e(b,f))))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});e.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return Ab(b,"parentNode")},parentsUntil:function(b,f,a){return Ab(b,"parentNode",a)},next:function(b){return B(b,"nextSibling")},prev:function(b){return B(b,"previousSibling")},nextAll:function(b){return Ab(b,"nextSibling")},prevAll:function(b){return Ab(b,
"previousSibling")},nextUntil:function(b,f,a){return Ab(b,"nextSibling",a)},prevUntil:function(b,f,a){return Ab(b,"previousSibling",a)},siblings:function(b){return Qb((b.parentNode||{}).firstChild,b)},children:function(b){return Qb(b.firstChild)},contents:function(b){return h(b,"iframe")?b.contentDocument:(h(b,"template")&&(b=b.content||b),e.merge([],b.childNodes))}},function(b,f){e.fn[b]=function(a,d){var m=e.map(this,f,a);return"Until"!==b.slice(-5)&&(d=a),d&&"string"==typeof d&&(m=e.filter(d,m)),
1<this.length&&(cc[b]||e.uniqueSort(m),bc.test(b)&&m.reverse()),this.pushStack(m)}});var Ha=/[^\x20\t\r\n\f]+/g;e.Callbacks=function(b){b="string"==typeof b?C(b):e.extend({},b);var f,a,d,k,c=[],g=[],h=-1,n=function(){k=k||b.once;for(d=f=!0;g.length;h=-1)for(a=g.shift();++h<c.length;)!1===c[h].apply(a[0],a[1])&&b.stopOnFalse&&(h=c.length,a=!1);b.memory||(a=!1);f=!1;k&&(c=a?[]:"")},t={add:function(){return c&&(a&&!f&&(h=c.length-1,g.push(a)),function Xb(f){e.each(f,function(f,a){e.isFunction(a)?b.unique&&
t.has(a)||c.push(a):a&&a.length&&"string"!==e.type(a)&&Xb(a)})}(arguments),a&&!f&&n()),this},remove:function(){return e.each(arguments,function(b,f){for(var a;-1<(a=e.inArray(f,c,a));)c.splice(a,1),a<=h&&h--}),this},has:function(b){return b?-1<e.inArray(b,c):0<c.length},empty:function(){return c&&(c=[]),this},disable:function(){return k=g=[],c=a="",this},disabled:function(){return!c},lock:function(){return k=g=[],a||f||(c=a=""),this},locked:function(){return!!k},fireWith:function(b,a){return k||(a=
a||[],a=[b,a.slice?a.slice():a],g.push(a),f||n()),this},fire:function(){return t.fireWith(this,arguments),this},fired:function(){return!!d}};return t};e.extend({Deferred:function(b){var f=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],m="pending",d={state:function(){return m},always:function(){return k.done(arguments).fail(arguments),
this},"catch":function(b){return d.then(null,b)},pipe:function(){var b=arguments;return e.Deferred(function(a){e.each(f,function(f,m){var d=e.isFunction(b[m[4]])&&b[m[4]];k[m[1]](function(){var b=d&&d.apply(this,arguments);b&&e.isFunction(b.promise)?b.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[m[0]+"With"](this,d?[b]:arguments)})});b=null}).promise()},then:function(b,m,d){function k(b,f,m,d){return function(){var g=this,v=arguments,h=function(){var a;if(!(b<c)){if(a=m.apply(g,v),
a===f.promise())throw new TypeError("Thenable self-resolution");var h=a&&("object"==typeof a||"function"==typeof a)&&a.then;e.isFunction(h)?d?h.call(a,k(c,f,q,d),k(c,f,Q,d)):(c++,h.call(a,k(c,f,q,d),k(c,f,Q,d),k(c,f,q,f.notifyWith))):(m!==q&&(g=void 0,v=[a]),(d||f.resolveWith)(g,v))}},n=d?h:function(){try{h()}catch(Pb){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(Pb,n.stackTrace),b+1>=c&&(m!==Q&&(g=void 0,v=[Pb]),f.rejectWith(g,v))}};b?n():(e.Deferred.getStackHook&&(n.stackTrace=e.Deferred.getStackHook()),
a.setTimeout(n))}}var c=0;return e.Deferred(function(a){f[0][3].add(k(0,a,e.isFunction(d)?d:q,a.notifyWith));f[1][3].add(k(0,a,e.isFunction(b)?b:q));f[2][3].add(k(0,a,e.isFunction(m)?m:Q))}).promise()},promise:function(b){return null!=b?e.extend(b,d):d}},k={};return e.each(f,function(b,a){var e=a[2],c=a[5];d[a[1]]=e.add;c&&e.add(function(){m=c},f[3-b][2].disable,f[0][2].lock);e.add(a[3].fire);k[a[0]]=function(){return k[a[0]+"With"](this===k?void 0:this,arguments),this};k[a[0]+"With"]=e.fireWith}),
d.promise(k),b&&b.call(k,k),k},when:function(b){var f=arguments.length,a=f,d=Array(a),k=n.call(arguments),c=e.Deferred(),g=function(b){return function(a){d[b]=this;k[b]=1<arguments.length?n.call(arguments):a;--f||c.resolveWith(d,k)}};if(1>=f&&(z(b,c.done(g(a)).resolve,c.reject,!f),"pending"===c.state()||e.isFunction(k[a]&&k[a].then)))return c.then();for(;a--;)z(k[a],g(a),c.reject);return c.promise()}});var w=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;e.Deferred.exceptionHook=function(b,
f){a.console&&a.console.warn&&b&&w.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,f)};e.readyException=function(b){a.setTimeout(function(){throw b;})};var Mb=e.Deferred();e.fn.ready=function(b){return Mb.then(b)["catch"](function(b){e.readyException(b)}),this};e.extend({isReady:!1,readyWait:1,ready:function(b){(!0===b?--e.readyWait:e.isReady)||(e.isReady=!0,!0!==b&&0<--e.readyWait||Mb.resolveWith(L,[e]))}});e.ready.then=Mb.then;"complete"===L.readyState||"loading"!==
L.readyState&&!L.documentElement.doScroll?a.setTimeout(e.ready):(L.addEventListener("DOMContentLoaded",W),a.addEventListener("load",W));var Ca=function(b,f,a,d,k,c,g){var m=0,v=b.length,h=null==a;if("object"===e.type(a))for(m in k=!0,a)Ca(b,f,m,a[m],!0,c,g);else if(void 0!==d&&(k=!0,e.isFunction(d)||(g=!0),h&&(g?(f.call(b,d),f=null):(h=f,f=function(b,f,a){return h.call(e(b),a)})),f))for(;m<v;m++)f(b[m],a,g?d:d.call(b[m],m,f(b[m],a)));return k?b:h?f.call(b):v?f(b[0],a):c},Ka=function(b){return 1===
b.nodeType||9===b.nodeType||!+b.nodeType};La.uid=1;La.prototype={cache:function(b){var f=b[this.expando];return f||(f={},Ka(b)&&(b.nodeType?b[this.expando]=f:Object.defineProperty(b,this.expando,{value:f,configurable:!0}))),f},set:function(b,f,a){var d;b=this.cache(b);if("string"==typeof f)b[e.camelCase(f)]=a;else for(d in f)b[e.camelCase(d)]=f[d];return b},get:function(b,f){return void 0===f?this.cache(b):b[this.expando]&&b[this.expando][e.camelCase(f)]},access:function(b,f,a){return void 0===f||
f&&"string"==typeof f&&void 0===a?this.get(b,f):(this.set(b,f,a),void 0!==a?a:f)},remove:function(b,f){var a,d=b[this.expando];if(void 0!==d){if(void 0!==f)for(Array.isArray(f)?f=f.map(e.camelCase):(f=e.camelCase(f),f=f in d?[f]:f.match(Ha)||[]),a=f.length;a--;)delete d[f[a]];(void 0===f||e.isEmptyObject(d))&&(b.nodeType?b[this.expando]=void 0:delete b[this.expando])}},hasData:function(b){b=b[this.expando];return void 0!==b&&!e.isEmptyObject(b)}};var D=new La,ua=new La,Vb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
O=/[A-Z]/g;e.extend({hasData:function(b){return ua.hasData(b)||D.hasData(b)},data:function(b,f,a){return ua.access(b,f,a)},removeData:function(b,f){ua.remove(b,f)},_data:function(b,f,a){return D.access(b,f,a)},_removeData:function(b,f){D.remove(b,f)}});e.fn.extend({data:function(b,f){var a,d,k,c=this[0],g=c&&c.attributes;if(void 0===b){if(this.length&&(k=ua.get(c),1===c.nodeType&&!D.get(c,"hasDataAttrs"))){for(a=g.length;a--;)g[a]&&(d=g[a].name,0===d.indexOf("data-")&&(d=e.camelCase(d.slice(5)),ia(c,
d,k[d])));D.set(c,"hasDataAttrs",!0)}return k}return"object"==typeof b?this.each(function(){ua.set(this,b)}):Ca(this,function(f){var a;if(c&&void 0===f){if((a=ua.get(c,b),void 0!==a)||(a=ia(c,b),void 0!==a))return a}else this.each(function(){ua.set(this,b,f)})},null,f,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){ua.remove(this,b)})}});e.extend({queue:function(b,f,a){var d;if(b)return f=(f||"fx")+"queue",d=D.get(b,f),a&&(!d||Array.isArray(a)?d=D.access(b,f,e.makeArray(a)):
d.push(a)),d||[]},dequeue:function(b,f){f=f||"fx";var a=e.queue(b,f),d=a.length,k=a.shift(),c=e._queueHooks(b,f),g=function(){e.dequeue(b,f)};"inprogress"===k&&(k=a.shift(),d--);k&&("fx"===f&&a.unshift("inprogress"),delete c.stop,k.call(b,g,c));!d&&c&&c.empty.fire()},_queueHooks:function(b,f){var a=f+"queueHooks";return D.get(b,a)||D.access(b,a,{empty:e.Callbacks("once memory").add(function(){D.remove(b,[f+"queue",a])})})}});e.fn.extend({queue:function(b,f){var a=2;return"string"!=typeof b&&(f=b,
b="fx",a--),arguments.length<a?e.queue(this[0],b):void 0===f?this:this.each(function(){var a=e.queue(this,b,f);e._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&e.dequeue(this,b)})},dequeue:function(b){return this.each(function(){e.dequeue(this,b)})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,f){var a,d=1,k=e.Deferred(),c=this,g=this.length,h=function(){--d||k.resolveWith(c,[c])};"string"!=typeof b&&(f=b,b=void 0);for(b=b||"fx";g--;)(a=D.get(c[g],b+"queueHooks"))&&
a.empty&&(d++,a.empty.add(h));return h(),k.promise(f)}});var Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wa=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),fa=["Top","Right","Bottom","Left"],Ra=function(b,f){return b=f||b,"none"===b.style.display||""===b.style.display&&e.contains(b.ownerDocument,b)&&"none"===e.css(b,"display")},y=function(b,f,a,e){var d,m={};for(d in f)m[d]=b.style[d],b.style[d]=f[d];a=a.apply(b,e||[]);for(d in f)b.style[d]=m[d];return a},Ob={};e.fn.extend({show:function(){return Pa(this,
!0)},hide:function(){return Pa(this)},toggle:function(b){return"boolean"==typeof b?b?this.show():this.hide():this.each(function(){Ra(this)?e(this).show():e(this).hide()})}});var d=/^(?:checkbox|radio)$/i,A=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ia=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],
_default:[0,"",""]};X.optgroup=X.option;X.tbody=X.tfoot=X.colgroup=X.caption=X.thead;X.th=X.td;var sb=/<|&#?\w+;/;!function(){var b=L.createDocumentFragment().appendChild(L.createElement("div")),f=L.createElement("input");f.setAttribute("type","radio");f.setAttribute("checked","checked");f.setAttribute("name","t");b.appendChild(f);N.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;b.innerHTML="<textarea>x</textarea>";N.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var P=L.documentElement,
wa=/^key/,cb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,db=/^([^.]*)(?:\.(.+)|)/;e.event={global:{},add:function(b,f,a,d,k){var m,c,g,h,v,n,t,H;if(h=D.get(b))for(a.handler&&(m=a,a=m.handler,k=m.selector),k&&e.find.matchesSelector(P,k),a.guid||(a.guid=e.guid++),(g=h.events)||(g=h.events={}),(c=h.handle)||(c=h.handle=function(f){return"undefined"!=typeof e&&e.event.triggered!==f.type?e.event.dispatch.apply(b,arguments):void 0}),f=(f||"").match(Ha)||[""],h=f.length;h--;){var l=db.exec(f[h])||[];
var r=H=l[1];l=(l[2]||"").split(".").sort();r&&(n=e.event.special[r]||{},r=(k?n.delegateType:n.bindType)||r,n=e.event.special[r]||{},v=e.extend({type:r,origType:H,data:d,handler:a,guid:a.guid,selector:k,needsContext:k&&e.expr.match.needsContext.test(k),namespace:l.join(".")},m),(t=g[r])||(t=g[r]=[],t.delegateCount=0,n.setup&&!1!==n.setup.call(b,d,l,c)||b.addEventListener&&b.addEventListener(r,c)),n.add&&(n.add.call(b,v),v.handler.guid||(v.handler.guid=a.guid)),k?t.splice(t.delegateCount++,0,v):t.push(v),
e.event.global[r]=!0)}},remove:function(b,f,a,d,k){var m,c,g,h,v,n,t,H,l=D.hasData(b)&&D.get(b);if(l&&(h=l.events)){f=(f||"").match(Ha)||[""];for(v=f.length;v--;)if(g=db.exec(f[v])||[],n=H=g[1],t=(g[2]||"").split(".").sort(),n){var r=e.event.special[n]||{};n=(d?r.delegateType:r.bindType)||n;var p=h[n]||[];g=g[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(c=m=p.length;m--;){var x=p[m];!k&&H!==x.origType||a&&a.guid!==x.guid||g&&!g.test(x.namespace)||d&&d!==x.selector&&("**"!==d||!x.selector)||
(p.splice(m,1),x.selector&&p.delegateCount--,r.remove&&r.remove.call(b,x))}c&&!p.length&&(r.teardown&&!1!==r.teardown.call(b,t,l.handle)||e.removeEvent(b,n,l.handle),delete h[n])}else for(n in h)e.event.remove(b,n+f[v],a,d,!0);e.isEmptyObject(h)&&D.remove(b,"handle events")}},dispatch:function(b){var f=e.event.fix(b),a,d,k,c,g=Array(arguments.length);var h=(D.get(this,"events")||{})[f.type]||[];var n=e.event.special[f.type]||{};g[0]=f;for(a=1;a<arguments.length;a++)g[a]=arguments[a];if(f.delegateTarget=
this,!n.preDispatch||!1!==n.preDispatch.call(this,f)){var t=e.event.handlers.call(this,f,h);for(a=0;(k=t[a++])&&!f.isPropagationStopped();)for(f.currentTarget=k.elem,h=0;(c=k.handlers[h++])&&!f.isImmediatePropagationStopped();)f.rnamespace&&!f.rnamespace.test(c.namespace)||(f.handleObj=c,f.data=c.data,d=((e.event.special[c.origType]||{}).handle||c.handler).apply(k.elem,g),void 0!==d&&!1===(f.result=d)&&(f.preventDefault(),f.stopPropagation()));return n.postDispatch&&n.postDispatch.call(this,f),f.result}},
handlers:function(b,f){var a,d=[],k=f.delegateCount,c=b.target;if(k&&c.nodeType&&!("click"===b.type&&1<=b.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==b.type||!0!==c.disabled)){var g=[];var h={};for(a=0;a<k;a++){var n=f[a];var t=n.selector+" ";void 0===h[t]&&(h[t]=n.needsContext?-1<e(t,this).index(c):e.find(t,this,null,[c]).length);h[t]&&g.push(n)}g.length&&d.push({elem:c,handlers:g})}return c=this,k<f.length&&d.push({elem:c,handlers:f.slice(k)}),d},addProp:function(b,
f){Object.defineProperty(e.Event.prototype,b,{enumerable:!0,configurable:!0,get:e.isFunction(f)?function(){if(this.originalEvent)return f(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[b]},set:function(f){Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:f})}})},fix:function(b){return b[e.expando]?b:new e.Event(b)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==tb()&&this.focus)return this.focus(),!1},delegateType:"focusin"},
blur:{trigger:function(){if(this===tb()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&h(this,"input"))return this.click(),!1},_default:function(b){return h(b.target,"a")}},beforeunload:{postDispatch:function(b){void 0!==b.result&&b.originalEvent&&(b.originalEvent.returnValue=b.result)}}}};e.removeEvent=function(b,f,a){b.removeEventListener&&b.removeEventListener(f,a)};e.Event=function(b,f){return this instanceof e.Event?
(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||void 0===b.defaultPrevented&&!1===b.returnValue?ja:qa,this.target=b.target&&3===b.target.nodeType?b.target.parentNode:b.target,this.currentTarget=b.currentTarget,this.relatedTarget=b.relatedTarget):this.type=b,f&&e.extend(this,f),this.timeStamp=b&&b.timeStamp||e.now(),void(this[e.expando]=!0)):new e.Event(b,f)};e.Event.prototype={constructor:e.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,
isSimulated:!1,preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=ja;b&&!this.isSimulated&&b.preventDefault()},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=ja;b&&!this.isSimulated&&b.stopPropagation()},stopImmediatePropagation:function(){var b=this.originalEvent;this.isImmediatePropagationStopped=ja;b&&!this.isSimulated&&b.stopImmediatePropagation();this.stopPropagation()}};e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,
detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(b){var f=b.button;return null==b.which&&wa.test(b.type)?null!=b.charCode?b.charCode:b.keyCode:!b.which&&void 0!==f&&cb.test(b.type)?1&f?1:2&f?3:4&f?2:0:b.which}},e.event.addProp);e.each({mouseenter:"mouseover",mouseleave:"mouseout",
pointerenter:"pointerover",pointerleave:"pointerout"},function(b,f){e.event.special[b]={delegateType:f,bindType:f,handle:function(b){var a,d=b.relatedTarget,k=b.handleObj;return d&&(d===this||e.contains(this,d))||(b.type=k.origType,a=k.handler.apply(this,arguments),b.type=f),a}}});e.fn.extend({on:function(b,f,a,e){return mb(this,b,f,a,e)},one:function(b,f,a,e){return mb(this,b,f,a,e,1)},off:function(b,f,a){var d,k;if(b&&b.preventDefault&&b.handleObj)return d=b.handleObj,e(b.delegateTarget).off(d.namespace?
d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof b){for(k in b)this.off(k,f,b[k]);return this}return!1!==f&&"function"!=typeof f||(a=f,f=void 0),!1===a&&(a=qa),this.each(function(){e.event.remove(this,b,a,f)})}});var dc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ec=/<script|<style|<link/i,za=/checked\s*(?:[^=]|=\s*.checked.)/i,da=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;e.extend({htmlPrefilter:function(b){return b.replace(dc,
"<$1></$2>")},clone:function(b,f,a){var k,m=b.cloneNode(!0),c=e.contains(b.ownerDocument,b);if(!(N.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||e.isXMLDoc(b))){var g=ca(m);var h=ca(b);var n=0;for(k=h.length;n<k;n++){var t=h[n],r=g[n],l=r.nodeName.toLowerCase();"input"===l&&d.test(t.type)?r.checked=t.checked:"input"!==l&&"textarea"!==l||(r.defaultValue=t.defaultValue)}}if(f)if(a)for(h=h||ca(b),g=g||ca(m),n=0,k=h.length;n<k;n++)ub(h[n],g[n]);else ub(b,m);return g=ca(m,"script"),0<g.length&&Sa(g,
!c&&ca(b,"script")),m},cleanData:function(b){for(var f,a,d,k=e.event.special,c=0;void 0!==(a=b[c]);c++)if(Ka(a)){if(f=a[D.expando]){if(f.events)for(d in f.events)k[d]?e.event.remove(a,d):e.removeEvent(a,d,f.handle);a[D.expando]=void 0}a[ua.expando]&&(a[ua.expando]=void 0)}}});e.fn.extend({detach:function(b){return nb(this,b,!0)},remove:function(b){return nb(this,b)},text:function(b){return Ca(this,function(b){return void 0===b?e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&
9!==this.nodeType||(this.textContent=b)})},null,b,arguments.length)},append:function(){return Ea(this,arguments,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Bb(this,b).appendChild(b)})},prepend:function(){return Ea(this,arguments,function(b){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=Bb(this,b);a.insertBefore(b,a.firstChild)}})},before:function(){return Ea(this,arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return Ea(this,
arguments,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},empty:function(){for(var b,a=0;null!=(b=this[a]);a++)1===b.nodeType&&(e.cleanData(ca(b,!1)),b.textContent="");return this},clone:function(b,a){return b=null!=b&&b,a=null==a?b:a,this.map(function(){return e.clone(this,b,a)})},html:function(b){return Ca(this,function(b){var a=this[0]||{},f=0,d=this.length;if(void 0===b&&1===a.nodeType)return a.innerHTML;if("string"==typeof b&&!ec.test(b)&&!X[(A.exec(b)||["",""])[1].toLowerCase()]){b=
e.htmlPrefilter(b);try{for(;f<d;f++)a=this[f]||{},1===a.nodeType&&(e.cleanData(ca(a,!1)),a.innerHTML=b);a=0}catch(Z){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var b=[];return Ea(this,arguments,function(a){var f=this.parentNode;0>e.inArray(this,b)&&(e.cleanData(ca(this)),f&&f.replaceChild(a,this))},b)}});e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){e.fn[b]=function(b){for(var f=[],
d=e(b),k=d.length-1,m=0;m<=k;m++)b=m===k?this:this.clone(!0),e(d[m])[a](b),aa.apply(f,b.get());return this.pushStack(f)}});var S=/^margin/,Ya=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),bb=function(b){var f=b.ownerDocument.defaultView;return f&&f.opener||(f=a),f.getComputedStyle(b)};!function(){function b(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";h.innerHTML="";P.appendChild(g);var b=a.getComputedStyle(h);f="1%"!==
b.top;c="2px"===b.marginLeft;d="4px"===b.width;h.style.marginRight="50%";k="4px"===b.marginRight;P.removeChild(g);h=null}}var f,d,k,c,g=L.createElement("div"),h=L.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",N.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),e.extend(N,{pixelPosition:function(){return b(),
f},boxSizingReliable:function(){return b(),d},pixelMarginRight:function(){return b(),k},reliableMarginLeft:function(){return b(),c}}))}();var fc=/^(none|table(?!-c[ea]).+)/,eb=/^--/,p={position:"absolute",visibility:"hidden",display:"block"},ba={letterSpacing:"0",fontWeight:"400"},ka=["Webkit","Moz","ms"],Aa=L.createElement("div").style;e.extend({cssHooks:{opacity:{get:function(b,a){if(a){var f=hb(b,"opacity");return""===f?"1":f}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,
flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,a,d,k){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var f,m,c,g=e.camelCase(a),h=eb.test(a),n=b.style;return h||(a=Hb(g)),c=e.cssHooks[a]||e.cssHooks[g],void 0===d?c&&"get"in c&&void 0!==(f=c.get(b,!1,k))?f:n[a]:(m=typeof d,"string"===m&&(f=Wa.exec(d))&&f[1]&&(d=fb(b,a,f),m="number"),null!=d&&d===d&&("number"===m&&(d+=f&&f[3]||(e.cssNumber[g]?
"":"px")),N.clearCloneStyle||""!==d||0!==a.indexOf("background")||(n[a]="inherit"),c&&"set"in c&&void 0===(d=c.set(b,d,k))||(h?n.setProperty(a,d):n[a]=d)),void 0)}},css:function(b,a,d,k){var f,c,m,g=e.camelCase(a);return eb.test(a)||(a=Hb(g)),m=e.cssHooks[a]||e.cssHooks[g],m&&"get"in m&&(f=m.get(b,!0,d)),void 0===f&&(f=hb(b,a,k)),"normal"===f&&a in ba&&(f=ba[a]),""===d||d?(c=parseFloat(f),!0===d||isFinite(c)?c||0:f):f}});e.each(["height","width"],function(b,a){e.cssHooks[a]={get:function(b,f,d){if(f)return!fc.test(e.css(b,
"display"))||b.getClientRects().length&&b.getBoundingClientRect().width?wb(b,a,d):y(b,p,function(){return wb(b,a,d)})},set:function(b,f,d){var k,c=d&&bb(b);d=d&&ib(b,a,d,"border-box"===e.css(b,"boxSizing",!1,c),c);return d&&(k=Wa.exec(f))&&"px"!==(k[3]||"px")&&(b.style[a]=f,f=e.css(b,a)),Cb(b,f,d)}}});e.cssHooks.marginLeft=vb(N.reliableMarginLeft,function(b,a){if(a)return(parseFloat(hb(b,"marginLeft"))||b.getBoundingClientRect().left-y(b,{marginLeft:0},function(){return b.getBoundingClientRect().left}))+
"px"});e.each({margin:"",padding:"",border:"Width"},function(b,a){e.cssHooks[b+a]={expand:function(f){var e=0,d={};for(f="string"==typeof f?f.split(" "):[f];4>e;e++)d[b+fa[e]+a]=f[e]||f[e-2]||f[0];return d}};S.test(b)||(e.cssHooks[b+a].set=Cb)});e.fn.extend({css:function(b,a){return Ca(this,function(b,a,f){var d,k={},c=0;if(Array.isArray(a)){f=bb(b);for(d=a.length;c<d;c++)k[a[c]]=e.css(b,a[c],!1,f);return k}return void 0!==f?e.style(b,a,f):e.css(b,a)},b,a,1<arguments.length)}});e.Tween=ra;ra.prototype=
{constructor:ra,init:function(b,a,d,k,c,g){this.elem=b;this.prop=d;this.easing=c||e.easing._default;this.options=a;this.start=this.now=this.cur();this.end=k;this.unit=g||(e.cssNumber[d]?"":"px")},cur:function(){var b=ra.propHooks[this.prop];return b&&b.get?b.get(this):ra.propHooks._default.get(this)},run:function(b){var a,d=ra.propHooks[this.prop];return this.options.duration?this.pos=a=e.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):this.pos=a=b,this.now=(this.end-this.start)*
a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):ra.propHooks._default.set(this),this}};ra.prototype.init.prototype=ra.prototype;ra.propHooks={_default:{get:function(b){var a;return 1!==b.elem.nodeType||null!=b.elem[b.prop]&&null==b.elem.style[b.prop]?b.elem[b.prop]:(a=e.css(b.elem,b.prop,""),a&&"auto"!==a?a:0)},set:function(b){e.fx.step[b.prop]?e.fx.step[b.prop](b):1!==b.elem.nodeType||null==b.elem.style[e.cssProps[b.prop]]&&!e.cssHooks[b.prop]?
b.elem[b.prop]=b.now:e.style(b.elem,b.prop,b.now+b.unit)}}};ra.propHooks.scrollTop=ra.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};e.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2},_default:"swing"};e.fx=ra.prototype.init;e.fx.step={};var Fa,Qa,M=/^(?:toggle|show|hide)$/,E=/queueHooks$/;e.Animation=e.extend(ma,{tweeners:{"*":[function(b,a){var f=this.createTween(b,a);return fb(f.elem,b,Wa.exec(a),f),f}]},
tweener:function(b,a){e.isFunction(b)?(a=b,b=["*"]):b=b.match(Ha);for(var f,d=0,k=b.length;d<k;d++)f=b[d],ma.tweeners[f]=ma.tweeners[f]||[],ma.tweeners[f].unshift(a)},prefilters:[function(b,a,d){var f,k,c,m,g,h,n,t,r="width"in a||"height"in a,l=this,p={},x=b.style,V=b.nodeType&&Ra(b),aa=D.get(b,"fxshow");d.queue||(m=e._queueHooks(b,"fx"),null==m.unqueued&&(m.unqueued=0,g=m.empty.fire,m.empty.fire=function(){m.unqueued||g()}),m.unqueued++,l.always(function(){l.always(function(){m.unqueued--;e.queue(b,
"fx").length||m.empty.fire()})}));for(f in a)if(k=a[f],M.test(k)){if(delete a[f],c=c||"toggle"===k,k===(V?"hide":"show")){if("show"!==k||!aa||void 0===aa[f])continue;V=!0}p[f]=aa&&aa[f]||e.style(b,f)}if(h=!e.isEmptyObject(a),h||!e.isEmptyObject(p))for(f in r&&1===b.nodeType&&(d.overflow=[x.overflow,x.overflowX,x.overflowY],n=aa&&aa.display,null==n&&(n=D.get(b,"display")),t=e.css(b,"display"),"none"===t&&(n?t=n:(Pa([b],!0),n=b.style.display||n,t=e.css(b,"display"),Pa([b]))),("inline"===t||"inline-block"===
t&&null!=n)&&"none"===e.css(b,"float")&&(h||(l.done(function(){x.display=n}),null==n&&(t=x.display,n="none"===t?"":t)),x.display="inline-block")),d.overflow&&(x.overflow="hidden",l.always(function(){x.overflow=d.overflow[0];x.overflowX=d.overflow[1];x.overflowY=d.overflow[2]})),h=!1,p)h||(aa?"hidden"in aa&&(V=aa.hidden):aa=D.access(b,"fxshow",{display:n}),c&&(aa.hidden=!V),V&&Pa([b],!0),l.done(function(){V||Pa([b]);D.remove(b,"fxshow");for(f in p)e.style(b,f,p[f])})),h=Jb(V?aa[f]:0,f,l),f in aa||
(aa[f]=h.start,V&&(h.end=h.start,h.start=0))}],prefilter:function(b,a){a?ma.prefilters.unshift(b):ma.prefilters.push(b)}});e.speed=function(b,a,d){var f=b&&"object"==typeof b?e.extend({},b):{complete:d||!d&&a||e.isFunction(b)&&b,duration:b,easing:d&&a||a&&!e.isFunction(a)&&a};return e.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration in e.fx.speeds?f.duration=e.fx.speeds[f.duration]:f.duration=e.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=
function(){e.isFunction(f.old)&&f.old.call(this);f.queue&&e.dequeue(this,f.queue)},f};e.fn.extend({fadeTo:function(b,a,d,e){return this.filter(Ra).css("opacity",0).show().end().animate({opacity:a},b,d,e)},animate:function(b,a,d,k){var f=e.isEmptyObject(b),c=e.speed(a,d,k);a=function(){var a=ma(this,e.extend({},b),c);(f||D.get(this,"finish"))&&a.stop(!0)};return a.finish=a,f||!1===c.queue?this.each(a):this.queue(c.queue,a)},stop:function(b,a,d){var f=function(b){var a=b.stop;delete b.stop;a(d)};return"string"!=
typeof b&&(d=a,a=b,b=void 0),a&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var a=!0,k=null!=b&&b+"queueHooks",c=e.timers,m=D.get(this);if(k)m[k]&&m[k].stop&&f(m[k]);else for(k in m)m[k]&&m[k].stop&&E.test(k)&&f(m[k]);for(k=c.length;k--;)c[k].elem!==this||null!=b&&c[k].queue!==b||(c[k].anim.stop(d),a=!1,c.splice(k,1));!a&&d||e.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var a=D.get(this),d=a[b+"queue"];var k=a[b+"queueHooks"];var c=e.timers,g=d?d.length:
0;a.finish=!0;e.queue(this,b,[]);k&&k.stop&&k.stop.call(this,!0);for(k=c.length;k--;)c[k].elem===this&&c[k].queue===b&&(c[k].anim.stop(!0),c.splice(k,1));for(k=0;k<g;k++)d[k]&&d[k].finish&&d[k].finish.call(this);delete a.finish})}});e.each(["toggle","show","hide"],function(b,a){var f=e.fn[a];e.fn[a]=function(b,d,e){return null==b||"boolean"==typeof b?f.apply(this,arguments):this.animate(ob(a,!0),b,d,e)}});e.each({slideDown:ob("show"),slideUp:ob("hide"),slideToggle:ob("toggle"),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){e.fn[b]=function(b,f,d){return this.animate(a,b,f,d)}});e.timers=[];e.fx.tick=function(){var b=0,a=e.timers;for(Fa=e.now();b<a.length;b++){var d=a[b];d()||a[b]!==d||a.splice(b--,1)}a.length||e.fx.stop();Fa=void 0};e.fx.timer=function(b){e.timers.push(b);e.fx.start()};e.fx.interval=13;e.fx.start=function(){Qa||(Qa=!0,jb())};e.fx.stop=function(){Qa=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fn.delay=function(b,f){return b=
e.fx?e.fx.speeds[b]||b:b,f=f||"fx",this.queue(f,function(f,d){var e=a.setTimeout(f,b);d.stop=function(){a.clearTimeout(e)}})};(function(){var b=L.createElement("input"),a=L.createElement("select").appendChild(L.createElement("option"));b.type="checkbox";N.checkOn=""!==b.value;N.optSelected=a.selected;b=L.createElement("input");b.value="t";b.type="radio";N.radioValue="t"===b.value})();var r=e.expr.attrHandle;e.fn.extend({attr:function(b,a){return Ca(this,e.attr,b,a,1<arguments.length)},removeAttr:function(b){return this.each(function(){e.removeAttr(this,
b)})}});e.extend({attr:function(b,a,d){var f,k,c=b.nodeType;if(3!==c&&8!==c&&2!==c)return"undefined"==typeof b.getAttribute?e.prop(b,a,d):(1===c&&e.isXMLDoc(b)||(k=e.attrHooks[a.toLowerCase()]||(e.expr.match.bool.test(a)?U:void 0)),void 0!==d?null===d?void e.removeAttr(b,a):k&&"set"in k&&void 0!==(f=k.set(b,d,a))?f:(b.setAttribute(a,d+""),d):k&&"get"in k&&null!==(f=k.get(b,a))?f:(f=e.find.attr(b,a),null==f?void 0:f))},attrHooks:{type:{set:function(b,a){if(!N.radioValue&&"radio"===a&&h(b,"input")){var f=
b.value;return b.setAttribute("type",a),f&&(b.value=f),a}}}},removeAttr:function(b,a){var f,d=0,e=a&&a.match(Ha);if(e&&1===b.nodeType)for(;f=e[d++];)b.removeAttribute(f)}});var U={set:function(b,a,d){return!1===a?e.removeAttr(b,d):b.setAttribute(d,d),d}};e.each(e.expr.match.bool.source.match(/\w+/g),function(b,a){var f=r[a]||e.find.attr;r[a]=function(b,a,d){var e,k,c=a.toLowerCase();return d||(k=r[c],r[c]=e,e=null!=f(b,a,d)?c:null,r[c]=k),e}});var T=/^(?:input|select|textarea|button)$/i,xa=/^(?:a|area)$/i;
e.fn.extend({prop:function(b,a){return Ca(this,e.prop,b,a,1<arguments.length)},removeProp:function(b){return this.each(function(){delete this[e.propFix[b]||b]})}});e.extend({prop:function(b,a,d){var f,k,c=b.nodeType;if(3!==c&&8!==c&&2!==c)return 1===c&&e.isXMLDoc(b)||(a=e.propFix[a]||a,k=e.propHooks[a]),void 0!==d?k&&"set"in k&&void 0!==(f=k.set(b,d,a))?f:b[a]=d:k&&"get"in k&&null!==(f=k.get(b,a))?f:b[a]},propHooks:{tabIndex:{get:function(b){var a=e.find.attr(b,"tabindex");return a?parseInt(a,10):
T.test(b.nodeName)||xa.test(b.nodeName)&&b.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});N.optSelected||(e.propHooks.selected={get:function(b){b=b.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(b){b=b.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}});e.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){e.propFix[this.toLowerCase()]=this});e.fn.extend({addClass:function(b){var a,
d,k,c,g,h,n=0;if(e.isFunction(b))return this.each(function(a){e(this).addClass(b.call(this,a,Na(this)))});if("string"==typeof b&&b)for(a=b.match(Ha)||[];d=this[n++];)if(c=Na(d),k=1===d.nodeType&&" "+Ma(c)+" "){for(h=0;g=a[h++];)0>k.indexOf(" "+g+" ")&&(k+=g+" ");k=Ma(k);c!==k&&d.setAttribute("class",k)}return this},removeClass:function(b){var a,d,k,c,g,h,n=0;if(e.isFunction(b))return this.each(function(a){e(this).removeClass(b.call(this,a,Na(this)))});if(!arguments.length)return this.attr("class",
"");if("string"==typeof b&&b)for(a=b.match(Ha)||[];d=this[n++];)if(c=Na(d),k=1===d.nodeType&&" "+Ma(c)+" "){for(h=0;g=a[h++];)for(;-1<k.indexOf(" "+g+" ");)k=k.replace(" "+g+" "," ");k=Ma(k);c!==k&&d.setAttribute("class",k)}return this},toggleClass:function(b,a){var f=typeof b;return"boolean"==typeof a&&"string"===f?a?this.addClass(b):this.removeClass(b):e.isFunction(b)?this.each(function(f){e(this).toggleClass(b.call(this,f,Na(this),a),a)}):this.each(function(){var a,d;if("string"===f){var k=0;var c=
e(this);for(d=b.match(Ha)||[];a=d[k++];)c.hasClass(a)?c.removeClass(a):c.addClass(a)}else void 0!==b&&"boolean"!==f||(a=Na(this),a&&D.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===b?"":D.get(this,"__className__")||""))})},hasClass:function(b){var a,d=0;for(b=" "+b+" ";a=this[d++];)if(1===a.nodeType&&-1<(" "+Ma(Na(a))+" ").indexOf(b))return!0;return!1}});var yb=/\r/g;e.fn.extend({val:function(b){var a,d,k,c=this[0];if(arguments.length)return k=e.isFunction(b),this.each(function(f){var d;
1===this.nodeType&&(d=k?b.call(this,f,e(this).val()):b,null==d?d="":"number"==typeof d?d+="":Array.isArray(d)&&(d=e.map(d,function(b){return null==b?"":b+""})),a=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,d,"value")||(this.value=d))});if(c)return a=e.valHooks[c.type]||e.valHooks[c.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(d=a.get(c,"value"))?d:(d=c.value,"string"==typeof d?d.replace(yb,""):null==d?"":d)}});e.extend({valHooks:{option:{get:function(b){var a=
e.find.attr(b,"value");return null!=a?a:Ma(e.text(b))}},select:{get:function(b){var a,d,k=b.options,c=b.selectedIndex,g="select-one"===b.type,n=g?null:[],t=g?c+1:k.length;for(d=0>c?t:g?c:0;d<t;d++)if(a=k[d],!(!a.selected&&d!==c||a.disabled||a.parentNode.disabled&&h(a.parentNode,"optgroup"))){if(b=e(a).val(),g)return b;n.push(b)}return n},set:function(b,a){for(var f,d,k=b.options,c=e.makeArray(a),g=k.length;g--;)d=k[g],(d.selected=-1<e.inArray(e.valHooks.option.get(d),c))&&(f=!0);return f||(b.selectedIndex=
-1),c}}}});e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(b,a){if(Array.isArray(a))return b.checked=-1<e.inArray(e(b).val(),a)}};N.checkOn||(e.valHooks[this].get=function(b){return null===b.getAttribute("value")?"on":b.value})});var $a=/^(?:focusinfocus|focusoutblur)$/;e.extend(e.event,{trigger:function(b,f,d,k){var c,g,h,m,n,t=[d||L],l=kb.call(b,"type")?b.type:b;var r=kb.call(b,"namespace")?b.namespace.split("."):[];if(c=g=d=d||L,3!==d.nodeType&&8!==d.nodeType&&!$a.test(l+
e.event.triggered)&&(-1<l.indexOf(".")&&(r=l.split("."),l=r.shift(),r.sort()),h=0>l.indexOf(":")&&"on"+l,b=b[e.expando]?b:new e.Event(l,"object"==typeof b&&b),b.isTrigger=k?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),f=null==f?[b]:e.makeArray(f,[b]),n=e.event.special[l]||{},k||!n.trigger||!1!==n.trigger.apply(d,f))){if(!k&&!n.noBubble&&!e.isWindow(d)){var p=n.delegateType||l;for($a.test(p+
l)||(c=c.parentNode);c;c=c.parentNode)t.push(c),g=c;g===(d.ownerDocument||L)&&t.push(g.defaultView||g.parentWindow||a)}for(r=0;(c=t[r++])&&!b.isPropagationStopped();)b.type=1<r?p:n.bindType||l,(m=(D.get(c,"events")||{})[b.type]&&D.get(c,"handle"))&&m.apply(c,f),(m=h&&c[h])&&m.apply&&Ka(c)&&(b.result=m.apply(c,f),!1===b.result&&b.preventDefault());return b.type=l,k||b.isDefaultPrevented()||n._default&&!1!==n._default.apply(t.pop(),f)||!Ka(d)||h&&e.isFunction(d[l])&&!e.isWindow(d)&&(g=d[h],g&&(d[h]=
null),e.event.triggered=l,d[l](),e.event.triggered=void 0,g&&(d[h]=g)),b.result}},simulate:function(b,a,d){b=e.extend(new e.Event,d,{type:b,isSimulated:!0});e.event.trigger(b,null,a)}});e.fn.extend({trigger:function(b,a){return this.each(function(){e.event.trigger(b,a,this)})},triggerHandler:function(b,a){var f=this[0];if(f)return e.event.trigger(b,a,f,!0)}});e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),
function(b,a){e.fn[a]=function(b,f){return 0<arguments.length?this.on(a,null,b,f):this.trigger(a)}});e.fn.extend({hover:function(b,a){return this.mouseenter(b).mouseleave(a||b)}});N.focusin="onfocusin"in a;N.focusin||e.each({focus:"focusin",blur:"focusout"},function(b,a){var f=function(b){e.event.simulate(a,b.target,e.event.fix(b))};e.event.special[a]={setup:function(){var d=this.ownerDocument||this,e=D.access(d,a);e||d.addEventListener(b,f,!0);D.access(d,a,(e||0)+1)},teardown:function(){var d=this.ownerDocument||
this,e=D.access(d,a)-1;e?D.access(d,a,e):(d.removeEventListener(b,f,!0),D.remove(d,a))}}});var Ga=a.location,Ta=e.now(),Fb=/\?/;e.parseXML=function(b){if(!b||"string"!=typeof b)return null;try{var f=(new a.DOMParser).parseFromString(b,"text/xml")}catch(m){f=void 0}return f&&!f.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+b),f};var k=/\[\]$/,t=/\r?\n/g,V=/^(?:submit|button|image|reset|file)$/i,K=/^(?:input|select|textarea|keygen)/i;e.param=function(b,a){var f,d=[],k=function(b,
a){var f=e.isFunction(a)?a():a;d[d.length]=encodeURIComponent(b)+"="+encodeURIComponent(null==f?"":f)};if(Array.isArray(b)||b.jquery&&!e.isPlainObject(b))e.each(b,function(){k(this.name,this.value)});else for(f in b)Va(f,b[f],a,k);return d.join("&")};e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=e.prop(this,"elements");return b?e.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!e(this).is(":disabled")&&
K.test(this.nodeName)&&!V.test(b)&&(this.checked||!d.test(b))}).map(function(b,a){var f=e(this).val();return null==f?null:Array.isArray(f)?e.map(f,function(b){return{name:a.name,value:b.replace(t,"\r\n")}}):{name:a.name,value:f.replace(t,"\r\n")}}).get()}});var R=/%20/g,I=/#.*$/,G=/([?&])_=[^&]*/,qb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ua=/^(?:GET|HEAD)$/,Oa=/^\/\//,la={},Za={},rb="*/".concat("*"),ab=L.createElement("a");ab.href=Ga.href;e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ga.href,
type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ga.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":rb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,
"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?Ba(Ba(b,e.ajaxSettings),a):Ba(e.ajaxSettings,b)},ajaxPrefilter:na(la),ajaxTransport:na(Za),ajax:function(b,f){function d(b,f,d,g){var m,t,l,v=f;if(!w){w=!0;h&&a.clearTimeout(h);k=void 0;c=g||"";F.readyState=0<b?4:0;g=200<=b&&300>b||304===b;if(d){var K=r;for(var pa=F,q,G,U,R,oa=K.contents,I=K.dataTypes;"*"===I[0];)I.shift(),void 0===q&&(q=K.mimeType||pa.getResponseHeader("Content-Type"));if(q)for(G in oa)if(oa[G]&&
oa[G].test(q)){I.unshift(G);break}if(I[0]in d)U=I[0];else{for(G in d){if(!I[0]||K.converters[G+" "+I[0]]){U=G;break}R||(R=G)}U=U||R}d=U?(U!==I[0]&&I.unshift(U),d[U]):void 0;K=d}a:{d=r;q=K;G=F;U=g;var T,la,H;K={};pa=d.dataTypes.slice();if(pa[1])for(T in d.converters)K[T.toLowerCase()]=d.converters[T];for(R=pa.shift();R;)if(d.responseFields[R]&&(G[d.responseFields[R]]=q),!H&&U&&d.dataFilter&&(q=d.dataFilter(q,d.dataType)),H=R,R=pa.shift())if("*"===R)R=H;else if("*"!==H&&H!==R){if(T=K[H+" "+R]||K["* "+
R],!T)for(z in K)if(la=z.split(" "),la[1]===R&&(T=K[H+" "+la[0]]||K["* "+la[0]])){!0===T?T=K[z]:!0!==K[z]&&(R=la[0],pa.unshift(la[1]));break}if(!0!==T)if(T&&d["throws"])q=T(q);else try{q=T(q)}catch(Zb){var z={state:"parsererror",error:T?Zb:"No conversion from "+H+" to "+R};break a}}z={state:"success",data:q}}K=z;g?(r.ifModified&&(l=F.getResponseHeader("Last-Modified"),l&&(e.lastModified[ta]=l),l=F.getResponseHeader("etag"),l&&(e.etag[ta]=l)),204===b||"HEAD"===r.type?v="nocontent":304===b?v="notmodified":
(v=K.state,m=K.data,t=K.error,g=!t)):(t=v,!b&&v||(v="error",0>b&&(b=0)));F.status=b;F.statusText=(f||v)+"";g?V.resolveWith(p,[m,v,F]):V.rejectWith(p,[F,v,t]);F.statusCode(u);u=void 0;n&&x.trigger(g?"ajaxSuccess":"ajaxError",[F,r,g?m:t]);aa.fireWith(p,[F,v]);n&&(x.trigger("ajaxComplete",[F,r]),--e.active||e.event.trigger("ajaxStop"))}}"object"==typeof b&&(f=b,b=void 0);f=f||{};var k,c,g,h,n,t,l,r=e.ajaxSetup({},f),p=r.context||r,x=r.context&&(p.nodeType||p.jquery)?e(p):e.event,V=e.Deferred(),aa=e.Callbacks("once memory"),
u=r.statusCode||{},K={},pa={},q="canceled",F={readyState:0,getResponseHeader:function(b){var a;if(w){if(!g)for(g={};a=qb.exec(c);)g[a[1].toLowerCase()]=a[2];a=g[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return w?c:null},setRequestHeader:function(b,a){return null==w&&(b=pa[b.toLowerCase()]=pa[b.toLowerCase()]||b,K[b]=a),this},overrideMimeType:function(b){return null==w&&(r.mimeType=b),this},statusCode:function(b){var a;if(b)if(w)F.always(b[F.status]);else for(a in b)u[a]=
[u[a],b[a]];return this},abort:function(b){b=b||q;return k&&k.abort(b),d(0,b),this}};if(V.promise(F),r.url=((b||r.url||Ga.href)+"").replace(Oa,Ga.protocol+"//"),r.type=f.method||f.type||r.method||r.type,r.dataTypes=(r.dataType||"*").toLowerCase().match(Ha)||[""],null==r.crossDomain){var U=L.createElement("a");try{U.href=r.url,U.href=U.href,r.crossDomain=ab.protocol+"//"+ab.host!=U.protocol+"//"+U.host}catch(Lb){r.crossDomain=!0}}if(r.data&&r.processData&&"string"!=typeof r.data&&(r.data=e.param(r.data,
r.traditional)),Ja(la,r,f,F),w)return F;(n=e.event&&r.global)&&0===e.active++&&e.event.trigger("ajaxStart");r.type=r.type.toUpperCase();r.hasContent=!Ua.test(r.type);var ta=r.url.replace(I,"");r.hasContent?r.data&&r.processData&&0===(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&(r.data=r.data.replace(R,"+")):(l=r.url.slice(ta.length),r.data&&(ta+=(Fb.test(ta)?"&":"?")+r.data,delete r.data),!1===r.cache&&(ta=ta.replace(G,"$1"),l=(Fb.test(ta)?"&":"?")+"_="+Ta++ +l),r.url=ta+l);r.ifModified&&
(e.lastModified[ta]&&F.setRequestHeader("If-Modified-Since",e.lastModified[ta]),e.etag[ta]&&F.setRequestHeader("If-None-Match",e.etag[ta]));(r.data&&r.hasContent&&!1!==r.contentType||f.contentType)&&F.setRequestHeader("Content-Type",r.contentType);F.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+rb+"; q=0.01":""):r.accepts["*"]);for(t in r.headers)F.setRequestHeader(t,r.headers[t]);if(r.beforeSend&&(!1===r.beforeSend.call(p,
F,r)||w))return F.abort();if(q="abort",aa.add(r.complete),F.done(r.success),F.fail(r.error),k=Ja(Za,r,f,F)){if(F.readyState=1,n&&x.trigger("ajaxSend",[F,r]),w)return F;r.async&&0<r.timeout&&(h=a.setTimeout(function(){F.abort("timeout")},r.timeout));try{var w=!1;k.send(K,d)}catch(Lb){if(w)throw Lb;d(-1,Lb)}}else d(-1,"No Transport");return F},getJSON:function(b,a,d){return e.get(b,a,d,"json")},getScript:function(b,a){return e.get(b,void 0,a,"script")}});e.each(["get","post"],function(b,a){e[a]=function(b,
f,d,k){return e.isFunction(f)&&(k=k||d,d=f,f=void 0),e.ajax(e.extend({url:b,type:a,dataType:k,data:f,success:d},e.isPlainObject(b)&&b))}});e._evalUrl=function(b){return e.ajax({url:b,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};e.fn.extend({wrapAll:function(b){var a;return this[0]&&(e.isFunction(b)&&(b=b.call(this[0])),a=e(b,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;
return b}).append(this)),this},wrapInner:function(b){return e.isFunction(b)?this.each(function(a){e(this).wrapInner(b.call(this,a))}):this.each(function(){var a=e(this),d=a.contents();d.length?d.wrapAll(b):a.append(b)})},wrap:function(b){var a=e.isFunction(b);return this.each(function(f){e(this).wrapAll(a?b.call(this,f):b)})},unwrap:function(b){return this.parent(b).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this}});e.expr.pseudos.hidden=function(b){return!e.expr.pseudos.visible(b)};
e.expr.pseudos.visible=function(b){return!!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)};e.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var ea={0:200,1223:204},Gb=e.ajaxSettings.xhr();N.cors=!!Gb&&"withCredentials"in Gb;N.ajax=Gb=!!Gb;e.ajaxTransport(function(b){var f,d;if(N.cors||Gb&&!b.crossDomain)return{send:function(e,k){var c,g=b.xhr();if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(c in b.xhrFields)g[c]=b.xhrFields[c];b.mimeType&&
g.overrideMimeType&&g.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(c in e)g.setRequestHeader(c,e[c]);f=function(b){return function(){f&&(f=d=g.onload=g.onerror=g.onabort=g.onreadystatechange=null,"abort"===b?g.abort():"error"===b?"number"!=typeof g.status?k(0,"error"):k(g.status,g.statusText):k(ea[g.status]||g.status,g.statusText,"text"!==(g.responseType||"text")||"string"!=typeof g.responseText?{binary:g.response}:{text:g.responseText},
g.getAllResponseHeaders()))}};g.onload=f();d=g.onerror=f("error");void 0!==g.onabort?g.onabort=d:g.onreadystatechange=function(){4===g.readyState&&a.setTimeout(function(){f&&d()})};f=f("abort");try{g.send(b.hasContent&&b.data||null)}catch(Wb){if(f)throw Wb;}},abort:function(){f&&f()}}});e.ajaxPrefilter(function(b){b.crossDomain&&(b.contents.script=!1)});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},
converters:{"text script":function(b){return e.globalEval(b),b}}});e.ajaxPrefilter("script",function(b){void 0===b.cache&&(b.cache=!1);b.crossDomain&&(b.type="GET")});e.ajaxTransport("script",function(b){if(b.crossDomain){var a,d;return{send:function(f,k){a=e("<script>").prop({charset:b.scriptCharset,src:b.url}).on("load error",d=function(b){a.remove();d=null;b&&k("error"===b.type?404:200,b.type)});L.head.appendChild(a[0])},abort:function(){d&&d()}}}});var Tb=[],Nb=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",
jsonpCallback:function(){var b=Tb.pop()||e.expando+"_"+Ta++;return this[b]=!0,b}});e.ajaxPrefilter("json jsonp",function(b,f,d){var k,c,g,h=!1!==b.jsonp&&(Nb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return k=b.jsonpCallback=e.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Nb,"$1"+k):!1!==b.jsonp&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+
"="+k),b.converters["script json"]=function(){return g||e.error(k+" was not called"),g[0]},b.dataTypes[0]="json",c=a[k],a[k]=function(){g=arguments},d.always(function(){void 0===c?e(a).removeProp(k):a[k]=c;b[k]&&(b.jsonpCallback=f.jsonpCallback,Tb.push(k));g&&e.isFunction(c)&&c(g[0]);g=c=void 0}),"script"});N.createHTMLDocument=function(){var b=L.implementation.createHTMLDocument("").body;return b.innerHTML="<form></form><form></form>",2===b.childNodes.length}();e.parseHTML=function(b,a,d){if("string"!=
typeof b)return[];"boolean"==typeof a&&(d=a,a=!1);var f,k,c;return a||(N.createHTMLDocument?(a=L.implementation.createHTMLDocument(""),f=a.createElement("base"),f.href=L.location.href,a.head.appendChild(f)):a=L),k=Sb.exec(b),c=!d&&[],k?[a.createElement(k[1])]:(k=Xa([b],a,c),c&&c.length&&e(c).remove(),e.merge([],k.childNodes))};e.fn.load=function(b,a,d){var f,k,c,g=this,h=b.indexOf(" ");return-1<h&&(f=Ma(b.slice(h)),b=b.slice(0,h)),e.isFunction(a)?(d=a,a=void 0):a&&"object"==typeof a&&(k="POST"),0<
g.length&&e.ajax({url:b,type:k||"GET",dataType:"html",data:a}).done(function(b){c=arguments;g.html(f?e("<div>").append(e.parseHTML(b)).find(f):b)}).always(d&&function(b,a){g.each(function(){d.apply(this,c||[b.responseText,a,b])})}),this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,a){e.fn[a]=function(b){return this.on(a,b)}});e.expr.pseudos.animated=function(b){return e.grep(e.timers,function(a){return b===a.elem}).length};e.offset={setOffset:function(b,
a,d){var f,k,c,g=e.css(b,"position"),h=e(b),n={};"static"===g&&(b.style.position="relative");var m=h.offset();var t=e.css(b,"top");var r=e.css(b,"left");("absolute"===g||"fixed"===g)&&-1<(t+r).indexOf("auto")?(f=h.position(),c=f.top,k=f.left):(c=parseFloat(t)||0,k=parseFloat(r)||0);e.isFunction(a)&&(a=a.call(b,d,e.extend({},m)));null!=a.top&&(n.top=a.top-m.top+c);null!=a.left&&(n.left=a.left-m.left+k);"using"in a?a.using.call(b,n):h.css(n)}};e.fn.extend({offset:function(b){if(arguments.length)return void 0===
b?this:this.each(function(a){e.offset.setOffset(this,b,a)});var a,d,k,c,g=this[0];if(g)return g.getClientRects().length?(k=g.getBoundingClientRect(),a=g.ownerDocument,d=a.documentElement,c=a.defaultView,{top:k.top+c.pageYOffset-d.clientTop,left:k.left+c.pageXOffset-d.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var b,a,d=this[0],k={top:0,left:0};return"fixed"===e.css(d,"position")?a=d.getBoundingClientRect():(b=this.offsetParent(),a=this.offset(),h(b[0],"html")||(k=b.offset()),k={top:k.top+
e.css(b[0],"borderTopWidth",!0),left:k.left+e.css(b[0],"borderLeftWidth",!0)}),{top:a.top-k.top-e.css(d,"marginTop",!0),left:a.left-k.left-e.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent;b&&"static"===e.css(b,"position");)b=b.offsetParent;return b||P})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,a){var f="pageYOffset"===a;e.fn[b]=function(d){return Ca(this,function(b,d,k){var c;return e.isWindow(b)?c=b:9===b.nodeType&&
(c=b.defaultView),void 0===k?c?c[a]:b[d]:void(c?c.scrollTo(f?c.pageXOffset:k,f?k:c.pageYOffset):b[d]=k)},b,d,arguments.length)}});e.each(["top","left"],function(b,a){e.cssHooks[a]=vb(N.pixelPosition,function(b,f){if(f)return f=hb(b,a),Ya.test(f)?e(b).position()[a]+"px":f})});e.each({Height:"height",Width:"width"},function(b,a){e.each({padding:"inner"+b,content:a,"":"outer"+b},function(f,d){e.fn[d]=function(k,c){var g=arguments.length&&(f||"boolean"!=typeof k),h=f||(!0===k||!0===c?"margin":"border");
return Ca(this,function(a,f,k){var c;return e.isWindow(a)?0===d.indexOf("outer")?a["inner"+b]:a.document.documentElement["client"+b]:9===a.nodeType?(c=a.documentElement,Math.max(a.body["scroll"+b],c["scroll"+b],a.body["offset"+b],c["offset"+b],c["client"+b])):void 0===k?e.css(a,f,h):e.style(a,f,k,h)},a,g?k:void 0,g)}})});e.fn.extend({bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,e){return this.on(a,b,d,e)},undelegate:function(b,
a,d){return 1===arguments.length?this.off(b,"**"):this.off(a,b||"**",d)}});e.holdReady=function(b){b?e.readyWait++:e.ready(!0)};e.isArray=Array.isArray;e.parseJSON=JSON.parse;e.nodeName=h;"function"==typeof define&&define.amd&&define("jquery",[],function(){return e});var gc=a.jQuery,hc=a.$;return e.noConflict=function(b){return a.$===e&&(a.$=hc),b&&a.jQuery===e&&(a.jQuery=gc),e},c||(a.jQuery=a.$=e),e});(function(a){function c(c){var g=c||window.event,h=[].slice.call(arguments,1),l=0,q=0;c=a.event.fix(g);c.type="mousewheel";g.wheelDelta&&(l=g.wheelDelta/120);g.detail&&(l=-g.detail/3);var Q=l;void 0!==g.axis&&g.axis===g.HORIZONTAL_AXIS&&(Q=0,q=-1*l);void 0!==g.wheelDeltaY&&(Q=g.wheelDeltaY/120);void 0!==g.wheelDeltaX&&(q=-1*g.wheelDeltaX/120);h.unshift(c,l,q,Q);return(a.event.dispatch||a.event.handle).apply(this,h)}var l=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var g=l.length;g;)a.event.fixHooks[l[--g]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=l.length;a;)this.addEventListener(l[--a],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var a=l.length;a;)this.removeEventListener(l[--a],c,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);/*

       __ _____                     ________                              __
      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
           \/              /____/                              version 1.6.1

 This file is part of jQuery Terminal. http://terminal.jcubic.pl

 Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 Released under the MIT license

 Contains:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/timers/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 jQuery Caret
 Copyright (c) 2009, Gideon Sireling
 3 clause BSD License

 sprintf.js
 Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 licensed under 3 clause BSD license

 Date: Tue, 15 Aug 2017 12:10:19 +0000
*/
(function(a){function c(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var l=function(){l.cache.hasOwnProperty(arguments[0])||(l.cache[arguments[0]]=l.parse(arguments[0]));return l.format.call(null,l.cache[arguments[0]],arguments)};l.format=function(a,h){var g=1,B=a.length,C=[],q,Q;for(q=0;q<B;q++){var z=c(a[q]);if("string"===z)C.push(a[q]);else if("array"===z){var W=a[q];if(W[2])for(z=h[g],Q=0;Q<W[2].length;Q++){if(!z.hasOwnProperty(W[2][Q]))throw l('[sprintf] property "%s" does not exist',
W[2][Q]);z=z[W[2][Q]]}else z=W[1]?h[W[1]]:h[g++];if(/[^s]/.test(W[8])&&"number"!==c(z))throw l("[sprintf] expecting number but found %s",c(z));switch(W[8]){case "b":z=z.toString(2);break;case "c":z=String.fromCharCode(z);break;case "d":z=parseInt(z,10);break;case "e":z=W[7]?z.toExponential(W[7]):z.toExponential();break;case "f":z=W[7]?parseFloat(z).toFixed(W[7]):parseFloat(z);break;case "o":z=z.toString(8);break;case "s":z=(z=String(z))&&W[7]?z.substring(0,W[7]):z;break;case "u":z>>>=0;break;case "x":z=
z.toString(16);break;case "X":z=z.toString(16).toUpperCase()}z=/[def]/.test(W[8])&&W[3]&&0<=z?" +"+z:z;Q=W[4]?"0"===W[4]?"0":W[4].charAt(1):" ";var La=W[6]-String(z).length;if(W[6]){for(var ia=[];0<La;ia[--La]=Q);Q=ia.join("")}else Q="";C.push(W[5]?z+Q:Q+z)}}return C.join("")};l.cache={};l.parse=function(a){for(var c,g=[],l=0;a;){if(null!==(c=/^[^\x25]+/.exec(a)))g.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(a)))g.push("%");else if(null!==(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(c[2]){l|=
1;var C=[],q=c[2],Q;if(null!==(Q=/^([a-z_][a-z_\d]*)/i.exec(q)))for(C.push(Q[1]);""!==(q=q.substring(Q[0].length));)if(null!==(Q=/^\.([a-z_][a-z_\d]*)/i.exec(q)))C.push(Q[1]);else if(null!==(Q=/^\[(\d+)\]/.exec(q)))C.push(Q[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";c[2]=C}else l|=2;if(3===l)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";g.push(c)}else throw"[sprintf] huh?";a=a.substring(c[0].length)}return g};a.sprintf=l;a.vsprintf=function(a,c,u){u=
c.slice(0);u.splice(0,0,a);return l.apply(null,u)}})("undefined"!==typeof global?global:window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=function(c,l){void 0===l&&(l="undefined"!==typeof window?require("jquery"):require("jquery")(c));a(l);return l}:a(jQuery)})(function(a,c){function l(){var c=a.Callbacks(),g=!1;this.resolve=function(){c.fire();g=!0};this.add=function(a){g?a():c.add(a)}}function g(a,c){var g;if("string"===typeof a&&"string"===typeof c)return localStorage[a]=c,!0;if("object"===typeof a&&"undefined"===
typeof c){for(g in a)a.hasOwnProperty(g)&&(localStorage[g]=a[g]);return!0}return!1}function h(a,c){var g;var h=new Date;h.setTime(h.getTime()+31536E6);h="; expires="+h.toGMTString();if("string"===typeof a&&"string"===typeof c)return document.cookie=a+"="+c+h+"; path=/",!0;if("object"===typeof a&&"undefined"===typeof c){for(g in a)a.hasOwnProperty(g)&&(document.cookie=g+"="+a[g]+h+"; path=/");return!0}return!1}function u(a){return localStorage[a]}function B(a){var c,g;a+="=";var h=document.cookie.split(";");
for(c=0;c<h.length;c++){for(g=h[c];" "===g.charAt(0);)g=g.substring(1,g.length);if(0===g.indexOf(a))return g.substring(a.length,g.length)}return null}function C(a){return delete localStorage[a]}function q(a){return h(a,"",-1)}function Q(a){a.attr({role:"presentation","aria-hidden":"true"})}function z(c){var g=c instanceof Array?c:c?[c]:[];a.extend(this,{data:function(){return g},map:function(c){return a.map(g,c)},size:function(){return g.length},pop:function(){if(0===g.length)return null;var a=g[g.length-
1];g=g.slice(0,g.length-1);return a},push:function(a){g=g.concat([a]);return a},top:function(){return 0<g.length?g[g.length-1]:null},clone:function(){return new z(g.slice(0))}})}function W(c,g,h){var n=!0,l="";"string"===typeof c&&""!==c&&(l=c+"_");l+="commands";var x=h?[]:(x=a.Storage.get(l))?JSON.parse(x):[];var q=x.length-1;a.extend(this,{append:function(c){n&&x[x.length-1]!==c&&(x.push(c),g&&x.length>g&&(x=x.slice(-g)),q=x.length-1,h||a.Storage.set(l,JSON.stringify(x)))},set:function(c){c instanceof
Array&&(x=c,h||a.Storage.set(l,JSON.stringify(x)))},data:function(){return x},reset:function(){q=x.length-1},last:function(){return x[x.length-1]},end:function(){return q===x.length-1},position:function(){return q},current:function(){return x[q]},next:function(){q<x.length-1&&++q;if(-1!==q)return x[q]},previous:function(){var a=q;0<q&&--q;if(-1!==a)return x[q]},clear:function(){x=[];this.purge()},enabled:function(){return n},enable:function(){n=!0},purge:function(){h||a.Storage.remove(l)},disable:function(){n=
!1}})}function La(c,g){var h=c.match(ib)||[];if(h.length){var n=h.shift(),l=a.map(h,g);var x=a.map(h,function(a){return(a=a.match(/^(['"]).*\1$/))&&a[1]||""});h=c.substring(n.length).trim();return{command:c,name:n,args:l,args_quotes:x,rest:h}}return{command:c,name:"",args:[],args_quotes:x,rest:""}}function ia(a){a="[jQuery Terminal] "+a;console&&console.warn?console.warn(a):setTimeout(function(){throw Error("WARN: "+a);},0)}function fb(){var c=a('<div class="terminal temp"><div class="cmd"><span class="prompt">&nbsp;</span></div></div>').appendTo("body"),
g=c.find("span")[0].getBoundingClientRect();g={width:g.width,height:g.height};c.remove();return g}function Pa(a,c){var g=a.find(".terminal-fill").width();return Math.floor(g/c.width)||1E3}function ca(a,c){return Math.floor(a.find(".terminal-fill").height()/c.height)}function Sa(c,g){var h=a("<div>"+g.replace(/\n/,"<br/>")+"<div>");c.append(h);if(document.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(h[0]);n.select()}else if(window.getSelection){var l=window.getSelection();
l.setBaseAndExtent?l.setBaseAndExtent(h[0],0,h[0],1):document.createRange&&(n=document.createRange(),n.selectNodeContents(h[0]),l.removeAllRanges(),l.addRange(n))}try{document.execCommand("copy")}catch(F){}h.remove()}a.omap=function(c,g){var h={};a.each(c,function(a,n){h[a]=g.call(c,a,n)});return h};var Xa={clone_object:function(c){var g={};if("object"===typeof c){if(a.isArray(c))return this.clone_array(c);if(null===c)return c;for(var h in c)a.isArray(c[h])?g[h]=this.clone_array(c[h]):g[h]="object"===
typeof c[h]?this.clone_object(c[h]):c[h]}return g},clone_array:function(c){if(!a.isFunction(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return c.slice(0).map(function(a){return"object"===typeof a?this.clone_object(a):a}.bind(this))}},ja=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(x){return!1}}();a.extend({Storage:{set:ja?g:h,get:ja?u:B,remove:ja?C:q}});a.fn.extend({everyTime:function(c,g,h,l,q){return this.each(function(){a.timer.add(this,
c,g,h,l,q)})},oneTime:function(c,g,h){return this.each(function(){a.timer.add(this,c,g,h,1)})},stopTime:function(c,g){return this.each(function(){a.timer.remove(this,c,g)})}});a.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1E3,das:1E4,hs:1E5,ks:1E6},timeParse:function(g){if(g===c||null===g)return null;var h=this.regex.exec(a.trim(g.toString()));return h[2]?parseInt(h[1],10)*(this.powers[h[2]]||1):g},add:function(c,g,h,l,q,u){var n=0;a.isFunction(h)&&(q||
(q=l),l=h,h=g);g=a.timer.timeParse(g);if(!("number"!==typeof g||isNaN(g)||0>=g)){q&&q.constructor!==Number&&(u=!!q,q=0);q=q||0;u=u||!1;c.$timers||(c.$timers={});c.$timers[h]||(c.$timers[h]={});l.$timerID=l.$timerID||this.guid++;var x=function(){u&&x.inProgress||(x.inProgress=!0,(++n>q&&0!==q||!1===l.call(c,n))&&a.timer.remove(c,h,l),x.inProgress=!1)};x.$timerID=l.$timerID;c.$timers[h][l.$timerID]||(c.$timers[h][l.$timerID]=window.setInterval(x,g));this.global[h]||(this.global[h]=[]);this.global[h].push(c)}},
remove:function(a,c,g){var h=a.$timers;if(h){if(!c)for(var n in h)h.hasOwnProperty(n)&&this.remove(a,n,g);else if(h[c]){if(g)g.$timerID&&(window.clearInterval(h[c][g.$timerID]),delete h[c][g.$timerID]);else for(var l in h[c])h[c].hasOwnProperty(l)&&(window.clearInterval(h[c][l]),delete h[c][l]);for(q in h[c])if(h[c].hasOwnProperty(q))break;if(!q){var q=null;delete h[c]}}for(q in h)if(h.hasOwnProperty(q))break;q||(a.$timers=null)}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))a(window).one("unload",
function(){var c=a.timer.global,g;for(g in c)if(c.hasOwnProperty(g))for(var h=c[g],l=h.length;--l;)a.timer.remove(h[l],g)});(function(a){if(String.prototype.split.toString().match(/\[native/)){var c=String.prototype.split,g=/()??/.exec("")[1]===a;var h=function(h,n,l){if("[object RegExp]"!==Object.prototype.toString.call(n))return c.call(h,n,l);var q=[],x=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),u=0,e,F;n=new RegExp(n.source,x+"g");h+="";g||(e=new RegExp("^"+
n.source+"$(?!\\s)",x));for(l=l===a?4294967295:l>>>0;F=n.exec(h);){x=F.index+F[0].length;if(x>u){q.push(h.slice(u,F.index));!g&&1<F.length&&F[0].replace(e,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===a&&(F[e]=a)});1<F.length&&F.index<h.length&&Array.prototype.push.apply(q,F.slice(1));var pa=F[0].length;u=x;if(q.length>=l)break}n.lastIndex===F.index&&n.lastIndex++}u===h.length?(pa||!n.test(""))&&q.push(""):q.push(h.slice(u));return q.length>l?q.slice(0,l):q};String.prototype.split=
function(a,c){return h(this,a,c)};return h}})();a.fn.caret=function(a){var c=this[0];var g="true"===c.contentEditable;if(0===arguments.length){if(window.getSelection){if(g){c.focus();var h=window.getSelection().getRangeAt(0);g=h.cloneRange();g.selectNodeContents(c);g.setEnd(h.endContainer,h.endOffset);return g.toString().length}return c.selectionStart}if(document.selection){c.focus();if(g)return h=document.selection.createRange(),g=document.body.createTextRange(),g.moveToElementText(c),g.setEndPoint("EndToEnd",
h),g.text.length;a=0;h=c.createTextRange();g=document.selection.createRange().duplicate();c=g.getBookmark();for(h.moveToBookmark(c);0!==h.moveStart("character",-1);)a++;return a}return 0}-1===a&&(a=this[g?"text":"val"]().length);window.getSelection?g?(c.focus(),window.getSelection().collapse(c.firstChild,a)):c.setSelectionRange(a,a):document.body.createTextRange&&(h=document.body.createTextRange(),h.moveToElementText(c),h.moveStart("character",a),h.collapse(!0),h.select());g||c.focus();return a};
var qa=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};a.fn.resizer=function(c){var g="unbind"===c;if(!g&&!a.isFunction(c))throw Error('Invalid argument, it need to a function of string "unbind".');return this.each(function(){var h=a(this);if(g)a(this).removeData("callbacks").find(".resizer").remove();else if(h.data("callbacks"))a(this).data("callbacks").push(c);else{h.data("callbacks",[c]);var l=this,n=
a("<div/>").addClass("resizer").appendTo(this)[0];n.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";n.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
var q=n.childNodes[0],u=q.childNodes[0],x=n.childNodes[1],z,B,e,C,Q=l.offsetWidth,J=l.offsetHeight,ja=function(){u.style.width="100000px";u.style.height="100000px";q.scrollLeft=1E5;q.scrollTop=1E5;x.scrollLeft=1E5;x.scrollTop=1E5};ja();var L=function(){B=0;if(z){Q=e;J=C;var a=h.data("callbacks");a&&a.length&&a.forEach(function(a){a()})}};n=function(){e=l.offsetWidth;C=l.offsetHeight;(z=e!==Q||C!==J)&&!B&&(B=qa(L));ja()};a(q).on("scroll",n);a(x).on("scroll",n)}})};var tb=0;a.fn.cmd=function(g){function h(){var d=
a("<span>&nbsp;</span>").appendTo(w),c=d[0].getBoundingClientRect();d.remove();return c}function l(){var a;if((a=window.getSelection())&&null!==a.focusNode)return a.focusOffset}function n(d){var c=l(),e=h().height,g=w.offset();e=Math.floor((d.pageY-g.top)/e);if(a.isNumeric(c)){if(d=a(d.target).closest('[role="presentation"]'),!d.is("div")&&!d.next().is(".cursor")){if(d.is(".cursor"))return A;if(d.prev().is(".cursor"))return A+c;c=0}}else return y.length;d=na(y);c=0<e&&1<d.length?c+d.slice(0,e).reduce(function(a,
d){return a+d.length},0):c;c=y.replace(/\t/g,"\x00\x00\x00\x00").replace(/\n/,"").slice(0,c).replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length;e=y.length;return c>e?e:c}function q(){return!0}function u(){Ka.val("");cb=0;Ka.focus();Ka.on("input",function U(a){sa(a);Ka.off("input",U)});return!0}function z(){Ya?(Na=y,w.set(P.current())):w.set(P.previous());return Ya=!1}function oa(){w.set(P.end()?Na:P.next());return!1}function B(){0<A&&(w.position(-1,!0),da())}function N(){A<y.length&&w.position(1,
!0);return!1}function e(){w.position(0)}function C(){w.position(y.length)}function ja(){var a=Ka.is(":focus");Ia?a||(Ka.trigger("focus",[!0]),w.oneTime(10,function(){Ka.trigger("focus",[!0])})):a&&zb&&Ka.blur()}function J(){w.oneTime(10,function(){if(Ia)w.oneTime(10,function(){})})}function L(){wa.toggleClass("inverted")}function qa(){S="(reverse-i-search)`"+Da+"': ";ha()}function ca(d){var c=P.data(),e=c.length;d&&0<Wa&&(e-=Wa);if(0<Da.length)for(var g=Da.length;0<g;g--){var h=a.terminal.escape_regex(Da.substring(0,
g));d=new RegExp(h);for(var l=e;l--;)if(d.test(c[l])){Wa=c.length-l;w.position(c[l].indexOf(h));w.set(c[l],!0);da();Da.length!==g&&(Da=Da.substring(0,g),qa());return}}Da=""}function na(d){var c=fb.text(),e=new RegExp("^"+a.terminal.escape_regex(c));if(d.match(/\n/)){d=d.split("\n");for(var g=D-ua-1,h=0;h<d.length-1;++h)d[h]+=" ";gb(d[0])>g?(c=a.terminal.split_equal(c+d[0],D),c[0]=c[0].replace(e,"")):c=[d[0]];for(h=1;h<d.length;++h)d[h].length>D?c=c.concat(a.terminal.split_equal(d[h],D)):c.push(d[h])}else c=
a.terminal.split_equal(c+d,D),c[0]=c[0].replace(e,"");return c}function La(d){d=a.terminal.escape_formatting(d);try{return a.terminal.apply_formatters(d)}catch(U){alert(U.message+"\n"+(U.stack?U.stack:U))}}function ia(d){return a.terminal.format(a.terminal.encode(d))}function sa(){if(!(0<cb++)&&w.isenabled()){var a=w.find("textarea");a.is(":focus")||a.focus();w.oneTime(100,function(){w.insert(a.val());a.val("");J()})}}function ma(){if(a.isFunction(g.onCommandChange))g.onCommandChange(y)}function ra(d){Fa=
"process"===(d.key||"").toLowerCase();Va=p&&eb;try{d.fake||(eb=d.key&&1===d.key.length&&!d.ctrlKey,ba="unidentified"===String(d.key).toLowerCase(),Aa="BACKSPACE"===d.key.toUpperCase()||8===d.which)}catch(xa){}if("Unidentified"===d.key)ka=!0;else{d.fake||(p=!0,ka=!1);if(d.key){var e=d.key.toUpperCase();if("CONTROL"===e)var h="CTRL";else h=[],d.ctrlKey&&h.push("CTRL"),d.metaKey&&"META"!==e&&h.push("META"),d.shiftKey&&"SHIFT"!==e&&h.push("SHIFT"),d.altKey&&"ALT"!==e&&h.push("ALT"),d.key&&("DEL"===e?
h.push("DELETE"):h.push(e)),h=h.join("+")}else h=void 0;if(a.isFunction(g.keydown)&&(e=g.keydown(d),e!==c))return e||(Qa=!0),e;if(Ia){Qa=-1!==["CTRL+V","META+V"].indexOf(h);38===d.which||80===d.which&&d.ctrlKey||(Ya=!0);if(!O||35!==d.which&&36!==d.which&&37!==d.which&&38!==d.which&&39!==d.which&&40!==d.which&&13!==d.which&&27!==d.which)if(a.isFunction(db[h])){e=db[h]();if(!0===e)return;if(e!==c)return e}else{d.altKey||(bb=!1);return}else S=fa,O=!1,Wa=null,Da="",ha(),27===d.which&&w.set(""),da(),ra.call(this,
d);d.preventDefault()}}}function Ba(d){d.fake||(p=!1);if(!d.ctrlKey&&!d.metaKey&&!bb){if(a.isFunction(g.keypress)){var e=g.keypress(d);if(e!==c)return e||(Qa=!0),e}if(Ia&&!d.fake){e="KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype?Object.getOwnPropertyDescriptor(window.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/):!1;if(e||d.fake)var h=d.key;if(!h||ba)h=String.fromCharCode(d.which);"SPACEBAR"===h.toUpperCase()&&(h=" ");if(-1<a.inArray(d.which,[13,0,8]))return 123===
d.keyCode?void 0:!1;if(h&&(!d.ctrlKey||d.ctrlKey&&d.ctrlKey)&&(!d.altKey||100!==d.which||d.altKey)&&!Va&&(O?(Da+=h,ca(),qa()):w.insert(h)," "===h))return!1}}}function Ja(d,c,e){d=a.Event(d);d.which=e;d.key=c;d.fake=!0;E.trigger(d)}function Ha(){if(ka||Fa||(p||Va)&&!Qa&&(eb||ba)&&!Aa){var a=A,d=Ka.val();ka&&(Aa=M.substring(0,M.length-1)===M.length);if(O)Da=d,ca(),qa();else{var c=d.substring(A);if(1===c.length||Aa){if(ka){var e=Aa?8:c.toUpperCase().charCodeAt(0);Ja("keydown",Aa?"Backspace":c,e)}p&&
!Aa&&Ja("keypress",c,c.charCodeAt(0))}if(Aa){M=y;return}if(Qa){Qa=!1;return}w.set(d)}Aa?w.position(a-1):w.position(a+Math.abs(d.length-M.length))}M=y;Qa=!1;ka=!0}var w=this,Pa=w.data("cmd");if(Pa)return Pa;var Ca=tb++;w.addClass("cmd");w.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');Q(w.find("span").not(":eq(0)"));var Ka=a("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(w);g.width&&w.width(g.width);
var D,ua,fb=w.find(".prompt"),O=!1,Da="",Wa=null,fa,Ra=g.mask||!1,y="",Na,d="",A=0,Ia,X=g.historySize||60,Ma,P,wa=w.find(".cursor"),cb=0,db,Xa={"ALT+D":function(){w.set(y.slice(0,A)+y.slice(A).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0);return!1},ENTER:function(){(P&&y&&!Ra&&a.isFunction(g.historyFilter)&&g.historyFilter(y)||g.historyFilter instanceof RegExp&&y.match(g.historyFilter)||!g.historyFilter)&&P.append(y);var d=y;P.reset();M="";ka=!0;w.set("");g.commands&&g.commands(d);a.isFunction(S)&&ha();
a(".clipboard").val("");return!1},"SHIFT+ENTER":function(){w.insert("\n");return!0},BACKSPACE:function(){if(O)Da=Da.slice(0,-1),qa();else if(""!==y&&0<A)w["delete"](-1);ka=!0;return!1},TAB:function(){w.insert("\t")},"CTRL+D":function(){w["delete"](1);return!1},DELETE:function(){w["delete"](1);return!0},ARROWUP:z,UP:z,"CTRL+P":z,ARROWDOWN:oa,DOWN:oa,"CTRL+N":oa,ARROWLEFT:B,LEFT:B,"CTRL+B":B,"CTRL+ARROWLEFT":function(){var a=A-1,d=0;for(" "===y[a]&&--a;0<a;--a)if(" "===y[a]&&" "!==y[a+1]){d=a+1;break}else if("\n"===
y[a]&&"\n"!==y[a+1]){d=a;break}w.position(d)},"CTRL+R":function(){O?ca(!0):(fa=S,qa(),Na=y,w.set(""),da(),O=!0);return!1},"CTRL+G":function(){if(O)return S=fa,ha(),w.set(Na),da(),O=!1,Da="",!1},ARROWRIGHT:N,"CTRL+F":N,RIGHT:N,"CTRL+ARROWRIGHT":function(){" "===y[A]&&++A;var a=y.slice(A).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!a||a[0].match(/^\s+$/)?w.position(y.length):" "!==a[0][0]?A+=a.index+1:(A+=a.index+a[0].length-1," "!==a[0][a[0].length-1]&&--A);da()},F12:q,END:C,"CTRL+E":C,HOME:e,"CTRL+A":e,"SHIFT+INSERT":u,
"CTRL+SHIFT+T":q,"CTRL+W":function(){if(""!==y&&0!==A){var a=y.slice(0,A).match(/([^ ]+ *$)/);a[0].length&&(d=w["delete"](-a[0].length),Sa(w,d))}return!1},"CTRL+H":function(){if(""!==y&&0<A)w["delete"](-1);return!1},"CTRL+X":q,"CTRL+C":q,"CTRL+T":q,"CTRL+Y":function(){""!==d&&w.insert(d)},"CTRL+V":u,"META+V":u,"CTRL+K":function(){y.length-A&&(d=w["delete"](y.length-A),Sa(w,d));return!1},"CTRL+U":function(){""!==y&&0!==A&&(d=w["delete"](-A),Sa(w,d));return!1},"CTRL+TAB":function(){return!1},"META+`":q,
"META+R":q,"META+L":q};if(mb&&!Bb)var Ea=function(a){a?wa.addClass("blink"):wa.removeClass("blink")};else{var za=!1;Ea=function(a){a&&!za?(za=!0,wa.addClass("inverted blink"),w.everyTime(500,"blink",L)):za&&!a&&(za=!1,w.stopTime("blink",L),wa.removeClass("inverted blink"))}}var da=function(){function d(d,e){var c=d.length;d=La(d);e===c?(l.html(ia(d)),wa.html("&nbsp;"),n.html("")):0===e?(l.html(""),wa.html(ia(a.terminal.substring(d,0,1))),n.html(ia(a.terminal.substring(d,1,void 0)))):(c=a.terminal.substring(d,
0,e),l.html(ia(c)),c=a.terminal.substring(d,e,e+1),wa.html(ia(c)),e===d.length-1?n.html(""):n.html(ia(a.terminal.substring(d,e+1,void 0))))}function e(a){return'<div role="presentation">'+ia(La(a))+"</div>"}function g(d){var c=n;a.each(d,function(d,k){c=a(e(k)).insertAfter(c)})}function h(d){a.each(d,function(a,d){l.before(e(d))})}var l=wa.prev(),n=wa.next();return function(){switch(typeof Ra){case "boolean":var p=Ra?y.replace(/./g,"*"):y;break;case "string":p=y.replace(/./g,Ra)}var q;w.find("div").remove();
l.html("");if(gb(p)>D-ua-1||p.match(/\n/)){var r=(q=p.match(/\t/g))?3*q.length:0;q&&(p=p.replace(/\t/g,"\x00\x00\x00\x00"));var k=na(p);q&&(k=a.map(k,function(a){return a.replace(/\x00\x00\x00\x00/g,"\t")}));q=k[0].length;if(0!==q||1!==k.length)if(A<q)d(k[0],A),g(k.slice(1));else if(A===q)l.before(e(k[0])),d(k[1]||"",0),1<k.length&&g(k.slice(2));else{var t=k.length;if(A<q)d(k[0],A),g(k.slice(1));else if(A===q)l.before(e(k[0])),d(k[1],0),g(k.slice(2));else{var V=k.slice(-1)[0];r=p.length-A-r;var K=
V.length;p=0;if(r<=K)h(k.slice(0,-1)),d(V,K===r?0:K-r);else if(3===t)p=ia(k[0]),l.before('<div role="presentation">'+p+"</div>"),d(k[1],A-q-1),p=ia(La(k[2])),n.after('<div role="presentation">'+p+"</div>");else{p=A;for(q=0;q<k.length;++q)if(t=k[q].length,p>t)p-=t;else break;t=k[q];if(p===t.length&&(p=0,t=k[++q],t===c))throw Error(a.terminal.defaults.strings.redrawError);d(t,p);h(k.slice(0,q));g(k.slice(q+1))}}}}else""===p?(l.html(""),wa.html("&nbsp;"),n.html("")):d(p,A)}}(),ha=function(){function d(d){var c=
a.terminal.split_equal(a.terminal.encode(d),D);d=c.slice(-1).map(a.terminal.format)[0];c=c.slice(0,-1).map(function(d){d=a.terminal.format(d);return d.match(/class="/)?d.replace(/class="/,'class="line '):d.replace(/^<span/,'<span class="line"')}).concat([d]).join("\n");fb.html(c);ua=gb(a("<span>"+d+"</span>").text())}return function(){switch(typeof S){case "string":d(S);break;case "function":S(d)}}}();a.extend(w,{name:function(a){if(a!==c){Ma=a;var d=P&&P.enabled()||!P;P=new W(a,X,"memory"===g.history);
d||P.disable();return w}return Ma},purge:function(){P.clear();return w},history:function(){return P},"delete":function(a,d){if(0===a)return w;if(0>a){if(0<A){var c=y.slice(0,A).slice(a);y=y.slice(0,A+a)+y.slice(A,y.length);d||w.position(A+a);ma()}}else""!==y&&A<y.length&&(c=y.slice(A).slice(0,a),y=y.slice(0,A)+y.slice(A+a,y.length),ma());da();J();return c},set:function(a,d){a!==c&&(y=a,d||w.position(y.length),da(),J(),ma());return w},keymap:function(d){if("undefined"===typeof d)return db;db=a.extend({},
Xa,a.omap(d||{},function(a,d){return function(c){return d(c,Xa[a])}}));return w},insert:function(a,d){y=A===y.length?y+a:0===A?a+y:y.slice(0,A)+a+y.slice(A);d?J():w.position(a.length,!0);da();ma();return w},get:function(){return y},commands:function(a){return a?(g.commands=a,w):a},destroy:function(){E.unbind("keypress.cmd",Ba);E.unbind("keydown.cmd",ra);E.unbind("input.cmd",Ha);w.stopTime("blink",L);w.find(".cursor").next().remove().end().prev().remove().end().remove();w.find(".prompt, .clipboard").remove();
w.removeClass("cmd").removeData("cmd").off(".cmd");return w},prompt:function(a){if(a===c)return S;if("string"===typeof a||"function"===typeof a)S=a;else throw Error("prompt must be a function or string");ha();da();return w},kill_text:function(){return d},position:function(d,c){if("number"===typeof d){A=c?A+d:0>d?0:d>y.length?y.length:d;if(a.isFunction(g.onPositionChange))g.onPositionChange(A);da();J();return w}return A},visible:function(){var a=w.visible;return function(){a.apply(w,[]);da();ha()}}(),
show:function(){var a=w.show;return function(){a.apply(w,[]);da();ha()}}(),resize:function(a){if(a)D=a;else{var d=w.find(".prompt").text("&nbsp;");a=w.width();d=d[0].getBoundingClientRect().width;D=Math.floor(a/d);ha()}da();ha();return w},enable:function(){if(!Ia){Ia=!0;w.addClass("enabled");try{Ka.caret(A)}catch(r){}Ea(!0);ha();ja()}return w},isenabled:function(){return Ia},disable:function(a){Ia=!1;w.removeClass("enabled");Ea(!1);a||ja();return w},mask:function(a){if("undefined"===typeof a)return Ra;
Ra=a;da();return w}});w.name(g.name||g.prompt||"");var S="string"===typeof g.prompt?g.prompt:"> ";ha();g.enabled!==c&&!0!==g.enabled||w.enable();g.history||P.disable();var Ya=!0,bb=!1,Va=!1,eb=!1,p=!1,ba=!1,ka=!0,Aa=!1,Fa=!1,Qa,M="",E=a(document.documentElement||window);w.keymap(g.keymap);E.bind("keypress.cmd",Ba).bind("keydown.cmd",ra).bind("input.cmd",Ha);(function(){var d=!1,c=!1,e=0;w.on("mousedown.cmd",function(){c=!0;w.oneTime(1,function(){a(window).on("mousemove.cmd_"+Ca,function(){d=!0;a(window).off("mousemove.cmd_"+
Ca)})})}).on("mouseup.cmd",function(h){var l=d;d=!1;a(window).off("mousemove.cmd_"+Ca);if(!l)if(l="click_"+Ca,1===++e){var p=c;if(Ia)w.oneTime(g.clickTimeout,l,function(){!a(h.target).is(".prompt")&&p&&(a(h.target).is(".cmd")?w.position(y.length):w.position(n(h)));e=0});else e=0}else w.stopTime(l),e=0;c=!1})})();w.data("cmd",w);"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill");
},0);return w};var mb=function(){var a=!1,g=["Webkit","Moz","O","ms","Khtml"],h=document.createElement("div");h.style.animationName&&(a=!0);if(!1===a)for(var l=0;l<g.length;l++)if(h.style[g[l]+"AnimationName"]!==c){a=!0;break}return a}(),Bb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),gb=function(){return"undefined"===typeof wcwidth?function(a){return a.length}:wcwidth}(),zb="ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch,ub=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,
Ea=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,nb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,hb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,vb=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,Hb=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,Cb=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,
ib=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,wb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,ra=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,jb=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,Ib=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,ob=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,Jb=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./;a.terminal={version:"1.6.1",color_names:"transparent currentcolor black silver gray white maroon red purple fuchsia green lime olive yellow navy blue teal aqua aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkgrey darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkslategrey darkturquoise darkviolet deeppink deepskyblue dimgray dimgrey dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow grey honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightslategrey lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray slategrey snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
valid_color:function(c){return c.match(Hb)?!0:-1!==a.inArray(c.toLowerCase(),a.terminal.color_names)},unclosed_strings:function(a){return!!a.match(Jb)},escape_regex:function(a){if("string"===typeof a)return a.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(a){return"string"===typeof a&&!!a.match(hb)},is_formatting:function(a){return"string"===typeof a&&!!a.match(vb)},format_split:function(a){return a.split(ub).filter(Boolean)},iterate_formatting:function(a,g){for(var h=!1,l=!1,
n=0,q,u=-1,x=0;x<a.length;x++){(q=a.substring(x).match(ra))?(h=q[1],l=!1):h?"]"===a[x]&&(l?(h="",l=!1):l=!0):l=!0;q=h&&l||!h;var z="["===a[x]&&"["===a[x+1];"&nbsp;"!==a.substring(x-6,x)&&" "!==a.substring(x-1,x)||!q&&!z||(u=x);z=a[x].match(/[[\]]/);if(q)if("&"===a[x]){q=a.substring(x).match(/^(&[^;]+;)/);if(!q)throw Error("Unclosed html entity at char "+(x+1));x+=q[1].length-2;continue}else"]"===a[x]&&"\\"===a[x-1]?--n:z||++n;if(!z&&q)if(2===gb(a[x])&&n++,q=g({count:n,index:x,formatting:h,text:l,
space:u}),!1===q)break;else q&&(q.count!==c&&(n=q.count),q.space!==c&&(u=q.space),q.index!==c&&(x=q.index))}},substring:function(c,g,h){if(""===a("<span>"+a.terminal.strip(c)+"</span>").text().substring(g,h))return"";var l,n=c.length,q="",u="";a.terminal.iterate_formatting(c,function(a){a.count===g&&(l=a.index+1,a.formatting&&(q=a.formatting));h&&a.count===h&&(n=a.index+1,u=a.formatting)});c=q+c.substring(l,n);u&&(c+="]");return c},normalize:function(a){return a.replace(nb,function(a,c,g){if(""===
g)return"";a=c.match(/;/g).length;if(4<=a)return a=c.split(/;/),c=a.slice(0,4).join(";"),a=a.slice(4).join(";"),"[["+c+";"+(a||g)+"]"+g+"]";a=2===a?";;":3===a?";":"";var h=g.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+c+a+h+"]"+g+"]"})},split_equal:function(c,g,h){var l="",n=[];c=a.terminal.normalize(c).split(/\n/g);for(var q=0,u=c.length;q<u;++q)if(""===c[q])n.push("");else{var x=c[q],z=0,B,e=x.length;a.terminal.iterate_formatting(x,function(c){var q=c.index===
e-2&&"]"===x[c.index+1],u=c.index===e-1||q;if(c.count>=g||u||c.count===g-1&&2===gb(x[c.index+1])){if(h){u=a.terminal.strip(x.substring(c.space));u=a("<span>"+u+"</span>").text();var F=u.length,pa=c.index+g+1;u=u.substring(0,pa);var C=!1;if(u.match(/\s/)||pa>F)C=!0}if(h&&!q&&-1!==c.space&&c.index!==e-1&&C){B=x.substring(z,c.space);var aa=c.space-1}else B=x.substring(z,c.index+1);h&&(B=B.replace(/(&nbsp;|\s)+$/g,""));z=(aa||c.index)+1;l&&(c=B.match(/^[^\]]*\]/),B=l+B,c&&(l=""));q&&(B+="]",l="");if(q=
B.match(nb))q=q[q.length-1],"]"!==q[q.length-1]?(l=q.match(wb)[1],B+="]"):B.match(jb)&&(B=B.replace(jb,""),l=q.match(wb)[1]);n.push(B);return{index:aa,count:0,space:-1}}})}return n},encode:function(a){a=a.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;");return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(c){if(!a.terminal.have_formatting(c))return c;var g=[],h=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return c.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(c){if(c.match(/^\[\[/))a.terminal.is_formatting(c)||
(c+="]",g.push(c.replace(h,"$1")));else{var l=!1;c.match(/\]/)&&(l=!0);g.length&&(c=g[g.length-1]+c);l?g.pop():g.length&&(c+="]")}return c}).join("")},escape_formatting:function(c){return a.terminal.escape_brackets(c)},apply_formatters:function(c){var g=a.terminal.defaults.formatters;return a.terminal.format_split(c).map(function(c){if(!a.terminal.is_formatting(c))for(var h=0;h<g.length;++h)try{if("function"===typeof g[h]){var l=g[h](c);"string"===typeof l&&(c=l)}}catch(F){throw Error("Error in formatter ["+
h+"]");}return c}).join("")},format:function(c,g){var h=a.extend({},{linksNoReferrer:!1},g||{});if("string"===typeof c){var l=a.terminal.format_split(c);c=a.map(l,function(c){return""===c?c:a.terminal.is_formatting(c)?(c=c.replace(/\[\[[^\]]+\]/,function(a){return a.replace(/&nbsp;/g," ")}),c.replace(Ea,function(c,g,l,q,n,e,u){if(""===u)return"";u=u.replace(/\\]/g,"]");c="";-1!==g.indexOf("b")&&(c+="font-weight:bold;");var x=[];-1!==g.indexOf("u")&&x.push("underline");-1!==g.indexOf("s")&&x.push("line-through");
-1!==g.indexOf("o")&&x.push("overline");x.length&&(c+="text-decoration:"+x.join(" ")+";");-1!==g.indexOf("i")&&(c+="font-style:italic;");a.terminal.valid_color(l)&&(c+="color:"+l+";",-1!==g.indexOf("g")&&(c+="text-shadow:0 0 5px "+l+";"));a.terminal.valid_color(q)&&(c+="background-color:"+q);l=""===e?u:e.replace(/&#93;/g,"]");-1!==g.indexOf("!")?(q='<a target="_blank" href="'+l+'"',q=h.linksNoReferrer?q+' rel="noreferrer noopener"':q+' rel="noopener"',q+=' tabindex="1000"'):q="<span";""!==c&&(q+=
' style="'+c+'"');""!==n&&(q+=' class="'+n+'"');return q=-1!==g.indexOf("!")?q+(">"+u+"</a>"):q+(' data-text="'+l.replace('"',"&quote;")+'">'+u+"</span>")})):"<span>"+c.replace(/\\\]/g,"]")+"</span>"}).join("");return c.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(a){return a.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(a){a=a.replace(Ea,"$6");return a.replace(/(\\?)([[\]])/g,function(a,c){return c?a:""})},active:function(){return na.front()},last_id:function(){var a=
na.length();if(a)return a-1},parse_argument:function(a,c){function g(a){a.match(/^['"]/)&&(a=a.replace(new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+a[0],"g"),"$1"));return JSON.parse('"'+a+'"')}if(!1===c)return"'"===a[0]&&"'"===a[a.length-1]?a.replace(/^'|'$/g,""):'"'===a[0]&&'"'===a[a.length-1]?a.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):a.match(/\/.*\/[gimy]*$/)?a:a.match(/['"]]/)?g(a):a.replace(/\\ /g," ");var h=a.match(ob);return h?new RegExp(h[1],h[2]):a.match(/['"]/)?g(a):a.match(/^-?[0-9]+$/)?
parseInt(a,10):a.match(Ib)?parseFloat(a):a.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(c){return a.map(c.match(ib)||[],a.terminal.parse_argument)},split_arguments:function(c){return a.map(c.match(ib)||[],function(c){return a.terminal.parse_argument(c,!1)})},parse_command:function(c){return La(c,a.terminal.parse_argument)},split_command:function(c){return La(c,function(c){return a.terminal.parse_argument(c,!1)})},extended_command:function(a,c){try{sa=!1,a.exec(c,!0).done(function(){sa=!0})}catch(aa){}}};
a.fn.visible=function(){return this.css("visibility","visible")};a.fn.hidden=function(){return this.css("visibility","hidden")};a.fn.scroll_element=function(){var c=a.fn.scroll_element.defaults;return this.map(function(){if(a(this).is("body")){var g=a("html"),h=a("body"),l=h.scrollTop()||g.scrollTop(),q=a("<pre/>").css(c.pre).appendTo("body");q.html(Array(c.lines).join("\n"));a("body,html").scrollTop(10);if(10===h.scrollTop()){h.scrollTop(l);var n=h[0]}else 10===g.scrollTop()&&(g.scrollTop(l),n=g[0]);
q.remove();return n}return this})};a.fn.scroll_element.defaults={lines:2E3,pre:{"font-size":"100px","white-space":"pre"}};var pb={};a.jrpc=function(c,g,h,l,q){var n=a.isPlainObject(c)?c:{url:c,method:g,params:h,success:l,error:q};pb[n.url]=pb[n.url]||0;var u={jsonrpc:"2.0",method:n.method,params:n.params,id:++pb[n.url]};return a.ajax({url:n.url,beforeSend:function(c,g){a.isFunction(n.request)&&n.request(c,u);g.data=JSON.stringify(u)},success:function(c,g,h){h.getResponseHeader("Content-Type").match(/(application|text)\/json/)||
ia("Response Content-Type is neither application/json nor text/json");try{var e=JSON.parse(c)}catch(Db){if(n.error)n.error(h,"Invalid JSON",Db);else throw Error("Invalid JSON");return}a.isFunction(n.response)&&n.response(h,e);c=e;if(a.isNumeric(c.id)&&("undefined"!==typeof c.result||"undefined"!==typeof c.error)||"system.describe"===n.method)n.success(e,g,h);else if(n.error)n.error(h,"Invalid JSON-RPC");else throw Error("Invalid JSON-RPC");},error:n.error,contentType:"application/json",dataType:"text",
async:!0,cache:!1,type:"POST"})};var ma=!a.terminal.version.match(/^\{\{/);ja=ma?" v. "+a.terminal.version:" ";var Ma=new RegExp(" {"+ja.length+"}$");ma="jQuery Terminal Emulator"+(ma?ja:"");var Na=[["jQuery Terminal","(c) 2011-2017 jcubic"],[ma,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright | *<.*>/g,"")],[ma,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright /,"")],["      _______                 ________                        __",
"     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(Ma," ")+ja,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"],["      __ _____                     ________                              __",
"     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(Ma,"")+ja,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"]];a.terminal.defaults=
{prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[a.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,
clickTimeout:200,request:a.noop,response:a.noop,describe:"procs",onRPCError:null,completion:!1,onInit:a.noop,onClear:a.noop,onBlur:a.noop,onFocus:a.noop,onTerminalChange:a.noop,onExit:a.noop,onPush:a.noop,onPop:a.noop,keypress:a.noop,keydown:a.noop,onAfterRedraw:a.noop,onEchoCommand:a.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",
wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",
notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",
invalidStrings:"Command %s have unclosed strings"}};var Va=[],na=new function(c){var g=c?[c]:[],h=0;a.extend(this,{get:function(){return g},rotate:function(){if(g.filter(Boolean).length){if(1===g.length)return g[0];h===g.length-1?h=0:++h;return g[h]?g[h]:this.rotate()}},length:function(){return g.length},remove:function(a){delete g[a]},set:function(a){for(var c=g.length;c--;)if(g[c]===a){h=c;return}this.append(a)},front:function(){if(g.length){for(var a=h,c=!1;!g[a];)if(a++,a>g.length){if(c)break;
a=0;c=!0}return g[a]}},map:function(a){return g.filter(Boolean).map(a)},forEach:function(a){g.filter(Boolean).forEach(a)},append:function(a){g.push(a)}})},Ja=[],Ba,sa=!1,L=!0,Kb=!0;a.fn.terminal=function(g,h){function q(d){if(a.terminal.unclosed_strings(d))throw d=a.terminal.escape_brackets(d),Error(sprintf(O().invalidStrings,"`"+d+"`"));return a.isFunction(p.processArguments)?La(d,p.processArguments):p.processArguments?a.terminal.parse_command(d):a.terminal.split_command(d)}function n(c){"string"===
typeof c?d.echo(c):c instanceof Array?d.echo(a.map(c,function(a){return JSON.stringify(a)}).join(" ")):"object"===typeof c?d.echo(JSON.stringify(c)):d.echo(c)}function u(c){var e=c.match(/(.*):([0-9]+):([0-9]+)$/);e&&(d.pause(p.softPause),a.get(e[1],function(c){var g=location.href.replace(/[^/]+$/,"");g=e[1].replace(g,"");d.echo("[[b;white;]"+g+"]");c=c.split("\n");var k=+e[2]-1;d.echo(c.slice(k-2,k+3).map(function(d,c){2===c&&(d="[[;#f00;]"+a.terminal.escape_brackets(d)+"]");return"["+(k+c)+"]: "+
d}).join("\n")).resume()},"text"))}function x(c){if(a.isFunction(p.onRPCError))p.onRPCError.call(d,c);else if(d.error("&#91;RPC&#93; "+c.message),c.error&&c.error.message){c=c.error;var e="\t"+c.message;c.file&&(e+=' in file "'+c.file.replace(/.*\//,"")+'"');c.at&&(e+=" at line "+c.at);d.error(e)}}function B(c,e){var g=function(e,g){d.pause(p.softPause);a.jrpc({url:c,method:e,params:g,request:function(a,c){try{p.request.apply(d,a,c,d)}catch(qb){J(qb,"USER")}},response:function(a,c){try{p.response.apply(d,
a,c,d)}catch(qb){J(qb,"USER")}},success:function(c){c.error?x(c.error):a.isFunction(p.processRPCResponse)?p.processRPCResponse.call(d,c.result,d):n(c.result);d.resume()},error:ja})};return function(a,d){if(""!==a){try{a=q(a)}catch(G){J(G,"TERMINAL (get_processed_command)");return}if(e&&"help"!==a.name){var c=d.token();c?g(a.name,[c].concat(a.args)):d.error("&#91;AUTH&#93; "+O().noTokenError)}else g(a.name,a.args)}}}function C(e,g,h,l){return function(k,t){if(""!==k){try{var n=q(k)}catch(la){a.isFunction(p.exception)?
p.exception(la,d):d.error(la.toString());return}var u=e[n.name],V=a.type(u);if("function"===V)if(g&&u.length!==n.args.length)d.error("&#91;Arity&#93; "+sprintf(O().wrongArity,n.name,u.length,n.args.length));else return u.apply(d,n.args);else if("object"===V||"string"===V){var K=[];"object"===V&&(K=Object.keys(u),u=C(u,g,h));t.push(u,{prompt:n.name+"> ",name:n.name,completion:"object"===V?K:c})}else a.isFunction(l)?l(k,d):a.isFunction(p.onCommandNotFound)?p.onCommandNotFound.call(d,k,d):t.error(sprintf(O().commandNotFound,
n.name))}}}function ja(c,e,g){d.resume();a.isFunction(p.onAjaxError)?p.onAjaxError.call(d,c,e,g):"abort"!==e&&d.error("&#91;AJAX&#93; "+e+" - "+O().serverResponse+":\n"+a.terminal.escape_brackets(c.responseText))}function N(c,e,g){function k(c){c.error?x(c.error):a.isFunction(p.processRPCResponse)?p.processRPCResponse.call(d,c.result,d):n(c.result);d.resume()}function h(a,c){try{p.request.call(d,a,c,d)}catch(Ua){J(Ua,"USER")}}function l(a,c){try{p.response.call(d,a,c,d)}catch(Ua){J(Ua,"USER")}}return a.jrpc({url:c,
method:"system.describe",params:[],success:function(t){var q=t;""!==p.describe&&p.describe.split(".").forEach(function(a){q=q[a]});if(q&&q.length){var n={};a.each(q,function(g,t){n[t.name]=function(){var g=e&&"help"!==t.name,q=Array.prototype.slice.call(arguments),n=q.length+(g?1:0);p.checkArity&&t.params&&t.params.length!==n?d.error("&#91;Arity&#93; "+sprintf(O().wrongArity,t.name,t.params.length,n)):(d.pause(p.softPause),g&&((g=d.token(!0))?q=[g].concat(q):d.error("&#91;AUTH&#93; "+O().noTokenError)),
a.jrpc({url:c,method:t.name,params:q,request:h,response:l,success:k,error:ja}))}});n.help=n.help||function(c){if("undefined"===typeof c){var e=t.procs.map(function(a){return a.name}).join(", ")+", help";d.echo("Available commands: "+e)}else{var g=!1;a.each(q,function(a,e){if(e.name===c){g=!0;var k=""+("[[bu;#fff;]"+e.name+"]");e.params&&(k+=" "+e.params.join(" "));e.help&&(k+="\n"+e.help);d.echo(k);return!1}});g||("help"===c?d.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified"):
d.error("Method `"+c+"' not found "))}};g(n)}else g(null)},request:h,response:l,error:function(){g(null)}})}function e(c,e,g){g=g||a.noop;var k=a.type(c),h={},l=0,t;if("array"===k){var q={};(function Oa(c,g){if(c.length){var k=c[0],h=c.slice(1),n=a.type(k);"string"===n?(d.pause(p.softPause),!1===p.describe?(1===++l?t=B(k,e):d.error(O().oneRPCWithIgnore),Oa(h,g)):N(k,e,function(c){c?a.extend(q,c):1===++l?t=B(k,e):d.error(O().oneRPCWithIgnore);d.resume();Oa(h,g)})):"function"===n?(t?d.error(O().oneInterpreterFunction):
t=k,Oa(h,g)):"object"===n&&(a.extend(q,k),Oa(h,g))}else g()})(c,function(){g({interpreter:C(q,!1,e,t.bind(d)),completion:Object.keys(q)})})}else if("string"===k)p.ignoreSystemDescribe?(q={interpreter:B(c,e)},a.isArray(p.completion)&&(q.completion=p.completion),g(q)):(d.pause(p.softPause),N(c,e,function(a){a?(h.interpreter=C(a,!1,e),h.completion=Object.keys(a)):h.interpreter=B(c,e);g(h);d.resume()}));else if("object"===k)g({interpreter:C(c,p.checkArity),completion:Object.keys(c)});else{if("undefined"===
k)c=a.noop;else if("function"!==k)throw Error(k+" is invalid interpreter value");g({interpreter:c,completion:p.completion})}}function W(c,e){var g="boolean"===a.type(e)?"login":e;return function(e,k,h){d.pause(p.softPause);a.jrpc({url:c,method:g,params:[e,k],request:function(a,c){try{p.request.call(d,a,c,d)}catch(Ua){J(Ua,"USER")}},response:function(a,c){try{p.response.call(d,a,c,d)}catch(Ua){J(Ua,"USER")}},success:function(a){!a.error&&a.result?h(a.result):h(null);d.resume()},error:ja})}}function qa(a){return"string"===
typeof a?a:"string"===typeof a.fileName?a.fileName+": "+a.message:a.message}function J(c,e){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(d,c,e):d.exception(c,e)}function ia(){var a=xa.prop?xa.prop("scrollHeight"):xa.attr("scrollHeight");xa.scrollTop(a)}function ma(c,e){try{if(a.isFunction(e))e.call(d,a.noop,d);else if("string"!==typeof e)throw c+" must be string or function";}catch(V){return J(V,c.toUpperCase()),!1}return!0}function ra(e,g){var k;if(!g.raw){if(g.formatters)try{e=a.terminal.apply_formatters(e)}catch(I){a.isFunction(p.exceptionHandler)?
p.exceptionHandler.call(d,I,"FORMATTERS"):alert(I.message+"\n"+(I.stack?I.stack:I))}e=a.terminal.encode(e)}fa.push(1);if(!g.raw&&(gb(e)>P||e.match(/\n/))&&(!0===p.wrap&&g.wrap===c||!1===p.wrap&&!0===g.wrap)){var h=a.terminal.split_equal(e,P,g.keepWords);var l=0;for(k=h.length;l<k;++l)""===h[l]||"\r"===h[l]?fa.push("<span></span>"):g.raw?fa.push(h[l]):fa.push(a.terminal.format(h[l],{linksNoReferrer:p.linksNoReferrer}))}else g.raw?fa.push(e):(e=a.terminal.normalize(e),e=a.terminal.format(e,{linksNoReferrer:p.linksNoReferrer}),
e.split(/\n/).forEach(function(a){fa.push(a)}));fa.push(g.finalize)}function tb(c,e){try{var g=a.extend({exec:!0,raw:!1,finalize:a.noop},e||{}),k="function"===a.type(c)?c():c;k="string"===a.type(k)?k:String(k);""!==k&&ra(k,g)}catch(R){fa=[],a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(d,R,"TERMINAL"):alert("[Internal Exception(process_line)]:"+qa(R)+"\n"+R.stack)}}function Ea(){E.resize(P);var c=$a.empty().detach(),e=[];if(0<=p.outputLimit){var g=0===p.outputLimit?d.rows():p.outputLimit;
X.forEach(function(d){var c="function"===a.type(d[0])?d[0]():d[0];c="string"===a.type(c)?c:String(c);if(gb(c)>P){var g=d[1];d=a.terminal.split_equal(c,P,g.keepWords);e=e.concat(d.map(function(a){return[a,g]}))}else e.push(d)});e=e.slice(e.length-g-1)}else e=X;try{fa=[],a.each(X,function(a,d){tb.apply(null,d)}),E.before(c),d.flush(),p.onAfterRedraw.call(d)}catch(K){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(d,K,"TERMINAL (redraw)"):alert("Exception in redraw\n"+K.stack)}}function Ma(){if(p.greetings===
c)d.echo(d.signature,{finalize:Q});else if(p.greetings){var a=typeof p.greetings;"string"===a?d.echo(p.greetings):"function"===a?p.greetings.call(d,d.echo):d.error(O().wrongGreetings)}}function Sa(c){"undefined"===typeof c&&(c=d.get_command());var e=E.prompt(),g=E.mask();switch(typeof g){case "string":c=c.replace(/./g,g);break;case "boolean":c=g?c.replace(/./g,p.maskChar):a.terminal.escape_formatting(c)}var k={finalize:function(a){Q(a.addClass("command"));p.onEchoCommand.call(d,a)}};a.isFunction(e)?
e(function(a){d.echo(a+c,k)}):d.echo(e+c,k)}function mb(a){var d=na.get()[a[0]];if(!d)throw Error(O().invalidTerminalId);var c=a[1];Ja[c]?d.import_view(Ja[c]):(sa=!1,(a=a[2])&&d.exec(a).done(function(){sa=!0;Ja[c]=d.export_view()}))}function hb(){sa&&(L=!1,location.hash="#"+JSON.stringify(Ba),setTimeout(function(){L=!0},100))}function ib(e,g,h){function k(){h||(sa=!0,p.historyState&&d.save_state(e,!1),sa=u);q.resolve();a.isFunction(p.onAfterCommand)&&p.onAfterCommand.call(d,d,e)}function l(a){a&&
r===X.length-1&&n(a);k();d.resume()}Ra&&(Ra=!1,p.historyState||p.execHash&&h)&&(Ja.length?d.save_state(null):d.save_state());try{if(!a.isFunction(p.onBeforeCommand)||!1!==p.onBeforeCommand.call(d,d,e)){h||(A=a.terminal.split_command(e));S||!1!==E.mask()||h&&(a.isFunction(p.historyFilter)&&p.historyFilter(e)||e.match(p.historyFilter))&&E.history().append(e);var t=M.top();!g&&p.echoCommand&&Sa(e);var q=new a.Deferred;var u=sa;if(e.match(/^\s*login\s*$/)&&d.token(!0))1<d.level()?d.logout(!0):d.logout(),
k();else if(p.exit&&e.match(/^\s*exit\s*$/)&&!S){var V=d.level();if(1===V&&d.get_token()||1<V)d.get_token(!0)&&d.set_token(c,!0),d.pop();k()}else if(p.clear&&e.match(/^\s*clear\s*$/)&&!S)d.clear(),k();else{var r=X.length-1;var w=t.interpreter.call(d,e,d);if(w!==c)if(d.pause(p.softPause),w.then)w.then(l);else return a.when(w).done(l);else Fa?y.push(function(){k()}):k()}return q.promise()}}catch(Za){if(J(Za,"USER"),d.resume(),!p.exceptionHandler)throw Za;}}function jb(){var a=d.prefix_name(!0)+"_";
ba.remove(a+"token");ba.remove(a+"login")}function Ha(c){var e=d.prefix_name()+"_interpreters",g=ba.get(e);g=g?JSON.parse(g):[];-1===a.inArray(c,g)&&(g.push(c),ba.set(e,JSON.stringify(g)))}function w(c){var e=M.top(),g=d.prefix_name(!0);S||!1!==E.mask()||Ha(g);E.name(g);a.isFunction(e.prompt)?E.prompt(function(a){e.prompt.call(d,a,d)}):E.prompt(e.prompt);a.isPlainObject(e.keymap)&&E.keymap(a.omap(e.keymap,function(a,c){return function(){var a=[].slice.call(arguments);try{return c.apply(d,a)}catch(G){if(J(G,
"USER KEYMAP"),!p.exceptionHandler)throw G;}}}));E.set("");ub.resolve();!c&&a.isFunction(e.onStart)&&e.onStart.call(d,d)}function ob(){if(L&&p.execHash)try{if(location.hash){var a=location.hash.replace(/^#/,"");Ba=JSON.parse(decodeURIComponent(a))}else Ba=[];Ba.length?mb(Ba[Ba.length-1]):Ja[0]&&d.import_view(Ja[0])}catch(t){J(t,"TERMINAL")}}function Ca(){w();Ma();X.length&&Ea();var c=!1;if(a.isFunction(p.onInit)){Ya=function(){c=!0};try{p.onInit.call(d,d)}catch(t){J(t,"OnInit")}finally{Ya=a.noop,
!c&&d.enabled()&&d.resume()}}Kb&&(Kb=!1,a(window).on("hashchange",ob))}function Ka(a,d){if(!d.length)return"";var c=!1,e=a.length;a:for(;e<d[0].length;++e){for(var g=1;g<d.length;++g)if(d[0].charAt(e)!==d[g].charAt(e))break a;c=!0}return c?d[0].slice(0,e):""}function D(e){var g=M.top();if(a.isFunction(g.keydown)){if(e=g.keydown.call(d,e,d),e!==c)return e}else if(a.isFunction(p.keydown)&&(e=p.keydown.call(d,e,d),e!==c))return e}function ua(e){if(d.enabled()){if(d.paused()){if(!p.pauseEvents){var g=
D(e);if(g!==c)return g}if(68===e.which&&e.ctrlKey){if(p.pauseEvents&&(g=D(e),g!==c))return g;if(Va.length){for(g=Va.length;g--;){var k=Va[g];if(4!==k.readyState)try{k.abort()}catch(K){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(d,e,"AJAX ABORT"):d.error(O().ajaxAbortError)}}Va=[]}d.resume()}return!1}g=D(e);if(g!==c)return g;9!==e.which&&(Ia=0);d.attr({scrollTop:d.attr("scrollHeight")})}}function nb(a){return function(d){a.add(d)}}function O(){return a.extend({},a.terminal.defaults.strings,
p.strings)}function Da(){r&&d.focus()}function Wa(){r=ka;d.disable()}var fa=[],Ra=!0,y=[],wb={"CTRL+D":function(a,e){S||(""===E.get()?1<M.size()||p.login!==c?d.pop(""):(d.resume(),d.echo("")):e());return!1},"CTRL+L":function(){d.clear()},TAB:function(e,g){var k=M.top();k=p.completion&&"boolean"!==a.type(p.completion)&&k.completion===c?p.completion:k.completion;"settings"===k&&(k=p.completion);if(k)switch(a.type(k)){case "function":var h=d.before_cursor(p.wordAutocomplete);if(3===k.length){k=Error(O().comletionParameters);
J(k,"USER");break}k.call(d,h,function(a){d.complete(a,{echo:!0,word:p.wordAutocomplete,escape:p.completionEscape})});break;case "array":d.complete(k,{echo:!0,word:p.wordAutocomplete,escape:p.completionEscape});break;default:throw Error(O().invalidCompletion);}else g();return!1},"CTRL+V":function(a,c){c(a);d.oneTime(200,function(){ia()});return!0},"CTRL+TAB":function(){if(1<na.length())return d.focus(!1),!1},PAGEDOWN:function(){d.scroll(d.height())},PAGEUP:function(){d.scroll(-d.height())}},d=this;
if(1<this.length)return this.each(function(){a.fn.terminal.call(a(this),g,a.extend({name:d.selector},h))});if(d.data("terminal"))return d.data("terminal");if(0===d.length)throw Error(sprintf(O().invalidSelector,d.selector));var A,Ia=0,X=[],sb=na.length(),P,wa,cb,db=new z,pb=new l,ub=new l,za=nb(ub),da=fb(),ha=nb(pb),S=!1,Ya=a.noop,bb,vb,eb=[],p=a.extend({},a.terminal.defaults,{name:d.selector},h||{}),ba=new function(d){d&&(this.storage={});this.set=function(c,e){d?this.storage[c]=e:a.Storage.set(c,
e)};this.get=function(c){return d?this.storage[c]:a.Storage.get(c)};this.remove=function(c){d?delete this.storage[c]:a.Storage.remove(c)}}(p.memory),ka=p.enabled,Aa=!1,Fa=!1,Qa=!0,M,E,r,U,T;a.extend(d,a.omap({id:function(){return sb},clear:function(){$a.html("");X=[];try{p.onClear.call(d,d)}catch(k){J(k,"onClear")}d.attr({scrollTop:0});return d},export_view:function(){var c={};if(a.isFunction(p.onExport))try{c=p.onExport.call(d)}catch(t){J(t,"onExport")}return a.extend({},{focus:ka,mask:E.mask(),
prompt:d.get_prompt(),command:d.get_command(),position:E.position(),lines:Xa.clone_object(X),interpreters:M.clone(),history:E.history().data},c)},import_view:function(c){if(S)throw Error(sprintf(O().notWhileLogin,"import_view"));if(a.isFunction(p.onImport))try{p.onImport.call(d,c)}catch(t){J(t,"onImport")}za(function(){d.set_prompt(c.prompt);d.set_command(c.command);E.position(c.position);E.mask(c.mask);c.focus&&d.focus();X=Xa.clone_object(c.lines);M=c.interpreters;p.importHistory&&E.history().set(c.history);
Ea()});return d},save_state:function(e,g,h){"undefined"!==typeof h?Ja[h]=d.export_view():Ja.push(d.export_view());a.isArray(Ba)||(Ba=[]);e===c||g||(Ba.push([sb,Ja.length-1,e]),hb())},exec:function(c,e,g){var k=g||new a.Deferred;ha(function(){a.isArray(c)?function I(){var a=c.shift();a?d.exec(a,e).done(I):k.resolve()}():Fa?eb.push([c,e,k]):ib(c,e,!0).done(function(){k.resolve(d)})});return k.promise()},autologin:function(a,c,e){d.trigger("terminal.autologin",[a,c,e]);return d},login:function(e,g,h,
l){function k(e,k,t){if(k){for(;d.level()>q;)d.pop(c,!0);p.history&&E.history().enable();t=d.prefix_name(!0)+"_";ba.set(t+"token",k);ba.set(t+"login",e);S=!1;a.isFunction(h)&&h()}else g?(t||d.error(O().wrongPasswordTryAgain),d.pop(c,!0).set_mask(!1)):(S=!1,t||d.error(O().wrongPassword),d.pop(c,!0).pop(c,!0)),a.isFunction(l)&&l();d.off("terminal.autologin")}db.push([].slice.call(arguments));if(S)throw Error(sprintf(O().notWhileLogin,"login"));if(!a.isFunction(e))throw Error(O().loginIsNotAFunction);
S=!0;if(d.token()&&1===d.level()&&!Qa)S=!1,d.logout(!0);else if(d.token(!0)&&d.login_name(!0))return S=!1,a.isFunction(h)&&h(),d;p.history&&E.history().disable();var q=d.level();d.on("terminal.autologin",function(a,d,c,e){k(d,c,e)});d.push(function(a){d.set_mask(p.maskChar).push(function(c){try{e.call(d,a,c,function(d,c){k(a,d,c)})}catch(Ua){J(Ua,"AUTH")}},{prompt:O().password+": ",name:"password"})},{prompt:O().login+": ",name:"login"});return d},settings:function(){return p},before_cursor:function(a){var d=
E.position(),c=E.get().substring(0,d);d=c.split(" ");if(a)if(1===d.length)c=d[0];else{var e=(a=c.match(/(\\?")/g))?a.filter(function(a){return!a.match(/^\\/)}).length:0;a=c.match(/'/g);if(1===(a?a.length:0)%2)c=c.match(/('[^']*)$/)[0];else if(1===e%2)c=c.match(/("(?:[^"]|\\")*)$/)[0];else for(c=d[d.length-1],Ta=d.length-1;0<Ta;Ta--)if(a=d[Ta-1],"\\"===a[a.length-1])c=d[Ta-1]+" "+c;else break}return c},complete:function(c,e){function g(a,c){var e=d.get_command(),g=d.get_position(),h=new RegExp(a+"$");
h=e.substring(0,g).replace(h,"");e=e.substring(g);g=c+(k||"");d.set_command(h+g+e);d.set_position((h+g).length)}e=a.extend({word:!0,echo:!1,escape:!0},e||{});var h=d.before_cursor(e.word).replace(/\\"/g,'"'),k=!1;e.word&&(h.match(/^"/)?k='"':h.match(/^'/)&&(k="'"),k&&(h=h.replace(/^["']/,"")));c=c.slice();p.clear&&-1===a.inArray("clear",c)&&c.push("clear");p.exit&&-1===a.inArray("exit",c)&&c.push("exit");if(0===Ia%2)cb=d.before_cursor(e.word);else if(d.before_cursor(e.word)!==cb)return;var l=a.terminal.escape_regex(h);
e.escape&&(l=l.replace(/(\\+)(["'() ])/g,function(a,d,c){return c.match(/[()]/)?d+"\\?\\"+c:d+"?"+c}));for(var q=new RegExp("^"+l),n=[],t=c.length;t--;)if(q.test(c[t])){var u=c[t];'"'===k&&(u=u.replace(/"/g,'\\"'));!k&&e.escape&&(u=u.replace(/(["'() ])/g,"\\$1"));n.push(u)}if(1===n.length)return e.escape?g(l,n[0]):d.insert(n[0].replace(q,"")+(k||"")),cb=d.before_cursor(e.word),!0;if(1<n.length)if(2<=++Ia){if(Ia=0,e.echo)return Sa(),h=n.reverse().join("\t"),d.echo(a.terminal.escape_brackets(h),{keepWords:!0}),
!0}else if(l=Ka(h,n))return g(h,l),cb=d.before_cursor(e.word),!0},commands:function(){return M.top().interpreter},set_interpreter:function(c,g){function h(){d.pause(p.softPause);e(c,!!g,function(c){d.resume();var e=M.top();a.extend(e,c);w(!0)})}"string"===a.type(c)&&g?d.login(W(c,g),!0,h):h();return d},greetings:function(){Ma();return d},paused:function(){return Fa},pause:function(c){ha(function(){Ya();Fa=!0;E.disable(c||Bb);c||E.find(".prompt").hidden();a.isFunction(p.onPause)&&p.onPause.call(d)});
return d},resume:function(){ha(function(){Fa=!1;ka&&na.front()===d&&E.enable();E.find(".prompt").visible();var c=eb;eb=[];for(var e=0;e<c.length;++e)d.exec.apply(d,c[e]);d.trigger("resume");(c=y.shift())&&c();ia();a.isFunction(p.onResume)&&p.onResume.call(d)});return d},cols:function(){if(p.numChars)return p.numChars;"undefined"===typeof P&&(P=Pa(d,da));return P},rows:function(){if(p.numRows)return p.numRows;"undefined"===typeof wa&&(wa=ca(d,da));return wa},history:function(){return E.history()},
history_state:function(a){function c(){p.historyState=!0;Ja.length?1<na.length()&&d.save_state(null):d.save_state()}a?"undefined"===typeof window.setImmediate?setTimeout(c,0):setImmediate(c):p.historyState=!1;return d},clear_history_state:function(){Ba=[];Ja=[];return d},next:function(){if(1===na.length())return d;na.front().disable();var c=na.rotate().enable(),e=c.offset().top-50;a("html,body").animate({scrollTop:e},500);try{p.onTerminalChange.call(c,c)}catch(V){J(V,"onTerminalChange")}return c},
focus:function(a,c){ha(function(){if(1===na.length())if(!1===a)try{var e=p.onBlur.call(d,d);(!c&&!1!==e||c)&&d.disable()}catch(K){J(K,"onBlur")}else try{e=p.onFocus.call(d,d),(!c&&!1!==e||c)&&d.enable()}catch(K){J(K,"onFocus")}else if(!1===a)d.next();else{if(na.front()!==d&&(na.forEach(function(a){a!==d&&a.enabled()&&a.disable()}),!c))try{p.onTerminalChange.call(d,d)}catch(K){J(K,"onTerminalChange")}na.set(d);d.enable()}});return d},freeze:function(a){za(function(){a?(d.disable(),Aa=!0):(Aa=!1,d.enable())})},
frozen:function(){return Aa},enable:function(){ka||Aa||(P===c&&d.resize(),ha(function(){d.paused()||E.enable();ka=!0}));return d},disable:function(){ha(function(){ka=!1;E.disable()});return d},enabled:function(){return ka},signature:function(){for(var a=d.cols(),c=Na.length;c--;){var e=Na[c].map(function(a){return a.length});if(Math.max.apply(null,e)<=a)return Na[c].join("\n")+"\n"}return""},version:function(){return a.terminal.version},cmd:function(){return E},get_command:function(){return E.get()},
set_command:function(a){za(function(){E.set(a)});return d},set_position:function(a,c){za(function(){E.position(a,c)});return d},get_position:function(){return E.position()},insert:function(a,c){if("string"===typeof a)return za(function(){var e=d.is_bottom();E.insert(a,c);(p.scrollOnEcho||e)&&ia()}),d;throw Error(sprintf(O().notAString,"insert"));},set_prompt:function(c){za(function(){ma("prompt",c)&&(a.isFunction(c)?E.prompt(function(a){c(a,d)}):E.prompt(c),M.top().prompt=c)});return d},get_prompt:function(){return M.top().prompt},
set_mask:function(a){za(function(){E.mask(!0===a?p.maskChar:a)});return d},get_output:function(c){return c?X:a.map(X,function(c){return a.isFunction(c[0])?c[0]():c[0]}).join("\n")},resize:function(c,e){if(d.is(":visible")){c&&e&&(d.width(c),d.height(e));c=d.width();e=d.height();if("undefined"!==typeof p.numChars&&"undefined"!==typeof p.numRows)return;da=fb();var g=Pa(d,da),h=ca(d,da);if(g!==P||h!==wa)P=g,wa=h,E.resize(P),Ea(),g=M.top(),a.isFunction(g.resize)?g.resize.call(d,d):a.isFunction(p.onResize)&&
p.onResize.call(d,d),ia()}else d.stopTime("resize"),d.oneTime(500,"resize",function(){d.resize(c,e)});return d},flush:function(){try{var c=d.is_bottom(),e;a.each(fa,function(c,d){1===d?e=a("<div></div>"):a.isFunction(d)?(e.appendTo($a),d(e)):a("<div/>").html(d).appendTo(e).width("100%")});if(0<=p.outputLimit){var g=0===p.outputLimit?d.rows():p.outputLimit;var h=$a.find("div div");if(h.length+1>g){var l=h.slice(0,h.length-g+1),q=l.parent();l.remove();q.each(function(){var c=a(this);c.is(":empty")&&
c.remove()})}}(p.scrollOnEcho||c)&&ia();fa=[]}catch(G){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(d,G,"TERMINAL (Flush)"):alert("[Flush] "+qa(G)+"\n"+G.stack)}return d},update:function(a,c){za(function(){0>a&&(a=X.length+a);X[a]?(null===c?X.splice(a,1):X[a][0]=c,Ea()):d.error("Invalid line number "+a)});return d},last_index:function(){return X.length-1},echo:function(c,e){function g(c){try{var g=a.extend({flush:!0,raw:p.raw,finalize:a.noop,keepWords:!1,formatters:!0},e||{});g.raw&&function(a){g.finalize=
function(c){c.addClass("raw");a(c)}}(g.finalize);g.flush&&(fa.length&&d.flush(),fa=[]);tb(c,g);X.push([c,a.extend(g,{exec:!1})]);g.flush&&d.flush()}catch(I){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(d,I,"TERMINAL (echo)"):alert("[Terminal.echo] "+qa(I)+"\n"+I.stack)}}try{e&&a.isFunction(e.finalize)&&e.finalize(a("<div/>")),a.isFunction(c.then)?a.when(c).done(g):g(c)}catch(K){J(K,"USER:echo(finalize)")}return d},error:function(c,e){e=a.extend({},e,{raw:!1,formatters:!1});var g=a.terminal.escape_brackets(c).replace(/\\$/,
"&#92;").replace(Cb,"]$1[[;;;error]");return d.echo("[[;;;error]"+g+"]",e)},exception:function(c,e){var g=qa(c);e&&(g="&#91;"+e+"&#93;: "+g);g&&d.error(g,{finalize:function(a){a.addClass("exception message")},keepWords:!0});"string"===typeof c.fileName&&(d.pause(p.softPause),a.get(c.fileName,function(a){var e=c.lineNumber-1;(a=a.split("\n")[e])&&d.error("["+c.lineNumber+"]: "+a);d.resume()},"text"));c.stack&&(g=a.terminal.escape_brackets(c.stack),d.echo(g.split(/\n/g).map(function(a){return"[[;;;error]"+
a.replace(Cb,function(a){return"]"+a+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(a){a.addClass("exception stack-trace")},formatters:!1}))},scroll:function(a){a=Math.round(a);if(xa.prop){a>xa.prop("scrollTop")&&0<a&&xa.prop("scrollTop",0);var c=xa.prop("scrollTop")}else a>xa.attr("scrollTop")&&0<a&&xa.attr("scrollTop",0),c=xa.attr("scrollTop");xa.scrollTop(c+a);return d},logout:function(a){if(S)throw Error(sprintf(O().notWhileLogin,"logout"));za(function(){if(a){var e=db.pop();d.set_token(c,
!0);d.login.apply(d,e)}else if(1===M.size()&&d.token())d.logout(!0);else for(;1<M.size();)d.token()?d.logout(!0).pop().pop():d.pop()});return d},token:function(a){return ba.get(d.prefix_name(a)+"_token")},set_token:function(a,c){var e=d.prefix_name(c)+"_token";"undefined"===typeof a?ba.remove(e,a):ba.set(e,a);return d},get_token:function(a){return d.token(a)},login_name:function(a){return ba.get(d.prefix_name(a)+"_login")},name:function(){return M.top().name},prefix_name:function(a){var c=(p.name?
p.name+"_":"")+sb;a&&1<M.size()&&(a=M.map(function(a){return a.name||""}).slice(1).join("_"))&&(c+="_"+a);return c},read:function(c,e){var g=new a.Deferred;d.push(function(c){d.pop();a.isFunction(e)&&e(c);g.resolve(c)},{prompt:c});return g.promise()},push:function(g,h){ha(function(){function k(){p.onPush.call(d,q,M.top(),d);w()}h=h||{};var l=a.extend({},{infiniteLogin:!1},h);!l.name&&A&&(l.name=A.name);l.prompt===c&&(l.prompt=(l.name||">")+" ");var q=M.top();q&&(q.mask=E.mask());var n=Fa;e(g,!!h.login,
function(c){M.push(a.extend({},c,l));!0===l.completion&&(a.isArray(c.completion)?M.top().completion=c.completion:c.completion||(M.top().completion=!1));if(l.login)if(c=a.type(l.login),"function"===c)c=l.infiniteLogin?a.noop:d.pop,d.login(l.login,l.infiniteLogin,k,c);else{if("string"===a.type(g)&&"string"===c||"boolean"===c)c=l.infiniteLogin?a.noop:d.pop,d.login(W(g,l.login),l.infiniteLogin,k,c)}else k();!n&&d.enabled()&&d.resume()})});return d},pop:function(e,g){e!==c&&Sa(e);var h=d.token(!0);if(1===
M.size())if(h=M.top(),p.login){g||p.onPop.call(d,h,null,d);a:{if(a.isFunction(p.onBeforeLogout))try{if(!1===p.onBeforeLogout.call(d,d))break a}catch(R){J(R,"onBeforeLogout")}jb();if(a.isFunction(p.onAfterLogout))try{p.onAfterLogout.call(d,d)}catch(R){J(R,"onAfterlogout")}d.login(p.login,!0,Ca)}if(a.isFunction(p.onExit))try{p.onExit.call(d,d)}catch(R){J(R,"onExit")}}else d.error(O().canExitError);else{h&&jb();var k=M.pop();h=M.top();w();g||p.onPop.call(d,k,h);S&&d.get_prompt()!==O().login+": "&&(S=
!1);if(a.isFunction(k.onExit))try{k.onExit.call(d,d)}catch(R){J(R,"onExit")}d.set_mask(h.mask)}return d},option:function(c,e){if("undefined"===typeof e){if("string"===typeof c)return p[c];"object"===typeof c&&a.each(c,function(a,c){p[a]=c})}else p[c]=e;return d},level:function(){return M.size()},reset:function(){za(function(){for(d.clear();1<M.size();)M.pop();Ca()});return d},purge:function(){za(function(){var c=d.prefix_name()+"_",e=ba.get(c+"interpreters");e&&a.each(JSON.parse(e),function(a,c){ba.remove(c+
"_commands");ba.remove(c+"_token");ba.remove(c+"_login")});E.purge();ba.remove(c+"interpreters")});return d},destroy:function(){za(function(){E.destroy().remove();$a.remove();yb.remove();a(document).unbind(".terminal_"+d.id());a(window).unbind(".terminal_"+d.id());d.unbind("click wheel mousewheel mousedown mouseup");d.removeData("terminal").removeClass("terminal").unbind(".terminal");p.width&&d.css("width","");p.height&&d.css("height","");a(window).off("blur",Wa).off("focus",Da);d.find(".terminal-fill").remove();
na.remove(sb);U&&U.unobserve(d[0]);T&&T.disconnect();d.resizer("unbind");na.length()||a(window).off("hashchange")});return d},scroll_to_bottom:ia,is_bottom:function(){if(-1===p.scrollBottomOffset)return!1;if(d.is("body")){var c=a(document).height();var e=a(window).scrollTop();var g=window.innerHeight}else c=xa[0].scrollHeight,e=xa.scrollTop(),g=xa.outerHeight();return e+g>c-p.scrollBottomOffset}},function(a,c){return function(){try{return c.apply(d,[].slice.apply(arguments))}catch(V){if("exec"!==
a&&"resume"!==a&&J(V,"TERMINAL"),!p.exceptionHandler)throw V;}}}));!0===p.ignoreSystemDescribe&&(p.describe=!1);p.width&&d.width(p.width);p.height&&d.height(p.height);var xa=d.scroll_element();a(document).bind("ajaxSend.terminal_"+d.id(),function(a,c){Va.push(c)});var yb=a('<div class="terminal-wrapper"/>').appendTo(d);a('<div class="terminal-fill"/>').appendTo(d);var $a=a("<div>").addClass("terminal-output").attr("role","log").appendTo(yb);d.addClass("terminal");if(p.login&&a.isFunction(p.onBeforeLogin))try{!1===
p.onBeforeLogin.call(d,d)&&(Qa=!1)}catch(k){if(J(k,"onBeforeLogin"),!p.exceptionHandler)throw k;}if("string"===typeof g)var Ga=g;else if(g instanceof Array)for(var Ta=0,Fb=g.length;Ta<Fb;++Ta)if("string"===typeof g[Ta]){Ga=g[Ta];break}!Ga||"string"!==typeof p.login&&!0!==p.login||(p.login=W(Ga,p.login));na.append(d);d.on("focus.terminal","textarea",function(a,c){ka||c||d.enable()});a(document).on("paste.terminal_"+d.id(),function(a){a=a.originalEvent;if(a.clipboardData&&d.enabled()){var c=a.clipboardData.items;
if(c)for(a=0;a<c.length;a++)if(-1!==c[a].type.indexOf("image")){var e=c[a].getAsFile();e=(window.URL||window.webkitURL).createObjectURL(e);d.echo('<img src="'+e+'"/>',{raw:!0})}else-1!==c[a].type.indexOf("text/plain")&&c[a].getAsString(d.insert);else a.clipboardData.getData&&(c=a.clipboardData.getData("text/plain"),d.insert(c));return!1}});e(g,!!p.login,function(e){function g(c){!a(c.target).closest(".terminal").length&&d.enabled()&&!1!==p.onBlur.call(d,d)&&d.disable()}function h(){if(d.is(":visible")){var a=
d.width(),c=d.height();vb===c&&bb===a||d.resize();vb=c;bb=a}}function k(){U&&U.unobserve(d[0]);U=new IntersectionObserver(function(){d.is(":visible")?(d.resizer("unbind").resizer(h),h()):d.disable()},{root:document.body});U.observe(d[0])}function l(c){var e=na.get()[c[0]];if(e&&sb===e.id()&&c[2])try{if(Fa){var g=a.Deferred();y.push(function(){return e.exec(c[2]).done(function(){e.save_state(c[2],!0,c[1]);g.resolve()})});return g.promise()}return e.exec(c[2]).done(function(){e.save_state(c[2],!0,c[1])})}catch(ea){var h=
e.settings();a.isFunction(h.exceptionHandler)?h.exceptionHandler.call(d,ea,"EXEC HASH"):(h=a.terminal.escape_brackets(cb),e.error("Error while exec with command "+h).exception(ea))}}function q(c,e){if(!w){var g=M.top();if(a.isFunction(g.mousewheel)){if(g=g.mousewheel(c,e,d),!1===g)return}else if(a.isFunction(p.mousewheel)&&(g=p.mousewheel(c,e,d),!1===g))return;0<e?d.scroll(-40):d.scroll(40)}}if(p.completion&&"boolean"!==typeof p.completion||!p.completion)e.completion="settings";var n=a.extend({},
wb,p.keymap||{});M=new z(a.extend({},p.extra,{name:p.name,prompt:p.prompt,keypress:p.keypress,keydown:p.keydown,resize:p.onResize,greetings:p.greetings,mousewheel:p.mousewheel,keymap:n},e));E=a("<div/>").appendTo(yb).cmd({prompt:p.prompt,history:p.memory?"memory":p.history,historyFilter:p.historyFilter,historySize:p.historySize,width:"100%",enabled:ka&&!zb,keydown:ua,keymap:n,clickTimeout:p.clickTimeout,keypress:function(c){var e=M.top();if(ka&&(!Fa||!p.pauseEvents)){if(a.isFunction(e.keypress))return e.keypress.call(d,
c,d);if(a.isFunction(p.keypress))return p.keypress.call(d,c,d)}},onCommandChange:function(c){if(a.isFunction(p.onCommandChange))try{p.onCommandChange.call(d,c,d)}catch(Za){if(J(Za,"onCommandChange"),!p.exceptionHandler)throw Za;}ia()},commands:ib});ka&&d.is(":visible")&&!zb?d.focus(c,!0):d.disable();d.oneTime(100,function(){a(document).bind("click.terminal_"+d.id(),g).bind("contextmenu.terminal_"+d.id(),g)});a(window);document.addEventListener("resume",function(){d.disable()});zb?d.click(function(){d.enabled()||
Aa?d.focus(!1):(d.focus(),E.enable())}):(function(){var c=0,e=!1,g,h="click_"+d.id();d.mousedown(function(h){g=a(h.target);if(2!==h.originalEvent.button)d.oneTime(1,function(){a(window).on("mousemove.terminal_"+d.id(),function(){e=!0;c=0;a(window).off("mousemove.terminal_"+d.id())})})}).mouseup(function(){var k=e;e=!1;a(window).off("mousemove.terminal_"+d.id());if(!k)if(1===++c)if(d.enabled()||Aa)d.oneTime(p.clickTimeout,h,function(){if(g.is(".terminal")||g.is(".terminal-wrapper")){var a=d.get_command().length;
d.set_position(a)}else g.closest(".prompt").length&&d.set_position(0);c=0});else E.enable(),c=0;else d.stopTime(h),c=0}).dblclick(function(){c=0;d.stopTime(h)})}(),function(){var a=d.find("textarea");d.on("mousedown.terminal",function(c){if(2===c.originalEvent.button){d.enabled()||d.enable();c.preventDefault();var e=E.offset();a.css({left:c.pageX-e.left-5,top:c.pageY-e.top-5})}});d.bind("contextmenu",function(){d.oneTime(100,function(){a.css({left:"",top:""})})})}());d.delegate(".exception a","click",
function(c){var d=a(this).attr("href");d.match(/:[0-9]+$/)&&(c.preventDefault(),u(d))});d.is(":visible")&&(P=d.cols(),E.resize(P),da||(da=fb()),wa=ca(d,da));pb.resolve();p.login?d.login(p.login,!0,Ca):Ca();d.is(":visible")&&d.resizer(h);var r=!!d.closest("body").length;e=window.MutationObserver||window.WebKitMutationObserver;window.IntersectionObserver&&(e&&(T=new e(function(){d.closest("body").length?(r||(d.scroll_to_bottom(),k()),r=!0):r&&(r=!1)}),T.observe(document.body,{childList:!0})),r&&k());
p.execHash?location.hash?setTimeout(function(){try{var a=location.hash.replace(/^#/,"");Ba=JSON.parse(decodeURIComponent(a));var c=0;(function ab(){var a=Ba[c++];a?l(a).done(ab):sa=!0})()}catch(rb){}}):sa=!0:sa=!0;var w=!1;a(document).bind("keydown.terminal_"+d.id(),function(a){a.shiftKey&&(w=!0)}).bind("keyup.terminal_"+d.id(),function(a){if(a.shiftKey||16===a.which)w=!1});if(a.event.special.mousewheel)d.on("mousewheel",function(a,c){q(a,c);a.preventDefault()});else{var x="onwheel"in document.createElement("div")?
"wheel":document.onmousewheel!==c?"mousewheel":"DOMMouseScroll";d.on(x,function(a){q(a,-("mousewheel"===x?-.025*a.originalEvent.wheelDelta:a.originalEvent.deltaY||a.originalEvent.detail));return!1})}});d.data("terminal",d);return d}});/*
 Autosize 4.0.0
 license: MIT
 http://www.jacklmoore.com/autosize
*/
!function(a,c){if("function"==typeof define&&define.amd)define(["exports","module"],c);else if("undefined"!=typeof exports&&"undefined"!=typeof module)c(exports,module);else{var l={exports:{}};c(l.exports,l);a.autosize=l.exports}}(this,function(a,c){function l(a){function c(){var c=window.getComputedStyle(a,null);"vertical"===c.resize?a.style.resize="none":"both"===c.resize&&(a.style.resize="horizontal");C="content-box"===c.boxSizing?-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):parseFloat(c.borderTopWidth)+
parseFloat(c.borderBottomWidth);isNaN(C)&&(C=0);q()}function g(c){var g=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=g;a.style.overflowY=c}function h(a){for(var c=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&c.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return c}function l(){var c=a.style.height,g=h(a),l=document.documentElement&&document.documentElement.scrollTop;a.style.height="";var q=a.scrollHeight+C;return 0===a.scrollHeight?
void(a.style.height=c):(a.style.height=q+"px",Pa=a.clientWidth,g.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(l&&(document.documentElement.scrollTop=l)))}function q(){l();var c=Math.round(parseFloat(a.style.height)),h=window.getComputedStyle(a,null),q="content-box"===h.boxSizing?Math.round(parseFloat(h.height)):a.offsetHeight;if(q!==c?"hidden"===h.overflowY&&(g("scroll"),l(),q="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight):"hidden"!==
h.overflowY&&(g("hidden"),l(),q="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight),ca!==q){ca=q;c=B("autosize:resized");try{a.dispatchEvent(c)}catch(mb){}}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!u.has(a)){var C=null;var Pa=a.clientWidth;var ca=null;var Sa=function(){a.clientWidth!==Pa&&q()},Xa=function(c){window.removeEventListener("resize",Sa,!1);a.removeEventListener("input",q,!1);a.removeEventListener("keyup",q,!1);a.removeEventListener("autosize:destroy",
Xa,!1);a.removeEventListener("autosize:update",q,!1);Object.keys(c).forEach(function(g){a.style[g]=c[g]});u["delete"](a)}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",Xa,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",q,!1);window.addEventListener("resize",Sa,!1);a.addEventListener("input",q,!1);a.addEventListener("autosize:update",q,!1);a.style.overflowX=
"hidden";a.style.wordWrap="break-word";u.set(a,{destroy:Xa,update:q});c()}}function g(a){(a=u.get(a))&&a.destroy()}function h(a){(a=u.get(a))&&a.update()}var u="function"==typeof Map?new Map:function(){var a=[],c=[];return{has:function(c){return-1<a.indexOf(c)},get:function(g){return c[a.indexOf(g)]},set:function(g,h){-1===a.indexOf(g)&&(a.push(g),c.push(h))},"delete":function(g){g=a.indexOf(g);-1<g&&(a.splice(g,1),c.splice(g,1))}}}(),B=function(a){return new Event(a,{bubbles:!0})};try{new Event("test")}catch(q){B=
function(a){var c=document.createEvent("Event");return c.initEvent(a,!0,!1),c}}var C=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(C=function(a){return a},C.destroy=function(a){return a},C.update=function(a){return a}):(C=function(a,c){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return l(a,c)}),a},C.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],g),a},C.update=function(a){return a&&Array.prototype.forEach.call(a.length?
a:[a],h),a});c.exports=C});var def_conf={application:{name:"Tooterminal",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{monitor:"local",status:{}}},config,instances,prompt,term_mode,mode_global,mode_configuration,mode_instance,enterCommand=function(a,c){a=a.trim();0!==a.length&&!0!==term_mode.execute(a,c)&&c.error(term_mode.result.message)},completion=function(a,c){var l=term_mode.getCompletion(a);1===l.length?$.terminal.active().set_command(term_mode.completion):c(l)},
initConfig=function(a){a=localStorage;var c=a.getItem("configuration");c?config=JSON.parse(c):(console.log("Initialization: read default config"),config=def_conf);instances=(c=a.getItem("instances"))?JSON.parse(c):{}},filterKey=function(a,c){if(63===a.charCode){var l=term_mode.information(c.get_command()).map(function(a){return"undefined"===typeof a.command?a:"  "+tab(a.command,a.description,30)});l.unshift(c.get_prompt()+c.get_command()+"?");l.push("");more(c,l,!0);var g=c.get_command();c.set_command("");
setTimeout(function(){c.set_command(g)},10)}},parseCommand=function(a,c){term_mode.parse(a.replace(/\?$/,""))},tl;
$(function(){mode_global=new ModeManager(new GlobalModeElement);mode_configuration=new ModeManager(new ConfigurationModeElement);mode_instance=new ModeManager(new InstanceModeElement);term_mode=mode_global;tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:'=== CLI\u753b\u9762\u98a8 \u30de\u30b9\u30c8\u30c9\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 "Tooterminal" ===\n\n\u4f7f\u3044\u65b9\u306f"help"\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f"?"\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n',login:!1,
onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function(a){a.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function(a){return!1},onResume:!1,onCommandChange:parseCommand});$("#toot").on("keydown",function(a){27===a.keyCode?($("#sid").text(""),$("#reply").hide(),$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+\s?/,"")),$("#toot").slideUp("first")):13===a.keyCode&&
a.ctrlKey?post_status():$("#toot_box").val().match(/^@[0-9a-zA-Z_]+/)&&""===$(".reply #sid").text()&&$("#toot_visibility").val("unlisted")}).on("paste",function(c){if(!(4<=$(".toot_media img").length)&&"undefined"!==typeof c.originalEvent.clipboardData&&"undefined"!==typeof c.originalEvent.clipboardData.types&&1===c.originalEvent.clipboardData.types.length&&"Files"===c.originalEvent.clipboardData.types[0]){c=c.originalEvent.clipboardData.items[0].getAsFile();var l=new FormData,g=instances[instance_name],
h=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+h));l.append("file",c);$.ajax("https://"+g.domain+"/api/v1/media",{type:"POST",contentType:!1,processData:!1,headers:{Authorization:g.token_type+" "+g.access_token},data:l}).then(function(c,g,l){$("#media_"+h).attr("data-id",c.id).attr("data-url",c.text_url);g=new Image;g.onload=function(){$("#media_"+h).attr("src",c.preview_url);$("#toot_box").val($("#toot_box").val()+" "+c.text_url);autosize.update($("#toot_box"));
a()};g.onerror=function(a){console.log(a)};g.src=c.preview_url},function(a,c,g){$.terminal.active().error("Media upload error.("+a.status+")");$("#media_"+h).remove();console.log(a)})}});$("#toot").on("dragenter",function(a){});var a=function(){var a=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>a?"#F00":"#bbb").text(a)};$("#toot_cw").on("keyup",a);$("#toot_box").on("keyup",a);$("#toot_post").on("click",function(){post_status()});$("#help_close").on("click",
function(){$("#help").slideUp("first");$.terminal.active().focus()});$("#reply_close").on("click",function(a){$("#sid").text("");$("#reply").hide();$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+\s?/,""))});$(".img_background").on("click",function(){$("#img_view").fadeOut("first");$(".img_background").fadeOut("first");$.terminal.active().enable()});$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("mouseover",".status",function(){"undefined"===typeof getConfig(config,
"instances.status.thumbnail",def_conf)&&$(this).find(".status_thumbnail").show()}).on("mouseout",".status",function(){"undefined"===typeof getConfig(config,"instances.status.thumbnail",def_conf)&&$(this).find(".status_thumbnail").hide()}).on("click",".status",function(a){$(this).hasClass("status_deleted")||($(this).data("sid"),a.shiftKey&&($("#toot").slideDown("first"),$("#toot_box").focus().val("@"+$(this).data("acct").toString()+" "),$("#reply").show(),$("#sid").text($(this).data("sid")),$("#reply_head").text("reply to: "+
$(this).data("dispname")),$("#reply_body").text($(this).find("#status_contents")[0].textContent),$($(this).find(".status_head i")[2]).hasClass("fa-envelope")&&$("#toot_visibility").val("direct")),a.ctrlKey&&favorite(this),a.altKey&&boost(this))}).on("click",".status_contents img",function(a){var c=$(this);a=new Image;a.onload=function(){$("#img_view").attr("src",c.data("url")).fadeIn("first")};a.onerror=function(a){console.log(a)};$(".img_background").fadeIn("first");$.terminal.active().disable();
a.src=c.data("url")}).on("keydown.img_background",function(a){27===a.keyCode&&$(".img_background").trigger("click")}).on("click",".status_enquete span",function(a){$.terminal.active().echo("\u307e\u3060\u6295\u7968\u3067\u304d\u306a\u3044\u3067\u3059\u3002\u3002\u3002")}).on("click",".toot_media img",function(a,l,g){$(a.target).remove();$("#toot_box").val($("#toot_box").val().replace($(a.target).data("url"),""))}).on("keydown",function(a){65===a.keyCode&&a.altKey&&term_mode===mode_instance&&"none"===
$("#toot").css("display")&&$.terminal.active().exec("toot")});autosize($("#toot_box"))});function getConfig(a,c,l){c=c.split(".");for(var g=0;g<c.length;g++)if("undefined"!==typeof a[c[g]])a=a[c[g]];else{a=void 0;break}if("undefined"!==typeof a)return a;a="undefined"!==typeof l?l:def_conf;for(g=0;g<c.length&&(a=a[c[g]],"undefined"!==typeof a);g++);return a}
function makeStatus(a){var c=new Date(a.created_at),l="undefined"!==typeof a.reblog&&null!==a.reblog;var g="mention"===a.type;var h=l?a.reblog:g?a.status:a;c=(l?$.terminal.format("[[i;;]reblogged by "+a.account.display_name+" @"+a.account.acct+"]")+"<br />":"")+"[ "+("undefined"===typeof h.account.display_name?"":h.account.display_name)+" @"+h.account.acct+" "+$("<i />").addClass("fa fa-"+(h.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+
(h.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===h.visibility?"globe":"unlisted"===h.visibility?"unlock":"private"===h.visibility?"lock":"direct"===h.visibility?"envelope":"question")).attr("aria-hidden","true").prop("outerHTML")+" "+c.getFullYear()+"-"+("0"+(c.getMonth()+1)).slice(-2)+"-"+("0"+c.getDate()).slice(-2)+" "+("0"+c.getHours()).slice(-2)+":"+("0"+c.getMinutes()).slice(-2)+":"+("0"+c.getSeconds()).slice(-2)+
"."+("00"+c.getMilliseconds()).slice(-3)+" ]"+(null!==h.application?" from "+h.application.name:"");a=$("<td />").addClass("status_avatar");g=getConfig(config,"instances.status.avatar",def_conf);"undefined"!==typeof g?(a.append($("<img />").attr("name","img_"+h.account.id)),l=new Image,l.onload=function(){$("[name=img_"+h.account.id+"]").attr("src",h.account.avatar_static)},l.onerror=function(a){console.log(a)},l.src=h.account.avatar_static):a.hide();if("undefined"!==typeof h.enquete&&null!==h.enquete){g=
JSON.parse(h.enquete);l=$("<div />").append(g.question.replace(/<p>(.*?)<\/p>/g,"<p><span>$1"+("enquete"===g.type?"(\u56de\u7b54\u67a0)":"(\u7d50\u679c)")+"</span></p>"));for(var u=$("<div />").addClass("status_"+g.type),B=0;B<g.items.length;B++)"enquete"===g.type?u.append($("<span />").html(g.items[B])):u.append($("<span />").append($("<span />").addClass("progress").text(g.items[B])).append($("<span />").addClass("proceed").css("width",g.ratios[B].toString()+"%")));l.append(u)}else l=h.content,
l.match(/^<.+>$/)&&(l=l.replace(/<p>(.*?)<\/p>/g,"<p><span>$1</span></p>"));if(0<h.media_attachments.length){var C=$("<div />").addClass("status_thumbnail");h.media_attachments.forEach(function(a,c,g){var h="media_"+a.id;C.append($("<img />").attr("id",h).attr("data-url",a.url));c=new Image;c.onload=function(){$("#"+h).attr("src",a.preview_url)};c.onerror=function(a){console.log(a)};c.src=a.preview_url});g=getConfig(config,"instances.status.thumbnail",def_conf);"undefined"===typeof g&&C.hide()}g=
$("<div />").addClass("status_contents").attr("id","status_contents");if(h.sensitive){var q=$("<div />");0<h.spoiler_text.length?(g.append($.terminal.format(h.spoiler_text)),q.append(l)):g.append(l);"undefined"!==typeof C&&q.append(C)}else 0<h.spoiler_text.length?(g.append($.terminal.format(h.spoiler_text)),q=$("<div />"),q.append(l)):g.append(l),"undefined"!==typeof C&&g.append(C);"undefined"!==typeof q&&g.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(q.hide());
q=$("<td />").addClass("status_main").append($("<div />").addClass("status_head").html($.terminal.format(c))).append(g);return $("<table />").attr("name","id_"+h.id).attr("data-sid",h.id).attr("data-instance",instance_name).attr("data-uid",h.account.id).attr("data-dispname",h.account.display_name).attr("data-acct",h.account.acct).attr("data-fav",h.favorited?"1":"0").attr("data-reb",h.reblogged?"1":"0").addClass("status").append(a).append(q).prop("outerHTML")}
function post_status(){var a=$("#toot_box").val().trim(),c=$("#toot_cw").val().trim(),l=$("#toot_visibility").val();l={status:a,visibility:l};var g=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===a.length||0>g||"undefined"===typeof instances[instance_name]&&"undefined"===typeof instances[instance_name].access_token)return!1;0!==c.length&&(l.spoiler_text=c);a=$(".reply #sid").text();""!==a&&(l.in_reply_to_id=a);l.media_ids=[];a=$("#toot_media img");for(c=0;c<a.length;c++)l.media_ids.push($(a[c]).data("id"));
return $.ajax({url:"https://"+instances[instance_name].domain+"/api/v1/statuses",type:"POST",headers:{Authorization:instances[instance_name].token_type+" "+instances[instance_name].access_token},data:l}).then(function(a,c,g){a=getConfig(config,"instances.visibility",def_conf);"undefined"===typeof a&&(a="public");$("#toot_cw").val("");$("#toot_box").val("").trigger("keyup");$("#toot_visibility").val(a);$("#reply_close").trigger("click");$("#toot_media").html("");autosize.update($("#toot_box"));$("#toot").slideUp("fast");
$("#timeline").focus()},function(a,c,g){$.terminal.active().error("Toot post error.("+a.status+")");console.log(a)})}
function callAPI(a,c){c=void 0===c?{}:c;var l="undefined"===typeof c.instance_name?instances[instance_name]:instances[c.instance_name];"undefined"===typeof a?(l=new $.Deffered,l.reject("Undefined path")):"undefined"===typeof l?(l=new $.Deffered,l.reject("No instance")):"undefined"===typeof l.access_token?(l=new $.Deffered,l.reject("No login")):l=$.ajax({url:"https://"+l.domain+a,type:"undefined"!==typeof c.type?c.type:"GET",headers:{Authorization:l.token_type+" "+l.access_token},data:typeof c.data?
c.data:"",dataType:"json"});return l}
function favorite(a,c){var l=1==$(a).data("fav"),g="/api/v1/statuses/"+$(a).data("sid").toString()+(l?"/unfavourite":"/favourite");"undefined"===typeof c&&(c=$.terminal.active());callAPI(g,{instance_name:$(a).data("instance"),type:"POST"}).then(function(g,u,B){u=$("[name=id_"+$(a).data("sid").toString()+"]").find("i")[0];$(u).removeClass().addClass("fa fa-"+(g.favourited?"star":"star-o"));$(a).data("fav",g.favourited?"1":"0");l===g.favourited&&c.error("favourited missed...")},function(a,c,g){$.terminal.active().error("Favorite failed.("+
a.status+")");console.log(a)})}
function boost(a){var c=1==$(a).data("reb"),l="/api/v1/statuses/"+$(a).data("sid").toString()+(c?"/unreblog":"/reblog");"undefined"===typeof term&&(term=$.terminal.active());callAPI(l,{instance_name:$(a).data("instance"),type:"POST"}).then(function(g,h,l){h=$("[name=id_"+$(a).data("sid").toString()+"]").find("i")[1];$(h).removeClass().addClass("fa fa-"+(g.reblogged?"check-circle-o":"retweet"));$(a).data("reb",g.reblogged?"1":"0");c===g.reblogged&&term.error("reblogged missed...")},function(a,c,l){$.terminal.active().error("Reblogged failed.("+
a.status+")");console.log(a)})}function tab(a,c,l){var g=escape(a).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x").length;for(a=l<=g?a.substr(0,l-4)+"... ":a;g<l;g++,a+=" ");return a+c}String.prototype.addTab=function(a,c){return tab(a,this,c)};
function more(a,c,l){var g=a.rows(),h=a.get_command(),u=0;a.push(function(a,c){},{name:"more",prompt:"--More-- ",onStart:function(a){a.echo(c.slice(u,u+g).join("\n"));u+=g;u>c.length&&(a.pop(),l&&a.set_command(h));a.resume()},keydown:function(a,C){switch(a.keyCode){case 81:C.pop();l&&C.set_command(h);break;case 13:C.echo(c.slice(u,u+1).join("\n"));u++;u>c.length&&(C.pop(),l&&C.set_command(h));break;default:C.echo(c.slice(u,u+g).join("\n")),u+=g,u>c.length&&(C.pop(),l&&C.set_command(h)),C.set_command("")}return!1}})}
function begin(a,c,l,g){var h;for(h=0;h<c.length&&!c[h].match(g);h++);more(a,c.slice(h),l,g)}function include(a,c,l,g){for(var h=[],u=0;u<c.length;u++)c[u].match(g)&&h.push(c[u]);more(a,h,l)}function exclude(a,c,l,g){for(var h=[],u=0;u<c.length;u++)c[u].match(g)||h.push(c[u]);more(a,h,l)};var ModeManager=function(){function a(a){this.element=a;this.dataset=a.dataset;this.parse("")}a.prototype.execute=function(a,l){var c=this.parse(a);return c.is_parsed?""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"!==typeof c.cmd_list[0].execute?(console.log("ElementError: Undefined execution function."),12034):c.cmd_list[0].execute(l,this):(console.log("AnalyzeError: "+c.message),c.code)};a.prototype.getCompletion=function(a){a=this.result.cmd_list;
for(var c=[],g=0;g<a.length;g++)c.push("paramater"==a[g].type?"<"+a[g].name+">":"number"==a[g].type?"["+a[g].name+"]":a[g].name);return c};a.prototype.information=function(a){var c=this.parse(a).cmd_list;a=["Exec commands:"];for(var g,h=0;h<c.length;h++)g="paramater"==c[h].type?"<"+c[h].name+">":"number"==c[h].type?"["+c[h].name+"]":c[h].name,a.push({command:g,description:c[h].description});c=this.line_parsed[this.line_parsed.length-1];"undefined"!==typeof c&&"function"===typeof c.execute&&"paramater"!==
c.type&&(2===a.length&&a.pop(),a.push({command:"<cr>",description:""}));return a};a.prototype.parse=function(a,l){void 0===l&&(l=0);this.line=a;this.line_split=a.replace(/ +/g," ").split(" ");this.line_parsed=[];this.is_parsed=!0;this.err_code=0;this.err_msg="";this.position=l;this.completion="";this.cmd_list=this.dataset;this.paramaters={};var c,h="";if(0>=a.length)return this.result;if(a.match(/^!/))return this.is_parsed=!1,this.err_code=4097,this.err_msg="comment",this.result;for(c=this.position;c<=
a.length;c++){var u=a.charAt(c);if(" "===u){for(h="";u=a.charAt(++c)," "===u&&""!==u;);this.completion=a.substring(0,c);if(1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===typeof this.cmd_list[0].children?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938;this.err_msg='% Ambiguous command:  "'+this.line+'"';break}}if(""===u)break;h+=u;u=[];for(var B=0;B<this.cmd_list.length;B++)if("command"===this.cmd_list[B].type)this.cmd_list[B].name.match(new RegExp("^"+
h,"i"))&&u.push(this.cmd_list[B]);else if("paramater"===this.cmd_list[B].type)u.push(this.cmd_list[B]);else if("description"===this.cmd_list[B].type){if(1===this.cmd_list.length){c=a.length;break}}else return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[B].type+"'",this.result;this.cmd_list=u;if(0===this.cmd_list.length){this.is_parsed=!1;this.err_code=7937;for(h="";h.length<c;h+=" ");h+=$.terminal.active().get_prompt().replace(/\S/g," ");this.err_msg=h+"^\n% Invalid input detected at '^' marker.";
this.cmd_list=[];break}}this.position=c;if(1===this.cmd_list.length)for(this.line_parsed.push(this.cmd_list[0]),"undefined"===typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command."),c=0;c<this.line_parsed.length;c++)"paramater"===this.line_parsed[c].type&&(this.paramaters[this.line_parsed[c].name]=this.line_split[c]);this.completion=1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+(this.cmd_list[0].name+" "):this.line;
return this.result};Object.defineProperty(a.prototype,"func_name",{get:function(){if(0!==this.err_code)return"";var a=this.line_parsed[this.line_parsed.length-1];return"undefined"===typeof a.execute?"":a.execute},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"result",{get:function(){return{is_parsed:this.is_parsed,cmd_list:this.cmd_list,code:this.err_code.toString(16),message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0});a.prototype.debug=
function(){console.log("**************************************************");console.log("===== line");console.log(this.line);console.log("===== line_parsed");console.log(this.line_parsed);console.log("===== is_parsed");console.log(this.is_parsed);console.log("===== err_code");console.log(this.err_code.toString(16));console.log("===== err_msg");console.log(this.err_msg);console.log("===== line.length");console.log(this.line.length);console.log("===== position");console.log(this.position);console.log("===== completion");
console.log(this.completion);console.log("===== dataset");console.log(this.dataset);console.log("===== cmd_list");console.log(this.cmd_list)};return a}();var GlobalModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5b9a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-configuration",description:"\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-configuration",description:"\u4fdd\u5b58\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",
execute:this.show_startup_config},{type:"command",name:"version",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73fe\u5728\u6642\u523b\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_clock}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002",execute:this.entry_instance}]},{type:"command",name:"delete",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d",execute:this.delete_instance}]}]},{type:"command",name:"configure",
description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",children:[{type:"command",name:"terminal",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",
execute:this.clear},{type:"command",name:"write",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory,children:[{type:"command",name:"memory",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002",children:[{type:"command",name:"display-size",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u30b5\u30a4\u30ba\u3092\u81ea\u52d5\u8abf\u6574\u3057\u307e\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30d8\u30eb\u30d7\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.help}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.show_running_config=function(a,l){var c=JSON.stringify(config,null,"    ");a.echo(c);return!0};a.prototype.show_startup_config=function(a,l){var c;(c=localStorage.getItem("configuration"))?(c=JSON.parse(c),c=JSON.stringify(c,null,"    ")):
c="startup-config is not present";a.echo(c);return!0};a.prototype.show_version=function(a,l){a.echo("version 0.2.2 (updated at 2017-08-25)");return!0};a.prototype.reset_display_size=function(a,l){a.resize(window.innerWidth-36,window.innerHeight-36);return!0};a.prototype.show_instance_statistics=function(a,l){var c=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],h=0;for(ins in instances)c.push(("| "+("undefined"!==
typeof instances[ins].user?"@"+instances[ins].user.username:"")).addTab("|  "+(instances[ins].application.scopes.read?"r":"-")+(instances[ins].application.scopes.write?"w":"-")+(instances[ins].application.scopes.follow?"f":"-"),8).addTab("| "+instances[ins].domain,30).addTab(ins,10)),h++;c.push("--------------------------------------------------------------------");c.push(" \u767b\u9332\u4ef6\u6570: "+h+"\u4ef6");c.push("");a.echo(c.join("\n"));return!0};a.prototype.show_instance_detail=function(a,
l){var c=l.paramaters.instance_name;if("undefined"===typeof instances[c])return a.error("instance has no regist"),!1;var h=instances[c];c=["Instance",tab("Name:",c,15),tab("Domain:",h.domain,15),tab("Application:",h.application.name,15),"","Scopes",tab("Read:",h.application.scopes.read,15),tab("Write:",h.application.scopes.write,15),tab("Follow:",h.application.scopes.follow,15),""];more(a,c,!0);return!0};a.prototype.entry_instance=function(a,l){instance_name=l.paramaters.instance_name;if("undefined"===
typeof instances[instance_name])a.push(regist_instance,{prompt:"Input instance domain: "});else{var c="";"undefined"!==typeof instances[instance_name].user&&(c=""+instances[instance_name].user.username+"");c+="@"+instances[instance_name].domain+"# ";a.push(enterCommand,{name:"instance",prompt:c,onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})}return!0};a.prototype.delete_instance=function(a,l){var c=l.paramaters.instance_name,h='Instance "'+c+'" registration will delete! Continue? [confirm]';
if("undefined"===typeof instances[c])return a.error("no instance registration."),!1;a.push(function(g){g=localStorage;delete instances[c];g.setItem("instances",JSON.stringify(instances));a.echo("[OK]");a.echo("Erase of instance: complete");a.pop()},{prompt:h,keypress:function(a,c){c.set_command("");c.echo(h+a.key);c.echo("File system erase is not confirmed or Could not be completed");c.pop()}});return!0};a.prototype.configure_terminal=function(a,l){a.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",
onStart:function(){term_mode=mode_configuration},onExit:function(){term_mode=mode_global},exit:!0});return!0};a.prototype.write_memory=function(a,l){var c=localStorage;a.echo("Building configuration...");c.setItem("configuration",JSON.stringify(config));a.echo("[OK]");return!0};a.prototype.write_erase=function(a,l){a.push(function(c){localStorage.removeItem("configuration");a.echo("[OK]");a.echo("Erase of nvram: complete");a.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",
keypress:function(a,c){c.set_command("");c.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+a.key);c.echo("File system erase is not confirmed or Could not be completed");c.pop()}})};a.prototype.reload=function(a,l){location.reload();return!0};a.prototype.clear=function(a,l){a.clear();return!0};a.prototype.show_clock=function(a,l){a.echo(Date().toString());return!0};a.prototype.help=function(a,l){$("#help").slideDown("first");a.disable();$(document).on("keydown.help",
function(a){27===a.keyCode&&$("#help_close").trigger("click")});return!0};return a}(),cnt,instance_name,regist_instance=function(a,c){a=a.trim();a.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/)?0<a.length&&(c.pause(),$.ajax({url:"https://"+a+"/api/v1/apps",dataType:"json",type:"POST",data:{client_name:config.application.name,redirect_uris:config.application.uris,website:"https://wd-shiroma.github.io/tooterminal",scopes:(config.application.scopes.read?"read ":"")+(config.application.scopes.write?
"write ":"")+(config.application.scopes.follow?"follow":"")}}).then(function(l,g,h){instances[instance_name]=config.instances;instances[instance_name].client_id=l.client_id;instances[instance_name].client_secret=l.client_secret;instances[instance_name].domain=a;instances[instance_name].application=config.application;l="@"+instances[instance_name].domain+"# ";c.echo("New instance registed. enter 'login' and regist your access_token");localStorage.setItem("instances",JSON.stringify(instances));c.resume();
c.push(enterCommand,{name:"instance",prompt:l,onStart:function(){term_mode=mode_instance},onExit:function(){term_mode=mode_global},exit:!1})},function(l,g,h){c.error('Failed to connect the instance "'+a+'"');c.resume();console.log(l)})):c.error("domain couldn't unrecognize");c.pop()},ConfigurationModeElement=function(){function a(){this._cmd_mode="configuration";this._dataset=[{type:"command",name:"application",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u767b\u9332\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",
children:[{type:"command",name:"name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"app_name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"read",description:"\u8aad\u307f\u53d6\u308a",execute:this.set_default},
{type:"command",name:"write",description:"\u66f8\u304d\u8fbc\u307f",execute:this.set_default},{type:"command",name:"follow",description:"\u30d5\u30a9\u30ed\u30fc",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",
name:"number(20-80)",description:"\u8868\u793a\u4ef6\u6570(\u30c7\u30d5\u30a9\u30eb\u30c840)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",
description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_default},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},
{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default}]}]},{type:"command",name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_command,children:[{type:"command",name:"animation",description:"\u5e38\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"mouseover",description:"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"public",description:"\u516c\u958b",execute:this.set_command},{type:"command",name:"unlisted",description:"\u975e\u53ce\u5bb9",execute:this.set_command},{type:"command",name:"private",description:"\u975e\u516c\u958b",execute:this.set_command},{type:"command",name:"direct",description:"\u30c0\u30a4\u30ec\u30af\u30c8",execute:this.set_command}]}]},{type:"command",name:"no",description:"\u8a2d\u5b9a\u306e\u524a\u9664\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",
name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u884c\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",
execute:this.set_false},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false}]}]},{type:"command",name:"broadcast-to",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",
name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default}]}]}]},{type:"command",name:"exit",
description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.set_paramater=function(a,l){config.application.name=l.paramaters.app_name;return!0};a.prototype.set_default=function(a,l){var c=config;"no"===l.line_parsed[0].name&&l.line_parsed.shift();for(var h=l.line_parsed.length-1,u=0;u<h;u++)if(c=c[l.line_parsed[u].name],"undefined"===typeof c)return!0;delete c[l.line_parsed[h].name];return!0};a.prototype.set_number=function(a,l){a.echo("executed!");return!0};a.prototype.set_true=
function(a,l){"no"===l.line_parsed[0].name&&l.line_parsed.shift();for(var c="config",h=0;h<l.line_parsed.length;h++)c+="."+l.line_parsed[h].name,"undefined"===eval("typeof "+c)&&eval(c+" = {}");eval(c+" = true");return!0};a.prototype.set_false=function(a,l){"no"===l.line_parsed[0].name&&l.line_parsed.shift();for(var c="config",h=0;h<l.line_parsed.length;h++)c+="."+l.line_parsed[h].name,"undefined"===eval("typeof "+c)&&eval(c+" = {}");eval(c+" = false");return!0};a.prototype.set_command=function(a,
l){for(var c=l.line_parsed.length-1,h=config,u=0;u<c-1;u++)"undefined"===typeof h[l.line_parsed[u].name]&&(h[l.line_parsed[u].name]={}),h=h[l.line_parsed[u].name];"undefined"===typeof l.line_parsed[c].children?h[l.line_parsed[c-1].name]=l.line_parsed[c].name:(h[l.line_parsed[c-1].name]={},h[l.line_parsed[c-1].name][l.line_parsed[c].name]={});return!0};a.prototype.set_broadcast=function(a,l){a.echo("executed!");return!0};a.prototype.exit_configuration=function(a,l){a.pop();return!0};return a}(),ws=
[],InstanceModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"toot",description:"\u66f8\u304d\u8fbc\u307f\u3092\u6295\u7a3f\u3057\u307e\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot},{type:"command",name:"unlisted",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u672a\u53ce\u5bb9" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',
execute:this.toot},{type:"command",name:"private",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u975e\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot}]},{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"user",description:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_user,children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",
children:[{type:"paramater",name:"userid",description:"\u30e6\u30fc\u30b6ID",execute:this.show_user}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_user}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance},{type:"command",name:"authentication",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_authentication},{type:"command",name:"timeline",description:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses},{type:"command",
name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0",children:[{type:"paramater",name:"tag_name",description:"\u30bf\u30b0\u540d",execute:this.show_statuses}]}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",
children:[{type:"paramater",name:"userid",description:"\u30e6\u30fc\u30b6ID",execute:this.show_follows}]}]},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",children:[{type:"paramater",name:"userid",description:"\u30e6\u30fc\u30b6ID",execute:this.show_follows}]}]},{type:"command",name:"statuses",description:"\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",children:[{type:"paramater",name:"userid",description:"\u30e6\u30fc\u30b6ID",execute:this.show_statuses}]}]}]},{type:"command",name:"search",description:"\u30e6\u30fc\u30b6\u30fc\u691c\u7d22\u3092\u884c\u3044\u307e\u3059",children:[{type:"paramater",name:"query",description:"\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",execute:this.search_query}]},{type:"command",name:"login",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002",
execute:this.login},{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"no",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[]}]}]},
{type:"command",name:"monitor",description:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.monitor,children:[]}]}]},{type:"command",name:"clear",
description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.login=function(a,
l){window.open("https://"+instances[instance_name].domain+"/oauth/authorize?response_type=code&client_id="+instances[instance_name].client_id+"&redirect_uri="+instances[instance_name].application.uris+"&scope="+(instances[instance_name].application.scopes.read?"read ":"")+(instances[instance_name].application.scopes.write?"write ":"")+(instances[instance_name].application.scopes.follow?"follow":""),"_blank");a.push(function(a,c){0==a.trim().length&&c.pop();c.pause();c.prompt="";$.ajax({url:"https://"+
instances[instance_name].domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",redirect_uri:instances[instance_name].application.uris,client_id:instances[instance_name].client_id,client_secret:instances[instance_name].client_secret,code:a.trim()}}).then(function(a,c,g){instances[instance_name].access_token=a.access_token;instances[instance_name].token_type=a.token_type;localStorage.setItem("instances",JSON.stringify(instances));return callAPI("/api/v1/accounts/verify_credentials")},
function(a,g,h){c.error("User token updating error.("+a.status+")");console.log(a)}).then(function(a,g,h){c.echo("Hello! "+a.display_name+" @"+a.username);instances[instance_name].user=a;localStorage.setItem("instances",JSON.stringify(instances));c.resume();c.pop();a=instances[instance_name].user.username;a+="@"+instances[instance_name].domain+"# ";$.terminal.active().set_prompt(a)},function(a,g,h){c.error("Getting user status failed.("+a.status+")");c.resume();c.pop()})},{prompt:"Input Authentication Code: "});
return!0};a.prototype.terminal_monitor=function(a,l){if(("undefined"===typeof l.line_parsed[1]||"monitor"===l.line_parsed[1].name)&&(0===ws.length||ws[0].readyStatus>=WebSocket.CLOSING)){monitor="undefined"===typeof l.line_parsed[2]?getConfig(instances[instance_name],"monitor",def_conf.instances):"tag"===l.line_parsed[2].name?l.paramaters.hashtag:l.line_parsed[2].name;var c="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+"&stream=user";
"home"===monitor?(c=new WebSocket(c),c.onmessage=function(c){c=JSON.parse(c.data);if("delete"===c.event&&!1!==getConfig(config,"instances.terminal.logging.delete",def_conf))c=c.payload,a.error("deleted ID:"+c),$("[name=id_"+c+"]").addClass("status_deleted");else if("notification"===c.event){c=JSON.parse(c.payload);var g="favourite"===c.type&&!1!==getConfig(config,"instances.terminal.logging.favourite",def_conf),h="reblog"===c.type&&!1!==getConfig(config,"instances.terminal.logging.reblog",def_conf),
l="notification"===c.type&&!1!==getConfig(config,"instances.terminal.logging.following",def_conf),q="mention"===c.type&&!1!==getConfig(config,"instances.terminal.logging.mention",def_conf);if(g||h||l||q)a.echo("[[;goldenrod;]Notification! : "+c.type+" << "+c.account.display_name+" @"+c.account.acct+"]"),"mention"===c.type?a.echo(makeStatus(c),{raw:!0}):a.echo("[[;goldenrod;]"+$(c.status.content).text()+"]")}else"update"===c.event&&(c=JSON.parse(c.payload),c=makeStatus(c),a.echo(c,{raw:!0}))},c.onopen=
function(){a.echo("Home Streaming start.")},c.onerror=function(c){a.error("Home Streaming error. closed.");console.log(c)},c.onclose=function(){a.echo("Home Streaming closed.")}):(c=new WebSocket(c),c.onmessage=function(c){c=JSON.parse(c.data);if("notification"===c.event){c=JSON.parse(c.payload);var g="favourite"===c.type&&!1!==getConfig(config,"instances.terminal.logging.favourite",def_conf),h="reblog"===c.type&&!1!==getConfig(config,"instances.terminal.logging.reblog",def_conf),l="notification"===
c.type&&!1!==getConfig(config,"instances.terminal.logging.following",def_conf),q="mention"===c.type&&!1!==getConfig(config,"instances.terminal.logging.mention",def_conf);if(g||h||l||q)a.echo("[[;goldenrod;]Notification! : "+c.type+" << "+c.account.display_name+" @"+c.account.acct+"]"),"mention"===c.type?a.echo(makeStatus(c),{raw:!0}):a.echo("[[;goldenrod;]"+$(c.status.content).text()+"]")}},c.onopen=function(){a.echo("Notification Streaming start.")},c.onerror=function(a){console.warn(a)},c.onclose=
function(){a.echo("Notification Streaming closed.")},ws.push(c),c="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+("local"===monitor?"&stream=public:local":"public"===monitor?"&stream=public":"&stream=hashtag&tag="+monitor),c=new WebSocket(c),c.onmessage=function(c){c=JSON.parse(c.data);"delete"===c.event&&!1!==getConfig(config,"instances.terminal.logging.delete",def_conf)?(c=c.payload,a.error("deleted ID:"+c),$("[name=id_"+c+"]").addClass("status_deleted")):
"update"===c.event&&(c=JSON.parse(c.payload),c=makeStatus(c),a.echo(c,{raw:!0}))},c.onopen=function(){a.echo(monitor+" Streaming start.")},c.onerror=function(a){console.warn(a)},c.onclose=function(){a.echo(monitor+" Streaming closed.")});ws.push(c)}else if("no"===l.line_parsed[1].name){for(c=0;c<ws.length;c++)ws[c].close(),ws[c]=void 0;ws=[]}};a.prototype.toot=function(a,l){var c="undefined"!==typeof l.line_parsed[1]?l.line_parsed[1].name:getConfig(config,"instances.visibility",def_conf);"undefined"===
typeof c&&(c="public");$("#toot_visibility").val(c);$("#toot").slideDown("first");$("#toot_box").focus();a.focus(!1)};a.prototype.monitor=function(a,l){instances[instance_name].monitor="tag"===l.line_parsed[1].name?l.paramaters.hashtag:l.line_parsed[1].name;localStorage.setItem("instances",JSON.stringify(instances))};a.prototype.show_user=function(a,l){a.pause();("undefined"===typeof l.line_parsed[2]||"self"===l.line_parsed[2]?callAPI("/api/v1/accounts/verify_credentials",{type:"GET"}):callAPI("/api/v1/accounts/"+
l.paramaters.userid,{type:"GET"})).then(function(c,h,l){h=new Date(c.created_at);l=parseInt((Date.now()-h.getTime())/6E4);var g=l%60,u=(l=(l-g)/60)%24,q=(l=(l-u)/24)%7,Q=(l-q)/7;a.echo(c.display_name+" ID:"+c.id+(c.locked?" is locked":" is unlocked"),{flush:!1});a.echo("Username is "+c.username+", Fullname is "+c.acct,{flush:!1});a.echo("Created at "+h.toString(),{flush:!1});a.echo("Uptime is "+Q+" weeks, "+q+" days, "+u+" hours, "+g+" minutes ("+l+" days have passed)",{flush:!1});a.echo(c.statuses_count+
" statuses posted, "+c.following_count+" accounts are following, "+c.followers_count+" accounts are followed",{flush:!1});a.echo("1 day toot rate "+parseInt(c.statuses_count/l)+" posts/day",{flush:!1});a.echo($.terminal.format("Note:"+c.note),{raw:!0,flush:!1});a.echo("URL: "+c.url,{raw:!1,flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},function(c,h,l){console.log(c);JSON.parse(c.responseText);a.echo("Getting user data failed.("+c+")");a.resume()})};a.prototype.search_query=function(a,
l){a.pause();callAPI("/api/v1/search",{type:"GET",data:{q:l.paramaters.query}}).then(function(c,h,l){h=["User Accounts:","id       | account name                | display name","----------------------------------------------------------"];for(l=0;l<c.accounts.length;l++)h.push(("| "+c.accounts[l].display_name).addTab("| "+c.accounts[l].acct,30).addTab(c.accounts[l].id,9));h.push("----------------------------------------------------------");h.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+c.accounts.length+
"\u4ef6");h.push("");h.push("Hash tags:");h.push("-----------------------------------");for(l=0;l<c.hashtags.length;l++)h.push("#"+c.hashtags[l]);h.push("-----------------------------------");h.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+c.hashtags.length+"\u4ef6");a.echo(h.join("\n"));a.resume()},function(c,h,l){a.error("Search request is failed.("+c.status+")");console.log(c);a.resume()})};a.prototype.show_instance=function(a,l){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(c,h,l){a.echo("Instance name: "+
c.title,{flush:!1});a.echo("Version: "+c.version,{flush:!1});a.echo("Description: "+c.description,{flush:!1});a.echo("E-mail: "+c.email,{flush:!1});a.echo("URI: "+c.uri,{flush:!1});a.flush();a.resume()},function(c,h,l){a.error("Getting instance data is failed.("+c.status+")");console.log(c);a.resume()})};a.prototype.show_authentication=function(a,l){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(c,h,l){c=JSON.stringify(c,null,"    ");a.echo(c);a.resume()},function(c,h,l){console.log(c);
a.resume()})};a.prototype.exit=function(a,l){a.pop()};a.prototype.show_statuses=function(a,l){a.pause();if("timeline"===l.line_parsed[1].name){var c="undefined"===typeof l.line_parsed[2]?"local":l.line_parsed[2].name;var h="/api/v1/timelines/"+("local"===c?"public":c);"undefined"!==typeof l.line_parsed[3]&&(h+="/"+l.paramaters.tag_name);c=callAPI(h,{type:"GET",data:"local"===c?{local:!0}:void 0})}else c=4===l.line_parsed.length&&"id"===l.line_parsed[2].name?callAPI("/api/v1/accounts/"+l.paramaters.userid+
"/statuses",{type:"GET"}):callAPI("/api/v1/statuses",{type:"GET"});c.then(function(c,g,h){for(g=c.length-1;0<=g;g--)h=makeStatus(c[g]),a.echo(h,{raw:!0,flush:!1});a.flush();a.resume()},function(c,g,h){a.error("Getting timeline posts is failed.("+c.status+")");console.log(c);a.resume()})};a.prototype.show_follows=function(a,l){a.pause();callAPI(2===l.line_parsed.length||"self"===l.line_parsed[2].name?"/api/v1/accounts/"+l.line_parsed[1].name:"/api/v1/accounts/"+l.paramaters.userid+"/"+l.line_parsed[1].name,
{type:"GET"}).then(function(c,h,l){h=["Accounts:","id       | account name                | display name","----------------------------------------------------------"];for(l=0;l<c.length;l++)h.push(("| "+c[l].display_name).addTab("| "+c[l].acct,30).addTab(c[l].id,9));h.push("----------------------------------------------------------");h.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+c.length+"\u4ef6");h.push("");a.echo(h.join("\n"));a.resume()},function(c,h,l){a.error("Getting account data is failed.("+
c.status+")");console.log(c);a.resume()})};a.prototype.show_followers=function(a,l){a.pause();callAPI("/api/v1/accounts/"+l.paramaters.userid+"/followers",{type:"GET"}).then(function(c,h,l){c=JSON.stringify(c,null,"    ");a.echo(c);a.resume()},function(c,h,l){a.error("Getting followers data is failed.("+c.status+")");console.log(c);a.resume()})};a.prototype.template=function(a,l){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(c,h,l){c=JSON.stringify(c,null,"    ");a.echo(c);a.resume()},
function(c,h,l){a.error("Getting data is failed.("+c.status+")");console.log(c);a.resume()})};a.prototype.clear=function(a,l){a.clear();return!0};return a}();