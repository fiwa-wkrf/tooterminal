/*
 jQuery v3.2.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function k(c,g){g=g||C;var a=g.createElement("script");a.text=c;g.head.appendChild(a).parentNode.removeChild(a)}function d(c){var g=!!c&&"length"in c&&c.length,a=e.type(c);return"function"!==a&&!e.isWindow(c)&&("array"===a||0===g||"number"==
typeof g&&0<g&&g-1 in c)}function h(c,g){return c.nodeName&&c.nodeName.toLowerCase()===g.toLowerCase()}function m(c,g,a){return e.isFunction(g)?e.grep(c,function(c,q){return!!g.call(c,q,c)!==a}):g.nodeType?e.grep(c,function(c){return c===g!==a}):"string"!=typeof g?e.grep(c,function(c){return-1<G.call(g,c)!==a}):Wb.test(g)?e.filter(g,c,a):(g=e.filter(g,c),e.grep(c,function(c){return-1<G.call(g,c)!==a&&1===c.nodeType}))}function x(c,g){for(;(c=c[g])&&1!==c.nodeType;);return c}function z(c){var g={};
return e.each(c.match(ya)||[],function(c,a){g[a]=!0}),g}function w(c){return c}function r(c){throw c;}function y(c,g,a,u){var q;try{c&&e.isFunction(q=c.promise)?q.call(c).done(g).fail(a):c&&e.isFunction(q=c.then)?q.call(c,g,a):g.apply(void 0,[c].slice(u))}catch(Aa){a.apply(void 0,[Aa])}}function M(){C.removeEventListener("DOMContentLoaded",M);a.removeEventListener("load",M);e.ready()}function ia(){this.expando=e.expando+ia.uid++}function Da(c,g,a){var q;if(void 0===a&&1===c.nodeType)if(q="data-"+
g.replace(Xb,"-$&").toLowerCase(),a=c.getAttribute(q),"string"==typeof a){try{q=a,a="true"===q||"false"!==q&&("null"===q?null:q===+q+""?+q:Ga.test(q)?JSON.parse(q):q)}catch(L){}P.set(c,g,a)}else a=void 0;return a}function Ha(c,g,a,u){var q,b=1,f=20,l=u?function(){return u.cur()}:function(){return e.css(c,g,"")},d=l(),n=a&&a[3]||(e.cssNumber[g]?"":"px"),h=(e.cssNumber[g]||"px"!==n&&+d)&&N.exec(e.css(c,g));if(h&&h[3]!==n){n=n||h[3];a=a||[];h=+d||1;do b=b||".5",h/=b,e.style(c,g,h+n);while(b!==(b=l()/
d)&&1!==b&&--f)}return a&&(h=+h||+d||0,q=a[1]?h+(a[1]+1)*a[2]:+a[2],u&&(u.unit=n,u.start=h,u.end=q)),q}function oa(c,g){for(var a,u,b=[],f=0,l=c.length;f<l;f++)if(u=c[f],u.style)if(a=u.style.display,g){if("none"===a&&(b[f]=D.get(u,"display")||null,b[f]||(u.style.display="")),""===u.style.display&&Ta(u)){a=f;var d=void 0;var h=u.ownerDocument;var n=u.nodeName;h=(u=Pa[n])?u:(d=h.body.appendChild(h.createElement(n)),u=e.css(d,"display"),d.parentNode.removeChild(d),"none"===u&&(u="block"),Pa[n]=u,u);
b[a]=h}}else"none"!==a&&(b[f]="none",D.set(u,"display",a));for(f=0;f<l;f++)null!=b[f]&&(c[f].style.display=b[f]);return c}function ja(c,g){var a;return a="undefined"!=typeof c.getElementsByTagName?c.getElementsByTagName(g||"*"):"undefined"!=typeof c.querySelectorAll?c.querySelectorAll(g||"*"):[],void 0===g||g&&h(c,g)?e.merge([c],a):a}function Ja(c,g){for(var a=0,e=c.length;a<e;a++)D.set(c[a],"globalEval",!g||D.get(g[a],"globalEval"))}function Qa(c,g,a,u,b){for(var q,L,l,d,h=g.createDocumentFragment(),
n=[],k=0,t=c.length;k<t;k++)if(q=c[k],q||0===q)if("object"===e.type(q))e.merge(n,q.nodeType?[q]:q);else if(Ea.test(q)){L=L||h.appendChild(g.createElement("div"));l=(Qb.exec(q)||["",""])[1].toLowerCase();l=A[l]||A._default;L.innerHTML=l[1]+e.htmlPrefilter(q)+l[2];for(l=l[0];l--;)L=L.lastChild;e.merge(n,L.childNodes);L=h.firstChild;L.textContent=""}else n.push(g.createTextNode(q));h.textContent="";for(k=0;q=n[k++];)if(u&&-1<e.inArray(q,u))b&&b.push(q);else if(d=e.contains(q.ownerDocument,q),L=ja(h.appendChild(q),
"script"),d&&Ja(L),a)for(l=0;q=L[l++];)f.test(q.type||"")&&a.push(q);return h}function ka(){return!0}function ua(){return!1}function ob(){try{return C.activeElement}catch(c){}}function hb(c,g,a,u,b,f){var q,L;if("object"==typeof g){"string"!=typeof a&&(u=u||a,a=void 0);for(L in g)hb(c,L,a,u,g[L],f);return c}if(null==u&&null==b?(b=a,u=a=void 0):null==b&&("string"==typeof a?(b=u,u=void 0):(b=u,u=a,a=void 0)),!1===b)b=ua;else if(!b)return c;return 1===f&&(q=b,b=function(c){return e().off(c),q.apply(this,
arguments)},b.guid=q.guid||(q.guid=e.guid++)),c.each(function(){e.event.add(this,g,b,u,a)})}function yb(c,g){return h(c,"table")&&h(11!==g.nodeType?g:g.firstChild,"tr")?e(">tbody",c)[0]||c:c}function cb(c){return c.type=(null!==c.getAttribute("type"))+"/"+c.type,c}function tb(c){var g=ib.exec(c.type);return g?c.type=g[1]:c.removeAttribute("type"),c}function ub(c,g){var a,u,b,f,l,d;if(1===g.nodeType){if(D.hasData(c)&&(a=D.access(c),u=D.set(g,a),d=a.events))for(b in delete u.handle,u.events={},d)for(a=
0,u=d[b].length;a<u;a++)e.event.add(g,b,d[b][a]);P.hasData(c)&&(f=P.access(c),l=e.extend({},f),P.set(g,l))}}function Ba(c,g,a,u){g=zb.apply([],g);var q,b,l,d=0,h=c.length,n=h-1,t=g[0],m=e.isFunction(t);if(m||1<h&&"string"==typeof t&&!J.checkClone&&$b.test(t))return c.each(function(q){var e=c.eq(q);m&&(g[0]=t.call(this,q,e.html()));Ba(e,g,a,u)});if(h&&(q=Qa(g,c[0].ownerDocument,!1,c,u),b=q.firstChild,1===q.childNodes.length&&(q=b),b||u)){b=e.map(ja(q,"script"),cb);for(l=b.length;d<h;d++){var p=q;d!==
n&&(p=e.clone(p,!0,!0),l&&e.merge(b,ja(p,"script")));a.call(c[d],p,d)}if(l)for(q=b[b.length-1].ownerDocument,e.map(b,tb),d=0;d<l;d++)p=b[d],f.test(p.type||"")&&!D.access(p,"globalEval")&&e.contains(q,p)&&(p.src?e._evalUrl&&e._evalUrl(p.src):k(p.textContent.replace(va,""),q))}return c}function pb(c,g,a){for(var q=g?e.filter(g,c):c,b=0;null!=(g=q[b]);b++)a||1!==g.nodeType||e.cleanData(ja(g)),g.parentNode&&(a&&e.contains(g.ownerDocument,g)&&Ja(ja(g,"script")),g.parentNode.removeChild(g));return c}function db(c,
g,a){var q,b,f,l,d=c.style;return a=a||R(c),a&&(l=a.getPropertyValue(g)||a[g],""!==l||e.contains(c.ownerDocument,c)||(l=e.style(c,g)),!J.pixelMarginRight()&&la.test(l)&&Q.test(g)&&(q=d.width,b=d.minWidth,f=d.maxWidth,d.minWidth=d.maxWidth=d.width=l,l=a.width,d.width=q,d.minWidth=b,d.maxWidth=f)),void 0!==l?l+"":l}function qb(c,g){return{get:function(){return c()?void delete this.get:(this.get=g).apply(this,arguments)}}}function vb(c){var g=e.cssProps[c];if(!g){g=e.cssProps;a:{var a=c;if(!(a in pa)){for(var u=
a[0].toUpperCase()+a.slice(1),b=p.length;b--;)if(a=p[b]+u,a in pa)break a;a=void 0}}g=g[c]=a||c}return g}function Ab(c,g,a){return(c=N.exec(g))?Math.max(0,c[2]-(a||0))+(c[3]||"px"):g}function Fb(c,g,a,u,b){var q=0;for(g=a===(u?"border":"content")?4:"width"===g?1:0;4>g;g+=2)"margin"===a&&(q+=e.css(c,a+aa[g],!0,b)),u?("content"===a&&(q-=e.css(c,"padding"+aa[g],!0,b)),"margin"!==a&&(q-=e.css(c,"border"+aa[g]+"Width",!0,b))):(q+=e.css(c,"padding"+aa[g],!0,b),"padding"!==a&&(q+=e.css(c,"border"+aa[g]+
"Width",!0,b)));return q}function Bb(c,g,a){var q,b=R(c),f=db(c,g,b),l="border-box"===e.css(c,"boxSizing",!1,b);return la.test(f)?f:(q=l&&(J.boxSizingReliable()||f===c.style[g]),"auto"===f&&(f=c["offset"+g[0].toUpperCase()+g.slice(1)]),f=parseFloat(f)||0,f+Fb(c,g,a||(l?"border":"content"),q,b)+"px")}function W(c,g,a,e,b){return new W.prototype.init(c,g,a,e,b)}function jb(){qa&&(!1===C.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(jb):a.setTimeout(jb,e.fx.interval),e.fx.tick())}function Gb(){return a.setTimeout(function(){X=
void 0}),X=e.now()}function Xa(c,g){var a=0,e={height:c};for(g=g?1:0;4>a;a+=2-g){var b=aa[a];e["margin"+b]=e["padding"+b]=c}return g&&(e.opacity=e.width=c),e}function Hb(c,g,a){for(var e,q=(wa.tweeners[g]||[]).concat(wa.tweeners["*"]),b=0,f=q.length;b<f;b++)if(e=q[b].call(a,g,c))return e}function Lb(c,g){var a,b,f,l,d;for(a in c)if(b=e.camelCase(a),f=g[b],l=c[a],Array.isArray(l)&&(f=l[1],l=c[a]=l[0]),a!==b&&(c[b]=l,delete c[a]),d=e.cssHooks[b],d&&"expand"in d)for(a in l=d.expand(l),delete c[b],l)a in
c||(c[a]=l[a],g[a]=f);else g[b]=f}function wa(c,g,a){var q,b=0,f=wa.prefilters.length,l=e.Deferred().always(function(){delete d.elem}),d=function(){if(q)return!1;var g=X||Gb();g=Math.max(0,h.startTime+h.duration-g);for(var a=1-(g/h.duration||0),e=0,b=h.tweens.length;e<b;e++)h.tweens[e].run(a);return l.notifyWith(c,[h,a,g]),1>a&&b?g:(b||l.notifyWith(c,[h,1,0]),l.resolveWith(c,[h]),!1)},h=l.promise({elem:c,props:e.extend({},g),opts:e.extend(!0,{specialEasing:{},easing:e.easing._default},a),originalProperties:g,
originalOptions:a,startTime:X||Gb(),duration:a.duration,tweens:[],createTween:function(g,a){var q=e.Tween(c,h.opts,g,a,h.opts.specialEasing[g]||h.opts.easing);return h.tweens.push(q),q},stop:function(g){var a=0,e=g?h.tweens.length:0;if(q)return this;for(q=!0;a<e;a++)h.tweens[a].run(1);return g?(l.notifyWith(c,[h,1,0]),l.resolveWith(c,[h,g])):l.rejectWith(c,[h,g]),this}});a=h.props;for(Lb(a,h.opts.specialEasing);b<f;b++)if(g=wa.prefilters[b].call(h,c,a,h.opts))return e.isFunction(g.stop)&&(e._queueHooks(h.elem,
h.opts.queue).stop=e.proxy(g.stop,g)),g;return e.map(a,Hb,h),e.isFunction(h.opts.start)&&h.opts.start.call(c,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),e.fx.timer(e.extend(d,{elem:c,anim:h,queue:h.opts.queue})),h}function xa(c){return(c.match(ya)||[]).join(" ")}function za(c){return c.getAttribute&&c.getAttribute("class")||""}function kb(c,g,a,b){var q;if(Array.isArray(g))e.each(g,function(g,e){a||Ma.test(c)?b(c,e):kb(c+"["+("object"==
typeof e&&null!=e?g:"")+"]",e,a,b)});else if(a||"object"!==e.type(g))b(c,g);else for(q in g)kb(c+"["+q+"]",g[q],a,b)}function wb(c){return function(g,a){"string"!=typeof g&&(a=g,g="*");var q,b=0,f=g.toLowerCase().match(ya)||[];if(e.isFunction(a))for(;q=f[b++];)"+"===q[0]?(q=q.slice(1)||"*",(c[q]=c[q]||[]).unshift(a)):(c[q]=c[q]||[]).push(a)}}function Ua(c,g,a,b){function q(l){var d;return f[l]=!0,e.each(c[l]||[],function(c,e){var l=e(g,a,b);return"string"!=typeof l||u||f[l]?u?!(d=l):void 0:(g.dataTypes.unshift(l),
q(l),!1)}),d}var f={},u=c===Cb;return q(g.dataTypes[0])||!f["*"]&&q("*")}function fa(c,g){var a,b,f=e.ajaxSettings.flatOptions||{};for(a in g)void 0!==g[a]&&((f[a]?c:b||(b={}))[a]=g[a]);return b&&e.extend(!0,c,b),c}var ra=[],C=a.document,Fa=Object.getPrototypeOf,Ia=ra.slice,zb=ra.concat,n=ra.push,G=ra.indexOf,Na={},Va=Na.toString,ma=Na.hasOwnProperty,ha=ma.toString,U=ha.call(Object),J={},e=function(c,g){return new e.fn.init(c,g)},Mb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ib=/^-ms-/,Db=/-([a-z])/g,rb=
function(c,g){return g.toUpperCase()};e.fn=e.prototype={jquery:"3.2.1",constructor:e,length:0,toArray:function(){return Ia.call(this)},get:function(c){return null==c?Ia.call(this):0>c?this[c+this.length]:this[c]},pushStack:function(c){c=e.merge(this.constructor(),c);return c.prevObject=this,c},each:function(c){return e.each(this,c)},map:function(c){return this.pushStack(e.map(this,function(g,a){return c.call(g,a,g)}))},slice:function(){return this.pushStack(Ia.apply(this,arguments))},first:function(){return this.eq(0)},
last:function(){return this.eq(-1)},eq:function(c){var g=this.length;c=+c+(0>c?g:0);return this.pushStack(0<=c&&c<g?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:n,sort:ra.sort,splice:ra.splice};e.extend=e.fn.extend=function(){var c,g,a,b,f=arguments[0]||{},l=1,d=arguments.length,h=!1;"boolean"==typeof f&&(h=f,f=arguments[l]||{},l++);"object"==typeof f||e.isFunction(f)||(f={});for(l===d&&(f=this,l--);l<d;l++)if(null!=(c=arguments[l]))for(g in c){var n=f[g];var k=c[g];
f!==k&&(h&&k&&(e.isPlainObject(k)||(a=Array.isArray(k)))?(a?(a=!1,b=n&&Array.isArray(n)?n:[]):b=n&&e.isPlainObject(n)?n:{},f[g]=e.extend(h,b,k)):void 0!==k&&(f[g]=k))}return f};e.extend({expando:"jQuery"+("3.2.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(c){throw Error(c);},noop:function(){},isFunction:function(c){return"function"===e.type(c)},isWindow:function(c){return null!=c&&c===c.window},isNumeric:function(c){var g=e.type(c);return("number"===g||"string"===g)&&!isNaN(c-parseFloat(c))},
isPlainObject:function(c){var g,a;return!(!c||"[object Object]"!==Va.call(c))&&(!(g=Fa(c))||(a=ma.call(g,"constructor")&&g.constructor,"function"==typeof a&&ha.call(a)===U))},isEmptyObject:function(c){for(var g in c)return!1;return!0},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?Na[Va.call(c)]||"object":typeof c},globalEval:function(c){k(c)},camelCase:function(c){return c.replace(Ib,"ms-").replace(Db,rb)},each:function(c,g){var a,e=0;if(d(c))for(a=c.length;e<a&&!1!==
g.call(c[e],e,c[e]);e++);else for(e in c)if(!1===g.call(c[e],e,c[e]))break;return c},trim:function(c){return null==c?"":(c+"").replace(Mb,"")},makeArray:function(c,g){var a=g||[];return null!=c&&(d(Object(c))?e.merge(a,"string"==typeof c?[c]:c):n.call(a,c)),a},inArray:function(c,g,a){return null==g?-1:G.call(g,c,a)},merge:function(c,g){for(var a=+g.length,e=0,b=c.length;e<a;e++)c[b++]=g[e];return c.length=b,c},grep:function(c,g,a){for(var e=[],q=0,b=c.length,f=!a;q<b;q++)a=!g(c[q],q),a!==f&&e.push(c[q]);
return e},map:function(c,g,a){var e,q=0,b=[];if(d(c))for(e=c.length;q<e;q++){var f=g(c[q],q,a);null!=f&&b.push(f)}else for(q in c)f=g(c[q],q,a),null!=f&&b.push(f);return zb.apply([],b)},guid:1,proxy:function(c,a){var g,b,f;if("string"==typeof a&&(g=c[a],a=c,c=g),e.isFunction(c))return b=Ia.call(arguments,2),f=function(){return c.apply(a||this,b.concat(Ia.call(arguments)))},f.guid=c.guid=c.guid||e.guid++,f},now:Date.now,support:J});"function"==typeof Symbol&&(e.fn[Symbol.iterator]=ra[Symbol.iterator]);
e.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(c,a){Na["[object "+a+"]"]=a.toLowerCase()});var K=function(c){function a(c,a,g,e){var q,b,f,l,u=a&&a.ownerDocument,d=a?a.nodeType:9;if(g=g||[],"string"!=typeof c||!c||1!==d&&9!==d&&11!==d)return g;if(!e&&((a?a.ownerDocument||a:A)!==E&&ia(a),a=a||E,y)){if(11!==d&&(l=Da.exec(c)))if(q=l[1])if(9===d){if(!(b=a.getElementById(q)))return g;if(b.id===q)return g.push(b),g}else{if(u&&(b=u.getElementById(q))&&Ka(a,
b)&&b.id===q)return g.push(b),g}else{if(l[2])return C.apply(g,a.getElementsByTagName(c)),g;if((q=l[3])&&Z.getElementsByClassName&&a.getElementsByClassName)return C.apply(g,a.getElementsByClassName(q)),g}if(!(!Z.qsa||M[c+" "]||T&&T.test(c))){if(1!==d){u=a;var h=c}else if("object"!==a.nodeName.toLowerCase()){(f=a.getAttribute("id"))?f=f.replace(X,Ha):a.setAttribute("id",f=U);b=Y(c);for(q=b.length;q--;)b[q]="#"+f+" "+O(b[q]);h=b.join(",");u=R.test(c)&&m(a.parentNode)||a}if(h)try{return C.apply(g,u.querySelectorAll(h)),
g}catch(kc){}finally{f===U&&a.removeAttribute("id")}}}return x(c.replace(sb,"$1"),a,g,e)}function e(){function c(g,e){return a.push(g+" ")>V.cacheLength&&delete c[a.shift()],c[g+" "]=e}var a=[];return c}function b(c){return c[U]=!0,c}function f(c){var a=E.createElement("fieldset");try{return!!c(a)}catch(ic){return!1}finally{a.parentNode&&a.parentNode.removeChild(a)}}function l(c,a){for(var g=c.split("|"),e=g.length;e--;)V.attrHandle[g[e]]=a}function d(c,a){var g=a&&c,e=g&&1===c.nodeType&&1===a.nodeType&&
c.sourceIndex-a.sourceIndex;if(e)return e;if(g)for(;g=g.nextSibling;)if(g===a)return-1;return c?1:-1}function h(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function n(c){return function(a){var g=a.nodeName.toLowerCase();return("input"===g||"button"===g)&&a.type===c}}function k(c){return function(a){return"form"in a?a.parentNode&&!1===a.disabled?"label"in a?"label"in a.parentNode?a.parentNode.disabled===c:a.disabled===c:a.isDisabled===c||a.isDisabled!==!c&&ab(a)===c:
a.disabled===c:"label"in a&&a.disabled===c}}function t(c){return b(function(a){return a=+a,b(function(g,e){for(var q,b=c([],g.length,a),f=b.length;f--;)g[q=b[f]]&&(g[q]=!(e[q]=g[q]))})})}function m(c){return c&&"undefined"!=typeof c.getElementsByTagName&&c}function p(){}function O(c){for(var a=0,g=c.length,e="";a<g;a++)e+=c[a].value;return e}function G(c,a,g){var e=a.dir,q=a.next,b=q||e,f=g&&"parentNode"===b,l=B++;return a.first?function(a,g,q){for(;a=a[e];)if(1===a.nodeType||f)return c(a,g,q);return!1}:
function(a,g,u){var d,h,n,L=[na,l];if(u)for(;a=a[e];){if((1===a.nodeType||f)&&c(a,g,u))return!0}else for(;a=a[e];)if(1===a.nodeType||f)if(n=a[U]||(a[U]={}),h=n[a.uniqueID]||(n[a.uniqueID]={}),q&&q===a.nodeName.toLowerCase())a=a[e]||a;else{if((d=h[b])&&d[0]===na&&d[1]===l)return L[2]=d[2];if(h[b]=L,L[2]=c(a,g,u))return!0}return!1}}function I(c){return 1<c.length?function(a,g,e){for(var q=c.length;q--;)if(!c[q](a,g,e))return!1;return!0}:c[0]}function Na(c,a,g,e,q){for(var b,f=[],l=0,u=c.length,d=null!=
a;l<u;l++)(b=c[l])&&(g&&!g(b,e,q)||(f.push(b),d&&a.push(l)));return f}function ba(c,g,e,q,f,l){return q&&!q[U]&&(q=ba(q)),f&&!f[U]&&(f=ba(f,l)),b(function(b,l,u,d){var h,n=[],L=[],k=l.length,t;if(!(t=b)){t=g||"*";for(var ca=u.nodeType?[u]:u,Aa=[],m=0,p=ca.length;m<p;m++)a(t,ca[m],Aa);t=Aa}t=!c||!b&&g?t:Na(t,n,c,u,d);ca=e?f||(b?c:k||q)?[]:l:t;if(e&&e(t,ca,u,d),q){var O=Na(ca,L);q(O,[],u,d);for(u=O.length;u--;)(h=O[u])&&(ca[L[u]]=!(t[L[u]]=h))}if(b){if(f||c){if(f){O=[];for(u=ca.length;u--;)(h=ca[u])&&
O.push(t[u]=h);f(null,ca=[],O,d)}for(u=ca.length;u--;)(h=ca[u])&&-1<(O=f?da(b,h):n[u])&&(b[O]=!(l[O]=h))}}else ca=Na(ca===l?ca.splice(k,ca.length):ca),f?f(null,l,ca,d):C.apply(l,ca)})}function Va(c){var a,g,e=c.length,q=V.relative[c[0].type];var b=q||V.relative[" "];for(var f=q?1:0,l=G(function(c){return c===a},b,!0),u=G(function(c){return-1<da(a,c)},b,!0),d=[function(c,g,e){c=!q&&(e||g!==J)||((a=g).nodeType?l(c,g,e):u(c,g,e));return a=null,c}];f<e;f++)if(b=V.relative[c[f].type])d=[G(I(d),b)];else{if(b=
V.filter[c[f].type].apply(null,c[f].matches),b[U]){for(g=++f;g<e&&!V.relative[c[g].type];g++);return ba(1<f&&I(d),1<f&&O(c.slice(0,f-1).concat({value:" "===c[f-2].type?"*":""})).replace(sb,"$1"),b,f<g&&Va(c.slice(f,g)),g<e&&Va(c=c.slice(g)),g<e&&O(c))}d.push(b)}return I(d)}function w(c,g){var e=0<g.length,q=0<c.length,f=function(b,f,l,u,d){var h,n,L=0,t="0",k=b&&[],ca=[],Aa=J,m=b||q&&V.find.TAG("*",d),p=na+=null==Aa?1:Math.random()||.1,O=m.length;for(d&&(J=f===E||f||d);t!==O&&null!=(h=m[t]);t++){if(q&&
h){var Kb=0;for(f||h.ownerDocument===E||(ia(h),l=!y);n=c[Kb++];)if(n(h,f||E,l)){u.push(h);break}d&&(na=p)}e&&((h=!n&&h)&&L--,b&&k.push(h))}if(L+=t,e&&t!==L){for(Kb=0;n=g[Kb++];)n(k,ca,f,l);if(b){if(0<L)for(;t--;)k[t]||ca[t]||(ca[t]=Db.call(u));ca=Na(ca)}C.apply(u,ca);d&&!b&&0<ca.length&&1<L+g.length&&a.uniqueSort(u)}return d&&(na=p,J=Aa),k};return e?b(f):f}var ha,r,x,J,ma,z,E,v,y,T,ea,bb,Ka,U="sizzle"+1*new Date,A=c.document,na=0,B=0,nb=e(),Ca=e(),M=e(),K=function(c,a){return c===a&&(z=!0),0},F={}.hasOwnProperty,
D=[],Db=D.pop,La=D.push,C=D.push,H=D.slice,da=function(c,a){for(var g=0,e=c.length;g<e;g++)if(c[g]===a)return g;return-1},gb=RegExp("[\\x20\\t\\r\\n\\f]+","g"),sb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),N=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ma=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Mb=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ka=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
Wa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Sa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Cb=/^(?:input|select|textarea|button)$/i,S=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,
Da=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,R=/[+~]/,P=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Q=function(c,a,g){c="0x"+a-65536;return c!==c||g?a:0>c?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320)},X=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ha=function(c,a){return a?"\x00"===c?"\ufffd":c.slice(0,-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c},Ib=function(){ia()},ab=G(function(c){return!0===c.disabled&&("form"in c||
"label"in c)},{dir:"parentNode",next:"legend"});try{C.apply(D=H.call(A.childNodes),A.childNodes),D[A.childNodes.length].nodeType}catch(ca){C={apply:D.length?function(c,a){La.apply(c,H.call(a))}:function(c,a){for(var g=c.length,e=0;c[g++]=a[e++];);c.length=g-1}}}var Z=a.support={};var ua=a.isXML=function(c){c=c&&(c.ownerDocument||c).documentElement;return!!c&&"HTML"!==c.nodeName};var ia=a.setDocument=function(c){var a,g;c=c?c.ownerDocument||c:A;return c!==E&&9===c.nodeType&&c.documentElement?(E=c,
v=E.documentElement,y=!ua(E),A!==E&&(g=E.defaultView)&&g.top!==g&&(g.addEventListener?g.addEventListener("unload",Ib,!1):g.attachEvent&&g.attachEvent("onunload",Ib)),Z.attributes=f(function(c){return c.className="i",!c.getAttribute("className")}),Z.getElementsByTagName=f(function(c){return c.appendChild(E.createComment("")),!c.getElementsByTagName("*").length}),Z.getElementsByClassName=rb.test(E.getElementsByClassName),Z.getById=f(function(c){return v.appendChild(c).id=U,!E.getElementsByName||!E.getElementsByName(U).length}),
Z.getById?(V.filter.ID=function(c){var a=c.replace(P,Q);return function(c){return c.getAttribute("id")===a}},V.find.ID=function(c,a){if("undefined"!=typeof a.getElementById&&y){var g=a.getElementById(c);return g?[g]:[]}}):(V.filter.ID=function(c){var a=c.replace(P,Q);return function(c){return(c="undefined"!=typeof c.getAttributeNode&&c.getAttributeNode("id"))&&c.value===a}},V.find.ID=function(c,a){if("undefined"!=typeof a.getElementById&&y){var g,e,b=a.getElementById(c);if(b){if(g=b.getAttributeNode("id"),
g&&g.value===c)return[b];var q=a.getElementsByName(c);for(e=0;b=q[e++];)if(g=b.getAttributeNode("id"),g&&g.value===c)return[b]}return[]}}),V.find.TAG=Z.getElementsByTagName?function(c,a){return"undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(c):Z.qsa?a.querySelectorAll(c):void 0}:function(c,a){var g,e=[],b=0,q=a.getElementsByTagName(c);if("*"===c){for(;g=q[b++];)1===g.nodeType&&e.push(g);return e}return q},V.find.CLASS=Z.getElementsByClassName&&function(c,a){if("undefined"!=typeof a.getElementsByClassName&&
y)return a.getElementsByClassName(c)},ea=[],T=[],(Z.qsa=rb.test(E.querySelectorAll))&&(f(function(c){v.appendChild(c).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>";c.querySelectorAll("[msallowcapture^='']").length&&T.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");c.querySelectorAll("[selected]").length||T.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
c.querySelectorAll("[id~="+U+"-]").length||T.push("~=");c.querySelectorAll(":checked").length||T.push(":checked");c.querySelectorAll("a#"+U+"+*").length||T.push(".#.+[+~]")}),f(function(c){c.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var a=E.createElement("input");a.setAttribute("type","hidden");c.appendChild(a).setAttribute("name","D");c.querySelectorAll("[name=d]").length&&T.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==c.querySelectorAll(":enabled").length&&
T.push(":enabled",":disabled");v.appendChild(c).disabled=!0;2!==c.querySelectorAll(":disabled").length&&T.push(":enabled",":disabled");c.querySelectorAll("*,:x");T.push(",.*:")})),(Z.matchesSelector=rb.test(bb=v.matches||v.webkitMatchesSelector||v.mozMatchesSelector||v.oMatchesSelector||v.msMatchesSelector))&&f(function(c){Z.disconnectedMatch=bb.call(c,"*");bb.call(c,"[s!='']:x");ea.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
T=T.length&&new RegExp(T.join("|")),ea=ea.length&&new RegExp(ea.join("|")),a=rb.test(v.compareDocumentPosition),Ka=a||rb.test(v.contains)?function(c,a){var g=9===c.nodeType?c.documentElement:c,e=a&&a.parentNode;return c===e||!(!e||1!==e.nodeType||!(g.contains?g.contains(e):c.compareDocumentPosition&&16&c.compareDocumentPosition(e)))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1},K=a?function(c,a){if(c===a)return z=!0,0;var g=!c.compareDocumentPosition-!a.compareDocumentPosition;
return g?g:(g=(c.ownerDocument||c)===(a.ownerDocument||a)?c.compareDocumentPosition(a):1,1&g||!Z.sortDetached&&a.compareDocumentPosition(c)===g?c===E||c.ownerDocument===A&&Ka(A,c)?-1:a===E||a.ownerDocument===A&&Ka(A,a)?1:ma?da(ma,c)-da(ma,a):0:4&g?-1:1)}:function(c,a){if(c===a)return z=!0,0;var g=0;var e=c.parentNode;var b=a.parentNode,q=[c],f=[a];if(!e||!b)return c===E?-1:a===E?1:e?-1:b?1:ma?da(ma,c)-da(ma,a):0;if(e===b)return d(c,a);for(e=c;e=e.parentNode;)q.unshift(e);for(e=a;e=e.parentNode;)f.unshift(e);
for(;q[g]===f[g];)g++;return g?d(q[g],f[g]):q[g]===A?-1:f[g]===A?1:0},E):E};a.matches=function(c,g){return a(c,null,null,g)};a.matchesSelector=function(c,g){if((c.ownerDocument||c)!==E&&ia(c),g=g.replace(Mb,"='$1']"),!(!Z.matchesSelector||!y||M[g+" "]||ea&&ea.test(g)||T&&T.test(g)))try{var e=bb.call(c,g);if(e||Z.disconnectedMatch||c.document&&11!==c.document.nodeType)return e}catch(jc){}return 0<a(g,E,null,[c]).length};a.contains=function(c,a){return(c.ownerDocument||c)!==E&&ia(c),Ka(c,a)};a.attr=
function(c,a){(c.ownerDocument||c)!==E&&ia(c);var g=V.attrHandle[a.toLowerCase()];g=g&&F.call(V.attrHandle,a.toLowerCase())?g(c,a,!y):void 0;return void 0!==g?g:Z.attributes||!y?c.getAttribute(a):(g=c.getAttributeNode(a))&&g.specified?g.value:null};a.escape=function(c){return(c+"").replace(X,Ha)};a.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};a.uniqueSort=function(c){var a,g=[],e=0,b=0;if(z=!Z.detectDuplicates,ma=!Z.sortStable&&c.slice(0),c.sort(K),z){for(;a=c[b++];)a===
c[b]&&(e=g.push(b));for(;e--;)c.splice(g[e],1)}return ma=null,c};var aa=a.getText=function(c){var a,g="",e=0;if(a=c.nodeType)if(1===a||9===a||11===a){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)g+=aa(c)}else{if(3===a||4===a)return c.nodeValue}else for(;a=c[e++];)g+=aa(a);return g};var V=a.selectors={cacheLength:50,createPseudo:b,match:Sa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",
first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(P,Q),c[3]=(c[3]||c[4]||c[5]||"").replace(P,Q),"~="===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||a.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&a.error(c[0]),c},PSEUDO:function(c){var a,g=!c[6]&&c[2];return Sa.CHILD.test(c[0])?null:(c[3]?c[2]=c[4]||c[5]||"":g&&ka.test(g)&&
(a=Y(g,!0))&&(a=g.indexOf(")",g.length-a)-g.length)&&(c[0]=c[0].slice(0,a),c[2]=g.slice(0,a)),c.slice(0,3))}},filter:{TAG:function(c){var a=c.replace(P,Q).toLowerCase();return"*"===c?function(){return!0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(c){var a=nb[c+" "];return a||(a=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"),nb(c,function(c){return a.test("string"==typeof c.className&&c.className||"undefined"!=typeof c.getAttribute&&c.getAttribute("class")||
"")}))},ATTR:function(c,g,e){return function(b){b=a.attr(b,c);return null==b?"!="===g:!g||(b+="","="===g?b===e:"!="===g?b!==e:"^="===g?e&&0===b.indexOf(e):"*="===g?e&&-1<b.indexOf(e):"$="===g?e&&b.slice(-e.length)===e:"~="===g?-1<(" "+b.replace(gb," ")+" ").indexOf(e):"|="===g&&(b===e||b.slice(0,e.length+1)===e+"-"))}},CHILD:function(c,a,g,e,b){var q="nth"!==c.slice(0,3),f="last"!==c.slice(-4),l="of-type"===a;return 1===e&&0===b?function(c){return!!c.parentNode}:function(a,g,u){var d,h;g=q!==f?"nextSibling":
"previousSibling";var n=a.parentNode,L=l&&a.nodeName.toLowerCase();u=!u&&!l;var t=!1;if(n){if(q){for(;g;){for(d=a;d=d[g];)if(l?d.nodeName.toLowerCase()===L:1===d.nodeType)return!1;var k=g="only"===c&&!k&&"nextSibling"}return!0}if(k=[f?n.firstChild:n.lastChild],f&&u){d=n;var Aa=d[U]||(d[U]={});var m=Aa[d.uniqueID]||(Aa[d.uniqueID]={});var p=m[c]||[];t=(h=p[0]===na&&p[1])&&p[2];for(d=h&&n.childNodes[h];d=++h&&d&&d[g]||(t=h=0)||k.pop();)if(1===d.nodeType&&++t&&d===a){m[c]=[na,h,t];break}}else if(u&&
(d=a,Aa=d[U]||(d[U]={}),m=Aa[d.uniqueID]||(Aa[d.uniqueID]={}),p=m[c]||[],h=p[0]===na&&p[1],t=h),!1===t)for(;(d=++h&&d&&d[g]||(t=h=0)||k.pop())&&((l?d.nodeName.toLowerCase()!==L:1!==d.nodeType)||!++t||(u&&(Aa=d[U]||(d[U]={}),m=Aa[d.uniqueID]||(Aa[d.uniqueID]={}),m[c]=[na,t]),d!==a)););return t-=b,t===e||0===t%e&&0<=t/e}}},PSEUDO:function(c,g){var e,q=V.pseudos[c]||V.setFilters[c.toLowerCase()]||a.error("unsupported pseudo: "+c);return q[U]?q(g):1<q.length?(e=[c,c,"",g],V.setFilters.hasOwnProperty(c.toLowerCase())?
b(function(c,a){for(var e,b=q(c,g),f=b.length;f--;)e=da(c,b[f]),c[e]=!(a[e]=b[f])}):function(c){return q(c,0,e)}):q}},pseudos:{not:b(function(c){var a=[],g=[],e=r(c.replace(sb,"$1"));return e[U]?b(function(c,a,g,b){var q;g=e(c,null,b,[]);for(b=c.length;b--;)(q=g[b])&&(c[b]=!(a[b]=q))}):function(c,b,q){return a[0]=c,e(a,null,q,g),a[0]=null,!g.pop()}}),has:b(function(c){return function(g){return 0<a(c,g).length}}),contains:b(function(c){return c=c.replace(P,Q),function(a){return-1<(a.textContent||a.innerText||
aa(a)).indexOf(c)}}),lang:b(function(c){return Wa.test(c||"")||a.error("unsupported lang: "+c),c=c.replace(P,Q).toLowerCase(),function(a){var g;do if(g=y?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang"))return g=g.toLowerCase(),g===c||0===g.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var g=c.location&&c.location.hash;return g&&g.slice(1)===a.id},root:function(c){return c===v},focus:function(c){return c===E.activeElement&&(!E.hasFocus||E.hasFocus())&&
!!(c.type||c.href||~c.tabIndex)},enabled:k(!1),disabled:k(!0),checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if(6>c.nodeType)return!1;return!0},parent:function(c){return!V.pseudos.empty(c)},header:function(c){return S.test(c.nodeName)},input:function(c){return Cb.test(c.nodeName)},button:function(c){var a=
c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(a=c.getAttribute("type"))||"text"===a.toLowerCase())},first:t(function(){return[0]}),last:t(function(c,a){return[a-1]}),eq:t(function(c,a,g){return[0>g?g+a:g]}),even:t(function(c,a){for(var g=0;g<a;g+=2)c.push(g);return c}),odd:t(function(c,a){for(var g=1;g<a;g+=2)c.push(g);return c}),lt:t(function(c,a,g){for(a=0>g?g+a:g;0<=--a;)c.push(a);
return c}),gt:t(function(c,a,g){for(g=0>g?g+a:g;++g<a;)c.push(g);return c})}};V.pseudos.nth=V.pseudos.eq;for(ha in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})V.pseudos[ha]=h(ha);for(ha in{submit:!0,reset:!0})V.pseudos[ha]=n(ha);p.prototype=V.filters=V.pseudos;V.setFilters=new p;var Y=a.tokenize=function(c,g){var e,b,q,f,l;if(f=Ca[c+" "])return g?0:f.slice(0);f=c;var u=[];for(l=V.preFilter;f;){d&&!(e=N.exec(f))||(e&&(f=f.slice(e[0].length)||f),u.push(b=[]));var d=!1;(e=Ma.exec(f))&&(d=e.shift(),
b.push({value:d,type:e[0].replace(sb," ")}),f=f.slice(d.length));for(q in V.filter)!(e=Sa[q].exec(f))||l[q]&&!(e=l[q](e))||(d=e.shift(),b.push({value:d,type:q,matches:e}),f=f.slice(d.length));if(!d)break}return g?f.length:f?a.error(c):Ca(c,u).slice(0)};return r=a.compile=function(c,a){var g,e=[],b=[],q=M[c+" "];if(!q){a||(a=Y(c));for(g=a.length;g--;)q=Va(a[g]),q[U]?e.push(q):b.push(q);q=M(c,w(b,e));q.selector=c}return q},x=a.select=function(c,a,g,e){var b,q,f,l,u,d="function"==typeof c&&c,h=!e&&Y(c=
d.selector||c);if(g=g||[],1===h.length){if(q=h[0]=h[0].slice(0),2<q.length&&"ID"===(f=q[0]).type&&9===a.nodeType&&y&&V.relative[q[1].type]){if(a=(V.find.ID(f.matches[0].replace(P,Q),a)||[])[0],!a)return g;d&&(a=a.parentNode);c=c.slice(q.shift().value.length)}for(b=Sa.needsContext.test(c)?0:q.length;b--&&(f=q[b],!V.relative[l=f.type]);)if((u=V.find[l])&&(e=u(f.matches[0].replace(P,Q),R.test(q[0].type)&&m(a.parentNode)||a))){if(q.splice(b,1),c=e.length&&O(q),!c)return C.apply(g,e),g;break}}return(d||
r(c,h))(e,a,!y,g,!a||R.test(c)&&m(a.parentNode)||a),g},Z.sortStable=U.split("").sort(K).join("")===U,Z.detectDuplicates=!!z,ia(),Z.sortDetached=f(function(c){return 1&c.compareDocumentPosition(E.createElement("fieldset"))}),f(function(c){return c.innerHTML="<a href='#'></a>","#"===c.firstChild.getAttribute("href")})||l("type|href|height|width",function(c,a,g){if(!g)return c.getAttribute(a,"type"===a.toLowerCase()?1:2)}),Z.attributes&&f(function(c){return c.innerHTML="<input/>",c.firstChild.setAttribute("value",
""),""===c.firstChild.getAttribute("value")})||l("value",function(c,a,g){if(!g&&"input"===c.nodeName.toLowerCase())return c.defaultValue}),f(function(c){return null==c.getAttribute("disabled")})||l("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(c,a,g){var e;if(!g)return!0===c[a]?a.toLowerCase():(e=c.getAttributeNode(a))&&e.specified?e.value:null}),a}(a);e.find=K;e.expr=K.selectors;e.expr[":"]=e.expr.pseudos;e.uniqueSort=
e.unique=K.uniqueSort;e.text=K.getText;e.isXMLDoc=K.isXML;e.contains=K.contains;e.escapeSelector=K.escape;var xb=function(c,a,b){for(var g=[],q=void 0!==b;(c=c[a])&&9!==c.nodeType;)if(1===c.nodeType){if(q&&e(c).is(b))break;g.push(c)}return g},Sb=function(c,a){for(var g=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&g.push(c);return g},Tb=e.expr.match.needsContext,Ub=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Wb=/^.[^:#\[\.,]*$/;e.filter=function(c,a,b){var g=a[0];return b&&(c=
":not("+c+")"),1===a.length&&1===g.nodeType?e.find.matchesSelector(g,c)?[g]:[]:e.find.matches(c,e.grep(a,function(c){return 1===c.nodeType}))};e.fn.extend({find:function(c){var a,b=this.length,f=this;if("string"!=typeof c)return this.pushStack(e(c).filter(function(){for(a=0;a<b;a++)if(e.contains(f[a],this))return!0}));var l=this.pushStack([]);for(a=0;a<b;a++)e.find(c,f[a],l);return 1<b?e.uniqueSort(l):l},filter:function(c){return this.pushStack(m(this,c||[],!1))},not:function(c){return this.pushStack(m(this,
c||[],!0))},is:function(c){return!!m(this,"string"==typeof c&&Tb.test(c)?e(c):c||[],!1).length}});var bc=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(e.fn.init=function(c,a,b){var g,q;if(!c)return this;if(b=b||cc,"string"==typeof c){if(g="<"===c[0]&&">"===c[c.length-1]&&3<=c.length?[null,c,null]:bc.exec(c),!g||!g[1]&&a)return!a||a.jquery?(a||b).find(c):this.constructor(a).find(c);if(g[1]){if(a=a instanceof e?a[0]:a,e.merge(this,e.parseHTML(g[1],a&&a.nodeType?a.ownerDocument||a:C,!0)),Ub.test(g[1])&&e.isPlainObject(a))for(g in a)e.isFunction(this[g])?
this[g](a[g]):this.attr(g,a[g]);return this}return q=C.getElementById(g[2]),q&&(this[0]=q,this.length=1),this}return c.nodeType?(this[0]=c,this.length=1,this):e.isFunction(c)?void 0!==b.ready?b.ready(c):c(e):e.makeArray(c,this)}).prototype=e.fn;var cc=e(C);var dc=/^(?:parents|prev(?:Until|All))/,ec={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({has:function(c){var a=e(c,this),b=a.length;return this.filter(function(){for(var c=0;c<b;c++)if(e.contains(this,a[c]))return!0})},closest:function(c,
a){var g,b=0,f=this.length,l=[],d="string"!=typeof c&&e(c);if(!Tb.test(c))for(;b<f;b++)for(g=this[b];g&&g!==a;g=g.parentNode)if(11>g.nodeType&&(d?-1<d.index(g):1===g.nodeType&&e.find.matchesSelector(g,c))){l.push(g);break}return this.pushStack(1<l.length?e.uniqueSort(l):l)},index:function(c){return c?"string"==typeof c?G.call(e(c),this[0]):G.call(this,c.jquery?c[0]:c):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,a){return this.pushStack(e.uniqueSort(e.merge(this.get(),
e(c,a))))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});e.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return xb(c,"parentNode")},parentsUntil:function(c,a,e){return xb(c,"parentNode",e)},next:function(c){return x(c,"nextSibling")},prev:function(c){return x(c,"previousSibling")},nextAll:function(c){return xb(c,"nextSibling")},prevAll:function(c){return xb(c,"previousSibling")},nextUntil:function(c,a,e){return xb(c,
"nextSibling",e)},prevUntil:function(c,a,e){return xb(c,"previousSibling",e)},siblings:function(c){return Sb((c.parentNode||{}).firstChild,c)},children:function(c){return Sb(c.firstChild)},contents:function(c){return h(c,"iframe")?c.contentDocument:(h(c,"template")&&(c=c.content||c),e.merge([],c.childNodes))}},function(c,a){e.fn[c]=function(g,b){var q=e.map(this,a,g);return"Until"!==c.slice(-5)&&(b=g),b&&"string"==typeof b&&(q=e.filter(b,q)),1<this.length&&(ec[c]||e.uniqueSort(q),dc.test(c)&&q.reverse()),
this.pushStack(q)}});var ya=/[^\x20\t\r\n\f]+/g;e.Callbacks=function(c){c="string"==typeof c?z(c):e.extend({},c);var a,b,f,l,d=[],h=[],n=-1,t=function(){l=l||c.once;for(f=a=!0;h.length;n=-1)for(b=h.shift();++n<d.length;)!1===d[n].apply(b[0],b[1])&&c.stopOnFalse&&(n=d.length,b=!1);c.memory||(b=!1);a=!1;l&&(d=b?[]:"")},k={add:function(){return d&&(b&&!a&&(n=d.length-1,h.push(b)),function Zb(a){e.each(a,function(a,g){e.isFunction(g)?c.unique&&k.has(g)||d.push(g):g&&g.length&&"string"!==e.type(g)&&Zb(g)})}(arguments),
b&&!a&&t()),this},remove:function(){return e.each(arguments,function(c,a){for(var g;-1<(g=e.inArray(a,d,g));)d.splice(g,1),g<=n&&n--}),this},has:function(c){return c?-1<e.inArray(c,d):0<d.length},empty:function(){return d&&(d=[]),this},disable:function(){return l=h=[],d=b="",this},disabled:function(){return!d},lock:function(){return l=h=[],b||a||(d=b=""),this},locked:function(){return!!l},fireWith:function(c,g){return l||(g=g||[],g=[c,g.slice?g.slice():g],h.push(g),a||t()),this},fire:function(){return k.fireWith(this,
arguments),this},fired:function(){return!!f}};return k};e.extend({Deferred:function(c){var g=[["notify","progress",e.Callbacks("memory"),e.Callbacks("memory"),2],["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),0,"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),1,"rejected"]],b="pending",f={state:function(){return b},always:function(){return l.done(arguments).fail(arguments),this},"catch":function(c){return f.then(null,c)},pipe:function(){var c=
arguments;return e.Deferred(function(a){e.each(g,function(g,b){var f=e.isFunction(c[b[4]])&&c[b[4]];l[b[1]](function(){var c=f&&f.apply(this,arguments);c&&e.isFunction(c.promise)?c.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[b[0]+"With"](this,f?[c]:arguments)})});c=null}).promise()},then:function(c,b,f){function q(c,g,b,f){return function(){var d=this,u=arguments,h=function(){var a;if(!(c<l)){if(a=b.apply(d,u),a===g.promise())throw new TypeError("Thenable self-resolution");var h=
a&&("object"==typeof a||"function"==typeof a)&&a.then;e.isFunction(h)?f?h.call(a,q(l,g,w,f),q(l,g,r,f)):(l++,h.call(a,q(l,g,w,f),q(l,g,r,f),q(l,g,w,g.notifyWith))):(b!==w&&(d=void 0,u=[a]),(f||g.resolveWith)(d,u))}},n=f?h:function(){try{h()}catch(Rb){e.Deferred.exceptionHook&&e.Deferred.exceptionHook(Rb,n.stackTrace),c+1>=l&&(b!==r&&(d=void 0,u=[Rb]),g.rejectWith(d,u))}};c?n():(e.Deferred.getStackHook&&(n.stackTrace=e.Deferred.getStackHook()),a.setTimeout(n))}}var l=0;return e.Deferred(function(a){g[0][3].add(q(0,
a,e.isFunction(f)?f:w,a.notifyWith));g[1][3].add(q(0,a,e.isFunction(c)?c:w));g[2][3].add(q(0,a,e.isFunction(b)?b:r))}).promise()},promise:function(c){return null!=c?e.extend(c,f):f}},l={};return e.each(g,function(c,a){var e=a[2],q=a[5];f[a[1]]=e.add;q&&e.add(function(){b=q},g[3-c][2].disable,g[0][2].lock);e.add(a[3].fire);l[a[0]]=function(){return l[a[0]+"With"](this===l?void 0:this,arguments),this};l[a[0]+"With"]=e.fireWith}),f.promise(l),c&&c.call(l,l),l},when:function(c){var a=arguments.length,
b=a,f=Array(b),l=Ia.call(arguments),d=e.Deferred(),h=function(c){return function(g){f[c]=this;l[c]=1<arguments.length?Ia.call(arguments):g;--a||d.resolveWith(f,l)}};if(1>=a&&(y(c,d.done(h(b)).resolve,d.reject,!a),"pending"===d.state()||e.isFunction(l[b]&&l[b].then)))return d.then();for(;b--;)y(l[b],h(b),d.reject);return d.promise()}});var fc=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;e.Deferred.exceptionHook=function(c,g){a.console&&a.console.warn&&c&&fc.test(c.name)&&a.console.warn("jQuery.Deferred exception: "+
c.message,c.stack,g)};e.readyException=function(c){a.setTimeout(function(){throw c;})};var Ob=e.Deferred();e.fn.ready=function(c){return Ob.then(c)["catch"](function(c){e.readyException(c)}),this};e.extend({isReady:!1,readyWait:1,ready:function(c){(!0===c?--e.readyWait:e.isReady)||(e.isReady=!0,!0!==c&&0<--e.readyWait||Ob.resolveWith(C,[e]))}});e.ready.then=Ob.then;"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?a.setTimeout(e.ready):(C.addEventListener("DOMContentLoaded",
M),a.addEventListener("load",M));var v=function(c,a,b,f,l,d,h){var g=0,q=c.length,u=null==b;if("object"===e.type(b))for(g in l=!0,b)v(c,a,g,b[g],!0,d,h);else if(void 0!==f&&(l=!0,e.isFunction(f)||(h=!0),u&&(h?(a.call(c,f),a=null):(u=a,a=function(c,a,g){return u.call(e(c),g)})),a))for(;g<q;g++)a(c[g],b,h?f:f.call(c[g],g,a(c[g],b)));return l?c:u?a.call(c):q?a(c[0],b):d},Jb=function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType};ia.uid=1;ia.prototype={cache:function(c){var a=c[this.expando];
return a||(a={},Jb(c)&&(c.nodeType?c[this.expando]=a:Object.defineProperty(c,this.expando,{value:a,configurable:!0}))),a},set:function(c,a,b){var g;c=this.cache(c);if("string"==typeof a)c[e.camelCase(a)]=b;else for(g in a)c[e.camelCase(g)]=a[g];return c},get:function(c,a){return void 0===a?this.cache(c):c[this.expando]&&c[this.expando][e.camelCase(a)]},access:function(c,a,e){return void 0===a||a&&"string"==typeof a&&void 0===e?this.get(c,a):(this.set(c,a,e),void 0!==e?e:a)},remove:function(c,a){var g,
b=c[this.expando];if(void 0!==b){if(void 0!==a)for(Array.isArray(a)?a=a.map(e.camelCase):(a=e.camelCase(a),a=a in b?[a]:a.match(ya)||[]),g=a.length;g--;)delete b[a[g]];(void 0===a||e.isEmptyObject(b))&&(c.nodeType?c[this.expando]=void 0:delete c[this.expando])}},hasData:function(c){c=c[this.expando];return void 0!==c&&!e.isEmptyObject(c)}};var D=new ia,P=new ia,Ga=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Xb=/[A-Z]/g;e.extend({hasData:function(c){return P.hasData(c)||D.hasData(c)},data:function(c,a,e){return P.access(c,
a,e)},removeData:function(c,a){P.remove(c,a)},_data:function(c,a,e){return D.access(c,a,e)},_removeData:function(c,a){D.remove(c,a)}});e.fn.extend({data:function(c,a){var g,b,f,l=this[0],d=l&&l.attributes;if(void 0===c){if(this.length&&(f=P.get(l),1===l.nodeType&&!D.get(l,"hasDataAttrs"))){for(g=d.length;g--;)d[g]&&(b=d[g].name,0===b.indexOf("data-")&&(b=e.camelCase(b.slice(5)),Da(l,b,f[b])));D.set(l,"hasDataAttrs",!0)}return f}return"object"==typeof c?this.each(function(){P.set(this,c)}):v(this,
function(a){var g;if(l&&void 0===a){if((g=P.get(l,c),void 0!==g)||(g=Da(l,c),void 0!==g))return g}else this.each(function(){P.set(this,c,a)})},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){P.remove(this,c)})}});e.extend({queue:function(c,a,b){var g;if(c)return a=(a||"fx")+"queue",g=D.get(c,a),b&&(!g||Array.isArray(b)?g=D.access(c,a,e.makeArray(b)):g.push(b)),g||[]},dequeue:function(c,a){a=a||"fx";var g=e.queue(c,a),b=g.length,f=g.shift(),l=e._queueHooks(c,
a),d=function(){e.dequeue(c,a)};"inprogress"===f&&(f=g.shift(),b--);f&&("fx"===a&&g.unshift("inprogress"),delete l.stop,f.call(c,d,l));!b&&l&&l.empty.fire()},_queueHooks:function(c,a){var g=a+"queueHooks";return D.get(c,g)||D.access(c,g,{empty:e.Callbacks("once memory").add(function(){D.remove(c,[a+"queue",g])})})}});e.fn.extend({queue:function(c,a){var g=2;return"string"!=typeof c&&(a=c,c="fx",g--),arguments.length<g?e.queue(this[0],c):void 0===a?this:this.each(function(){var g=e.queue(this,c,a);
e._queueHooks(this,c);"fx"===c&&"inprogress"!==g[0]&&e.dequeue(this,c)})},dequeue:function(c){return this.each(function(){e.dequeue(this,c)})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var g,b=1,f=e.Deferred(),l=this,d=this.length,h=function(){--b||f.resolveWith(l,[l])};"string"!=typeof c&&(a=c,c=void 0);for(c=c||"fx";d--;)(g=D.get(l[d],c+"queueHooks"))&&g.empty&&(b++,g.empty.add(h));return h(),f.promise(a)}});var Eb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,N=
new RegExp("^(?:([+-])=|)("+Eb+")([a-z%]*)$","i"),aa=["Top","Right","Bottom","Left"],Ta=function(c,a){return c=a||c,"none"===c.style.display||""===c.style.display&&e.contains(c.ownerDocument,c)&&"none"===e.css(c,"display")},ta=function(c,a,e,b){var g,f={};for(g in a)f[g]=c.style[g],c.style[g]=a[g];e=e.apply(c,b||[]);for(g in a)c.style[g]=f[g];return e},Pa={};e.fn.extend({show:function(){return oa(this,!0)},hide:function(){return oa(this)},toggle:function(c){return"boolean"==typeof c?c?this.show():
this.hide():this.each(function(){Ta(this)?e(this).show():e(this).hide()})}});var B=/^(?:checkbox|radio)$/i,Qb=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,f=/^$|\/(?:java|ecma)script/i,A={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};A.optgroup=A.option;A.tbody=A.tfoot=A.colgroup=A.caption=A.thead;A.th=A.td;
var Ea=/<|&#?\w+;/;!function(){var c=C.createDocumentFragment().appendChild(C.createElement("div")),a=C.createElement("input");a.setAttribute("type","radio");a.setAttribute("checked","checked");a.setAttribute("name","t");c.appendChild(a);J.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;c.innerHTML="<textarea>x</textarea>";J.noCloneChecked=!!c.cloneNode(!0).lastChild.defaultValue}();var Y=C.documentElement,Ya=/^key/,S=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,sa=/^([^.]*)(?:\.(.+)|)/;
e.event={global:{},add:function(c,a,b,f,l){var g,q,d,h,u,n,t,k;if(h=D.get(c))for(b.handler&&(g=b,b=g.handler,l=g.selector),l&&e.find.matchesSelector(Y,l),b.guid||(b.guid=e.guid++),(d=h.events)||(d=h.events={}),(q=h.handle)||(q=h.handle=function(a){return"undefined"!=typeof e&&e.event.triggered!==a.type?e.event.dispatch.apply(c,arguments):void 0}),a=(a||"").match(ya)||[""],h=a.length;h--;){var L=sa.exec(a[h])||[];var m=k=L[1];L=(L[2]||"").split(".").sort();m&&(n=e.event.special[m]||{},m=(l?n.delegateType:
n.bindType)||m,n=e.event.special[m]||{},u=e.extend({type:m,origType:k,data:f,handler:b,guid:b.guid,selector:l,needsContext:l&&e.expr.match.needsContext.test(l),namespace:L.join(".")},g),(t=d[m])||(t=d[m]=[],t.delegateCount=0,n.setup&&!1!==n.setup.call(c,f,L,q)||c.addEventListener&&c.addEventListener(m,q)),n.add&&(n.add.call(c,u),u.handler.guid||(u.handler.guid=b.guid)),l?t.splice(t.delegateCount++,0,u):t.push(u),e.event.global[m]=!0)}},remove:function(c,a,b,f,l){var g,q,d,h,u,n,t,k,m=D.hasData(c)&&
D.get(c);if(m&&(h=m.events)){a=(a||"").match(ya)||[""];for(u=a.length;u--;)if(d=sa.exec(a[u])||[],n=k=d[1],t=(d[2]||"").split(".").sort(),n){var L=e.event.special[n]||{};n=(f?L.delegateType:L.bindType)||n;var p=h[n]||[];d=d[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(q=g=p.length;g--;){var O=p[g];!l&&k!==O.origType||b&&b.guid!==O.guid||d&&!d.test(O.namespace)||f&&f!==O.selector&&("**"!==f||!O.selector)||(p.splice(g,1),O.selector&&p.delegateCount--,L.remove&&L.remove.call(c,O))}q&&
!p.length&&(L.teardown&&!1!==L.teardown.call(c,t,m.handle)||e.removeEvent(c,n,m.handle),delete h[n])}else for(n in h)e.event.remove(c,n+a[u],b,f,!0);e.isEmptyObject(h)&&D.remove(c,"handle events")}},dispatch:function(c){var a=e.event.fix(c),b,f,l,d,h=Array(arguments.length);var n=(D.get(this,"events")||{})[a.type]||[];var t=e.event.special[a.type]||{};h[0]=a;for(b=1;b<arguments.length;b++)h[b]=arguments[b];if(a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){var k=e.event.handlers.call(this,
a,n);for(b=0;(l=k[b++])&&!a.isPropagationStopped();)for(a.currentTarget=l.elem,n=0;(d=l.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(d.namespace)||(a.handleObj=d,a.data=d.data,f=((e.event.special[d.origType]||{}).handle||d.handler).apply(l.elem,h),void 0!==f&&!1===(a.result=f)&&(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,a),a.result}},handlers:function(c,a){var g,b=[],f=a.delegateCount,l=c.target;if(f&&l.nodeType&&
!("click"===c.type&&1<=c.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==c.type||!0!==l.disabled)){var d=[];var h={};for(g=0;g<f;g++){var n=a[g];var t=n.selector+" ";void 0===h[t]&&(h[t]=n.needsContext?-1<e(t,this).index(l):e.find(t,this,null,[l]).length);h[t]&&d.push(n)}d.length&&b.push({elem:l,handlers:d})}return l=this,f<a.length&&b.push({elem:l,handlers:a.slice(f)}),b},addProp:function(c,a){Object.defineProperty(e.Event.prototype,c,{enumerable:!0,configurable:!0,get:e.isFunction(a)?
function(){if(this.originalEvent)return a(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[c]},set:function(a){Object.defineProperty(this,c,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(c){return c[e.expando]?c:new e.Event(c)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ob()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ob()&&this.blur)return this.blur(),!1},delegateType:"focusout"},
click:{trigger:function(){if("checkbox"===this.type&&this.click&&h(this,"input"))return this.click(),!1},_default:function(c){return h(c.target,"a")}},beforeunload:{postDispatch:function(c){void 0!==c.result&&c.originalEvent&&(c.originalEvent.returnValue=c.result)}}}};e.removeEvent=function(c,a,e){c.removeEventListener&&c.removeEventListener(a,e)};e.Event=function(c,a){return this instanceof e.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||void 0===
c.defaultPrevented&&!1===c.returnValue?ka:ua,this.target=c.target&&3===c.target.nodeType?c.target.parentNode:c.target,this.currentTarget=c.currentTarget,this.relatedTarget=c.relatedTarget):this.type=c,a&&e.extend(this,a),this.timeStamp=c&&c.timeStamp||e.now(),void(this[e.expando]=!0)):new e.Event(c,a)};e.Event.prototype={constructor:e.Event,isDefaultPrevented:ua,isPropagationStopped:ua,isImmediatePropagationStopped:ua,isSimulated:!1,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=
ka;c&&!this.isSimulated&&c.preventDefault()},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=ka;c&&!this.isSimulated&&c.stopPropagation()},stopImmediatePropagation:function(){var c=this.originalEvent;this.isImmediatePropagationStopped=ka;c&&!this.isSimulated&&c.stopImmediatePropagation();this.stopPropagation()}};e.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,
key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(c){var a=c.button;return null==c.which&&Ya.test(c.type)?null!=c.charCode?c.charCode:c.keyCode:!c.which&&void 0!==a&&S.test(c.type)?1&a?1:2&a?3:4&a?2:0:c.which}},e.event.addProp);e.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(c,a){e.event.special[c]=
{delegateType:a,bindType:a,handle:function(c){var g,b=c.relatedTarget,f=c.handleObj;return b&&(b===this||e.contains(this,b))||(c.type=f.origType,g=f.handler.apply(this,arguments),c.type=a),g}}});e.fn.extend({on:function(c,a,e,b){return hb(this,c,a,e,b)},one:function(c,a,e,b){return hb(this,c,a,e,b,1)},off:function(c,a,b){var g,f;if(c&&c.preventDefault&&c.handleObj)return g=c.handleObj,e(c.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==
typeof c){for(f in c)this.off(f,a,c[f]);return this}return!1!==a&&"function"!=typeof a||(b=a,a=void 0),!1===b&&(b=ua),this.each(function(){e.event.remove(this,c,b,a)})}});var Za=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,eb=/<script|<style|<link/i,$b=/checked\s*(?:[^=]|=\s*.checked.)/i,ib=/^true\/(.*)/,va=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;e.extend({htmlPrefilter:function(c){return c.replace(Za,"<$1></$2>")},clone:function(c,a,b){var g,f=
c.cloneNode(!0),l=e.contains(c.ownerDocument,c);if(!(J.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||e.isXMLDoc(c))){var d=ja(f);var q=ja(c);var h=0;for(g=q.length;h<g;h++){var n=q[h],t=d[h],k=t.nodeName.toLowerCase();"input"===k&&B.test(n.type)?t.checked=n.checked:"input"!==k&&"textarea"!==k||(t.defaultValue=n.defaultValue)}}if(a)if(b)for(q=q||ja(c),d=d||ja(f),h=0,g=q.length;h<g;h++)ub(q[h],d[h]);else ub(c,f);return d=ja(f,"script"),0<d.length&&Ja(d,!l&&ja(c,"script")),f},cleanData:function(c){for(var a,
b,f,l=e.event.special,d=0;void 0!==(b=c[d]);d++)if(Jb(b)){if(a=b[D.expando]){if(a.events)for(f in a.events)l[f]?e.event.remove(b,f):e.removeEvent(b,f,a.handle);b[D.expando]=void 0}b[P.expando]&&(b[P.expando]=void 0)}}});e.fn.extend({detach:function(c){return pb(this,c,!0)},remove:function(c){return pb(this,c)},text:function(c){return v(this,function(c){return void 0===c?e.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=c)})},null,
c,arguments.length)},append:function(){return Ba(this,arguments,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||yb(this,c).appendChild(c)})},prepend:function(){return Ba(this,arguments,function(c){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var a=yb(this,c);a.insertBefore(c,a.firstChild)}})},before:function(){return Ba(this,arguments,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return Ba(this,arguments,function(c){this.parentNode&&
this.parentNode.insertBefore(c,this.nextSibling)})},empty:function(){for(var c,a=0;null!=(c=this[a]);a++)1===c.nodeType&&(e.cleanData(ja(c,!1)),c.textContent="");return this},clone:function(c,a){return c=null!=c&&c,a=null==a?c:a,this.map(function(){return e.clone(this,c,a)})},html:function(c){return v(this,function(c){var a=this[0]||{},g=0,b=this.length;if(void 0===c&&1===a.nodeType)return a.innerHTML;if("string"==typeof c&&!eb.test(c)&&!A[(Qb.exec(c)||["",""])[1].toLowerCase()]){c=e.htmlPrefilter(c);
try{for(;g<b;g++)a=this[g]||{},1===a.nodeType&&(e.cleanData(ja(a,!1)),a.innerHTML=c);a=0}catch(Aa){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(){var c=[];return Ba(this,arguments,function(a){var g=this.parentNode;0>e.inArray(this,c)&&(e.cleanData(ja(this)),g&&g.replaceChild(a,this))},c)}});e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){e.fn[c]=function(c){for(var g=[],b=e(c),f=b.length-
1,l=0;l<=f;l++)c=l===f?this:this.clone(!0),e(b[l])[a](c),n.apply(g,c.get());return this.pushStack(g)}});var Q=/^margin/,la=new RegExp("^("+Eb+")(?!px)[a-z%]+$","i"),R=function(c){var g=c.ownerDocument.defaultView;return g&&g.opener||(g=a),g.getComputedStyle(c)};!function(){function c(){if(h){h.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";h.innerHTML="";Y.appendChild(d);var c=a.getComputedStyle(h);g="1%"!==c.top;l="2px"===
c.marginLeft;b="4px"===c.width;h.style.marginRight="50%";f="4px"===c.marginRight;Y.removeChild(d);h=null}}var g,b,f,l,d=C.createElement("div"),h=C.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===h.style.backgroundClip,d.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.appendChild(h),e.extend(J,{pixelPosition:function(){return c(),g},boxSizingReliable:function(){return c(),
b},pixelMarginRight:function(){return c(),f},reliableMarginLeft:function(){return c(),l}}))}();var fb=/^(none|table(?!-c[ea]).+)/,lb=/^--/,mb={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},p=["Webkit","Moz","ms"],pa=C.createElement("div").style;e.extend({cssHooks:{opacity:{get:function(c,a){if(a){var g=db(c,"opacity");return""===g?"1":g}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,
lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(c,a,b,f){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var g,l,d,q=e.camelCase(a),h=lb.test(a),n=c.style;return h||(a=vb(q)),d=e.cssHooks[a]||e.cssHooks[q],void 0===b?d&&"get"in d&&void 0!==(g=d.get(c,!1,f))?g:n[a]:(l=typeof b,"string"===l&&(g=N.exec(b))&&g[1]&&(b=Ha(c,a,g),l="number"),null!=b&&b===b&&("number"===l&&(b+=g&&g[3]||(e.cssNumber[q]?"":"px")),J.clearCloneStyle||""!==
b||0!==a.indexOf("background")||(n[a]="inherit"),d&&"set"in d&&void 0===(b=d.set(c,b,f))||(h?n.setProperty(a,b):n[a]=b)),void 0)}},css:function(c,a,b,f){var g,l,d,q=e.camelCase(a);return lb.test(a)||(a=vb(q)),d=e.cssHooks[a]||e.cssHooks[q],d&&"get"in d&&(g=d.get(c,!0,b)),void 0===g&&(g=db(c,a,f)),"normal"===g&&a in $a&&(g=$a[a]),""===b||b?(l=parseFloat(g),!0===b||isFinite(l)?l||0:g):g}});e.each(["height","width"],function(c,a){e.cssHooks[a]={get:function(c,g,b){if(g)return!fb.test(e.css(c,"display"))||
c.getClientRects().length&&c.getBoundingClientRect().width?Bb(c,a,b):ta(c,mb,function(){return Bb(c,a,b)})},set:function(c,g,b){var f,l=b&&R(c);b=b&&Fb(c,a,b,"border-box"===e.css(c,"boxSizing",!1,l),l);return b&&(f=N.exec(g))&&"px"!==(f[3]||"px")&&(c.style[a]=g,g=e.css(c,a)),Ab(c,g,b)}}});e.cssHooks.marginLeft=qb(J.reliableMarginLeft,function(c,a){if(a)return(parseFloat(db(c,"marginLeft"))||c.getBoundingClientRect().left-ta(c,{marginLeft:0},function(){return c.getBoundingClientRect().left}))+"px"});
e.each({margin:"",padding:"",border:"Width"},function(c,a){e.cssHooks[c+a]={expand:function(g){var b=0,e={};for(g="string"==typeof g?g.split(" "):[g];4>b;b++)e[c+aa[b]+a]=g[b]||g[b-2]||g[0];return e}};Q.test(c)||(e.cssHooks[c+a].set=Ab)});e.fn.extend({css:function(c,a){return v(this,function(c,a,g){var b,f={},l=0;if(Array.isArray(a)){g=R(c);for(b=a.length;l<b;l++)f[a[l]]=e.css(c,a[l],!1,g);return f}return void 0!==g?e.style(c,a,g):e.css(c,a)},c,a,1<arguments.length)}});e.Tween=W;W.prototype={constructor:W,
init:function(c,a,b,f,l,d){this.elem=c;this.prop=b;this.easing=l||e.easing._default;this.options=a;this.start=this.now=this.cur();this.end=f;this.unit=d||(e.cssNumber[b]?"":"px")},cur:function(){var c=W.propHooks[this.prop];return c&&c.get?c.get(this):W.propHooks._default.get(this)},run:function(c){var a,b=W.propHooks[this.prop];return this.options.duration?this.pos=a=e.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):this.pos=a=c,this.now=(this.end-this.start)*a+this.start,
this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):W.propHooks._default.set(this),this}};W.prototype.init.prototype=W.prototype;W.propHooks={_default:{get:function(c){var a;return 1!==c.elem.nodeType||null!=c.elem[c.prop]&&null==c.elem.style[c.prop]?c.elem[c.prop]:(a=e.css(c.elem,c.prop,""),a&&"auto"!==a?a:0)},set:function(c){e.fx.step[c.prop]?e.fx.step[c.prop](c):1!==c.elem.nodeType||null==c.elem.style[e.cssProps[c.prop]]&&!e.cssHooks[c.prop]?c.elem[c.prop]=c.now:
e.style(c.elem,c.prop,c.now+c.unit)}}};W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};e.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};e.fx=W.prototype.init;e.fx.step={};var X,qa,Oa=/^(?:toggle|show|hide)$/,Ra=/queueHooks$/;e.Animation=e.extend(wa,{tweeners:{"*":[function(c,a){var g=this.createTween(c,a);return Ha(g.elem,c,N.exec(a),g),g}]},tweener:function(c,a){e.isFunction(c)?
(a=c,c=["*"]):c=c.match(ya);for(var g,b=0,f=c.length;b<f;b++)g=c[b],wa.tweeners[g]=wa.tweeners[g]||[],wa.tweeners[g].unshift(a)},prefilters:[function(c,a,b){var g,f,l,d,h,q,n,t,k="width"in a||"height"in a,m=this,p={},O=c.style,G=c.nodeType&&Ta(c),I=D.get(c,"fxshow");b.queue||(d=e._queueHooks(c,"fx"),null==d.unqueued&&(d.unqueued=0,h=d.empty.fire,d.empty.fire=function(){d.unqueued||h()}),d.unqueued++,m.always(function(){m.always(function(){d.unqueued--;e.queue(c,"fx").length||d.empty.fire()})}));for(g in a)if(f=
a[g],Oa.test(f)){if(delete a[g],l=l||"toggle"===f,f===(G?"hide":"show")){if("show"!==f||!I||void 0===I[g])continue;G=!0}p[g]=I&&I[g]||e.style(c,g)}if(q=!e.isEmptyObject(a),q||!e.isEmptyObject(p))for(g in k&&1===c.nodeType&&(b.overflow=[O.overflow,O.overflowX,O.overflowY],n=I&&I.display,null==n&&(n=D.get(c,"display")),t=e.css(c,"display"),"none"===t&&(n?t=n:(oa([c],!0),n=c.style.display||n,t=e.css(c,"display"),oa([c]))),("inline"===t||"inline-block"===t&&null!=n)&&"none"===e.css(c,"float")&&(q||(m.done(function(){O.display=
n}),null==n&&(t=O.display,n="none"===t?"":t)),O.display="inline-block")),b.overflow&&(O.overflow="hidden",m.always(function(){O.overflow=b.overflow[0];O.overflowX=b.overflow[1];O.overflowY=b.overflow[2]})),q=!1,p)q||(I?"hidden"in I&&(G=I.hidden):I=D.access(c,"fxshow",{display:n}),l&&(I.hidden=!G),G&&oa([c],!0),m.done(function(){G||oa([c]);D.remove(c,"fxshow");for(g in p)e.style(c,g,p[g])})),q=Hb(G?I[g]:0,g,m),g in I||(I[g]=q.start,G&&(q.end=q.start,q.start=0))}],prefilter:function(c,a){a?wa.prefilters.unshift(c):
wa.prefilters.push(c)}});e.speed=function(c,a,b){var g=c&&"object"==typeof c?e.extend({},c):{complete:b||!b&&a||e.isFunction(c)&&c,duration:c,easing:b&&a||a&&!e.isFunction(a)&&a};return e.fx.off?g.duration=0:"number"!=typeof g.duration&&(g.duration in e.fx.speeds?g.duration=e.fx.speeds[g.duration]:g.duration=e.fx.speeds._default),null!=g.queue&&!0!==g.queue||(g.queue="fx"),g.old=g.complete,g.complete=function(){e.isFunction(g.old)&&g.old.call(this);g.queue&&e.dequeue(this,g.queue)},g};e.fn.extend({fadeTo:function(c,
a,b,e){return this.filter(Ta).css("opacity",0).show().end().animate({opacity:a},c,b,e)},animate:function(c,a,b,f){var g=e.isEmptyObject(c),l=e.speed(a,b,f);a=function(){var a=wa(this,e.extend({},c),l);(g||D.get(this,"finish"))&&a.stop(!0)};return a.finish=a,g||!1===l.queue?this.each(a):this.queue(l.queue,a)},stop:function(c,a,b){var g=function(c){var a=c.stop;delete c.stop;a(b)};return"string"!=typeof c&&(b=a,a=c,c=void 0),a&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var a=!0,f=null!=c&&
c+"queueHooks",l=e.timers,d=D.get(this);if(f)d[f]&&d[f].stop&&g(d[f]);else for(f in d)d[f]&&d[f].stop&&Ra.test(f)&&g(d[f]);for(f=l.length;f--;)l[f].elem!==this||null!=c&&l[f].queue!==c||(l[f].anim.stop(b),a=!1,l.splice(f,1));!a&&b||e.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var a=D.get(this),b=a[c+"queue"];var f=a[c+"queueHooks"];var l=e.timers,d=b?b.length:0;a.finish=!0;e.queue(this,c,[]);f&&f.stop&&f.stop.call(this,!0);for(f=l.length;f--;)l[f].elem===
this&&l[f].queue===c&&(l[f].anim.stop(!0),l.splice(f,1));for(f=0;f<d;f++)b[f]&&b[f].finish&&b[f].finish.call(this);delete a.finish})}});e.each(["toggle","show","hide"],function(c,a){var g=e.fn[a];e.fn[a]=function(c,b,e){return null==c||"boolean"==typeof c?g.apply(this,arguments):this.animate(Xa(a,!0),c,b,e)}});e.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(c,a){e.fn[c]=function(c,g,b){return this.animate(a,
c,g,b)}});e.timers=[];e.fx.tick=function(){var c=0,a=e.timers;for(X=e.now();c<a.length;c++){var b=a[c];b()||a[c]!==b||a.splice(c--,1)}a.length||e.fx.stop();X=void 0};e.fx.timer=function(c){e.timers.push(c);e.fx.start()};e.fx.interval=13;e.fx.start=function(){qa||(qa=!0,jb())};e.fx.stop=function(){qa=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fn.delay=function(c,g){return c=e.fx?e.fx.speeds[c]||c:c,g=g||"fx",this.queue(g,function(g,b){var e=a.setTimeout(g,c);b.stop=function(){a.clearTimeout(e)}})};
(function(){var c=C.createElement("input"),a=C.createElement("select").appendChild(C.createElement("option"));c.type="checkbox";J.checkOn=""!==c.value;J.optSelected=a.selected;c=C.createElement("input");c.value="t";c.type="radio";J.radioValue="t"===c.value})();var H=e.expr.attrHandle;e.fn.extend({attr:function(c,a){return v(this,e.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){e.removeAttr(this,c)})}});e.extend({attr:function(c,a,b){var g,f,l=c.nodeType;if(3!==l&&
8!==l&&2!==l)return"undefined"==typeof c.getAttribute?e.prop(c,a,b):(1===l&&e.isXMLDoc(c)||(f=e.attrHooks[a.toLowerCase()]||(e.expr.match.bool.test(a)?F:void 0)),void 0!==b?null===b?void e.removeAttr(c,a):f&&"set"in f&&void 0!==(g=f.set(c,b,a))?g:(c.setAttribute(a,b+""),b):f&&"get"in f&&null!==(g=f.get(c,a))?g:(g=e.find.attr(c,a),null==g?void 0:g))},attrHooks:{type:{set:function(c,a){if(!J.radioValue&&"radio"===a&&h(c,"input")){var g=c.value;return c.setAttribute("type",a),g&&(c.value=g),a}}}},removeAttr:function(c,
a){var g,b=0,e=a&&a.match(ya);if(e&&1===c.nodeType)for(;g=e[b++];)c.removeAttribute(g)}});var F={set:function(c,a,b){return!1===a?e.removeAttr(c,b):c.setAttribute(b,b),b}};e.each(e.expr.match.bool.source.match(/\w+/g),function(c,a){var g=H[a]||e.find.attr;H[a]=function(c,a,b){var e,f,l=a.toLowerCase();return b||(f=H[l],H[l]=e,e=null!=g(c,a,b)?l:null,H[l]=f),e}});var O=/^(?:input|select|textarea|button)$/i,E=/^(?:a|area)$/i;e.fn.extend({prop:function(c,a){return v(this,e.prop,c,a,1<arguments.length)},
removeProp:function(c){return this.each(function(){delete this[e.propFix[c]||c]})}});e.extend({prop:function(c,a,b){var g,f,l=c.nodeType;if(3!==l&&8!==l&&2!==l)return 1===l&&e.isXMLDoc(c)||(a=e.propFix[a]||a,f=e.propHooks[a]),void 0!==b?f&&"set"in f&&void 0!==(g=f.set(c,b,a))?g:c[a]=b:f&&"get"in f&&null!==(g=f.get(c,a))?g:c[a]},propHooks:{tabIndex:{get:function(c){var a=e.find.attr(c,"tabindex");return a?parseInt(a,10):O.test(c.nodeName)||E.test(c.nodeName)&&c.href?0:-1}}},propFix:{"for":"htmlFor",
"class":"className"}});J.optSelected||(e.propHooks.selected={get:function(c){c=c.parentNode;return c&&c.parentNode&&c.parentNode.selectedIndex,null},set:function(c){c=c.parentNode;c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex)}});e.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){e.propFix[this.toLowerCase()]=this});e.fn.extend({addClass:function(c){var a,b,f,l,d,h,n=0;if(e.isFunction(c))return this.each(function(a){e(this).addClass(c.call(this,
a,za(this)))});if("string"==typeof c&&c)for(a=c.match(ya)||[];b=this[n++];)if(l=za(b),f=1===b.nodeType&&" "+xa(l)+" "){for(h=0;d=a[h++];)0>f.indexOf(" "+d+" ")&&(f+=d+" ");f=xa(f);l!==f&&b.setAttribute("class",f)}return this},removeClass:function(c){var a,b,f,l,d,h,n=0;if(e.isFunction(c))return this.each(function(a){e(this).removeClass(c.call(this,a,za(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof c&&c)for(a=c.match(ya)||[];b=this[n++];)if(l=za(b),f=1===b.nodeType&&
" "+xa(l)+" "){for(h=0;d=a[h++];)for(;-1<f.indexOf(" "+d+" ");)f=f.replace(" "+d+" "," ");f=xa(f);l!==f&&b.setAttribute("class",f)}return this},toggleClass:function(c,a){var g=typeof c;return"boolean"==typeof a&&"string"===g?a?this.addClass(c):this.removeClass(c):e.isFunction(c)?this.each(function(g){e(this).toggleClass(c.call(this,g,za(this),a),a)}):this.each(function(){var a,b;if("string"===g){var f=0;var l=e(this);for(b=c.match(ya)||[];a=b[f++];)l.hasClass(a)?l.removeClass(a):l.addClass(a)}else void 0!==
c&&"boolean"!==g||(a=za(this),a&&D.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||!1===c?"":D.get(this,"__className__")||""))})},hasClass:function(c){var a,b=0;for(c=" "+c+" ";a=this[b++];)if(1===a.nodeType&&-1<(" "+xa(za(a))+" ").indexOf(c))return!0;return!1}});var Ka=/\r/g;e.fn.extend({val:function(c){var a,b,f,l=this[0];if(arguments.length)return f=e.isFunction(c),this.each(function(b){var g;1===this.nodeType&&(g=f?c.call(this,b,e(this).val()):c,null==g?g="":"number"==
typeof g?g+="":Array.isArray(g)&&(g=e.map(g,function(c){return null==c?"":c+""})),a=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&void 0!==a.set(this,g,"value")||(this.value=g))});if(l)return a=e.valHooks[l.type]||e.valHooks[l.nodeName.toLowerCase()],a&&"get"in a&&void 0!==(b=a.get(l,"value"))?b:(b=l.value,"string"==typeof b?b.replace(Ka,""):null==b?"":b)}});e.extend({valHooks:{option:{get:function(c){var a=e.find.attr(c,"value");return null!=a?a:xa(e.text(c))}},select:{get:function(c){var a,
b,f=c.options,l=c.selectedIndex,d="select-one"===c.type,n=d?null:[],t=d?l+1:f.length;for(b=0>l?t:d?l:0;b<t;b++)if(a=f[b],!(!a.selected&&b!==l||a.disabled||a.parentNode.disabled&&h(a.parentNode,"optgroup"))){if(c=e(a).val(),d)return c;n.push(c)}return n},set:function(c,a){for(var b,g,f=c.options,l=e.makeArray(a),d=f.length;d--;)g=f[d],(g.selected=-1<e.inArray(e.valHooks.option.get(g),l))&&(b=!0);return b||(c.selectedIndex=-1),l}}}});e.each(["radio","checkbox"],function(){e.valHooks[this]={set:function(c,
a){if(Array.isArray(a))return c.checked=-1<e.inArray(e(c).val(),a)}};J.checkOn||(e.valHooks[this].get=function(c){return null===c.getAttribute("value")?"on":c.value})});var da=/^(?:focusinfocus|focusoutblur)$/;e.extend(e.event,{trigger:function(c,b,f,l){var g,d,h,n,t,q=[f||C],k=ma.call(c,"type")?c.type:c;var m=ma.call(c,"namespace")?c.namespace.split("."):[];if(g=d=f=f||C,3!==f.nodeType&&8!==f.nodeType&&!da.test(k+e.event.triggered)&&(-1<k.indexOf(".")&&(m=k.split("."),k=m.shift(),m.sort()),h=0>k.indexOf(":")&&
"on"+k,c=c[e.expando]?c:new e.Event(k,"object"==typeof c&&c),c.isTrigger=l?2:3,c.namespace=m.join("."),c.rnamespace=c.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=void 0,c.target||(c.target=f),b=null==b?[c]:e.makeArray(b,[c]),t=e.event.special[k]||{},l||!t.trigger||!1!==t.trigger.apply(f,b))){if(!l&&!t.noBubble&&!e.isWindow(f)){var p=t.delegateType||k;for(da.test(p+k)||(g=g.parentNode);g;g=g.parentNode)q.push(g),d=g;d===(f.ownerDocument||C)&&q.push(d.defaultView||
d.parentWindow||a)}for(m=0;(g=q[m++])&&!c.isPropagationStopped();)c.type=1<m?p:t.bindType||k,(n=(D.get(g,"events")||{})[c.type]&&D.get(g,"handle"))&&n.apply(g,b),(n=h&&g[h])&&n.apply&&Jb(g)&&(c.result=n.apply(g,b),!1===c.result&&c.preventDefault());return c.type=k,l||c.isDefaultPrevented()||t._default&&!1!==t._default.apply(q.pop(),b)||!Jb(f)||h&&e.isFunction(f[k])&&!e.isWindow(f)&&(d=f[h],d&&(f[h]=null),e.event.triggered=k,f[k](),e.event.triggered=void 0,d&&(f[h]=d)),c.result}},simulate:function(c,
a,b){c=e.extend(new e.Event,b,{type:c,isSimulated:!0});e.event.trigger(c,null,a)}});e.fn.extend({trigger:function(c,a){return this.each(function(){e.event.trigger(c,a,this)})},triggerHandler:function(c,a){var b=this[0];if(b)return e.event.trigger(c,a,b,!0)}});e.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(c,a){e.fn[a]=function(c,b){return 0<
arguments.length?this.on(a,null,c,b):this.trigger(a)}});e.fn.extend({hover:function(c,a){return this.mouseenter(c).mouseleave(a||c)}});J.focusin="onfocusin"in a;J.focusin||e.each({focus:"focusin",blur:"focusout"},function(c,a){var b=function(c){e.event.simulate(a,c.target,e.event.fix(c))};e.event.special[a]={setup:function(){var g=this.ownerDocument||this,e=D.access(g,a);e||g.addEventListener(c,b,!0);D.access(g,a,(e||0)+1)},teardown:function(){var g=this.ownerDocument||this,e=D.access(g,a)-1;e?D.access(g,
a,e):(g.removeEventListener(c,b,!0),D.remove(g,a))}}});var Wa=a.location,ab=e.now(),gb=/\?/;e.parseXML=function(c){if(!c||"string"!=typeof c)return null;try{var b=(new a.DOMParser).parseFromString(c,"text/xml")}catch(q){b=void 0}return b&&!b.getElementsByTagName("parsererror").length||e.error("Invalid XML: "+c),b};var Ma=/\[\]$/,Vb=/\r?\n/g,l=/^(?:submit|button|image|reset|file)$/i,t=/^(?:input|select|textarea|keygen)/i;e.param=function(c,a){var b,g=[],f=function(c,a){var b=e.isFunction(a)?a():a;
g[g.length]=encodeURIComponent(c)+"="+encodeURIComponent(null==b?"":b)};if(Array.isArray(c)||c.jquery&&!e.isPlainObject(c))e.each(c,function(){f(this.name,this.value)});else for(b in c)kb(b,c[b],a,f);return g.join("&")};e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=e.prop(this,"elements");return c?e.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!e(this).is(":disabled")&&t.test(this.nodeName)&&
!l.test(c)&&(this.checked||!B.test(c))}).map(function(c,a){var b=e(this).val();return null==b?null:Array.isArray(b)?e.map(b,function(c){return{name:a.name,value:c.replace(Vb,"\r\n")}}):{name:a.name,value:b.replace(Vb,"\r\n")}}).get()}});var I=/%20/g,ba=/#.*$/,T=/([?&])_=[^&]*/,na=/^(.*?):[ \t]*([^\r\n]*)$/gm,ea=/^(?:GET|HEAD)$/,nb=/^\/\//,La={},Cb={},bb="*/".concat("*"),Ca=C.createElement("a");Ca.href=Wa.href;e.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wa.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Wa.protocol),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":e.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?
fa(fa(c,e.ajaxSettings),a):fa(e.ajaxSettings,c)},ajaxPrefilter:wb(La),ajaxTransport:wb(Cb),ajax:function(c,b){function g(c,b,g,d){var t,k,q,I=b;if(!y){y=!0;h&&a.clearTimeout(h);f=void 0;l=d||"";r.readyState=0<c?4:0;d=200<=c&&300>c||304===c;if(g){var u=m;for(var ba=r,w,E,ha,x,T=u.contents,ma=u.dataTypes;"*"===ma[0];)ma.shift(),void 0===w&&(w=u.mimeType||ba.getResponseHeader("Content-Type"));if(w)for(E in T)if(T[E]&&T[E].test(w)){ma.unshift(E);break}if(ma[0]in g)ha=ma[0];else{for(E in g){if(!ma[0]||
u.converters[E+" "+ma[0]]){ha=E;break}x||(x=E)}ha=ha||x}g=ha?(ha!==ma[0]&&ma.unshift(ha),g[ha]):void 0;u=g}a:{g=m;w=u;E=r;ha=d;var J,z,ea;u={};ba=g.dataTypes.slice();if(ba[1])for(J in g.converters)u[J.toLowerCase()]=g.converters[J];for(x=ba.shift();x;)if(g.responseFields[x]&&(E[g.responseFields[x]]=w),!ea&&ha&&g.dataFilter&&(w=g.dataFilter(w,g.dataType)),ea=x,x=ba.shift())if("*"===x)x=ea;else if("*"!==ea&&ea!==x){if(J=u[ea+" "+x]||u["* "+x],!J)for(U in u)if(z=U.split(" "),z[1]===x&&(J=u[ea+" "+z[0]]||
u["* "+z[0]])){!0===J?J=u[U]:!0!==u[U]&&(x=z[0],ba.unshift(z[1]));break}if(!0!==J)if(J&&g["throws"])w=J(w);else try{w=J(w)}catch(ac){var U={state:"parsererror",error:J?ac:"No conversion from "+ea+" to "+x};break a}}U={state:"success",data:w}}u=U;d?(m.ifModified&&(q=r.getResponseHeader("Last-Modified"),q&&(e.lastModified[v]=q),q=r.getResponseHeader("etag"),q&&(e.etag[v]=q)),204===c||"HEAD"===m.type?I="nocontent":304===c?I="notmodified":(I=u.state,t=u.data,k=u.error,d=!k)):(k=I,!c&&I||(I="error",0>
c&&(c=0)));r.status=c;r.statusText=(b||I)+"";d?G.resolveWith(p,[t,I,r]):G.rejectWith(p,[r,I,k]);r.statusCode(Va);Va=void 0;n&&O.trigger(d?"ajaxSuccess":"ajaxError",[r,m,d?t:k]);Na.fireWith(p,[r,I]);n&&(O.trigger("ajaxComplete",[r,m]),--e.active||e.event.trigger("ajaxStop"))}}"object"==typeof c&&(b=c,c=void 0);b=b||{};var f,l,d,h,n,t,k,m=e.ajaxSetup({},b),p=m.context||m,O=m.context&&(p.nodeType||p.jquery)?e(p):e.event,G=e.Deferred(),Na=e.Callbacks("once memory"),Va=m.statusCode||{},w={},E={},ha="canceled",
r={readyState:0,getResponseHeader:function(c){var a;if(y){if(!d)for(d={};a=na.exec(l);)d[a[1].toLowerCase()]=a[2];a=d[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return y?l:null},setRequestHeader:function(c,a){return null==y&&(c=E[c.toLowerCase()]=E[c.toLowerCase()]||c,w[c]=a),this},overrideMimeType:function(c){return null==y&&(m.mimeType=c),this},statusCode:function(c){var a;if(c)if(y)r.always(c[r.status]);else for(a in c)Va[a]=[Va[a],c[a]];return this},abort:function(c){c=
c||ha;return f&&f.abort(c),g(0,c),this}};if(G.promise(r),m.url=((c||m.url||Wa.href)+"").replace(nb,Wa.protocol+"//"),m.type=b.method||b.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(ya)||[""],null==m.crossDomain){var x=C.createElement("a");try{x.href=m.url,x.href=x.href,m.crossDomain=Ca.protocol+"//"+Ca.host!=x.protocol+"//"+x.host}catch(Nb){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=e.param(m.data,m.traditional)),Ua(La,m,b,r),y)return r;
(n=e.event&&m.global)&&0===e.active++&&e.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!ea.test(m.type);var v=m.url.replace(ba,"");m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(I,"+")):(k=m.url.slice(v.length),m.data&&(v+=(gb.test(v)?"&":"?")+m.data,delete m.data),!1===m.cache&&(v=v.replace(T,"$1"),k=(gb.test(v)?"&":"?")+"_="+ab++ +k),m.url=v+k);m.ifModified&&(e.lastModified[v]&&r.setRequestHeader("If-Modified-Since",
e.lastModified[v]),e.etag[v]&&r.setRequestHeader("If-None-Match",e.etag[v]));(m.data&&m.hasContent&&!1!==m.contentType||b.contentType)&&r.setRequestHeader("Content-Type",m.contentType);r.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+bb+"; q=0.01":""):m.accepts["*"]);for(t in m.headers)r.setRequestHeader(t,m.headers[t]);if(m.beforeSend&&(!1===m.beforeSend.call(p,r,m)||y))return r.abort();if(ha="abort",Na.add(m.complete),r.done(m.success),
r.fail(m.error),f=Ua(Cb,m,b,r)){if(r.readyState=1,n&&O.trigger("ajaxSend",[r,m]),y)return r;m.async&&0<m.timeout&&(h=a.setTimeout(function(){r.abort("timeout")},m.timeout));try{var y=!1;f.send(w,g)}catch(Nb){if(y)throw Nb;g(-1,Nb)}}else g(-1,"No Transport");return r},getJSON:function(c,a,b){return e.get(c,a,b,"json")},getScript:function(c,a){return e.get(c,void 0,a,"script")}});e.each(["get","post"],function(c,a){e[a]=function(c,b,g,f){return e.isFunction(b)&&(f=f||g,g=b,b=void 0),e.ajax(e.extend({url:c,
type:a,dataType:f,data:b,success:g},e.isPlainObject(c)&&c))}});e._evalUrl=function(c){return e.ajax({url:c,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};e.fn.extend({wrapAll:function(c){var a;return this[0]&&(e.isFunction(c)&&(c=c.call(this[0])),a=e(c,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&a.insertBefore(this[0]),a.map(function(){for(var c=this;c.firstElementChild;)c=c.firstElementChild;return c}).append(this)),this},wrapInner:function(c){return e.isFunction(c)?
this.each(function(a){e(this).wrapInner(c.call(this,a))}):this.each(function(){var a=e(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=e.isFunction(c);return this.each(function(b){e(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(c){return this.parent(c).not("body").each(function(){e(this).replaceWith(this.childNodes)}),this}});e.expr.pseudos.hidden=function(c){return!e.expr.pseudos.visible(c)};e.expr.pseudos.visible=function(c){return!!(c.offsetWidth||c.offsetHeight||
c.getClientRects().length)};e.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(c){}};var sb={0:200,1223:204},Sa=e.ajaxSettings.xhr();J.cors=!!Sa&&"withCredentials"in Sa;J.ajax=Sa=!!Sa;e.ajaxTransport(function(c){var b,e;if(J.cors||Sa&&!c.crossDomain)return{send:function(g,f){var l,d=c.xhr();if(d.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(l in c.xhrFields)d[l]=c.xhrFields[l];c.mimeType&&d.overrideMimeType&&d.overrideMimeType(c.mimeType);c.crossDomain||g["X-Requested-With"]||
(g["X-Requested-With"]="XMLHttpRequest");for(l in g)d.setRequestHeader(l,g[l]);b=function(c){return function(){b&&(b=e=d.onload=d.onerror=d.onabort=d.onreadystatechange=null,"abort"===c?d.abort():"error"===c?"number"!=typeof d.status?f(0,"error"):f(d.status,d.statusText):f(sb[d.status]||d.status,d.statusText,"text"!==(d.responseType||"text")||"string"!=typeof d.responseText?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}};d.onload=b();e=d.onerror=b("error");void 0!==d.onabort?
d.onabort=e:d.onreadystatechange=function(){4===d.readyState&&a.setTimeout(function(){b&&e()})};b=b("abort");try{d.send(c.hasContent&&c.data||null)}catch(Yb){if(b)throw Yb;}},abort:function(){b&&b()}}});e.ajaxPrefilter(function(c){c.crossDomain&&(c.contents.script=!1)});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(c){return e.globalEval(c),c}}});
e.ajaxPrefilter("script",function(c){void 0===c.cache&&(c.cache=!1);c.crossDomain&&(c.type="GET")});e.ajaxTransport("script",function(c){if(c.crossDomain){var a,b;return{send:function(g,f){a=e("<script>").prop({charset:c.scriptCharset,src:c.url}).on("load error",b=function(c){a.remove();b=null;c&&f("error"===c.type?404:200,c.type)});C.head.appendChild(a[0])},abort:function(){b&&b()}}}});var Z=[],Pb=/(=)\?(?=&|$)|\?\?/;e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Z.pop()||e.expando+
"_"+ab++;return this[c]=!0,c}});e.ajaxPrefilter("json jsonp",function(c,b,f){var g,l,d,h=!1!==c.jsonp&&(Pb.test(c.url)?"url":"string"==typeof c.data&&0===(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pb.test(c.data)&&"data");if(h||"jsonp"===c.dataTypes[0])return g=c.jsonpCallback=e.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,h?c[h]=c[h].replace(Pb,"$1"+g):!1!==c.jsonp&&(c.url+=(gb.test(c.url)?"&":"?")+c.jsonp+"="+g),c.converters["script json"]=function(){return d||
e.error(g+" was not called"),d[0]},c.dataTypes[0]="json",l=a[g],a[g]=function(){d=arguments},f.always(function(){void 0===l?e(a).removeProp(g):a[g]=l;c[g]&&(c.jsonpCallback=b.jsonpCallback,Z.push(g));d&&e.isFunction(l)&&l(d[0]);d=l=void 0}),"script"});J.createHTMLDocument=function(){var c=C.implementation.createHTMLDocument("").body;return c.innerHTML="<form></form><form></form>",2===c.childNodes.length}();e.parseHTML=function(c,a,b){if("string"!=typeof c)return[];"boolean"==typeof a&&(b=a,a=!1);
var g,f,l;return a||(J.createHTMLDocument?(a=C.implementation.createHTMLDocument(""),g=a.createElement("base"),g.href=C.location.href,a.head.appendChild(g)):a=C),f=Ub.exec(c),l=!b&&[],f?[a.createElement(f[1])]:(f=Qa([c],a,l),l&&l.length&&e(l).remove(),e.merge([],f.childNodes))};e.fn.load=function(c,a,b){var g,f,l,d=this,h=c.indexOf(" ");return-1<h&&(g=xa(c.slice(h)),c=c.slice(0,h)),e.isFunction(a)?(b=a,a=void 0):a&&"object"==typeof a&&(f="POST"),0<d.length&&e.ajax({url:c,type:f||"GET",dataType:"html",
data:a}).done(function(c){l=arguments;d.html(g?e("<div>").append(e.parseHTML(c)).find(g):c)}).always(b&&function(c,a){d.each(function(){b.apply(this,l||[c.responseText,a,c])})}),this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){e.fn[a]=function(c){return this.on(a,c)}});e.expr.pseudos.animated=function(c){return e.grep(e.timers,function(a){return c===a.elem}).length};e.offset={setOffset:function(c,a,b){var g,f,l,d=e.css(c,"position"),h=e(c),n={};
"static"===d&&(c.style.position="relative");var t=h.offset();var k=e.css(c,"top");var m=e.css(c,"left");("absolute"===d||"fixed"===d)&&-1<(k+m).indexOf("auto")?(g=h.position(),l=g.top,f=g.left):(l=parseFloat(k)||0,f=parseFloat(m)||0);e.isFunction(a)&&(a=a.call(c,b,e.extend({},t)));null!=a.top&&(n.top=a.top-t.top+l);null!=a.left&&(n.left=a.left-t.left+f);"using"in a?a.using.call(c,n):h.css(n)}};e.fn.extend({offset:function(c){if(arguments.length)return void 0===c?this:this.each(function(a){e.offset.setOffset(this,
c,a)});var a,b,f,l,d=this[0];if(d)return d.getClientRects().length?(f=d.getBoundingClientRect(),a=d.ownerDocument,b=a.documentElement,l=a.defaultView,{top:f.top+l.pageYOffset-b.clientTop,left:f.left+l.pageXOffset-b.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var c,a,b=this[0],f={top:0,left:0};return"fixed"===e.css(b,"position")?a=b.getBoundingClientRect():(c=this.offsetParent(),a=this.offset(),h(c[0],"html")||(f=c.offset()),f={top:f.top+e.css(c[0],"borderTopWidth",!0),left:f.left+
e.css(c[0],"borderLeftWidth",!0)}),{top:a.top-f.top-e.css(b,"marginTop",!0),left:a.left-f.left-e.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent;c&&"static"===e.css(c,"position");)c=c.offsetParent;return c||Y})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,a){var b="pageYOffset"===a;e.fn[c]=function(g){return v(this,function(c,g,f){var l;return e.isWindow(c)?l=c:9===c.nodeType&&(l=c.defaultView),void 0===f?l?l[a]:c[g]:
void(l?l.scrollTo(b?l.pageXOffset:f,b?f:l.pageYOffset):c[g]=f)},c,g,arguments.length)}});e.each(["top","left"],function(c,a){e.cssHooks[a]=qb(J.pixelPosition,function(c,b){if(b)return b=db(c,a),la.test(b)?e(c).position()[a]+"px":b})});e.each({Height:"height",Width:"width"},function(c,a){e.each({padding:"inner"+c,content:a,"":"outer"+c},function(b,g){e.fn[g]=function(f,l){var d=arguments.length&&(b||"boolean"!=typeof f),h=b||(!0===f||!0===l?"margin":"border");return v(this,function(a,b,f){var l;return e.isWindow(a)?
0===g.indexOf("outer")?a["inner"+c]:a.document.documentElement["client"+c]:9===a.nodeType?(l=a.documentElement,Math.max(a.body["scroll"+c],l["scroll"+c],a.body["offset"+c],l["offset"+c],l["client"+c])):void 0===f?e.css(a,b,h):e.style(a,b,f,h)},a,d?f:void 0,d)}})});e.fn.extend({bind:function(c,a,b){return this.on(c,null,a,b)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,b,f){return this.on(a,c,b,f)},undelegate:function(c,a,b){return 1===arguments.length?this.off(c,"**"):this.off(a,
c||"**",b)}});e.holdReady=function(c){c?e.readyWait++:e.ready(!0)};e.isArray=Array.isArray;e.parseJSON=JSON.parse;e.nodeName=h;"function"==typeof define&&define.amd&&define("jquery",[],function(){return e});var gc=a.jQuery,hc=a.$;return e.noConflict=function(c){return a.$===e&&(a.$=hc),c&&a.jQuery===e&&(a.jQuery=gc),e},b||(a.jQuery=a.$=e),e});(function(a){function b(b){var d=b||window.event,h=[].slice.call(arguments,1),k=0,w=0;b=a.event.fix(d);b.type="mousewheel";d.wheelDelta&&(k=d.wheelDelta/120);d.detail&&(k=-d.detail/3);var r=k;void 0!==d.axis&&d.axis===d.HORIZONTAL_AXIS&&(r=0,w=-1*k);void 0!==d.wheelDeltaY&&(r=d.wheelDeltaY/120);void 0!==d.wheelDeltaX&&(w=-1*d.wheelDeltaX/120);h.unshift(b,k,w,r);return(a.event.dispatch||a.event.handle).apply(this,h)}var k=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=k.length;d;)a.event.fixHooks[k[--d]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=k.length;a;)this.addEventListener(k[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=k.length;a;)this.removeEventListener(k[--a],b,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);/*

       __ _____                     ________                              __
      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
 /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
 \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
           \/              /____/                              version 1.6.1

 This file is part of jQuery Terminal. http://terminal.jcubic.pl

 Copyright (c) 2010-2017 Jakub Jankiewicz <http://jcubic.pl/me>
 Released under the MIT license

 Contains:

 Storage plugin Distributed under the MIT License
 Copyright (c) 2010 Dave Schindler

 jQuery Timers licenced with the WTFPL
 <http://jquery.offput.ca/timers/>

 Cross-Browser Split 1.1.1
 Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
 Available under the MIT License

 jQuery Caret
 Copyright (c) 2009, Gideon Sireling
 3 clause BSD License

 sprintf.js
 Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
 licensed under 3 clause BSD license

 Date: Tue, 15 Aug 2017 12:10:19 +0000
*/
(function(a){function b(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var k=function(){k.cache.hasOwnProperty(arguments[0])||(k.cache[arguments[0]]=k.parse(arguments[0]));return k.format.call(null,k.cache[arguments[0]],arguments)};k.format=function(a,h){var d=1,x=a.length,z=[],w,r;for(w=0;w<x;w++){var y=b(a[w]);if("string"===y)z.push(a[w]);else if("array"===y){var M=a[w];if(M[2])for(y=h[d],r=0;r<M[2].length;r++){if(!y.hasOwnProperty(M[2][r]))throw k('[sprintf] property "%s" does not exist',
M[2][r]);y=y[M[2][r]]}else y=M[1]?h[M[1]]:h[d++];if(/[^s]/.test(M[8])&&"number"!==b(y))throw k("[sprintf] expecting number but found %s",b(y));switch(M[8]){case "b":y=y.toString(2);break;case "c":y=String.fromCharCode(y);break;case "d":y=parseInt(y,10);break;case "e":y=M[7]?y.toExponential(M[7]):y.toExponential();break;case "f":y=M[7]?parseFloat(y).toFixed(M[7]):parseFloat(y);break;case "o":y=y.toString(8);break;case "s":y=(y=String(y))&&M[7]?y.substring(0,M[7]):y;break;case "u":y>>>=0;break;case "x":y=
y.toString(16);break;case "X":y=y.toString(16).toUpperCase()}y=/[def]/.test(M[8])&&M[3]&&0<=y?" +"+y:y;r=M[4]?"0"===M[4]?"0":M[4].charAt(1):" ";var ia=M[6]-String(y).length;if(M[6]){for(var Da=[];0<ia;Da[--ia]=r);r=Da.join("")}else r="";z.push(M[5]?y+r:r+y)}}return z.join("")};k.cache={};k.parse=function(a){for(var b,d=[],k=0;a;){if(null!==(b=/^[^\x25]+/.exec(a)))d.push(b[0]);else if(null!==(b=/^\x25{2}/.exec(a)))d.push("%");else if(null!==(b=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(a))){if(b[2]){k|=
1;var z=[],w=b[2],r;if(null!==(r=/^([a-z_][a-z_\d]*)/i.exec(w)))for(z.push(r[1]);""!==(w=w.substring(r[0].length));)if(null!==(r=/^\.([a-z_][a-z_\d]*)/i.exec(w)))z.push(r[1]);else if(null!==(r=/^\[(\d+)\]/.exec(w)))z.push(r[1]);else throw"[sprintf] huh?";else throw"[sprintf] huh?";b[2]=z}else k|=2;if(3===k)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(b)}else throw"[sprintf] huh?";a=a.substring(b[0].length)}return d};a.sprintf=k;a.vsprintf=function(a,b,m){m=
b.slice(0);m.splice(0,0,a);return k.apply(null,m)}})("undefined"!==typeof global?global:window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?module.exports=function(b,k){void 0===k&&(k="undefined"!==typeof window?require("jquery"):require("jquery")(b));a(k);return k}:a(jQuery)})(function(a,b){function k(){var b=a.Callbacks(),d=!1;this.resolve=function(){b.fire();d=!0};this.add=function(a){d?a():b.add(a)}}function d(a,b){var d;if("string"===typeof a&&"string"===typeof b)return localStorage[a]=b,!0;if("object"===typeof a&&"undefined"===
typeof b){for(d in a)a.hasOwnProperty(d)&&(localStorage[d]=a[d]);return!0}return!1}function h(a,b){var d;var h=new Date;h.setTime(h.getTime()+31536E6);h="; expires="+h.toGMTString();if("string"===typeof a&&"string"===typeof b)return document.cookie=a+"="+b+h+"; path=/",!0;if("object"===typeof a&&"undefined"===typeof b){for(d in a)a.hasOwnProperty(d)&&(document.cookie=d+"="+a[d]+h+"; path=/");return!0}return!1}function m(a){return localStorage[a]}function x(a){var b,d;a+="=";var h=document.cookie.split(";");
for(b=0;b<h.length;b++){for(d=h[b];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}function z(a){return delete localStorage[a]}function w(a){return h(a,"",-1)}function r(a){a.attr({role:"presentation","aria-hidden":"true"})}function y(b){var d=b instanceof Array?b:b?[b]:[];a.extend(this,{data:function(){return d},map:function(b){return a.map(d,b)},size:function(){return d.length},pop:function(){if(0===d.length)return null;var a=d[d.length-
1];d=d.slice(0,d.length-1);return a},push:function(a){d=d.concat([a]);return a},top:function(){return 0<d.length?d[d.length-1]:null},clone:function(){return new y(d.slice(0))}})}function M(b,d,h){var n=!0,k="";"string"===typeof b&&""!==b&&(k=b+"_");k+="commands";var m=h?[]:(m=a.Storage.get(k))?JSON.parse(m):[];var G=m.length-1;a.extend(this,{append:function(b){n&&m[m.length-1]!==b&&(m.push(b),d&&m.length>d&&(m=m.slice(-d)),G=m.length-1,h||a.Storage.set(k,JSON.stringify(m)))},set:function(b){b instanceof
Array&&(m=b,h||a.Storage.set(k,JSON.stringify(m)))},data:function(){return m},reset:function(){G=m.length-1},last:function(){return m[m.length-1]},end:function(){return G===m.length-1},position:function(){return G},current:function(){return m[G]},next:function(){G<m.length-1&&++G;if(-1!==G)return m[G]},previous:function(){var a=G;0<G&&--G;if(-1!==a)return m[G]},clear:function(){m=[];this.purge()},enabled:function(){return n},enable:function(){n=!0},purge:function(){h||a.Storage.remove(k)},disable:function(){n=
!1}})}function ia(b,d){var h=b.match(W)||[];if(h.length){var n=h.shift(),k=a.map(h,d),m=a.map(h,function(a){return(a=a.match(/^(['"]).*\1$/))&&a[1]||""});h=b.substring(n.length).trim();return{command:b,name:n,args:k,args_quotes:m,rest:h}}return{command:b,name:"",args:[],args_quotes:m,rest:""}}function Da(a){a="[jQuery Terminal] "+a;console&&console.warn?console.warn(a):setTimeout(function(){throw Error("WARN: "+a);},0)}function Ha(){var b=a('<div class="terminal temp"><div class="cmd"><span class="prompt">&nbsp;</span></div></div>').appendTo("body"),
d=b.find("span")[0].getBoundingClientRect();d={width:d.width,height:d.height};b.remove();return d}function oa(a,b){var d=a.find(".terminal-fill").width();return Math.floor(d/b.width)||1E3}function ja(a,b){return Math.floor(a.find(".terminal-fill").height()/b.height)}function Ja(b,d){var h=a("<div>"+d.replace(/\n/,"<br/>")+"<div>");b.append(h);if(document.body.createTextRange){var k=document.body.createTextRange();k.moveToElementText(h[0]);k.select()}else if(window.getSelection){var n=window.getSelection();
n.setBaseAndExtent?n.setBaseAndExtent(h[0],0,h[0],1):document.createRange&&(k=document.createRange(),k.selectNodeContents(h[0]),n.removeAllRanges(),n.addRange(k))}try{document.execCommand("copy")}catch(ha){}h.remove()}a.omap=function(b,d){var h={};a.each(b,function(a,k){h[a]=d.call(b,a,k)});return h};var Qa={clone_object:function(b){var d={};if("object"===typeof b){if(a.isArray(b))return this.clone_array(b);if(null===b)return b;for(var h in b)a.isArray(b[h])?d[h]=this.clone_array(b[h]):d[h]="object"===
typeof b[h]?this.clone_object(b[h]):b[h]}return d},clone_array:function(b){if(!a.isFunction(Array.prototype.map))throw Error("Your browser don't support ES5 array map use es5-shim");return b.slice(0).map(function(a){return"object"===typeof a?this.clone_object(a):a}.bind(this))}},ka=function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(G){return!1}}();a.extend({Storage:{set:ka?d:h,get:ka?m:x,remove:ka?z:w}});a.fn.extend({everyTime:function(b,d,h,k,m){return this.each(function(){a.timer.add(this,
b,d,h,k,m)})},oneTime:function(b,d,h){return this.each(function(){a.timer.add(this,b,d,h,1)})},stopTime:function(b,d){return this.each(function(){a.timer.remove(this,b,d)})}});a.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1E3,das:1E4,hs:1E5,ks:1E6},timeParse:function(d){if(d===b||null===d)return null;var h=this.regex.exec(a.trim(d.toString()));return h[2]?parseInt(h[1],10)*(this.powers[h[2]]||1):d},add:function(b,d,h,k,m,w){var n=0;a.isFunction(h)&&(m||
(m=k),k=h,h=d);d=a.timer.timeParse(d);if(!("number"!==typeof d||isNaN(d)||0>=d)){m&&m.constructor!==Number&&(w=!!m,m=0);m=m||0;w=w||!1;b.$timers||(b.$timers={});b.$timers[h]||(b.$timers[h]={});k.$timerID=k.$timerID||this.guid++;var r=function(){w&&r.inProgress||(r.inProgress=!0,(++n>m&&0!==m||!1===k.call(b,n))&&a.timer.remove(b,h,k),r.inProgress=!1)};r.$timerID=k.$timerID;b.$timers[h][k.$timerID]||(b.$timers[h][k.$timerID]=window.setInterval(r,d));this.global[h]||(this.global[h]=[]);this.global[h].push(b)}},
remove:function(a,b,d){var h=a.$timers;if(h){if(!b)for(var k in h)h.hasOwnProperty(k)&&this.remove(a,k,d);else if(h[b]){if(d)d.$timerID&&(window.clearInterval(h[b][d.$timerID]),delete h[b][d.$timerID]);else for(var m in h[b])h[b].hasOwnProperty(m)&&(window.clearInterval(h[b][m]),delete h[b][m]);for(n in h[b])if(h[b].hasOwnProperty(n))break;if(!n){var n=null;delete h[b]}}for(n in h)if(h.hasOwnProperty(n))break;n||(a.$timers=null)}}}});if(/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()))a(window).one("unload",
function(){var b=a.timer.global,d;for(d in b)if(b.hasOwnProperty(d))for(var h=b[d],k=h.length;--k;)a.timer.remove(h[k],d)});(function(a){if(String.prototype.split.toString().match(/\[native/)){var b=String.prototype.split,d=/()??/.exec("")[1]===a;var h=function(h,k,m){if("[object RegExp]"!==Object.prototype.toString.call(k))return b.call(h,k,m);var n=[],e=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.extended?"x":"")+(k.sticky?"y":""),w=0,r,x;k=new RegExp(k.source,e+"g");h+="";d||(r=new RegExp("^"+
k.source+"$(?!\\s)",e));for(m=m===a?4294967295:m>>>0;x=k.exec(h);){e=x.index+x[0].length;if(e>w){n.push(h.slice(w,x.index));!d&&1<x.length&&x[0].replace(r,function(){for(var b=1;b<arguments.length-2;b++)arguments[b]===a&&(x[b]=a)});1<x.length&&x.index<h.length&&Array.prototype.push.apply(n,x.slice(1));var G=x[0].length;w=e;if(n.length>=m)break}k.lastIndex===x.index&&k.lastIndex++}w===h.length?(G||!k.test(""))&&n.push(""):n.push(h.slice(w));return n.length>m?n.slice(0,m):n};String.prototype.split=
function(a,b){return h(this,a,b)};return h}})();a.fn.caret=function(a){var b=this[0],d="true"===b.contentEditable;if(0===arguments.length){if(window.getSelection){if(d){b.focus();var h=window.getSelection().getRangeAt(0);d=h.cloneRange();d.selectNodeContents(b);d.setEnd(h.endContainer,h.endOffset);return d.toString().length}return b.selectionStart}if(document.selection){b.focus();if(d)return h=document.selection.createRange(),d=document.body.createTextRange(),d.moveToElementText(b),d.setEndPoint("EndToEnd",
h),d.text.length;a=0;h=b.createTextRange();d=document.selection.createRange().duplicate();b=d.getBookmark();for(h.moveToBookmark(b);0!==h.moveStart("character",-1);)a++;return a}return 0}-1===a&&(a=this[d?"text":"val"]().length);window.getSelection?d?(b.focus(),window.getSelection().collapse(b.firstChild,a)):b.setSelectionRange(a,a):document.body.createTextRange&&(h=document.body.createTextRange(),h.moveToElementText(b),h.moveStart("character",a),h.collapse(!0),h.select());d||b.focus();return a};
var ua=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};a.fn.resizer=function(b){var d="unbind"===b;if(!d&&!a.isFunction(b))throw Error('Invalid argument, it need to a function of string "unbind".');return this.each(function(){var h=a(this);if(d)a(this).removeData("callbacks").find(".resizer").remove();else if(h.data("callbacks"))a(this).data("callbacks").push(b);else{h.data("callbacks",[b]);var k=this,m=
a("<div/>").addClass("resizer").appendTo(this)[0];m.style.cssText="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;";m.innerHTML='<div class="resize-sensor-expand" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s;"></div></div><div class="resize-sensor-shrink" style="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"><div style="position: absolute; left: 0; top: 0; transition: 0s; width: 200%; height: 200%"></div></div>';
var n=m.childNodes[0],w=n.childNodes[0],r=m.childNodes[1],e,x,y,z,G=k.offsetWidth,M=k.offsetHeight,C=function(){w.style.width="100000px";w.style.height="100000px";n.scrollLeft=1E5;n.scrollTop=1E5;r.scrollLeft=1E5;r.scrollTop=1E5};C();var ka=function(){x=0;if(e){G=y;M=z;var a=h.data("callbacks");a&&a.length&&a.forEach(function(a){a()})}};m=function(){y=k.offsetWidth;z=k.offsetHeight;(e=y!==G||z!==M)&&!x&&(x=ua(ka));C()};a(n).on("scroll",m);a(r).on("scroll",m)}})};var ob=0;a.fn.cmd=function(d){function h(){var b=
a("<span>&nbsp;</span>").appendTo(v),f=b[0].getBoundingClientRect();b.remove();return f}function k(){var a;if((a=window.getSelection())&&null!==a.focusNode)return a.focusOffset}function m(b){var f=k(),e=h().height,d=v.offset();e=Math.floor((b.pageY-d.top)/e);if(a.isNumeric(f)){if(b=a(b.target).closest('[role="presentation"]'),!b.is("div")&&!b.next().is(".cursor")){if(b.is(".cursor"))return A;if(b.prev().is(".cursor"))return A+f;f=0}}else return B.length;b=ja(B);f=0<e&&1<b.length?f+b.slice(0,e).reduce(function(a,
b){return a+b.length},0):f;f=B.replace(/\t/g,"\x00\x00\x00\x00").replace(/\n/,"").slice(0,f).replace(/\x00{4}/g,"\t").replace(/\x00+/,"").length;e=B.length;return f>e?e:f}function n(){return!0}function w(){P.val("");Za=0;P.focus();P.on("input",function Ka(a){ra(a);P.off("input",Ka)});return!0}function x(){fb?(Ba=B,v.set(S.current())):v.set(S.previous());return fb=!1}function y(){v.set(S.end()?Ba:S.next());return!1}function e(){0<A&&(v.position(-1,!0),Q())}function z(){A<B.length&&v.position(1,!0);
return!1}function C(){v.position(0)}function ka(){v.position(B.length)}function Da(){var a=P.is(":focus");Ea?a||(P.trigger("focus",[!0]),v.oneTime(10,function(){P.trigger("focus",[!0])})):a&&tb&&P.blur()}function K(){v.oneTime(10,function(){if(Ea)v.oneTime(10,function(){})})}function ia(){sa.toggleClass("inverted")}function Ha(){R="(reverse-i-search)`"+aa+"': ";la()}function ua(b){var f=S.data(),e=f.length;b&&0<Ta&&(e-=Ta);if(0<aa.length)for(var d=aa.length;0<d;d--){var h=a.terminal.escape_regex(aa.substring(0,
d));b=new RegExp(h);for(var k=e;k--;)if(b.test(f[k])){Ta=f.length-k;v.position(f[k].indexOf(h));v.set(f[k],!0);Q();aa.length!==d&&(aa=aa.substring(0,d),Ha());return}}aa=""}function ja(b){var f=Qa.text(),e=new RegExp("^"+a.terminal.escape_regex(f));if(b.match(/\n/)){b=b.split("\n");for(var d=Ga-Ia-1,h=0;h<b.length-1;++h)b[h]+=" ";cb(b[0])>d?(f=a.terminal.split_equal(f+b[0],Ga),f[0]=f[0].replace(e,"")):f=[b[0]];for(h=1;h<b.length;++h)b[h].length>Ga?f=f.concat(a.terminal.split_equal(b[h],Ga)):f.push(b[h])}else f=
a.terminal.split_equal(f+b,Ga),f[0]=f[0].replace(e,"");return f}function fa(b){b=a.terminal.escape_formatting(b);try{return a.terminal.apply_formatters(b)}catch(E){alert(E.message+"\n"+(E.stack?E.stack:E))}}function oa(b){return a.terminal.format(a.terminal.encode(b))}function ra(){if(!(0<Za++)&&v.isenabled()){var a=v.find("textarea");a.is(":focus")||a.focus();v.oneTime(100,function(){v.insert(a.val());a.val("");K()})}}function W(){if(a.isFunction(d.onCommandChange))d.onCommandChange(B)}function wa(f){Oa=
"process"===(f.key||"").toLowerCase();mb=p&&$a;try{f.fake||($a=f.key&&1===f.key.length&&!f.ctrlKey,pa="unidentified"===String(f.key).toLowerCase(),qa="BACKSPACE"===f.key.toUpperCase()||8===f.which)}catch(da){}if("Unidentified"===f.key)X=!0;else{f.fake||(p=!0,X=!1);if(f.key){var e=f.key.toUpperCase();if("CONTROL"===e)var h="CTRL";else h=[],f.ctrlKey&&h.push("CTRL"),f.metaKey&&"META"!==e&&h.push("META"),f.shiftKey&&"SHIFT"!==e&&h.push("SHIFT"),f.altKey&&"ALT"!==e&&h.push("ALT"),f.key&&("DEL"===e?h.push("DELETE"):
h.push(e)),h=h.join("+")}else h=void 0;if(a.isFunction(d.keydown)&&(e=d.keydown(f),e!==b))return e||(Ra=!0),e;if(Ea){Ra=-1!==["CTRL+V","META+V"].indexOf(h);38===f.which||80===f.which&&f.ctrlKey||(fb=!0);if(!N||35!==f.which&&36!==f.which&&37!==f.which&&38!==f.which&&39!==f.which&&40!==f.which&&13!==f.which&&27!==f.which)if(a.isFunction(eb[h])){e=eb[h]();if(!0===e)return;if(e!==b)return e}else{f.altKey||(lb=!1);return}else R=ta,N=!1,Ta=null,aa="",la(),27===f.which&&v.set(""),Q(),wa.call(this,f);f.preventDefault()}}}
function ya(f){f.fake||(p=!1);if(!f.ctrlKey&&!f.metaKey&&!lb){if(a.isFunction(d.keypress)){var e=d.keypress(f);if(e!==b)return e||(Ra=!0),e}if(Ea&&!f.fake){e="KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype?Object.getOwnPropertyDescriptor(window.KeyboardEvent.prototype,"key").get.toString().match(/\[native code\]/):!1;if(e||f.fake)var h=f.key;if(!h||pa)h=String.fromCharCode(f.which);"SPACEBAR"===h.toUpperCase()&&(h=" ");if(-1<a.inArray(f.which,[13,0,8]))return 123===f.keyCode?void 0:
!1;if(h&&(!f.ctrlKey||f.ctrlKey&&f.ctrlKey)&&(!f.altKey||100!==f.which||f.altKey)&&!mb&&(N?(aa+=h,ua(),Ha()):v.insert(h)," "===h))return!1}}}function za(b,f,e){b=a.Event(b);b.which=e;b.key=f;b.fake=!0;F.trigger(b)}function Fa(){if(X||Oa||(p||mb)&&!Ra&&($a||pa)&&!qa){var a=A,b=P.val();X&&(qa=H.substring(0,H.length-1)===H.length);if(N)aa=b,ua(),Ha();else{var f=b.substring(A);if(1===f.length||qa){if(X){var e=qa?8:f.toUpperCase().charCodeAt(0);za("keydown",qa?"Backspace":f,e)}p&&!qa&&za("keypress",f,
f.charCodeAt(0))}if(qa){H=B;return}if(Ra){Ra=!1;return}v.set(b)}qa?v.position(a-1):v.position(a+Math.abs(b.length-H.length))}H=B;Ra=!1;X=!0}var v=this,xa=v.data("cmd");if(xa)return xa;var D=ob++;v.addClass("cmd");v.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');r(v.find("span").not(":eq(0)"));var P=a("<textarea>").attr({autocapitalize:"off",spellcheck:"false",tabindex:1}).addClass("clipboard").appendTo(v);d.width&&v.width(d.width);var Ga,Ia,Qa=v.find(".prompt"),
N=!1,aa="",Ta=null,ta,Pa=d.mask||!1,B="",Ba,f="",A=0,Ea,Y=d.historySize||60,Ya,S,sa=v.find(".cursor"),Za=0,eb,Ua={"ALT+D":function(){v.set(B.slice(0,A)+B.slice(A).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0);return!1},ENTER:function(){(S&&B&&!Pa&&a.isFunction(d.historyFilter)&&d.historyFilter(B)||d.historyFilter instanceof RegExp&&B.match(d.historyFilter)||!d.historyFilter)&&S.append(B);var b=B;S.reset();H="";X=!0;v.set("");d.commands&&d.commands(b);a.isFunction(R)&&la();a(".clipboard").val("");return!1},
"SHIFT+ENTER":function(){v.insert("\n");return!0},BACKSPACE:function(){if(N)aa=aa.slice(0,-1),Ha();else if(""!==B&&0<A)v["delete"](-1);X=!0;return!1},TAB:function(){v.insert("\t")},"CTRL+D":function(){v["delete"](1);return!1},DELETE:function(){v["delete"](1);return!0},ARROWUP:x,UP:x,"CTRL+P":x,ARROWDOWN:y,DOWN:y,"CTRL+N":y,ARROWLEFT:e,LEFT:e,"CTRL+B":e,"CTRL+ARROWLEFT":function(){var a=A-1,b=0;for(" "===B[a]&&--a;0<a;--a)if(" "===B[a]&&" "!==B[a+1]){b=a+1;break}else if("\n"===B[a]&&"\n"!==B[a+1]){b=
a;break}v.position(b)},"CTRL+R":function(){N?ua(!0):(ta=R,Ha(),Ba=B,v.set(""),Q(),N=!0);return!1},"CTRL+G":function(){if(N)return R=ta,la(),v.set(Ba),Q(),N=!1,aa="",!1},ARROWRIGHT:z,"CTRL+F":z,RIGHT:z,"CTRL+ARROWRIGHT":function(){" "===B[A]&&++A;var a=B.slice(A).match(/\S[\n\s]{2,}|[\n\s]+\S?/);!a||a[0].match(/^\s+$/)?v.position(B.length):" "!==a[0][0]?A+=a.index+1:(A+=a.index+a[0].length-1," "!==a[0][a[0].length-1]&&--A);Q()},F12:n,END:ka,"CTRL+E":ka,HOME:C,"CTRL+A":C,"SHIFT+INSERT":w,"CTRL+SHIFT+T":n,
"CTRL+W":function(){if(""!==B&&0!==A){var a=B.slice(0,A).match(/([^ ]+ *$)/);a[0].length&&(f=v["delete"](-a[0].length),Ja(v,f))}return!1},"CTRL+H":function(){if(""!==B&&0<A)v["delete"](-1);return!1},"CTRL+X":n,"CTRL+C":n,"CTRL+T":n,"CTRL+Y":function(){""!==f&&v.insert(f)},"CTRL+V":w,"META+V":w,"CTRL+K":function(){B.length-A&&(f=v["delete"](B.length-A),Ja(v,f));return!1},"CTRL+U":function(){""!==B&&0!==A&&(f=v["delete"](-A),Ja(v,f));return!1},"CTRL+TAB":function(){return!1},"META+`":n,"META+R":n,"META+L":n};
if(hb&&!yb)var ib=function(a){a?sa.addClass("blink"):sa.removeClass("blink")};else{var va=!1;ib=function(a){a&&!va?(va=!0,sa.addClass("inverted blink"),v.everyTime(500,"blink",ia)):va&&!a&&(va=!1,v.stopTime("blink",ia),sa.removeClass("inverted blink"))}}var Q=function(){function f(b,f){var e=b.length;b=fa(b);f===e?(k.html(oa(b)),sa.html("&nbsp;"),m.html("")):0===f?(k.html(""),sa.html(oa(a.terminal.substring(b,0,1))),m.html(oa(a.terminal.substring(b,1,void 0)))):(e=a.terminal.substring(b,0,f),k.html(oa(e)),
e=a.terminal.substring(b,f,f+1),sa.html(oa(e)),f===b.length-1?m.html(""):m.html(oa(a.terminal.substring(b,f+1,void 0))))}function e(a){return'<div role="presentation">'+oa(fa(a))+"</div>"}function d(b){var f=m;a.each(b,function(b,d){f=a(e(d)).insertAfter(f)})}function h(b){a.each(b,function(a,b){k.before(e(b))})}var k=sa.prev(),m=sa.next();return function(){switch(typeof Pa){case "boolean":var n=Pa?B.replace(/./g,"*"):B;break;case "string":n=B.replace(/./g,Pa)}var p;v.find("div").remove();k.html("");
if(cb(n)>Ga-Ia-1||n.match(/\n/)){var w=(p=n.match(/\t/g))?3*p.length:0;p&&(n=n.replace(/\t/g,"\x00\x00\x00\x00"));var l=ja(n);p&&(l=a.map(l,function(a){return a.replace(/\x00\x00\x00\x00/g,"\t")}));p=l[0].length;if(0!==p||1!==l.length)if(A<p)f(l[0],A),d(l.slice(1));else if(A===p)k.before(e(l[0])),f(l[1]||"",0),1<l.length&&d(l.slice(2));else{var t=l.length;if(A<p)f(l[0],A),d(l.slice(1));else if(A===p)k.before(e(l[0])),f(l[1],0),d(l.slice(2));else{var I=l.slice(-1)[0];w=n.length-A-w;var ba=I.length;
n=0;if(w<=ba)h(l.slice(0,-1)),f(I,ba===w?0:ba-w);else if(3===t)n=oa(l[0]),k.before('<div role="presentation">'+n+"</div>"),f(l[1],A-p-1),n=oa(fa(l[2])),m.after('<div role="presentation">'+n+"</div>");else{n=A;for(p=0;p<l.length;++p)if(t=l[p].length,n>t)n-=t;else break;t=l[p];if(n===t.length&&(n=0,t=l[++p],t===b))throw Error(a.terminal.defaults.strings.redrawError);f(t,n);h(l.slice(0,p));d(l.slice(p+1))}}}}else""===n?(k.html(""),sa.html("&nbsp;"),m.html("")):f(n,A)}}(),la=function(){function b(b){var f=
a.terminal.split_equal(a.terminal.encode(b),Ga);b=f.slice(-1).map(a.terminal.format)[0];f=f.slice(0,-1).map(function(b){b=a.terminal.format(b);return b.match(/class="/)?b.replace(/class="/,'class="line '):b.replace(/^<span/,'<span class="line"')}).concat([b]).join("\n");Qa.html(f);Ia=cb(a("<span>"+b+"</span>").text())}return function(){switch(typeof R){case "string":b(R);break;case "function":R(b)}}}();a.extend(v,{name:function(a){if(a!==b){Ya=a;var f=S&&S.enabled()||!S;S=new M(a,Y,"memory"===d.history);
f||S.disable();return v}return Ya},purge:function(){S.clear();return v},history:function(){return S},"delete":function(a,b){if(0===a)return v;if(0>a){if(0<A){var f=B.slice(0,A).slice(a);B=B.slice(0,A+a)+B.slice(A,B.length);b||v.position(A+a);W()}}else""!==B&&A<B.length&&(f=B.slice(A).slice(0,a),B=B.slice(0,A)+B.slice(A+a,B.length),W());Q();K();return f},set:function(a,f){a!==b&&(B=a,f||v.position(B.length),Q(),K(),W());return v},keymap:function(b){if("undefined"===typeof b)return eb;eb=a.extend({},
Ua,a.omap(b||{},function(a,b){return function(f){return b(f,Ua[a])}}));return v},insert:function(a,b){B=A===B.length?B+a:0===A?a+B:B.slice(0,A)+a+B.slice(A);b?K():v.position(a.length,!0);Q();W();return v},get:function(){return B},commands:function(a){return a?(d.commands=a,v):a},destroy:function(){F.unbind("keypress.cmd",ya);F.unbind("keydown.cmd",wa);F.unbind("input.cmd",Fa);v.stopTime("blink",ia);v.find(".cursor").next().remove().end().prev().remove().end().remove();v.find(".prompt, .clipboard").remove();
v.removeClass("cmd").removeData("cmd").off(".cmd");return v},prompt:function(a){if(a===b)return R;if("string"===typeof a||"function"===typeof a)R=a;else throw Error("prompt must be a function or string");la();Q();return v},kill_text:function(){return f},position:function(b,f){if("number"===typeof b){A=f?A+b:0>b?0:b>B.length?B.length:b;if(a.isFunction(d.onPositionChange))d.onPositionChange(A);Q();K();return v}return A},visible:function(){var a=v.visible;return function(){a.apply(v,[]);Q();la()}}(),
show:function(){var a=v.show;return function(){a.apply(v,[]);Q();la()}}(),resize:function(a){if(a)Ga=a;else{var b=v.find(".prompt").text("&nbsp;");a=v.width();b=b[0].getBoundingClientRect().width;Ga=Math.floor(a/b);la()}Q();la();return v},enable:function(){if(!Ea){Ea=!0;v.addClass("enabled");try{P.caret(A)}catch(O){}ib(!0);la();Da()}return v},isenabled:function(){return Ea},disable:function(a){Ea=!1;v.removeClass("enabled");ib(!1);a||Da();return v},mask:function(a){if("undefined"===typeof a)return Pa;
Pa=a;Q();return v}});v.name(d.name||d.prompt||"");var R="string"===typeof d.prompt?d.prompt:"> ";la();d.enabled!==b&&!0!==d.enabled||v.enable();d.history||S.disable();var fb=!0,lb=!1,mb=!1,$a=!1,p=!1,pa=!1,X=!0,qa=!1,Oa=!1,Ra,H="",F=a(document.documentElement||window);v.keymap(d.keymap);F.bind("keypress.cmd",ya).bind("keydown.cmd",wa).bind("input.cmd",Fa);(function(){var b=!1,f=!1,e=0;v.on("mousedown.cmd",function(){f=!0;v.oneTime(1,function(){a(window).on("mousemove.cmd_"+D,function(){b=!0;a(window).off("mousemove.cmd_"+
D)})})}).on("mouseup.cmd",function(h){var k=b;b=!1;a(window).off("mousemove.cmd_"+D);if(!k)if(k="click_"+D,1===++e){var n=f;if(Ea)v.oneTime(d.clickTimeout,k,function(){!a(h.target).is(".prompt")&&n&&(a(h.target).is(".cmd")?v.position(B.length):v.position(m(h)));e=0});else e=0}else v.stopTime(k),e=0;f=!1})})();v.data("cmd",v);"KeyboardEvent"in window&&"key"in window.KeyboardEvent.prototype||setTimeout(function(){throw Error("key event property not supported try https://github.com/cvan/keyboardevent-key-polyfill");
},0);return v};var hb=function(){var a=!1,d=["Webkit","Moz","O","ms","Khtml"],h=document.createElement("div");h.style.animationName&&(a=!0);if(!1===a)for(var k=0;k<d.length;k++)if(h.style[d[k]+"AnimationName"]!==b){a=!0;break}return a}(),yb=-1!==navigator.userAgent.toLowerCase().indexOf("android"),cb=function(){return"undefined"===typeof wcwidth?function(a){return a.length}:wcwidth}(),tb="ontouchstart"in window||!!window.DocumentTouch&&document instanceof window.DocumentTouch,ub=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?)/i,
Ba=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,pb=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]?/gi,db=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]/gi,qb=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^[]*\[[^\]]*)\]$/gi,vb=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,Ab=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+\b)/gi,
Fb=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,Bb=/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g,W=/((?:"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|\/[^\/\\]*(?:\\[\S\s][^\/\\]*)*\/[gimy]*(?=\s|$)|(?:\\\s|\S))+)(?=\s|$)/gi,jb=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Gb=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,Xa=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,Hb=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,Lb=/^\/((?:\\\/|[^/]|\[[^\]]*\/[^\]]*\])+)\/([gimy]*)$/,
wa=/^(?=((?:[^"']+|"[^"\\]*(?:\\[^][^"\\]*)*"|'[^'\\]*(?:\\[^][^'\\]*)*')*))\1./;a.terminal={version:"1.6.1",color_names:"transparent currentcolor black silver gray white maroon red purple fuchsia green lime olive yellow navy blue teal aqua aliceblue antiquewhite aqua aquamarine azure beige bisque black blanchedalmond blue blueviolet brown burlywood cadetblue chartreuse chocolate coral cornflowerblue cornsilk crimson cyan darkblue darkcyan darkgoldenrod darkgray darkgreen darkgrey darkkhaki darkmagenta darkolivegreen darkorange darkorchid darkred darksalmon darkseagreen darkslateblue darkslategray darkslategrey darkturquoise darkviolet deeppink deepskyblue dimgray dimgrey dodgerblue firebrick floralwhite forestgreen fuchsia gainsboro ghostwhite gold goldenrod gray green greenyellow grey honeydew hotpink indianred indigo ivory khaki lavender lavenderblush lawngreen lemonchiffon lightblue lightcoral lightcyan lightgoldenrodyellow lightgray lightgreen lightgrey lightpink lightsalmon lightseagreen lightskyblue lightslategray lightslategrey lightsteelblue lightyellow lime limegreen linen magenta maroon mediumaquamarine mediumblue mediumorchid mediumpurple mediumseagreen mediumslateblue mediumspringgreen mediumturquoise mediumvioletred midnightblue mintcream mistyrose moccasin navajowhite navy oldlace olive olivedrab orange orangered orchid palegoldenrod palegreen paleturquoise palevioletred papayawhip peachpuff peru pink plum powderblue purple red rosybrown royalblue saddlebrown salmon sandybrown seagreen seashell sienna silver skyblue slateblue slategray slategrey snow springgreen steelblue tan teal thistle tomato turquoise violet wheat white whitesmoke yellow yellowgreen".split(" "),
valid_color:function(b){return b.match(vb)?!0:-1!==a.inArray(b.toLowerCase(),a.terminal.color_names)},unclosed_strings:function(a){return!!a.match(wa)},escape_regex:function(a){if("string"===typeof a)return a.replace(/([-\\^$[\]()+{}?*.|])/g,"\\$1")},have_formatting:function(a){return"string"===typeof a&&!!a.match(db)},is_formatting:function(a){return"string"===typeof a&&!!a.match(qb)},format_split:function(a){return a.split(ub).filter(Boolean)},iterate_formatting:function(a,d){for(var h=!1,k=!1,
m=0,n,w=-1,r=0;r<a.length;r++){(n=a.substring(r).match(Gb))?(h=n[1],k=!1):h?"]"===a[r]&&(k?(h="",k=!1):k=!0):k=!0;n=h&&k||!h;var e="["===a[r]&&"["===a[r+1];"&nbsp;"!==a.substring(r-6,r)&&" "!==a.substring(r-1,r)||!n&&!e||(w=r);e=a[r].match(/[[\]]/);if(n)if("&"===a[r]){n=a.substring(r).match(/^(&[^;]+;)/);if(!n)throw Error("Unclosed html entity at char "+(r+1));r+=n[1].length-2;continue}else"]"===a[r]&&"\\"===a[r-1]?--m:e||++m;if(!e&&n)if(2===cb(a[r])&&m++,n=d({count:m,index:r,formatting:h,text:k,
space:w}),!1===n)break;else n&&(n.count!==b&&(m=n.count),n.space!==b&&(w=n.space),n.index!==b&&(r=n.index))}},substring:function(b,d,h){if(""===a("<span>"+a.terminal.strip(b)+"</span>").text().substring(d,h))return"";var k,m=b.length,n="",r="";a.terminal.iterate_formatting(b,function(a){a.count===d&&(k=a.index+1,a.formatting&&(n=a.formatting));h&&a.count===h&&(m=a.index+1,r=a.formatting)});b=n+b.substring(k,m);r&&(b+="]");return b},normalize:function(a){return a.replace(pb,function(a,b,d){if(""===
d)return"";a=b.match(/;/g).length;if(4<=a)return a=b.split(/;/),b=a.slice(0,4).join(";"),a=a.slice(4).join(";"),"[["+b+";"+(a||d)+"]"+d+"]";a=2===a?";;":3===a?";":"";var h=d.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+b+a+h+"]"+d+"]"})},split_equal:function(b,d,h){var k="",m=[];b=a.terminal.normalize(b).split(/\n/g);for(var n=0,r=b.length;n<r;++n)if(""===b[n])m.push("");else{var w=b[n],e=0,x,y=w.length;a.terminal.iterate_formatting(w,function(b){var n=b.index===
y-2&&"]"===w[b.index+1],r=b.index===y-1||n;if(b.count>=d||r||b.count===d-1&&2===cb(w[b.index+1])){if(h){r=a.terminal.strip(w.substring(b.space));r=a("<span>"+r+"</span>").text();var z=r.length,G=b.index+d+1;r=r.substring(0,G);var M=!1;if(r.match(/\s/)||G>z)M=!0}if(h&&!n&&-1!==b.space&&b.index!==y-1&&M){x=w.substring(e,b.space);var J=b.space-1}else x=w.substring(e,b.index+1);h&&(x=x.replace(/(&nbsp;|\s)+$/g,""));e=(J||b.index)+1;k&&(b=x.match(/^[^\]]*\]/),x=k+x,b&&(k=""));n&&(x+="]",k="");if(n=x.match(pb))n=
n[n.length-1],"]"!==n[n.length-1]?(k=n.match(jb)[1],x+="]"):x.match(Xa)&&(x=x.replace(Xa,""),k=n.match(jb)[1]);m.push(x);return{index:J,count:0,space:-1}}})}return m},encode:function(a){a=a.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;");return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},nested_formatting:function(b){if(!a.terminal.have_formatting(b))return b;var d=[],h=/(\[\[(?:[^\]]|\\\])+\])[\s\S]*/;return b.split(/(\[\[(?:[^\]]|\\\])+\](?:[^\][]|\\\])*\]?)/).filter(Boolean).map(function(b){if(b.match(/^\[\[/))a.terminal.is_formatting(b)||
(b+="]",d.push(b.replace(h,"$1")));else{var k=!1;b.match(/\]/)&&(k=!0);d.length&&(b=d[d.length-1]+b);k?d.pop():d.length&&(b+="]")}return b}).join("")},escape_formatting:function(b){return a.terminal.escape_brackets(b)},apply_formatters:function(b){var d=a.terminal.defaults.formatters;return a.terminal.format_split(b).map(function(b){if(!a.terminal.is_formatting(b))for(var h=0;h<d.length;++h)try{if("function"===typeof d[h]){var k=d[h](b);"string"===typeof k&&(b=k)}}catch(ha){throw Error("Error in formatter ["+
h+"]");}return b}).join("")},format:function(b,d){var h=a.extend({},{linksNoReferrer:!1},d||{});if("string"===typeof b){var k=a.terminal.format_split(b);b=a.map(k,function(b){return""===b?b:a.terminal.is_formatting(b)?(b=b.replace(/\[\[[^\]]+\]/,function(a){return a.replace(/&nbsp;/g," ")}),b.replace(Ba,function(b,d,k,e,m,n,r){if(""===r)return"";r=r.replace(/\\]/g,"]");b="";-1!==d.indexOf("b")&&(b+="font-weight:bold;");var w=[];-1!==d.indexOf("u")&&w.push("underline");-1!==d.indexOf("s")&&w.push("line-through");
-1!==d.indexOf("o")&&w.push("overline");w.length&&(b+="text-decoration:"+w.join(" ")+";");-1!==d.indexOf("i")&&(b+="font-style:italic;");a.terminal.valid_color(k)&&(b+="color:"+k+";",-1!==d.indexOf("g")&&(b+="text-shadow:0 0 5px "+k+";"));a.terminal.valid_color(e)&&(b+="background-color:"+e);k=""===n?r:n.replace(/&#93;/g,"]");-1!==d.indexOf("!")?(k.match(Bb)?e='<a class="a_acct" name="a_acct"':(e='<a target="_blank" href="'+k+'"',e=h.linksNoReferrer?e+' rel="noreferrer noopener"':e+' rel="noopener"'),
e+=' tabindex="1000"'):e="<span";""!==b&&(e+=' style="'+b+'"');""!==m&&(e+=' class="'+m+'"');return e=-1!==d.indexOf("!")?e+(">"+r+"</a>"):e+(' data-text="'+k.replace('"',"&quote;")+'">'+r+"</span>")})):"<span>"+b.replace(/\\\]/g,"]")+"</span>"}).join("");return b.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(a){return a.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(a){a=a.replace(Ba,"$6");return a.replace(/(\\?)([[\]])/g,function(a,b){return b?a:
""})},active:function(){return fa.front()},last_id:function(){var a=fa.length();if(a)return a-1},parse_argument:function(a,b){function d(a){a.match(/^['"]/)&&(a=a.replace(new RegExp("((^|[^\\\\])(?:\\\\\\\\)*)"+a[0],"g"),"$1"));return JSON.parse('"'+a+'"')}if(!1===b)return"'"===a[0]&&"'"===a[a.length-1]?a.replace(/^'|'$/g,""):'"'===a[0]&&'"'===a[a.length-1]?a.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):a.match(/\/.*\/[gimy]*$/)?a:a.match(/['"]]/)?d(a):a.replace(/\\ /g," ");var h=a.match(Lb);return h?
new RegExp(h[1],h[2]):a.match(/['"]/)?d(a):a.match(/^-?[0-9]+$/)?parseInt(a,10):a.match(Hb)?parseFloat(a):a.replace(/\\(['"() ])/g,"$1")},parse_arguments:function(b){return a.map(b.match(W)||[],a.terminal.parse_argument)},split_arguments:function(b){return a.map(b.match(W)||[],function(b){return a.terminal.parse_argument(b,!1)})},parse_command:function(b){return ia(b,a.terminal.parse_argument)},split_command:function(b){return ia(b,function(b){return a.terminal.parse_argument(b,!1)})},extended_command:function(a,
b){try{Fa=!1,a.exec(b,!0).done(function(){Fa=!0})}catch(Na){}}};a.fn.visible=function(){return this.css("visibility","visible")};a.fn.hidden=function(){return this.css("visibility","hidden")};a.fn.scroll_element=function(){var b=a.fn.scroll_element.defaults;return this.map(function(){if(a(this).is("body")){var d=a("html"),h=a("body"),k=h.scrollTop()||d.scrollTop(),m=a("<pre/>").css(b.pre).appendTo("body");m.html(Array(b.lines).join("\n"));a("body,html").scrollTop(10);if(10===h.scrollTop()){h.scrollTop(k);
var n=h[0]}else 10===d.scrollTop()&&(d.scrollTop(k),n=d[0]);m.remove();return n}return this})};a.fn.scroll_element.defaults={lines:2E3,pre:{"font-size":"100px","white-space":"pre"}};var xa={};a.jrpc=function(b,d,h,k,m){var n=a.isPlainObject(b)?b:{url:b,method:d,params:h,success:k,error:m};xa[n.url]=xa[n.url]||0;var r={jsonrpc:"2.0",method:n.method,params:n.params,id:++xa[n.url]};return a.ajax({url:n.url,beforeSend:function(b,e){a.isFunction(n.request)&&n.request(b,r);e.data=JSON.stringify(r)},success:function(b,
e,d){d.getResponseHeader("Content-Type").match(/(application|text)\/json/)||Da("Response Content-Type is neither application/json nor text/json");try{var h=JSON.parse(b)}catch(Db){if(n.error)n.error(d,"Invalid JSON",Db);else throw Error("Invalid JSON");return}a.isFunction(n.response)&&n.response(d,h);b=h;if(a.isNumeric(b.id)&&("undefined"!==typeof b.result||"undefined"!==typeof b.error)||"system.describe"===n.method)n.success(h,e,d);else if(n.error)n.error(d,"Invalid JSON-RPC");else throw Error("Invalid JSON-RPC");
},error:n.error,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var za=!a.terminal.version.match(/^\{\{/);ka=za?" v. "+a.terminal.version:" ";var kb=new RegExp(" {"+ka.length+"}$");za="jQuery Terminal Emulator"+(za?ka:"");var wb=[["jQuery Terminal","(c) 2011-2017 jcubic"],[za,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright | *<.*>/g,"")],[za,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>".replace(/^Copyright /,"")],
["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(kb," ")+ka,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"],["      __ _____                     ________                              __",
"     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(kb,"")+ka,"Copyright (c) 2011-2017 Jakub Jankiewicz <http://jcubic.pl/me>"]];a.terminal.defaults=
{prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,pauseEvents:!0,softPause:!1,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,completionEscape:!0,convertLinks:!0,extra:{},historySize:60,historyState:!1,importHistory:!1,historyFilter:null,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[a.terminal.nested_formatting],onAjaxError:null,scrollBottomOffset:20,wordAutocomplete:!0,
clickTimeout:200,request:a.noop,response:a.noop,describe:"procs",onRPCError:null,completion:!1,onInit:a.noop,onClear:a.noop,onBlur:a.noop,onFocus:a.noop,onTerminalChange:a.noop,onExit:a.noop,onPush:a.noop,onPop:a.noop,keypress:a.noop,keydown:a.noop,onAfterRedraw:a.noop,onEchoCommand:a.noop,strings:{comletionParameters:"From version 1.0.0 completion function need to have two arguments",wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",
wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with describe == false or rpc without system.describe",oneInterpreterFunction:"You can't use more than one function (rpc without system.describe or with option describe == false counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",
notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip",notAString:"%s function: argument is not a string",redrawError:"Internal error, wrong position in cmd redraw",
invalidStrings:"Command %s have unclosed strings"}};var Ua=[],fa=new function(b){var d=b?[b]:[],h=0;a.extend(this,{get:function(){return d},rotate:function(){if(d.filter(Boolean).length){if(1===d.length)return d[0];h===d.length-1?h=0:++h;return d[h]?d[h]:this.rotate()}},length:function(){return d.length},remove:function(a){delete d[a]},set:function(a){for(var b=d.length;b--;)if(d[b]===a){h=b;return}this.append(a)},front:function(){if(d.length){for(var a=h,b=!1;!d[a];)if(a++,a>d.length){if(b)break;
a=0;b=!0}return d[a]}},map:function(a){return d.filter(Boolean).map(a)},forEach:function(a){d.filter(Boolean).forEach(a)},append:function(a){d.push(a)}})},ra=[],C,Fa=!1,Ia=!0,zb=!0;a.fn.terminal=function(d,h){function m(b){if(a.terminal.unclosed_strings(b))throw b=a.terminal.escape_brackets(b),Error(sprintf(N().invalidStrings,"`"+b+"`"));return a.isFunction(p.processArguments)?ia(b,p.processArguments):p.processArguments?a.terminal.parse_command(b):a.terminal.split_command(b)}function n(b){"string"===
typeof b?f.echo(b):b instanceof Array?f.echo(a.map(b,function(a){return JSON.stringify(a)}).join(" ")):"object"===typeof b?f.echo(JSON.stringify(b)):f.echo(b)}function w(b){var d=b.match(/(.*):([0-9]+):([0-9]+)$/);d&&(f.pause(p.softPause),a.get(d[1],function(b){var e=location.href.replace(/[^/]+$/,"");e=d[1].replace(e,"");f.echo("[[b;white;]"+e+"]");b=b.split("\n");var l=+d[2]-1;f.echo(b.slice(l-2,l+3).map(function(b,f){2===f&&(b="[[;#f00;]"+a.terminal.escape_brackets(b)+"]");return"["+(l+f)+"]: "+
b}).join("\n")).resume()},"text"))}function x(b){if(a.isFunction(p.onRPCError))p.onRPCError.call(f,b);else if(f.error("&#91;RPC&#93; "+b.message),b.error&&b.error.message){b=b.error;var d="\t"+b.message;b.file&&(d+=' in file "'+b.file.replace(/.*\//,"")+'"');b.at&&(d+=" at line "+b.at);f.error(d)}}function z(b,d){var l=function(d,l){f.pause(p.softPause);a.jrpc({url:b,method:d,params:l,request:function(a,b){try{p.request.apply(f,a,b,f)}catch(nb){K(nb,"USER")}},response:function(a,b){try{p.response.apply(f,
a,b,f)}catch(nb){K(nb,"USER")}},success:function(b){b.error?x(b.error):a.isFunction(p.processRPCResponse)?p.processRPCResponse.call(f,b.result,f):n(b.result);f.resume()},error:e})};return function(a,b){if(""!==a){try{a=m(a)}catch(ea){K(ea,"TERMINAL (get_processed_command)");return}if(d&&"help"!==a.name){var f=b.token();f?l(a.name,[f].concat(a.args)):b.error("&#91;AUTH&#93; "+N().noTokenError)}else l(a.name,a.args)}}}function M(d,e,h,k){return function(l,t){if(""!==l){try{var n=m(l)}catch(bb){a.isFunction(p.exception)?
p.exception(bb,f):f.error(bb.toString());return}var r=d[n.name],w=a.type(r);if("function"===w)if(e&&r.length!==n.args.length)f.error("&#91;Arity&#93; "+sprintf(N().wrongArity,n.name,r.length,n.args.length));else return r.apply(f,n.args);else if("object"===w||"string"===w){var I=[];"object"===w&&(I=Object.keys(r),r=M(r,e,h));t.push(r,{prompt:n.name+"> ",name:n.name,completion:"object"===w?I:b})}else a.isFunction(k)?k(l,f):a.isFunction(p.onCommandNotFound)?p.onCommandNotFound.call(f,l,f):t.error(sprintf(N().commandNotFound,
n.name))}}}function e(b,d,e){f.resume();a.isFunction(p.onAjaxError)?p.onAjaxError.call(f,b,d,e):"abort"!==d&&f.error("&#91;AJAX&#93; "+d+" - "+N().serverResponse+":\n"+a.terminal.escape_brackets(b.responseText))}function ka(b,d,h){function l(b){b.error?x(b.error):a.isFunction(p.processRPCResponse)?p.processRPCResponse.call(f,b.result,f):n(b.result);f.resume()}function k(a,b){try{p.request.call(f,a,b,f)}catch(La){K(La,"USER")}}function m(a,b){try{p.response.call(f,a,b,f)}catch(La){K(La,"USER")}}return a.jrpc({url:b,
method:"system.describe",params:[],success:function(t){var n=t;""!==p.describe&&p.describe.split(".").forEach(function(a){n=n[a]});if(n&&n.length){var r={};a.each(n,function(h,t){r[t.name]=function(){var h=d&&"help"!==t.name,n=Array.prototype.slice.call(arguments),r=n.length+(h?1:0);p.checkArity&&t.params&&t.params.length!==r?f.error("&#91;Arity&#93; "+sprintf(N().wrongArity,t.name,t.params.length,r)):(f.pause(p.softPause),h&&((h=f.token(!0))?n=[h].concat(n):f.error("&#91;AUTH&#93; "+N().noTokenError)),
a.jrpc({url:b,method:t.name,params:n,request:k,response:m,success:l,error:e}))}});r.help=r.help||function(b){if("undefined"===typeof b){var d=t.procs.map(function(a){return a.name}).join(", ")+", help";f.echo("Available commands: "+d)}else{var e=!1;a.each(n,function(a,d){if(d.name===b){e=!0;var l=""+("[[bu;#fff;]"+d.name+"]");d.params&&(l+=" "+d.params.join(" "));d.help&&(l+="\n"+d.help);f.echo(l);return!1}});e||("help"===b?f.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified"):
f.error("Method `"+b+"' not found "))}};h(r)}else h(null)},request:k,response:m,error:function(){h(null)}})}function G(b,d,e){e=e||a.noop;var l=a.type(b),h={},k=0,m;if("array"===l){var t={};(function Ca(b,e){if(b.length){var l=b[0],h=b.slice(1),n=a.type(l);"string"===n?(f.pause(p.softPause),!1===p.describe?(1===++k?m=z(l,d):f.error(N().oneRPCWithIgnore),Ca(h,e)):ka(l,d,function(b){b?a.extend(t,b):1===++k?m=z(l,d):f.error(N().oneRPCWithIgnore);f.resume();Ca(h,e)})):"function"===n?(m?f.error(N().oneInterpreterFunction):
m=l,Ca(h,e)):"object"===n&&(a.extend(t,l),Ca(h,e))}else e()})(b,function(){e({interpreter:M(t,!1,d,m.bind(f)),completion:Object.keys(t)})})}else if("string"===l)p.ignoreSystemDescribe?(t={interpreter:z(b,d)},a.isArray(p.completion)&&(t.completion=p.completion),e(t)):(f.pause(p.softPause),ka(b,d,function(a){a?(h.interpreter=M(a,!1,d),h.completion=Object.keys(a)):h.interpreter=z(b,d);e(h);f.resume()}));else if("object"===l)e({interpreter:M(b,p.checkArity),completion:Object.keys(b)});else{if("undefined"===
l)b=a.noop;else if("function"!==l)throw Error(l+" is invalid interpreter value");e({interpreter:b,completion:p.completion})}}function Da(b,d){var l="boolean"===a.type(d)?"login":d;return function(d,h,k){f.pause(p.softPause);a.jrpc({url:b,method:l,params:[d,h],request:function(a,b){try{p.request.call(f,a,b,f)}catch(La){K(La,"USER")}},response:function(a,b){try{p.response.call(f,a,b,f)}catch(La){K(La,"USER")}},success:function(a){!a.error&&a.result?k(a.result):k(null);f.resume()},error:e})}}function ua(a){return"string"===
typeof a?a:"string"===typeof a.fileName?a.fileName+": "+a.message:a.message}function K(b,d){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(f,b,d):f.exception(b,d)}function W(){var a=da.prop?da.prop("scrollHeight"):da.attr("scrollHeight");da.scrollTop(a)}function wa(b,d){try{if(a.isFunction(d))d.call(f,a.noop,f);else if("string"!==typeof d)throw b+" must be string or function";}catch(I){return K(I,b.toUpperCase()),!1}return!0}function za(d,e){p.convertLinks&&!e.raw&&(d=d.replace(Bb,"[[!;;]$1]").replace(Fb,
"[[!;;]$1]"));var h;if(!e.raw){if(e.formatters)try{d=a.terminal.apply_formatters(d)}catch(na){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(f,na,"FORMATTERS"):alert(na.message+"\n"+(na.stack?na.stack:na))}d=a.terminal.encode(d)}ta.push(1);if(!e.raw&&(cb(d)>S||d.match(/\n/))&&(!0===p.wrap&&e.wrap===b||!1===p.wrap&&!0===e.wrap)){var l=a.terminal.split_equal(d,S,e.keepWords);var k=0;for(h=l.length;k<h;++k)""===l[k]||"\r"===l[k]?ta.push("<span></span>"):e.raw?ta.push(l[k]):ta.push(a.terminal.format(l[k],
{linksNoReferrer:p.linksNoReferrer}))}else e.raw?ta.push(d):(d=a.terminal.normalize(d),d=a.terminal.format(d,{linksNoReferrer:p.linksNoReferrer}),d.split(/\n/).forEach(function(a){ta.push(a)}));ta.push(e.finalize)}function Ba(b,d){try{var e=a.extend({exec:!0,raw:!1,finalize:a.noop},d||{}),h="function"===a.type(b)?b():b;h="string"===a.type(h)?h:String(h);""!==h&&za(h,e)}catch(T){ta=[],a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(f,T,"TERMINAL"):alert("[Internal Exception(process_line)]:"+
ua(T)+"\n"+T.stack)}}function xa(){F.resize(S);var b=ab.empty().detach(),d=[];if(0<=p.outputLimit){var e=0===p.outputLimit?f.rows():p.outputLimit;Y.forEach(function(b){var f="function"===a.type(b[0])?b[0]():b[0];f="string"===a.type(f)?f:String(f);if(cb(f)>S){var e=b[1];b=a.terminal.split_equal(f,S,e.keepWords);d=d.concat(b.map(function(a){return[a,e]}))}else d.push(b)});d=d.slice(d.length-e-1)}else d=Y;try{ta=[],a.each(Y,function(a,b){Ba.apply(null,b)}),F.before(b),f.flush(),p.onAfterRedraw.call(f)}catch(ba){a.isFunction(p.exceptionHandler)?
p.exceptionHandler.call(f,ba,"TERMINAL (redraw)"):alert("Exception in redraw\n"+ba.stack)}}function ob(){if(p.greetings===b)f.echo(f.signature,{finalize:r});else if(p.greetings){var a=typeof p.greetings;"string"===a?f.echo(p.greetings):"function"===a?p.greetings.call(f,f.echo):f.error(N().wrongGreetings)}}function Ja(b){"undefined"===typeof b&&(b=f.get_command());var d=F.prompt(),e=F.mask();switch(typeof e){case "string":b=b.replace(/./g,e);break;case "boolean":b=e?b.replace(/./g,p.maskChar):a.terminal.escape_formatting(b)}var h=
{finalize:function(a){r(a.addClass("command"));p.onEchoCommand.call(f,a)}};a.isFunction(d)?d(function(a){f.echo(a+b,h)}):f.echo(d+b,h)}function hb(a){var b=fa.get()[a[0]];if(!b)throw Error(N().invalidTerminalId);var f=a[1];ra[f]?b.import_view(ra[f]):(Fa=!1,(a=a[2])&&b.exec(a).done(function(){Fa=!0;ra[f]=b.export_view()}))}function db(){Fa&&(Ia=!1,location.hash="#"+JSON.stringify(C),setTimeout(function(){Ia=!0},100))}function ya(d,e,h){function l(){h||(Fa=!0,p.historyState&&f.save_state(d,!1),Fa=r);
t.resolve();a.isFunction(p.onAfterCommand)&&p.onAfterCommand.call(f,f,d)}function k(a){a&&x===Y.length-1&&n(a);l();f.resume()}Pa&&(Pa=!1,p.historyState||p.execHash&&h)&&(ra.length?f.save_state(null):f.save_state());try{if(!a.isFunction(p.onBeforeCommand)||!1!==p.onBeforeCommand.call(f,f,d)){h||(A=a.terminal.split_command(d));R||!1!==F.mask()||h&&(a.isFunction(p.historyFilter)&&p.historyFilter(d)||d.match(p.historyFilter))&&F.history().append(d);var m=H.top();!e&&p.echoCommand&&Ja(d);var t=new a.Deferred,
r=Fa;if(d.match(/^\s*login\s*$/)&&f.token(!0))1<f.level()?f.logout(!0):f.logout(),l();else if(p.exit&&d.match(/^\s*exit\s*$/)&&!R){var w=f.level();if(1===w&&f.get_token()||1<w)f.get_token(!0)&&f.set_token(b,!0),f.pop();l()}else if(p.clear&&d.match(/^\s*clear\s*$/)&&!R)f.clear(),l();else{var x=Y.length-1,I=m.interpreter.call(f,d,f);if(I!==b)if(f.pause(p.softPause),I.then)I.then(k);else return a.when(I).done(k);else Oa?B.push(function(){l()}):l()}return t.promise()}}catch(Ca){if(K(Ca,"USER"),f.resume(),
!p.exceptionHandler)throw Ca;}}function Xa(){var a=f.prefix_name(!0)+"_";pa.remove(a+"token");pa.remove(a+"login")}function jb(b){var d=f.prefix_name()+"_interpreters",e=pa.get(d);e=e?JSON.parse(e):[];-1===a.inArray(b,e)&&(e.push(b),pa.set(d,JSON.stringify(e)))}function v(b){var d=H.top(),e=f.prefix_name(!0);R||!1!==F.mask()||jb(e);F.name(e);a.isFunction(d.prompt)?F.prompt(function(a){d.prompt.call(f,a,f)}):F.prompt(d.prompt);a.isPlainObject(d.keymap)&&F.keymap(a.omap(d.keymap,function(a,b){return function(){var a=
[].slice.call(arguments);try{return b.apply(f,a)}catch(ea){if(K(ea,"USER KEYMAP"),!p.exceptionHandler)throw ea;}}}));F.set("");ib.resolve();!b&&a.isFunction(d.onStart)&&d.onStart.call(f,f)}function kb(){if(Ia&&p.execHash)try{if(location.hash){var a=location.hash.replace(/^#/,"");C=JSON.parse(decodeURIComponent(a))}else C=[];C.length?hb(C[C.length-1]):ra[0]&&f.import_view(ra[0])}catch(t){K(t,"TERMINAL")}}function D(){v();ob();Y.length&&xa();var b=!1;if(a.isFunction(p.onInit)){fb=function(){b=!0};try{p.onInit.call(f,
f)}catch(t){K(t,"OnInit")}finally{fb=a.noop,!b&&f.enabled()&&f.resume()}}zb&&(zb=!1,a(window).on("hashchange",kb))}function P(a,b){if(!b.length)return"";var d=!1,f=a.length;a:for(;f<b[0].length;++f){for(var e=1;e<b.length;++e)if(b[0].charAt(f)!==b[e].charAt(f))break a;d=!0}return d?b[0].slice(0,f):""}function Ga(d){var e=H.top();if(a.isFunction(e.keydown)){if(d=e.keydown.call(f,d,f),d!==b)return d}else if(a.isFunction(p.keydown)&&(d=p.keydown.call(f,d,f),d!==b))return d}function pb(d){if(f.enabled()){if(f.paused()){if(!p.pauseEvents){var e=
Ga(d);if(e!==b)return e}if(68===d.which&&d.ctrlKey){if(p.pauseEvents&&(e=Ga(d),e!==b))return e;if(Ua.length){for(e=Ua.length;e--;){var h=Ua[e];if(4!==h.readyState)try{h.abort()}catch(ba){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(f,d,"AJAX ABORT"):f.error(N().ajaxAbortError)}}Ua=[]}f.resume()}return!1}e=Ga(d);if(e!==b)return e;9!==d.which&&(Ea=0);f.attr({scrollTop:f.attr("scrollHeight")})}}function Eb(a){return function(b){a.add(b)}}function N(){return a.extend({},a.terminal.defaults.strings,
p.strings)}function aa(){O&&f.focus()}function Ta(){O=X;f.disable()}var ta=[],Pa=!0,B=[],ub={"CTRL+D":function(a,d){R||(""===F.get()?1<H.size()||p.login!==b?f.pop(""):(f.resume(),f.echo("")):d());return!1},"CTRL+L":function(){f.clear()},TAB:function(d,e){var h=H.top();h=p.completion&&"boolean"!==a.type(p.completion)&&h.completion===b?p.completion:h.completion;"settings"===h&&(h=p.completion);if(h)switch(a.type(h)){case "function":var l=f.before_cursor(p.wordAutocomplete);if(3===h.length){h=Error(N().comletionParameters);
K(h,"USER");break}h.call(f,l,function(a){f.complete(a,{echo:!0,word:p.wordAutocomplete,escape:p.completionEscape})});break;case "array":f.complete(h,{echo:!0,word:p.wordAutocomplete,escape:p.completionEscape});break;default:throw Error(N().invalidCompletion);}else e();return!1},"CTRL+V":function(a,b){b(a);f.oneTime(200,function(){W()});return!0},"CTRL+TAB":function(){if(1<fa.length())return f.focus(!1),!1},PAGEDOWN:function(){f.scroll(f.height())},PAGEUP:function(){f.scroll(-f.height())}},f=this;
if(1<this.length)return this.each(function(){a.fn.terminal.call(a(this),d,a.extend({name:f.selector},h))});if(f.data("terminal"))return f.data("terminal");if(0===f.length)throw Error(sprintf(N().invalidSelector,f.selector));var A,Ea=0,Y=[],Ya=fa.length(),S,sa,Za,eb=new y,qb=new k,ib=new k,va=Eb(ib),Q=Ha(),la=Eb(qb),R=!1,fb=a.noop,lb,mb,$a=[],p=a.extend({},a.terminal.defaults,{name:f.selector},h||{}),pa=new function(b){b&&(this.storage={});this.set=function(d,f){b?this.storage[d]=f:a.Storage.set(d,
f)};this.get=function(d){return b?this.storage[d]:a.Storage.get(d)};this.remove=function(d){b?delete this.storage[d]:a.Storage.remove(d)}}(p.memory),X=p.enabled,qa=!1,Oa=!1,Ra=!0,H,F,O,E,Ka;a.extend(f,a.omap({id:function(){return Ya},clear:function(){ab.html("");Y=[];try{p.onClear.call(f,f)}catch(l){K(l,"onClear")}f.attr({scrollTop:0});return f},export_view:function(){var b={};if(a.isFunction(p.onExport))try{b=p.onExport.call(f)}catch(t){K(t,"onExport")}return a.extend({},{focus:X,mask:F.mask(),prompt:f.get_prompt(),
command:f.get_command(),position:F.position(),lines:Qa.clone_object(Y),interpreters:H.clone(),history:F.history().data},b)},import_view:function(b){if(R)throw Error(sprintf(N().notWhileLogin,"import_view"));if(a.isFunction(p.onImport))try{p.onImport.call(f,b)}catch(t){K(t,"onImport")}va(function(){f.set_prompt(b.prompt);f.set_command(b.command);F.position(b.position);F.mask(b.mask);b.focus&&f.focus();Y=Qa.clone_object(b.lines);H=b.interpreters;p.importHistory&&F.history().set(b.history);xa()});return f},
save_state:function(d,e,h){"undefined"!==typeof h?ra[h]=f.export_view():ra.push(f.export_view());a.isArray(C)||(C=[]);d===b||e||(C.push([Ya,ra.length-1,d]),db())},exec:function(b,d,e){var h=e||new a.Deferred;la(function(){a.isArray(b)?function na(){var a=b.shift();a?f.exec(a,d).done(na):h.resolve()}():Oa?$a.push([b,d,h]):ya(b,d,!0).done(function(){h.resolve(f)})});return h.promise()},autologin:function(a,b,d){f.trigger("terminal.autologin",[a,b,d]);return f},login:function(d,e,h,k){function l(d,l,
n){if(l){for(;f.level()>m;)f.pop(b,!0);p.history&&F.history().enable();n=f.prefix_name(!0)+"_";pa.set(n+"token",l);pa.set(n+"login",d);R=!1;a.isFunction(h)&&h()}else e?(n||f.error(N().wrongPasswordTryAgain),f.pop(b,!0).set_mask(!1)):(R=!1,n||f.error(N().wrongPassword),f.pop(b,!0).pop(b,!0)),a.isFunction(k)&&k();f.off("terminal.autologin")}eb.push([].slice.call(arguments));if(R)throw Error(sprintf(N().notWhileLogin,"login"));if(!a.isFunction(d))throw Error(N().loginIsNotAFunction);R=!0;if(f.token()&&
1===f.level()&&!Ra)R=!1,f.logout(!0);else if(f.token(!0)&&f.login_name(!0))return R=!1,a.isFunction(h)&&h(),f;p.history&&F.history().disable();var m=f.level();f.on("terminal.autologin",function(a,b,d,f){l(b,d,f)});f.push(function(a){f.set_mask(p.maskChar).push(function(b){try{d.call(f,a,b,function(b,d){l(a,b,d)})}catch(La){K(La,"AUTH")}},{prompt:N().password+": ",name:"password"})},{prompt:N().login+": ",name:"login"});return f},settings:function(){return p},before_cursor:function(a){var b=F.position(),
d=F.get().substring(0,b);b=d.split(" ");if(a)if(1===b.length)d=b[0];else{var f=(a=d.match(/(\\?")/g))?a.filter(function(a){return!a.match(/^\\/)}).length:0;a=d.match(/'/g);if(1===(a?a.length:0)%2)d=d.match(/('[^']*)$/)[0];else if(1===f%2)d=d.match(/("(?:[^"]|\\")*)$/)[0];else for(d=b[b.length-1],Ma=b.length-1;0<Ma;Ma--)if(a=b[Ma-1],"\\"===a[a.length-1])d=b[Ma-1]+" "+d;else break}return d},complete:function(b,d){function e(a,b){var d=f.get_command(),e=f.get_position(),h=new RegExp(a+"$");h=d.substring(0,
e).replace(h,"");d=d.substring(e);e=b+(l||"");f.set_command(h+e+d);f.set_position((h+e).length)}d=a.extend({word:!0,echo:!1,escape:!0},d||{});var h=f.before_cursor(d.word).replace(/\\"/g,'"'),l=!1;d.word&&(h.match(/^"/)?l='"':h.match(/^'/)&&(l="'"),l&&(h=h.replace(/^["']/,"")));b=b.slice();p.clear&&-1===a.inArray("clear",b)&&b.push("clear");p.exit&&-1===a.inArray("exit",b)&&b.push("exit");if(0===Ea%2)Za=f.before_cursor(d.word);else if(f.before_cursor(d.word)!==Za)return;var k=a.terminal.escape_regex(h);
d.escape&&(k=k.replace(/(\\+)(["'() ])/g,function(a,b,d){return d.match(/[()]/)?b+"\\?\\"+d:b+"?"+d}));for(var m=new RegExp("^"+k),n=[],t=b.length;t--;)if(m.test(b[t])){var r=b[t];'"'===l&&(r=r.replace(/"/g,'\\"'));!l&&d.escape&&(r=r.replace(/(["'() ])/g,"\\$1"));n.push(r)}if(1===n.length)return d.escape?e(k,n[0]):f.insert(n[0].replace(m,"")+(l||"")),Za=f.before_cursor(d.word),!0;if(1<n.length)if(2<=++Ea){if(Ea=0,d.echo)return Ja(),h=n.reverse().join("\t"),f.echo(a.terminal.escape_brackets(h),{keepWords:!0}),
!0}else if(k=P(h,n))return e(h,k),Za=f.before_cursor(d.word),!0},commands:function(){return H.top().interpreter},set_interpreter:function(b,d){function e(){f.pause(p.softPause);G(b,!!d,function(b){f.resume();var d=H.top();a.extend(d,b);v(!0)})}"string"===a.type(b)&&d?f.login(Da(b,d),!0,e):e();return f},greetings:function(){ob();return f},paused:function(){return Oa},pause:function(b){la(function(){fb();Oa=!0;F.disable(b||yb);b||F.find(".prompt").hidden();a.isFunction(p.onPause)&&p.onPause.call(f)});
return f},resume:function(){la(function(){Oa=!1;X&&fa.front()===f&&F.enable();F.find(".prompt").visible();var b=$a;$a=[];for(var d=0;d<b.length;++d)f.exec.apply(f,b[d]);f.trigger("resume");(b=B.shift())&&b();W();a.isFunction(p.onResume)&&p.onResume.call(f)});return f},cols:function(){if(p.numChars)return p.numChars;"undefined"===typeof S&&(S=oa(f,Q));return S},rows:function(){if(p.numRows)return p.numRows;"undefined"===typeof sa&&(sa=ja(f,Q));return sa},history:function(){return F.history()},history_state:function(a){function b(){p.historyState=
!0;ra.length?1<fa.length()&&f.save_state(null):f.save_state()}a?"undefined"===typeof window.setImmediate?setTimeout(b,0):setImmediate(b):p.historyState=!1;return f},clear_history_state:function(){C=[];ra=[];return f},next:function(){if(1===fa.length())return f;fa.front().disable();var b=fa.rotate().enable(),d=b.offset().top-50;a("html,body").animate({scrollTop:d},500);try{p.onTerminalChange.call(b,b)}catch(I){K(I,"onTerminalChange")}return b},focus:function(a,b){la(function(){if(1===fa.length())if(!1===
a)try{var d=p.onBlur.call(f,f);(!b&&!1!==d||b)&&f.disable()}catch(ba){K(ba,"onBlur")}else try{d=p.onFocus.call(f,f),(!b&&!1!==d||b)&&f.enable()}catch(ba){K(ba,"onFocus")}else if(!1===a)f.next();else{if(fa.front()!==f&&(fa.forEach(function(a){a!==f&&a.enabled()&&a.disable()}),!b))try{p.onTerminalChange.call(f,f)}catch(ba){K(ba,"onTerminalChange")}fa.set(f);f.enable()}});return f},freeze:function(a){va(function(){a?(f.disable(),qa=!0):(qa=!1,f.enable())})},frozen:function(){return qa},enable:function(){X||
qa||(S===b&&f.resize(),la(function(){f.paused()||F.enable();X=!0}));return f},disable:function(){la(function(){X=!1;F.disable()});return f},enabled:function(){return X},signature:function(){for(var a=f.cols(),b=wb.length;b--;){var d=wb[b].map(function(a){return a.length});if(Math.max.apply(null,d)<=a)return wb[b].join("\n")+"\n"}return""},version:function(){return a.terminal.version},cmd:function(){return F},get_command:function(){return F.get()},set_command:function(a){va(function(){F.set(a)});return f},
set_position:function(a,b){va(function(){F.position(a,b)});return f},get_position:function(){return F.position()},insert:function(a,b){if("string"===typeof a)return va(function(){var d=f.is_bottom();F.insert(a,b);(p.scrollOnEcho||d)&&W()}),f;throw Error(sprintf(N().notAString,"insert"));},set_prompt:function(b){va(function(){wa("prompt",b)&&(a.isFunction(b)?F.prompt(function(a){b(a,f)}):F.prompt(b),H.top().prompt=b)});return f},get_prompt:function(){return H.top().prompt},set_mask:function(a){va(function(){F.mask(!0===
a?p.maskChar:a)});return f},get_output:function(b){return b?Y:a.map(Y,function(b){return a.isFunction(b[0])?b[0]():b[0]}).join("\n")},resize:function(b,d){if(f.is(":visible")){b&&d&&(f.width(b),f.height(d));b=f.width();d=f.height();if("undefined"!==typeof p.numChars&&"undefined"!==typeof p.numRows)return;Q=Ha();var e=oa(f,Q),h=ja(f,Q);if(e!==S||h!==sa)S=e,sa=h,F.resize(S),xa(),e=H.top(),a.isFunction(e.resize)?e.resize.call(f,f):a.isFunction(p.onResize)&&p.onResize.call(f,f),W()}else f.stopTime("resize"),
f.oneTime(500,"resize",function(){f.resize(b,d)});return f},flush:function(){try{var b=f.is_bottom(),d;a.each(ta,function(b,f){1===f?d=a("<div></div>"):a.isFunction(f)?(d.appendTo(ab),f(d)):a("<div/>").html(f).appendTo(d).width("100%")});if(0<=p.outputLimit){var e=0===p.outputLimit?f.rows():p.outputLimit;var h=ab.find("div div");if(h.length+1>e){var k=h.slice(0,h.length-e+1),m=k.parent();k.remove();m.each(function(){var b=a(this);b.is(":empty")&&b.remove()})}}(p.scrollOnEcho||b)&&W();ta=[]}catch(ea){a.isFunction(p.exceptionHandler)?
p.exceptionHandler.call(f,ea,"TERMINAL (Flush)"):alert("[Flush] "+ua(ea)+"\n"+ea.stack)}return f},update:function(a,b){va(function(){0>a&&(a=Y.length+a);Y[a]?(null===b?Y.splice(a,1):Y[a][0]=b,xa()):f.error("Invalid line number "+a)});return f},last_index:function(){return Y.length-1},echo:function(b,d){function e(b){try{var e=a.extend({flush:!0,raw:p.raw,finalize:a.noop,keepWords:!1,formatters:!0},d||{});e.raw&&function(a){e.finalize=function(b){b.addClass("raw");a(b)}}(e.finalize);e.flush&&(ta.length&&
f.flush(),ta=[]);Ba(b,e);Y.push([b,a.extend(e,{exec:!1})]);e.flush&&f.flush()}catch(na){a.isFunction(p.exceptionHandler)?p.exceptionHandler.call(f,na,"TERMINAL (echo)"):alert("[Terminal.echo] "+ua(na)+"\n"+na.stack)}}try{d&&a.isFunction(d.finalize)&&d.finalize(a("<div/>")),a.isFunction(b.then)?a.when(b).done(e):e(b)}catch(ba){K(ba,"USER:echo(finalize)")}return f},error:function(b,d){d=a.extend({},d,{raw:!1,formatters:!1});var e=a.terminal.escape_brackets(b).replace(/\\$/,"&#92;").replace(Ab,"]$1[[;;;error]");
return f.echo("[[;;;error]"+e+"]",d)},exception:function(b,d){var e=ua(b);d&&(e="&#91;"+d+"&#93;: "+e);e&&f.error(e,{finalize:function(a){a.addClass("exception message")},keepWords:!0});"string"===typeof b.fileName&&(f.pause(p.softPause),a.get(b.fileName,function(a){var d=b.lineNumber-1;(a=a.split("\n")[d])&&f.error("["+b.lineNumber+"]: "+a);f.resume()},"text"));b.stack&&(e=a.terminal.escape_brackets(b.stack),f.echo(e.split(/\n/g).map(function(a){return"[[;;;error]"+a.replace(Ab,function(a){return"]"+
a+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(a){a.addClass("exception stack-trace")},formatters:!1}))},scroll:function(a){a=Math.round(a);if(da.prop){a>da.prop("scrollTop")&&0<a&&da.prop("scrollTop",0);var b=da.prop("scrollTop")}else a>da.attr("scrollTop")&&0<a&&da.attr("scrollTop",0),b=da.attr("scrollTop");da.scrollTop(b+a);return f},logout:function(a){if(R)throw Error(sprintf(N().notWhileLogin,"logout"));va(function(){if(a){var d=eb.pop();f.set_token(b,!0);f.login.apply(f,d)}else if(1===
H.size()&&f.token())f.logout(!0);else for(;1<H.size();)f.token()?f.logout(!0).pop().pop():f.pop()});return f},token:function(a){return pa.get(f.prefix_name(a)+"_token")},set_token:function(a,b){var d=f.prefix_name(b)+"_token";"undefined"===typeof a?pa.remove(d,a):pa.set(d,a);return f},get_token:function(a){return f.token(a)},login_name:function(a){return pa.get(f.prefix_name(a)+"_login")},name:function(){return H.top().name},prefix_name:function(a){var b=(p.name?p.name+"_":"")+Ya;a&&1<H.size()&&(a=
H.map(function(a){return a.name||""}).slice(1).join("_"))&&(b+="_"+a);return b},read:function(b,d){var e=new a.Deferred;f.push(function(b){f.pop();a.isFunction(d)&&d(b);e.resolve(b)},{prompt:b});return e.promise()},push:function(d,e){la(function(){function h(){p.onPush.call(f,l,H.top(),f);v()}e=e||{};var k=a.extend({},{infiniteLogin:!1},e);!k.name&&A&&(k.name=A.name);k.prompt===b&&(k.prompt=(k.name||">")+" ");var l=H.top();l&&(l.mask=F.mask());var m=Oa;G(d,!!e.login,function(b){H.push(a.extend({},
b,k));!0===k.completion&&(a.isArray(b.completion)?H.top().completion=b.completion:b.completion||(H.top().completion=!1));if(k.login)if(b=a.type(k.login),"function"===b)b=k.infiniteLogin?a.noop:f.pop,f.login(k.login,k.infiniteLogin,h,b);else{if("string"===a.type(d)&&"string"===b||"boolean"===b)b=k.infiniteLogin?a.noop:f.pop,f.login(Da(d,k.login),k.infiniteLogin,h,b)}else h();!m&&f.enabled()&&f.resume()})});return f},pop:function(d,e){d!==b&&Ja(d);var h=f.token(!0);if(1===H.size())if(h=H.top(),p.login){e||
p.onPop.call(f,h,null,f);a:{if(a.isFunction(p.onBeforeLogout))try{if(!1===p.onBeforeLogout.call(f,f))break a}catch(T){K(T,"onBeforeLogout")}Xa();if(a.isFunction(p.onAfterLogout))try{p.onAfterLogout.call(f,f)}catch(T){K(T,"onAfterlogout")}f.login(p.login,!0,D)}if(a.isFunction(p.onExit))try{p.onExit.call(f,f)}catch(T){K(T,"onExit")}}else f.error(N().canExitError);else{h&&Xa();var k=H.pop();h=H.top();v();e||p.onPop.call(f,k,h);R&&f.get_prompt()!==N().login+": "&&(R=!1);if(a.isFunction(k.onExit))try{k.onExit.call(f,
f)}catch(T){K(T,"onExit")}f.set_mask(h.mask)}return f},option:function(b,d){if("undefined"===typeof d){if("string"===typeof b)return p[b];"object"===typeof b&&a.each(b,function(a,b){p[a]=b})}else p[b]=d;return f},level:function(){return H.size()},reset:function(){va(function(){for(f.clear();1<H.size();)H.pop();D()});return f},purge:function(){va(function(){var b=f.prefix_name()+"_",d=pa.get(b+"interpreters");d&&a.each(JSON.parse(d),function(a,b){pa.remove(b+"_commands");pa.remove(b+"_token");pa.remove(b+
"_login")});F.purge();pa.remove(b+"interpreters")});return f},destroy:function(){va(function(){F.destroy().remove();ab.remove();Wa.remove();a(document).unbind(".terminal_"+f.id());a(window).unbind(".terminal_"+f.id());f.unbind("click wheel mousewheel mousedown mouseup");f.removeData("terminal").removeClass("terminal").unbind(".terminal");p.width&&f.css("width","");p.height&&f.css("height","");a(window).off("blur",Ta).off("focus",aa);f.find(".terminal-fill").remove();fa.remove(Ya);E&&E.unobserve(f[0]);
Ka&&Ka.disconnect();f.resizer("unbind");fa.length()||a(window).off("hashchange")});return f},scroll_to_bottom:W,is_bottom:function(){if(-1===p.scrollBottomOffset)return!1;if(f.is("body")){var b=a(document).height();var d=a(window).scrollTop();var e=window.innerHeight}else b=da[0].scrollHeight,d=da.scrollTop(),e=da.outerHeight();return d+e>b-p.scrollBottomOffset}},function(a,b){return function(){try{return b.apply(f,[].slice.apply(arguments))}catch(I){if("exec"!==a&&"resume"!==a&&K(I,"TERMINAL"),!p.exceptionHandler)throw I;
}}}));!0===p.ignoreSystemDescribe&&(p.describe=!1);p.width&&f.width(p.width);p.height&&f.height(p.height);var da=f.scroll_element();a(document).bind("ajaxSend.terminal_"+f.id(),function(a,b){Ua.push(b)});var Wa=a('<div class="terminal-wrapper"/>').appendTo(f);a('<div class="terminal-fill"/>').appendTo(f);var ab=a("<div>").addClass("terminal-output").attr("role","log").appendTo(Wa);f.addClass("terminal");if(p.login&&a.isFunction(p.onBeforeLogin))try{!1===p.onBeforeLogin.call(f,f)&&(Ra=!1)}catch(l){if(K(l,
"onBeforeLogin"),!p.exceptionHandler)throw l;}if("string"===typeof d)var gb=d;else if(d instanceof Array)for(var Ma=0,vb=d.length;Ma<vb;++Ma)if("string"===typeof d[Ma]){gb=d[Ma];break}!gb||"string"!==typeof p.login&&!0!==p.login||(p.login=Da(gb,p.login));fa.append(f);f.on("focus.terminal","textarea",function(a,b){X||b||f.enable()});a(document).on("paste.terminal_"+f.id(),function(a){a=a.originalEvent;if(a.clipboardData&&f.enabled()){var b=a.clipboardData.items;if(b)for(a=0;a<b.length;a++)if(-1!==
b[a].type.indexOf("image")){var d=b[a].getAsFile();d=(window.URL||window.webkitURL).createObjectURL(d);f.echo('<img src="'+d+'"/>',{raw:!0})}else-1!==b[a].type.indexOf("text/plain")&&b[a].getAsString(f.insert);else a.clipboardData.getData&&(b=a.clipboardData.getData("text/plain"),f.insert(b));return!1}});G(d,!!p.login,function(d){function e(b){!a(b.target).closest(".terminal").length&&f.enabled()&&!1!==p.onBlur.call(f,f)&&f.disable()}function h(){if(f.is(":visible")){var a=f.width(),b=f.height();
mb===b&&lb===a||f.resize();mb=b;lb=a}}function k(){E&&E.unobserve(f[0]);E=new IntersectionObserver(function(){f.is(":visible")?(f.resizer("unbind").resizer(h),h()):f.disable()},{root:document.body});E.observe(f[0])}function l(b){var d=fa.get()[b[0]];if(d&&Ya===d.id()&&b[2])try{if(Oa){var e=a.Deferred();B.push(function(){return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1]);e.resolve()})});return e.promise()}return d.exec(b[2]).done(function(){d.save_state(b[2],!0,b[1])})}catch(Z){var h=d.settings();
a.isFunction(h.exceptionHandler)?h.exceptionHandler.call(f,Z,"EXEC HASH"):(h=a.terminal.escape_brackets(Za),d.error("Error while exec with command "+h).exception(Z))}}function m(b,d){if(!x){var e=H.top();if(a.isFunction(e.mousewheel)){if(e=e.mousewheel(b,d,f),!1===e)return}else if(a.isFunction(p.mousewheel)&&(e=p.mousewheel(b,d,f),!1===e))return;0<d?f.scroll(-40):f.scroll(40)}}if(p.completion&&"boolean"!==typeof p.completion||!p.completion)d.completion="settings";var n=a.extend({},ub,p.keymap||{});
H=new y(a.extend({},p.extra,{name:p.name,prompt:p.prompt,keypress:p.keypress,keydown:p.keydown,resize:p.onResize,greetings:p.greetings,mousewheel:p.mousewheel,keymap:n},d));F=a("<div/>").appendTo(Wa).cmd({prompt:p.prompt,history:p.memory?"memory":p.history,historyFilter:p.historyFilter,historySize:p.historySize,width:"100%",enabled:X&&!tb,keydown:pb,keymap:n,clickTimeout:p.clickTimeout,keypress:function(b){var d=H.top();if(X&&(!Oa||!p.pauseEvents)){if(a.isFunction(d.keypress))return d.keypress.call(f,
b,f);if(a.isFunction(p.keypress))return p.keypress.call(f,b,f)}},onCommandChange:function(b){if(a.isFunction(p.onCommandChange))try{p.onCommandChange.call(f,b,f)}catch(Ca){if(K(Ca,"onCommandChange"),!p.exceptionHandler)throw Ca;}W()},commands:ya});X&&f.is(":visible")&&!tb?f.focus(b,!0):f.disable();f.oneTime(100,function(){a(document).bind("click.terminal_"+f.id(),e).bind("contextmenu.terminal_"+f.id(),e)});a(window);document.addEventListener("resume",function(){f.disable()});tb?f.click(function(){f.enabled()||
qa?f.focus(!1):(f.focus(),F.enable())}):(function(){var b=0,d=!1,e,h="click_"+f.id();f.mousedown(function(h){e=a(h.target);if(2!==h.originalEvent.button)f.oneTime(1,function(){a(window).on("mousemove.terminal_"+f.id(),function(){d=!0;b=0;a(window).off("mousemove.terminal_"+f.id())})})}).mouseup(function(){var k=d;d=!1;a(window).off("mousemove.terminal_"+f.id());if(!k)if(1===++b)if(f.enabled()||qa)f.oneTime(p.clickTimeout,h,function(){if(e.is(".terminal")||e.is(".terminal-wrapper")){var a=f.get_command().length;
f.set_position(a)}else e.closest(".prompt").length&&f.set_position(0);b=0});else F.enable(),b=0;else f.stopTime(h),b=0}).dblclick(function(){b=0;f.stopTime(h)})}(),function(){var a=f.find("textarea");f.on("mousedown.terminal",function(b){if(2===b.originalEvent.button){f.enabled()||f.enable();b.preventDefault();var d=F.offset();a.css({left:b.pageX-d.left-5,top:b.pageY-d.top-5})}});f.bind("contextmenu",function(){f.oneTime(100,function(){a.css({left:"",top:""})})})}());f.delegate(".exception a","click",
function(b){var d=a(this).attr("href");d.match(/:[0-9]+$/)&&(b.preventDefault(),w(d))});f.is(":visible")&&(S=f.cols(),F.resize(S),Q||(Q=Ha()),sa=ja(f,Q));qb.resolve();p.login?f.login(p.login,!0,D):D();f.is(":visible")&&f.resizer(h);var r=!!f.closest("body").length;d=window.MutationObserver||window.WebKitMutationObserver;window.IntersectionObserver&&(d&&(Ka=new d(function(){f.closest("body").length?(r||(f.scroll_to_bottom(),k()),r=!0):r&&(r=!1)}),Ka.observe(document.body,{childList:!0})),r&&k());p.execHash?
location.hash?setTimeout(function(){try{var a=location.hash.replace(/^#/,"");C=JSON.parse(decodeURIComponent(a));var b=0;(function Sa(){var a=C[b++];a?l(a).done(Sa):Fa=!0})()}catch(sb){}}):Fa=!0:Fa=!0;var x=!1;a(document).bind("keydown.terminal_"+f.id(),function(a){a.shiftKey&&(x=!0)}).bind("keyup.terminal_"+f.id(),function(a){if(a.shiftKey||16===a.which)x=!1});if(a.event.special.mousewheel)f.on("mousewheel",function(a,b){m(a,b);a.preventDefault()});else{var v="onwheel"in document.createElement("div")?
"wheel":document.onmousewheel!==b?"mousewheel":"DOMMouseScroll";f.on(v,function(a){m(a,-("mousewheel"===v?-.025*a.originalEvent.wheelDelta:a.originalEvent.deltaY||a.originalEvent.detail));return!1})}});f.data("terminal",f);return f}});/*
 Autosize 4.0.0
 license: MIT
 http://www.jacklmoore.com/autosize
*/
!function(a,b){if("function"==typeof define&&define.amd)define(["exports","module"],b);else if("undefined"!=typeof exports&&"undefined"!=typeof module)b(exports,module);else{var k={exports:{}};b(k.exports,k);a.autosize=k.exports}}(this,function(a,b){function k(a){function b(){var b=window.getComputedStyle(a,null);"vertical"===b.resize?a.style.resize="none":"both"===b.resize&&(a.style.resize="horizontal");z="content-box"===b.boxSizing?-(parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)):parseFloat(b.borderTopWidth)+
parseFloat(b.borderBottomWidth);isNaN(z)&&(z=0);w()}function d(b){var d=a.style.width;a.style.width="0px";a.offsetWidth;a.style.width=d;a.style.overflowY=b}function h(a){for(var b=[];a&&a.parentNode&&a.parentNode instanceof Element;)a.parentNode.scrollTop&&b.push({node:a.parentNode,scrollTop:a.parentNode.scrollTop}),a=a.parentNode;return b}function k(){var b=a.style.height,d=h(a),k=document.documentElement&&document.documentElement.scrollTop;a.style.height="";var m=a.scrollHeight+z;return 0===a.scrollHeight?
void(a.style.height=b):(a.style.height=m+"px",oa=a.clientWidth,d.forEach(function(a){a.node.scrollTop=a.scrollTop}),void(k&&(document.documentElement.scrollTop=k)))}function w(){k();var b=Math.round(parseFloat(a.style.height)),h=window.getComputedStyle(a,null),m="content-box"===h.boxSizing?Math.round(parseFloat(h.height)):a.offsetHeight;if(m!==b?"hidden"===h.overflowY&&(d("scroll"),k(),m="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight):"hidden"!==
h.overflowY&&(d("hidden"),k(),m="content-box"===h.boxSizing?Math.round(parseFloat(window.getComputedStyle(a,null).height)):a.offsetHeight),ja!==m){ja=m;b=x("autosize:resized");try{a.dispatchEvent(b)}catch(hb){}}}if(a&&a.nodeName&&"TEXTAREA"===a.nodeName&&!m.has(a)){var z=null,oa=a.clientWidth,ja=null,Ja=function(){a.clientWidth!==oa&&w()},Qa=function(b){window.removeEventListener("resize",Ja,!1);a.removeEventListener("input",w,!1);a.removeEventListener("keyup",w,!1);a.removeEventListener("autosize:destroy",
Qa,!1);a.removeEventListener("autosize:update",w,!1);Object.keys(b).forEach(function(d){a.style[d]=b[d]});m["delete"](a)}.bind(a,{height:a.style.height,resize:a.style.resize,overflowY:a.style.overflowY,overflowX:a.style.overflowX,wordWrap:a.style.wordWrap});a.addEventListener("autosize:destroy",Qa,!1);"onpropertychange"in a&&"oninput"in a&&a.addEventListener("keyup",w,!1);window.addEventListener("resize",Ja,!1);a.addEventListener("input",w,!1);a.addEventListener("autosize:update",w,!1);a.style.overflowX=
"hidden";a.style.wordWrap="break-word";m.set(a,{destroy:Qa,update:w});b()}}function d(a){(a=m.get(a))&&a.destroy()}function h(a){(a=m.get(a))&&a.update()}var m="function"==typeof Map?new Map:function(){var a=[],b=[];return{has:function(b){return-1<a.indexOf(b)},get:function(d){return b[a.indexOf(d)]},set:function(d,h){-1===a.indexOf(d)&&(a.push(d),b.push(h))},"delete":function(d){d=a.indexOf(d);-1<d&&(a.splice(d,1),b.splice(d,1))}}}(),x=function(a){return new Event(a,{bubbles:!0})};try{new Event("test")}catch(w){x=
function(a){var b=document.createEvent("Event");return b.initEvent(a,!0,!1),b}}var z=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(z=function(a){return a},z.destroy=function(a){return a},z.update=function(a){return a}):(z=function(a,b){return a&&Array.prototype.forEach.call(a.length?a:[a],function(a){return k(a,b)}),a},z.destroy=function(a){return a&&Array.prototype.forEach.call(a.length?a:[a],d),a},z.update=function(a){return a&&Array.prototype.forEach.call(a.length?
a:[a],h),a});b.exports=z});var def_conf={application:{name:"Tooterminal",website:"https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md",uris:"urn:ietf:wg:oauth:2.0:oob",scopes:{read:!0,write:!0,follow:!0}},terminal:{length:0},instances:{terminal:{logging:{favourite:!0,reblog:!0,mention:!0,following:!0},monitor:"local"},status:{}}},config,instances,prompt,url_params,term_mode,mode_global,mode_configuration,mode_instance,instance_name,beep_buf,context=new AudioContext,enterCommand=function(a,b){a=a.trim();b.resize(window.innerWidth-
36,window.innerHeight-36);0!==a.length&&!0!==term_mode.execute(a,b)&&b.error(term_mode.result.message)},completion=function(a,b){var k=term_mode.getCompletion(a);1===k.length?$.terminal.active().set_command(term_mode.completion):b(k)},initConfig=function(a){var b=localStorage,k=b.getItem("configuration");config=new ConfigManager(def_conf,k?JSON.parse(k):{});url_params={};instances=(b=b.getItem("instances"))?JSON.parse(b):{};if(location.search.match(/^\?.+=.+/)){b=location.search.replace(/^\?/,"").split(/[=&]/);
for(k=0;k<b.length;k+=2)url_params[b[k]]=b[k+1];url_params.hasOwnProperty("code")&&instances.hasOwnProperty(url_params.instance_name)?(instance_name=url_params.instance_name,instances[instance_name].auth_code=url_params.code,a.exec("instance "+instance_name),history.replaceState("","",location.pathname)):url_params.hasOwnProperty("instance")&&instances.hasOwnProperty(url_params.instance)&&a.exec("instance "+url_params.instance)}},filterKey=function(a,b){if(63===a.charCode){var k=term_mode.information(b.get_command()).map(function(a){return"undefined"===
typeof a.command?a:"  "+tab(a.command,a.description,22)});k.unshift(b.get_prompt()+b.get_command()+"?");k.push("");more(b,k,!0);var d=b.get_command();b.set_command("");setTimeout(function(){b.set_command(d)},10)}},parseCommand=function(a,b){term_mode.parse(a.replace(/\?$/,""))},init_instance=function(a){term_mode=mode_instance;var b;config.find(["instances","terminal","auto"])&&(b=config.find(["instances","terminal","monitor"]));url_params.hasOwnProperty("terminal")&&(b=url_params.terminal.match(url_params.terminal));
"undefined"!==typeof b&&instances[instance_name].hasOwnProperty("access_token")&&a.exec("terminal monitor "+b)},count_toot_size=function(){var a=500-$("#toot_box").val().length-$("#toot_cw").val().length;$("#toot_size").css("color",0>a?"#F00":"#bbb").text(a)};
function upload_img(a){var b=new FormData,k=instances[instance_name],d=$(".toot_media img").length;$("#toot_media").append($("<img />").attr("id","media_"+d));b.append("file",a);$.ajax("https://"+k.domain+"/api/v1/media",{type:"POST",contentType:!1,processData:!1,headers:{Authorization:k.token_type+" "+k.access_token},data:b}).then(function(a,b,k){$("#media_"+d).attr("data-id",a.id).attr("data-url",a.text_url);b=new Image;b.onload=function(){$("#media_"+d).attr("src",a.preview_url);$("#toot_box").val($("#toot_box").val()+
" "+a.text_url);autosize.update($("#toot_box"));count_toot_size()};b.onerror=function(a){console.log(a)};b.src=a.preview_url},function(a,b,k){$.terminal.active().error("Media upload error.("+a.status+")");$("#media_"+d).remove();console.log(a)})}var tl;
$(function(){mode_global=new ModeManager(new GlobalModeElement);mode_configuration=new ModeManager(new ConfigurationModeElement);mode_instance=new ModeManager(new InstanceModeElement);term_mode=mode_global;tl=$("#timeline").terminal(enterCommand,{name:"global",greetings:'=== CLI\u753b\u9762\u98a8 \u30de\u30b9\u30c8\u30c9\u30f3\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 "Tooterminal" ===\n\n\u4f7f\u3044\u65b9\u306f"help"\u30b3\u30de\u30f3\u30c9\u307e\u305f\u306f"?"\u30ad\u30fc\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n\n',
login:!1,onInit:initConfig,prompt:"Tooterminal# ",completion:completion,height:window.innerHeight-18,onResize:function(a){a.resize($(window).width()-36,$(window).height()-36)},exit:!1,clear:!1,scrollOnEcho:!1,keypress:filterKey,onFocus:function(a){return!1},onResume:!1,onCommandChange:parseCommand});$("#toot").on("keydown",function(a){27===a.keyCode?closeTootbox():13===a.keyCode&&a.ctrlKey&&post_status()}).on("paste",function(a){4<=$(".toot_media img").length||"undefined"===typeof a.originalEvent.clipboardData||
"undefined"===typeof a.originalEvent.clipboardData.types||1!==a.originalEvent.clipboardData.types.length||"Files"!==a.originalEvent.clipboardData.types[0]||(a=a.originalEvent.clipboardData.items[0].getAsFile(),upload_img(a))});$("#toot_box").on("dragenter",function(a){console.log(a);a.preventDefault();$("#toot_box").addClass("toot_imghover")}).on("dragover",function(a){console.log(a)}).on("dragleave",function(a){console.log(a);$("#toot_box").removeClass("toot_imghover")}).on("drop",function(a){console.log(a);
a.preventDefault();$("#toot_box").removeClass("toot_imghover");a=a.originalEvent.dataTransfer.files;var b=4-$("#toot_media img").length;b=b<a.length?b:a.length;for(var k=0;k<b;k++)a[k].type.match(/^(video|image)\//)&&upload_img(a[k])});$("#toot_cw").on("keyup",count_toot_size);$("#toot_box").on("keyup",count_toot_size);$("#toot_post").on("click",function(){post_status()});$("#help_close").on("click",function(){$("#help").slideUp("first");$.terminal.active().focus()});$("#reply_close").on("click",
function(a){$("#sid").text("");$("#reply").hide();$("#toot_box").val($("#toot_box").val().replace(/^@[a-zA-Z0-9_]+(?:@(?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+)?\s+/,""))});$(".img_background").on("click",function(){$("#img_view").fadeOut("first");$("#video_view").fadeOut("first");$(".img_background").fadeOut("first");$.terminal.active().enable()});$(document).on("click",".read_more",function(){$(this).next().toggle("fast")}).on("click",".a_acct",function(a){term_mode===mode_instance&&
(a=$(this).text().match(/((?:@?([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z0-9]+))|(?:@([a-zA-Z0-9_]+)))/),callAPI("/api/v1/accounts/search",{data:{q:a[0],limit:1}}).then(function(a,k,d){$.terminal.active().exec("show user id "+a[0].id).done(function(){$.terminal.active().exec("show user id "+a[0].id+" statuses limit 3")})}))}).on("mouseover",".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").show()}).on("mouseout",
".status",function(){"undefined"===typeof config.find("instances.status.thumbnail")&&$(this).find(".status_thumbnail").hide()}).on("click",".status",function(a){if(!$(this).hasClass("status_deleted")){$(this).data("sid");if(a.shiftKey){var b="@"+$(this).data("acct").toString();$(this).find(".status_contents")[0].textContent.replace(new RegExp(b,"g"),"").match(/((?:@([a-zA-Z0-9_]+)@((?:[A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+))|(?:@([a-zA-Z0-9_]+)))/g);$.terminal.active().disable();
$("#toot").slideDown("first");$("#reply").show();$("#sid").text($(this).data("sid"));$("#reply_head").text("reply to: "+$(this).data("dispname"));$("#reply_body").text($(this).find("#status_contents")[0].textContent);$("#toot_box").focus().val("@"+$(this).data("acct")+" "+$(this).data("reply"));$($(this).find(".status_head i")[2]).hasClass("fa-envelope")&&$("#toot_visibility").val("direct")}a.ctrlKey&&favorite(this);a.altKey&&boost(this)}}).on("dblclick",".status",function(a){$.terminal.active().exec("show status id "+
$(this).data("sid"))}).on("click",".status_contents img",function(a){var b=$(this);$("#img_view").attr("src",b.attr("src")).fadeIn("first");"gifv"===b.data("type")?(a=$("#video_view")[0],a.src=b.data("url"),a.loop=!0,a.autoplay=!0,a.muted=!0,a.controls=!0,a.oncanplay=function(){$("#img_view").fadeOut("first")},$("#video_view").fadeIn("first"),$(".img_background").fadeIn("first")):(a=new Image,a.onload=function(){$("#img_view").attr("src",b.data("url"))},a.onerror=function(a){console.log(a)},$(".img_background").fadeIn("first"),
$.terminal.active().disable(),a.src=b.data("url"))}).on("click","[name=cmd_followers]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" followers")}).on("click","[name=cmd_following]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" following")}).on("click","[name=cmd_status_pinned]",function(a){$.terminal.active().exec("show user id "+$(a.target).data("uid")+" statuses pinned")}).on("keydown",".img_background",function(a){27===a.keyCode&&
$(".img_background").trigger("click")}).on("click",".status_enquete span",function(a){$.terminal.active().echo("\u307e\u3060\u6295\u7968\u3067\u304d\u306a\u3044\u3067\u3059\u3002\u3002\u3002")}).on("click",".toot_media img",function(a,b,k){$(a.target).remove();$("#toot_box").val($("#toot_box").val().replace($(a.target).data("url"),""))}).on("keydown",function(a){65===a.keyCode&&a.altKey&&term_mode===mode_instance&&"none"===$("#toot").css("display")&&$.terminal.active().exec("toot")});autosize($("#toot_box"))});
function makeStatus(a){var b=new Date(a.created_at),k="undefined"!==typeof a.reblog&&null!==a.reblog,d="mention"===a.type,h=k?a.reblog:d?a.status:a;null===h.application?d="":null===h.application.website?d=" via "+h.application.name:(d=$("<a />").text(h.application.name).attr("href",h.application.website).attr("target","_blank").prop("outerHTML"),d=" via "+d);b=(k?$.terminal.format("[[!i;;]reblogged by "+a.account.display_name+" @"+a.account.acct+"]")+"<br />":"")+"[ "+("undefined"===typeof h.account.display_name?
"":h.account.display_name)+" "+$.terminal.format("[[!;;]@"+h.account.acct+"]")+" "+$("<i />").addClass("fa fa-"+(h.favourited?"star":"star-o")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+(h.reblogged?"check-circle-o":"retweet")).attr("aria-hidden","true").prop("outerHTML")+" "+$("<i />").addClass("fa fa-"+("public"===h.visibility?"globe":"unlisted"===h.visibility?"unlock":"private"===h.visibility?"lock":"direct"===h.visibility?"envelope":"question")).attr("aria-hidden",
"true").prop("outerHTML")+(h.in_reply_to_id?" "+$($("<i />").addClass("fa fa-mail-reply")).attr("aria-hidden","true").prop("outerHTML")+" ":"")+" "+b.getFullYear()+"-"+("0"+(b.getMonth()+1)).slice(-2)+"-"+("0"+b.getDate()).slice(-2)+" "+("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+"."+("00"+b.getMilliseconds()).slice(-3)+" ]"+d;a="";if(0<h.mentions.length){for(k=0;k<h.mentions.length;k++)a+="@"+h.mentions[k].acct+" ";a=a.replace("@"+instances[instance_name].user.acct+
" ","")}k=$("<td />").addClass("status_avatar");if("undefined"!==typeof config.find("instances.status.avatar")){var m=h.account.avatar_static;k.append($("<img />").attr("name","img_"+h.account.id).attr("src",m));m.match(/^http/)||(m="https://"+instances[instance_name].domain+m);d=new Image;d.onload=function(){$("[name=img_"+h.account.id+"]").attr("src",m)};d.onerror=function(a){console.log(a)};d.src=m}else k.hide();if("undefined"!==typeof h.enquete&&null!==h.enquete){var x=JSON.parse(h.enquete);d=
$("<div />").append(x.question.replace(/<p>(.*?)<\/p>/g,"<p><span>$1"+("enquete"===x.type?"(\u56de\u7b54\u67a0)":"(\u7d50\u679c)")+"</span></p>"));for(var z=$("<div />").addClass("status_"+x.type),w=0;w<x.items.length;w++)"enquete"===x.type?z.append($("<span />").html(x.items[w])):z.append($("<span />").append($("<span />").addClass("progress").text(x.items[w])).append($("<span />").addClass("proceed").css("width",x.ratios[w].toString()+"%")));d.append(z)}else d=h.content,d.match(/^<.+>$/)&&(d=d.replace(/<p>(.*?)<\/p>/g,
"<p><span>$1</span></p>"));if(0<h.media_attachments.length){var r=$("<div />").addClass("status_thumbnail");h.media_attachments.forEach(function(a,b,d){var h=a.preview_url.match(/^https?:\/\//)?a.preview_url:"https://"+instances[instance_name].domain+a.preview_url;b=a.remote_url?a.remote_url:a.url;var k="media_"+a.id;r.append($("<img />").attr("id",k).attr("src",h).attr("data-url",b).attr("data-type",a.type));a=new Image;a.onload=function(){$("#"+k).attr("src",h)};a.onerror=function(a){console.log(a)};
a.src=h});"undefined"===typeof config.find("instances.status.thumbnail")&&r.hide()}x=$("<div />").addClass("status_contents").attr("id","status_contents");if(h.sensitive){var y=$("<div />");0<h.spoiler_text.length?(x.append($.terminal.format(h.spoiler_text)),y.append(d)):x.append(d);"undefined"!==typeof r&&y.append(r)}else 0<h.spoiler_text.length?(x.append($.terminal.format(h.spoiler_text)),y=$("<div />"),y.append(d)):x.append(d),"undefined"!==typeof r&&x.append(r);"undefined"!==typeof y&&x.append($("<div />").addClass("read_more").append($.terminal.format("[[bu;black;gray]-- More --]"))).append(y.hide());
y=$("<td />").addClass("status_main").append($("<div />").addClass("status_head").html($.terminal.format(b))).append(x);y=$("<table />").attr("name","id_"+h.id).attr("data-sid",h.id).attr("data-instance",instance_name).attr("data-uid",h.account.id).attr("data-dispname",h.account.display_name).attr("data-acct",h.account.acct).attr("data-fav",h.favorited?"1":"0").attr("data-reb",h.reblogged?"1":"0").attr("data-reply",a).addClass("status").append(k).append(y);if(instances[instance_name].hasOwnProperty("filter")&&
(a=instances[instance_name].filter,a=(b=a.match(/^\/(.+)\/([igym]*)$/))?new RegExp(b[1],b[2]):new RegExp(a),y.text().match(a)))return"";config.find("instances.status.separator")&&y.append('<tr><td colspan="2"><span>'+Array($.terminal.active().cols()-3).join("-")+"</span></td></tr>");return y.prop("outerHTML")}
function make_notification(a,b){console.log(a);var k="reblog"===a.type&&b.reblog,d="follow"===a.type&&b.following,h="mention"===a.type&&b.mention,m="";if("favourite"===a.type&&b.favourite||k||d||h)k=a.status?$.terminal.escape_brackets($(a.status.content).text()):"(Status was deleted)",100<k.length&&(k=k.slice(0,100)+" ..."),m="Notification! : "+a.type+" << "+a.account.display_name+" "+$.terminal.format("[[!;;]@"+a.account.acct+"]")+"<br />"+(a.status?k:""),m=$("<span />").html(m).addClass("status_notify").prop("outerHTML"),
"mention"===a.type&&(m+=makeStatus(a));return m}
function post_status(){var a=$("#toot_box").val().trim(),b=$("#toot_cw").val().trim(),k=$("#toot_visibility").val();k={status:a,visibility:k};var d=500-$("#toot_box").val().length-$("#toot_cw").val().length;if(0===a.length||0>d||"undefined"===typeof instances[instance_name]&&"undefined"===typeof instances[instance_name].access_token)return!1;0!==b.length&&(k.spoiler_text=b);a=$(".reply #sid").text();""!==a&&(k.in_reply_to_id=a);k.media_ids=[];a=$("#toot_media img");for(b=0;b<a.length;b++)k.media_ids.push($(a[b]).data("id"));
return $.ajax({url:"https://"+instances[instance_name].domain+"/api/v1/statuses",type:"POST",headers:{Authorization:instances[instance_name].token_type+" "+instances[instance_name].access_token},data:k,timeout:5E3}).then(function(a,b,d){a=config.find("instances.visibility");"undefined"===typeof a&&(a="public");$("#toot_cw").val("");$("#toot_visibility").val(a);$("#reply_close").trigger("click");$("#toot_media").html("");$("#toot_box").val("").trigger("keyup").focus();autosize.update($("#toot_box"))},
function(a,b,d){$.terminal.active().error("Toot post error.("+a.status+")");console.log(a)})}function reduce_status(){for(var a=$(".status").parent().parent(),b=a.length-200,k=0;k<b;k++)$(a[k]).remove()}
function callAPI(a,b){b=void 0===b?{}:b;var k="undefined"===typeof b.instance_name?instances[instance_name]:instances[b.instance_name];"undefined"===typeof a?(k=new $.Deffered,k.reject("Undefined path")):"undefined"===typeof k?(k=new $.Deffered,k.reject("No instance")):"undefined"===typeof k.access_token?(k=new $.Deffered,k.reject("No login")):k=$.ajax({url:"https://"+k.domain+a,type:"undefined"!==typeof b.type?b.type:"GET",headers:{Authorization:k.token_type+" "+k.access_token},data:typeof b.data?
b.data:"",dataType:"json",timeout:5E3});return k}
function favorite(a,b){var k=1==$(a).data("fav"),d="/api/v1/statuses/"+$(a).data("sid").toString()+(k?"/unfavourite":"/favourite");"undefined"===typeof b&&(b=$.terminal.active());$($(a).find("i")[0]).removeClass().addClass("fa fa-spinner");callAPI(d,{instance_name:$(a).data("instance"),type:"POST"}).then(function(d,m,x){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[0]).removeClass().addClass("fa fa-"+(d.favourited?"star":"star-o"));$(b).data("fav",d.favourited?
"1":"0")});k===d.favourited&&b.error("favourited missed...")},function(b,d,x){$.terminal.active().error("Favorite failed.("+b.status+")");$($(a).find("i")[0]).removeClass().addClass("fa fa-"+(k?"star":"star-o"));console.log(b)})}function closeTootbox(){$("#sid").text("");$("#reply").hide();$("#toot_box").val("");$("#toot").slideUp("first");$.terminal.active().enable()}
function boost(a){var b=1==$(a).data("reb"),k="/api/v1/statuses/"+$(a).data("sid").toString()+(b?"/unreblog":"/reblog");"undefined"===typeof term&&(term=$.terminal.active());$($(a).find("i")[1]).removeClass().addClass("fa fa-spinner");callAPI(k,{instance_name:$(a).data("instance"),type:"POST"}).then(function(d,h,k){$("[name=id_"+$(a).data("sid").toString()+"]").each(function(a,b){$($(b).find("i")[1]).removeClass().addClass("fa fa-"+(d.reblogged?"check-circle-o":"retweet"));$(b).data("reb",d.reblogged?
"1":"0")});b===d.reblogged&&term.error("reblogged missed...")},function(d,h,k){$.terminal.active().error("Reblogged failed.("+d.status+")");$($(a).find("i")[1]).removeClass().addClass("fa fa-"+(b?"check-circle-o":"retweet"));console.log(d)})}function tab(a,b,k){var d=escape(a).replace(/%u[0-9a-f]{2,6}/ig,"xx").replace(/%[0-9a-f]{2}/ig,"x").length;for(a=k<=d?a.substr(0,k-4)+"... ":a;d<k;d++,a+=" ");return a+b}function status_recursive(a,b){new Primrose;ins}
String.prototype.addTab=function(a,b){return tab(a,this,b)};
function more(a,b,k){var d=a.rows(),h=a.get_command(),m=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.echo(b.slice(m,m+d).join("\n"));m+=d;m>b.length&&(a.pop(),k&&a.set_command(h));a.resume()},keydown:function(a,z){switch(a.keyCode){case 81:z.pop();k&&z.set_command(h);break;case 13:z.echo(b.slice(m,m+1).join("\n"));m++;m>b.length&&(z.pop(),k&&z.set_command(h));break;default:z.echo(b.slice(m,m+d).join("\n")),m+=d,m>b.length&&(z.pop(),k&&z.set_command(h)),z.set_command("")}return!1}})}
function begin(a,b,k,d){var h;for(h=0;h<b.length&&!b[h].match(d);h++);more(a,b.slice(h),k,d)}function include(a,b,k,d){for(var h=[],m=0;m<b.length;m++)b[m].match(d)&&h.push(b[m]);more(a,h,k)}function exclude(a,b,k,d){for(var h=[],m=0;m<b.length;m++)b[m].match(d)||h.push(b[m]);more(a,h,k)};var ModeManager=function(){function a(a){this.element=a;this.dataset=a.dataset;this.parse("")}a.prototype.execute=function(a,k){var b=this.parse(a);return b.is_parsed?"1001"==b.code?!0:""===this.func_name?(console.log("AnalyzeError: Undefined execution function name."),12033):"function"!==typeof b.cmd_list[0].execute?(console.log("ElementError: Undefined execution function."),12034):b.cmd_list[0].execute(k,this):(console.log("AnalyzeError: "+b.message),b.code)};a.prototype.getCompletion=function(a){a=
this.result.cmd_list;for(var b=[],d=0;d<a.length;d++)b.push("paramater"==a[d].type?"<"+a[d].name+">":"number"==a[d].type?"["+a[d].name+"]":a[d].name);return b};a.prototype.information=function(a){var b=this.parse(a).cmd_list;a=["Exec commands:"];for(var d,h=0;h<b.length;h++){if("paramater"==b[h].type)d="<"+b[h].name+">";else if("number"==b[h].type){d=parseInt(b[h].max);var m=parseInt(b[h].min);d="<"+(isNaN(m)?"":m)+"-"+(isNaN(d)?"":d)+">"}else d=b[h].name;a.push({command:d,description:b[h].description})}b=
this.line_parsed[this.line_parsed.length-1];"undefined"!==typeof b&&"function"===typeof b.execute&&"paramater"!==b.type&&"number"!==b.type&&(2===a.length&&a.pop(),a.push({command:"<cr>",description:""}));return a};a.prototype.parse=function(a,k){void 0===k&&(k=0);this.line=a;this.line_parsed=[];this.is_parsed=!0;this.err_code=0;this.err_msg="";this.position=k;this.completion="";this.cmd_list=this.dataset;this.paramaters={};this.optional={};var b,h="",m="";if(0>=a.length)return this.result;if(a.match(/^\s*!/))return this.is_parsed=
!0,this.err_code=4097,this.err_msg="comment",this.result;for(b=this.position;b<=a.length;b++){var x=a.charAt(b);if(" "===x&&""===m){for(m=h="";x=a.charAt(++b)," "===x&&""!==x;);this.completion=a.substring(0,b);if(1===this.cmd_list.length)this.line_parsed.push(this.cmd_list[0]),this.cmd_list="object"===typeof this.cmd_list[0].children?this.cmd_list[0].children:[];else if(1<this.cmd_list.length){this.err_code=7938;this.err_msg='% Ambiguous command:  "'+this.line+'"';break}}h+=x;(x=h.match(/^(?:(')[^']*|(")[^"]*)$/))&&
(m=x[1]?"'":x[2]?'"':"");x=[];for(var z=0;z<this.cmd_list.length;z++)if("command"===this.cmd_list[z].type)this.cmd_list[z].name.match(new RegExp("^"+h,"i"))&&x.push(this.cmd_list[z]);else if("number"===this.cmd_list[z].type){var w=parseInt(h),r=parseInt(this.cmd_list[z].max),y=parseInt(this.cmd_list[z].min);0===h.length?(this.cmd_list[z].param=parseInt(h),x.push(this.cmd_list[z])):isNaN(w)||!isNaN(r)&&r<w||!isNaN(y)&&y>w||(this.cmd_list[z].param=parseInt(h),x.push(this.cmd_list[z]))}else if("paramater"===
this.cmd_list[z].type)this.cmd_list[z].param=h.replace(new RegExp("^"+m+"(.*)"+m+"$"),"$1"),x.push(this.cmd_list[z]);else if("description"===this.cmd_list[z].type){if(1===this.cmd_list.length){b=a.length;break}}else return this.err_code=61441,this.err_msg="parsed error: undefined type '"+this.cmd_list[z].type+"'",this.result;this.cmd_list=x;if(0===this.cmd_list.length){this.is_parsed=!1;this.err_code=7937;for(h="";h.length<b;h+=" ");h+=$.terminal.active().get_prompt().replace(/\S/g," ");this.err_msg=
h+"^\n% Invalid input detected at '^' marker.";this.cmd_list=[];break}}this.position=b;if(1===this.cmd_list.length)for(this.line_parsed.push(this.cmd_list[0]),"undefined"===typeof this.cmd_list[0].execute&&(this.is_parsed=!1,this.err_code=4353,this.err_msg="% Incomplete command."),b=0;b<this.line_parsed.length;b++){if("paramater"===this.line_parsed[b].type||"number"===this.line_parsed[b].type)this.paramaters[this.line_parsed[b].name]=this.line_parsed[b].param;this.line_parsed[b].hasOwnProperty("optional")&&
(this.optional[this.line_parsed[b].optional]=!0)}this.completion=1===this.cmd_list.length&&"command"===this.cmd_list[0].type?this.completion+(this.cmd_list[0].name+" "):this.line;return this.result};Object.defineProperty(a.prototype,"func_name",{get:function(){if(0!==this.err_code)return"";var a=this.line_parsed[this.line_parsed.length-1];return"undefined"===typeof a.execute?"":a.execute},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"result",{get:function(){return{is_parsed:this.is_parsed,
cmd_list:this.cmd_list,code:this.err_code.toString(16),message:this.err_msg,position:this.position,line_parsed:this.line_parsed}},enumerable:!0,configurable:!0});a.prototype.debug=function(){console.log("**************************************************");console.log("===== line");console.log(this.line);console.log("===== line_parsed");console.log(this.line_parsed);console.log("===== is_parsed");console.log(this.is_parsed);console.log("===== err_code");console.log(this.err_code.toString(16));console.log("===== err_msg");
console.log(this.err_msg);console.log("===== line.length");console.log(this.line.length);console.log("===== position");console.log(this.position);console.log("===== completion");console.log(this.completion);console.log("===== dataset");console.log(this.dataset);console.log("===== cmd_list");console.log(this.cmd_list)};return a}(),ConfigManager=function(){function a(a,k){this["default"]=JSON.parse(JSON.stringify(a));this.config=k?k:a;this.config=Object.assign(a,this.config)}a.prototype.find=function(a){"string"===
typeof a&&(a=a.split("."));if(Array.isArray(a)){for(var b=this.config,d=0;d<a.length;d++)if("undefined"!==typeof b[a[d]])b=b[a[d]];else{b=void 0;break}if("undefined"!==typeof b)return b;b=this["default"];for(d=0;d<a.length&&(b=b[a[d]],"undefined"!==typeof b);d++);return b}};a.prototype.write=function(a,k){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,h,m=0;m<a.length-1;m++)h=a[m],"undefined"===typeof b[h]&&(b[h]={}),b=b[h];h=a.pop();b[h]=k;return!0};a.prototype.erase=
function(a){"string"===typeof a&&(a=a.split("."));if(!Array.isArray(a))return!1;for(var b=this.config,d,h=0;h<a.length-1;h++){d=a[h];if("undefined"===typeof b[d])return!0;b=b[d]}d=a.pop();delete b[d];return!0};return a}();var GlobalModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instances",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_statistics,children:[{type:"command",name:"statistics",description:"\u5168\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u6982\u8981\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_instance_statistics},{type:"paramater",name:"instance_name",description:"\u6307\u5b9a\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u8a73\u7d30\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance_detail}]},{type:"command",name:"running-config",description:"\u8a2d\u5b9a\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",execute:this.show_running_config},{type:"command",name:"startup-config",description:"\u4fdd\u5b58\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002",
execute:this.show_startup_config},{type:"command",name:"version",description:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_version},{type:"command",name:"clock",description:"\u73fe\u5728\u6642\u523b\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_clock}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u306b\u79fb\u884c\u3057\u307e\u3059\u3002",
children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002",execute:this.entry_instance}]},{type:"command",name:"delete",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u524a\u9664\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"instance",children:[{type:"paramater",name:"instance_name",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u540d",execute:this.delete_instance}]}]},{type:"command",name:"configure",
description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",children:[{type:"command",name:"terminal",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059",execute:this.configure_terminal}]},{type:"command",name:"reload",description:"\u753b\u9762\u3092\u518d\u8aad\u307f\u8fbc\u307f\u3057\u307e\u3059\u3002",execute:this.reload},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",
execute:this.clear},{type:"command",name:"write",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory,children:[{type:"command",name:"memory",description:"\u8a2d\u5b9a\u3092\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002",execute:this.write_memory},{type:"command",name:"erase",description:"\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
execute:this.write_erase}]},{type:"command",name:"reset",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u72b6\u614b\u3092\u30ea\u30bb\u30c3\u30c8\u3057\u307e\u3059\u3002",children:[{type:"command",name:"display-size",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u30b5\u30a4\u30ba\u3092\u81ea\u52d5\u8abf\u6574\u3057\u307e\u3059\u3002",execute:this.reset_display_size}]},{type:"command",name:"help",description:"\u30d8\u30eb\u30d7\u30a6\u30a4\u30f3\u30c9\u30a6\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.help}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.show_running_config=function(a,k){var b=JSON.stringify(config.config,null,"    ");a.echo(b);return!0};a.prototype.show_startup_config=function(a,k){var b;(b=localStorage.getItem("configuration"))?(b=JSON.parse(b),b=JSON.stringify(b,null,"    ")):
b="startup-config is not present";a.echo(b);return!0};a.prototype.show_version=function(a,k){var b=new Date("2017-9-15");a.echo("Mastodon Client Tooterminal, Version 0.3.5, RELEASE SERVICE(Beta)");a.echo("Technical Support: https://github.com/wd-shiroma/tooterminal/blob/gh-pages/README.md");a.echo("Copyright (c) 2017 by Gusk-ma(Shiroma)");a.echo("Updated "+b.toDateString()+" by shiroma@mstdn.jp");a.echo("<br>",{raw:!0});a.echo("Powered by:");a.echo("jQuery ("+$.fn.jquery+")");a.echo("https://jquery.org");
a.echo("jQuery Terminal Emulator Plugin ("+$.terminal.version+")");a.echo("http://terminal.jcubic.pl");a.echo("autosize (4.0.0)");a.echo("http://www.jacklmoore.com/autosize");a.echo("<br>",{raw:!0});a.echo("License info:");a.echo("Tooterminal, jQuery, jQuery Terminal Emulator Plugin, autosize is licensed by MIT LICENSE");a.echo("https://tldrlegal.com/license/mit-license");return!0};a.prototype.reset_display_size=function(a,k){a.resize(window.innerWidth-36,window.innerHeight-36);return!0};a.prototype.show_instance_statistics=
function(a,k){var b=["","name      | domain                      | scope | username","--------------------------------------------------------------------"],h=0;for(ins in instances)b.push(("| "+("undefined"!==typeof instances[ins].user?"@"+instances[ins].user.username:"")).addTab("|  "+(instances[ins].application.scopes.read?"r":"-")+(instances[ins].application.scopes.write?"w":"-")+(instances[ins].application.scopes.follow?"f":"-"),8).addTab("| "+instances[ins].domain,30).addTab(ins,10)),h++;b.push("--------------------------------------------------------------------");
b.push(" \u767b\u9332\u4ef6\u6570: "+h+"\u4ef6");b.push("");a.echo(b.join("\n"));return!0};a.prototype.show_instance_detail=function(a,k){var b=k.paramaters.instance_name;if("undefined"===typeof instances[b])return a.error("instance has no regist"),!1;var h=instances[b];b=["Instance",tab("Name:",b,15),tab("Domain:",h.domain,15),tab("Application:",h.application.name,15),"","Scopes",tab("Read:",h.application.scopes.read,15),tab("Write:",h.application.scopes.write,15),tab("Follow:",h.application.scopes.follow,
15),"","Autheorized user",tab("Client ID:",h.client_id,20),tab("Client Secret:",h.client_secret,20),tab("Access Token:",h.access_token,20),tab("Monitor defaults:",h.monitor,20),tab("User Account:","@"+h.user.acct,20),tab("User ID:",h.user.id,20)];more(a,b,!0);return!0};a.prototype.entry_instance=function(a,k){instance_name=k.paramaters.instance_name;var b=instances[instance_name];if("undefined"===typeof b)a.push(regist_instance,{prompt:"Input instance domain: "});else if(b.hasOwnProperty("auth_code"))console.log(b),
a.pause(),$.ajax({url:"https://"+b.domain+"/oauth/token",type:"POST",dataType:"json",data:{grant_type:"authorization_code",client_id:b.client_id,client_secret:b.client_secret,code:b.auth_code,redirect_uri:b.application.uris}}).then(function(a,d,h){b.access_token=a.access_token;b.token_type=a.token_type;localStorage.setItem("instances",JSON.stringify(instances));delete b.auth_code;return callAPI("/api/v1/accounts/verify_credentials")},function(d,h,k){a.error("User token updating error.("+d.status+
")");delete b.auth_code;console.log(d)}).then(function(d,h,k){a.echo("Hello! "+d.display_name+" @"+d.username);b.user=d;localStorage.setItem("instances",JSON.stringify(instances));a.resume();d=b.user.username;d+="@"+b.domain+"# ";a.push(enterCommand,{name:"instance",prompt:d,onStart:init_instance,onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})},function(d,h,k){h="@"+b.domain+"# ";console.log(d);a.error("Getting user status failed.("+d.status+")");a.resume();a.push(enterCommand,{name:"instance",
prompt:h,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})});else if(b.hasOwnProperty("access_token"))a.pause(),callAPI("/api/v1/accounts/verify_credentials").then(function(d,h,k){a.echo("Hello! "+d.display_name+" @"+d.username);b.user=d;localStorage.setItem("instances",JSON.stringify(instances));a.resume();d=b.user.username;d+="@"+b.domain+"# ";delete b.auth_code;a.push(enterCommand,{name:"instance",prompt:d,onStart:init_instance,
onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})},function(b,d,h){console.log(b);a.error("Getting user status failed.("+b.status+")");a.resume()});else{var h="@"+b.domain+"# ";a.echo("Enter 'login' and regist your access_token");a.resume();a.push(enterCommand,{name:"instance",prompt:h,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global;closeTootbox()},exit:!1})}return!0};a.prototype.delete_instance=function(a,k){var b=k.paramaters.instance_name,
h='Instance "'+b+'" registration will delete! Continue? [confirm]';if("undefined"===typeof instances[b])return a.error("no instance registration."),!1;a.push(function(d){d=localStorage;delete instances[b];d.setItem("instances",JSON.stringify(instances));a.echo("[OK]");a.echo("Erase of instance: complete");a.pop()},{prompt:h,keypress:function(a,b){b.set_command("");b.echo(h+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}});return!0};a.prototype.configure_terminal=
function(a,k){a.push(enterCommand,{name:"configuration",prompt:"Tooterminal(config)# ",onStart:function(){term_mode=mode_configuration},onExit:function(){term_mode=mode_global},exit:!0});return!0};a.prototype.write_memory=function(a,k){var b=localStorage;a.echo("Building configuration...");b.setItem("configuration",JSON.stringify(config.config));a.echo("[OK]");return!0};a.prototype.write_erase=function(a,k){a.push(function(b){localStorage.removeItem("configuration");a.echo("[OK]");a.echo("Erase of nvram: complete");
a.pop()},{prompt:"Erasing the localStorage will remove all configuration files! Continue? [confirm]",keypress:function(a,b){b.set_command("");b.echo("Erasing the localStorage will remove all configuration files! Continue? [confirm]"+a.key);b.echo("File system erase is not confirmed or Could not be completed");b.pop()}})};a.prototype.reload=function(a,k){location.reload();return!0};a.prototype.clear=function(a,k){a.clear();return!0};a.prototype.show_clock=function(a,k){a.echo(Date().toString());return!0};
a.prototype.help=function(a,k){$("#help").slideDown("first");a.disable();$(document).on("keydown.help",function(a){27===a.keyCode&&$("#help_close").trigger("click")});return!0};return a}(),cnt,regist_instance=function(a,b){a=a.trim();if(!a.match(/^([A-Za-z0-9][A-Za-z0-9\-]{0,61}[A-Za-z0-9]?\.)+[A-Za-z]+$/))b.error("domain couldn't unrecognize");else if(0<a.length){b.pause();var k=location.origin+location.pathname;console.log(k);$.ajax({url:"https://"+a+"/api/v1/apps",dataType:"json",type:"POST",data:{client_name:config.find("application.name"),
redirect_uris:k,website:config.find("application.website"),scopes:(config.find("application.scopes.read")?"read ":"")+(config.find("application.scopes.write")?"write ":"")+(config.find("application.scopes.follow")?"follow":"")}}).then(function(d,h,k){h=d.redirect_uri+"?instance_name="+instance_name;instances[instance_name]=config.find("instances");instances[instance_name].client_id=d.client_id;instances[instance_name].client_secret=d.client_secret;instances[instance_name].domain=a;instances[instance_name].application=
config.find("application");instances[instance_name].application.uris=h;d="@"+instances[instance_name].domain+"# ";b.echo("New instance registed. enter 'login' and regist your access_token");localStorage.setItem("instances",JSON.stringify(instances));b.resume();b.push(enterCommand,{name:"instance",prompt:d,onStart:function(a){term_mode=mode_instance;a.exec("login")},onExit:function(){term_mode=mode_global},exit:!1})},function(d,h,k){b.error('Failed to connect the instance "'+a+'"');b.resume();console.log(d)})}b.pop()};var ConfigurationModeElement=function(){function a(){this._cmd_mode="configuration";this._dataset=[{type:"command",name:"application",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u767b\u9332\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"name",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u540d",
execute:this.set_paramater}]},{type:"command",name:"website",description:"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3Web\u30da\u30fc\u30b8\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"string",description:"URL",execute:this.set_paramater}]},{type:"command",name:"scopes",description:"\u30a2\u30af\u30bb\u30b9\u6a29\u9650\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"read",description:"\u8aad\u307f\u53d6\u308a",execute:this.set_default},
{type:"command",name:"write",description:"\u66f8\u304d\u8fbc\u307f",execute:this.set_default},{type:"command",name:"follow",description:"\u30d5\u30a9\u30ed\u30fc",execute:this.set_default}]}]},{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",
name:"posts",min:1,max:40,description:"\u8868\u793a\u4ef6\u6570(\u30c7\u30d5\u30a9\u30eb\u30c820)",execute:this.set_number}]}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",
description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",
execute:this.set_command},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default},
{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"length",description:"\u30c8\u30a5\u30fc\u30c8\u306e\u53d6\u5f97\u6570\u306b\u3064\u3044\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"number",max:100,min:0,description:"\u53d6\u5f97\u6570(\u521d\u671f\u502420)",execute:this.set_number}]},{type:"command",name:"auto",description:"\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001terminal monitor\u3092\u81ea\u52d5\u767a\u884c\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_object,children:[{type:"command",name:"animation",description:"\u5e38\u306b\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command},{type:"command",
name:"mouseover",description:"\u30de\u30a6\u30b9\u30aa\u30fc\u30d0\u30fc\u3067\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3092\u518d\u751f\u3057\u307e\u3059\u3002",execute:this.set_command}]},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.set_true},{type:"command",name:"separator",description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.set_true}]},{type:"command",name:"visibility",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"public",description:"\u516c\u958b",execute:this.set_command},{type:"command",name:"unlisted",description:"\u672a\u53ce\u8f09",execute:this.set_command},{type:"command",name:"private",description:"\u975e\u516c\u958b",execute:this.set_command},{type:"command",name:"direct",description:"\u30c0\u30a4\u30ec\u30af\u30c8",execute:this.set_command}]}]},
{type:"command",name:"no",description:"\u8a2d\u5b9a\u306e\u524a\u9664\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"terminal",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",children:[{type:"command",name:"length",description:"\u30bf\u30fc\u30df\u30ca\u30eb\u8868\u793a\u884c\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",execute:this.set_default}]},{type:"command",name:"instances",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u767b\u9332\u306e\u969b\u306e\u96db\u5f62\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"monitor",description:"\u53d6\u5f97\u3059\u308b\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"logging",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306b\u8868\u793a\u3059\u308b\u901a\u77e5\u306e\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002",
execute:this.set_false,children:[{type:"command",name:"delete",description:"\u524a\u9664\u3055\u308c\u305f\u30c8\u30a5\u30fc\u30c8ID\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"favourite",description:"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"reblog",description:"\u30d6\u30fc\u30b9\u30c8\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",
execute:this.set_false},{type:"command",name:"mention",description:"\u30ea\u30d7\u30e9\u30a4\u306e\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u901a\u77e5\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_false}]}]},{type:"command",name:"broadcast-to",description:"\u6295\u7a3f\u7bc4\u56f2\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",
name:"status",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"avatar",description:"\u30a2\u30a4\u30b3\u30f3\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"thumbnail",description:"\u30b5\u30e0\u30cd\u30a4\u30eb\u753b\u50cf\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default},{type:"command",name:"separator",
description:"\u30b9\u30c6\u30fc\u30bf\u30b9\u8868\u793a\u306b\u533a\u5207\u308a\u7dda\u3092\u975e\u8868\u793a\u306b\u3057\u307e\u3059\u3002",execute:this.set_default}]}]}]},{type:"command",name:"exit",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",execute:this.exit_configuration},{type:"command",name:"end",description:"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",
execute:this.exit_configuration}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.set_paramater=function(a,k){for(var b=[],h=0;h<k.line_parsed.length-1;h++)b.push(k.line_parsed[h].name);return config.write(b,k.paramaters.string)};a.prototype.set_default=function(a,k){"no"===k.line_parsed[0].name&&k.line_parsed.shift();
for(var b=[],h=0;h<k.line_parsed.length-1;h++)b.push(k.line_parsed[h].name);return config.erase(b)};a.prototype.set_number=function(a,k){var b=parseInt(k.paramaters.number);return config.write(["instances","terminal","length"],b)};a.prototype.set_true=function(a,k){"no"===k.line_parsed[0].name&&k.line_parsed.shift();for(var b=[],h=0;h<k.line_parsed.length;h++)b.push(k.line_parsed[h].name);return config.write(b,!0)};a.prototype.set_false=function(a,k){"no"===k.line_parsed[0].name&&k.line_parsed.shift();
for(var b=[],h=0;h<k.line_parsed.length;h++)b.push(k.line_parsed[h].name);return config.write(b,!1)};a.prototype.set_command=function(a,k){for(var b=[],h=0;h<k.line_parsed.length-1;h++)b.push(k.line_parsed[h].name);return config.write(b,k.line_parsed.pop().name)};a.prototype.set_object=function(a,k){for(var b=[],h=0;h<k.line_parsed.length;h++)b.push(k.line_parsed[h].name);return"object"===typeof config.find(b)?!0:config.write(b,{})};a.prototype.set_broadcast=function(a,k){a.echo("executed!");return!0};
a.prototype.exit_configuration=function(a,k){a.pop();return!0};return a}();var ws=[],InstanceModeElement=function(){function a(){this._cmd_mode="global";this._dataset=[{type:"command",name:"toot",description:"\u66f8\u304d\u8fbc\u307f\u3092\u6295\u7a3f\u3057\u307e\u3059\u3002",execute:this.toot,children:[{type:"command",name:"public",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot},{type:"command",name:"unlisted",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u672a\u53ce\u8f09" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',
execute:this.toot},{type:"command",name:"private",description:'\u516c\u958b\u7bc4\u56f2\u3092 "\u975e\u516c\u958b" \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002',execute:this.toot}]},{type:"command",name:"show",description:"\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",children:[{type:"command",name:"user",description:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_user,children:[{type:"command",name:"id",description:"\u30e6\u30fc\u30b6\u30fcID\u3092\u6307\u5b9a",
children:[{type:"number",name:"userid",min:1,max:9999999,description:"\u30e6\u30fc\u30b6ID",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_user,children:[{type:"command",name:"statuses",description:"\u30e6\u30fc\u30b6\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u30c8\u30a5\u30fc\u30c8\u8868\u793a\u4ef6\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"number",name:"post_limits",min:1,
max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]},{type:"command",name:"pinned",optional:"pinned",description:"\u56fa\u5b9a\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_statuses}]},{type:"command",name:"following",description:"\u30d5\u30a9\u30ed\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_follows},{type:"command",name:"followers",description:"\u30d5\u30a9\u30ed\u30ef\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_follows}]}]},{type:"command",name:"instance",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_instance},{type:"command",name:"authentication",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002",execute:this.show_authentication},{type:"command",name:"timeline",description:"\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u306e\u6700\u65b0\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
execute:this.show_statuses,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",
execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",
name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",execute:this.show_statuses}]}]},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0",children:[{type:"paramater",name:"tag_name",description:"\u30bf\u30b0\u540d",execute:this.show_statuses,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u30c8\u30a5\u30fc\u30c8\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u30c8\u30a5\u30fc\u30c8\u6570(\u521d\u671f\u502420)",
execute:this.show_statuses}]}]}]},{type:"command",name:"notifications",description:"\u901a\u77e5\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3",execute:this.show_notifications,children:[{type:"command",name:"limit",description:"\u53d6\u5f97\u901a\u77e5\u6570",children:[{type:"number",name:"post_limits",min:1,max:40,description:"\u901a\u77e5\u6570(\u521d\u671f\u502420)",execute:this.show_notifications}]}]}]},{type:"command",name:"statuses",description:"\u30c8\u30a5\u30fc\u30c8\u3092\u8868\u793a\u3057\u307e\u3059\u3002",
children:[{type:"command",name:"id",description:"\u30c8\u30a5\u30fc\u30c8ID\u3092\u6307\u5b9a",children:[{type:"number",name:"status_id",min:1,max:9999999999,description:"\u30c8\u30a5\u30fc\u30c8ID",execute:this.show_status_id}]},{type:"command",name:"self",description:"\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc",execute:this.show_statuses}]}]},{type:"command",name:"search",description:"\u30e6\u30fc\u30b6\u30fc\u691c\u7d22\u3092\u884c\u3044\u307e\u3059",children:[{type:"paramater",name:"query",
description:"\u691c\u7d22\u30ad\u30fc\u30ef\u30fc\u30c9",execute:this.search_query}]},{type:"command",name:"login",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30ed\u30b0\u30a4\u30f3\u3092\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u3092\u66f4\u65b0\u3057\u307e\u3059",execute:this.login},{type:"command",name:"terminal",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"on_monitor",
children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.terminal_monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.terminal_monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.terminal_monitor,children:[]}]}]},{type:"command",
name:"no",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,optional:"no_monitor",children:[{type:"command",name:"monitor",description:"\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002",execute:this.terminal_monitor,children:[]}]}]},{type:"command",name:"monitor",description:"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30b9\u30c8\u30ea\u30fc\u30df\u30f3\u30b0\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002",
children:[{type:"command",name:"home",description:"\u30db\u30fc\u30e0\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"local",description:"\u30ed\u30fc\u30ab\u30eb\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",execute:this.monitor},{type:"command",name:"public",description:"\u9023\u5408\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",
execute:this.monitor},{type:"command",name:"tag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u3092\u30e2\u30cb\u30bf\u30fc\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"hashtag",description:"\u30cf\u30c3\u30b7\u30e5\u30bf\u30b0\u6587\u5b57\u5217",execute:this.monitor,children:[]}]}]},{type:"command",name:"filter",description:"\u6b63\u898f\u8868\u73fe\u30d5\u30a3\u30eb\u30bf\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",children:[{type:"paramater",name:"regular_expression",description:"\u6b63\u898f\u8868\u73fe\u6587\u5b57\u5217",
execute:this.set_filter}]},{type:"command",name:"no",description:"\u8a2d\u5b9a\u3092\u524a\u9664\u3057\u307e\u3059\u3002",children:[{type:"command",name:"filter",description:"\u6b63\u898f\u8868\u73fe\u30d5\u30a3\u30eb\u30bf\u3092\u524a\u9664\u3057\u307e\u3059\u3002",execute:this.set_filter}]},{type:"command",name:"clear",description:"\u753b\u9762\u3092\u6d88\u53bb\u3057\u307e\u3059\u3002",execute:this.clear},{type:"command",name:"exit",description:"\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e2\u30fc\u30c9\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002",
execute:this.exit}]}Object.defineProperty(a.prototype,"dataset",{get:function(){return this._dataset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cmd_mode",{get:function(){return this._cmd_mode},enumerable:!0,configurable:!0});a.prototype.login=function(a,k){a.pause();var b="https://"+instances[instance_name].domain+"/oauth/authorize?response_type=code&client_id="+instances[instance_name].client_id+"&redirect_uri="+encodeURIComponent(instances[instance_name].application.uris)+
"&scope="+(instances[instance_name].application.scopes.read?"read ":"")+(instances[instance_name].application.scopes.write?"write ":"")+(instances[instance_name].application.scopes.follow?"follow":"");location.href=b;return!0};a.prototype.terminal_monitor=function(a,k){if(!0===k.optional.on_monitor&&(0===ws.length||ws[0].readyStatus>=WebSocket.CLOSING)){monitor="undefined"===typeof k.line_parsed[2]?config.find("instances.terminal.monitor"):"tag"===k.line_parsed[2].name?k.paramaters.hashtag:k.line_parsed[2].name;
var b=config_notify(),h=!1;for(m in b)h=h||m;var m="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+"&stream=user";var x="undefined"===typeof k.line_parsed[2]?"local":k.line_parsed[2].name,z="/api/v1/timelines/"+("local"===x?"public":x),w=config.find(["instances","terminal","length"]);params={limit:0<w?w:20};"local"===x?params.local=!0:"tag"===x&&(z+="/"+k.paramaters.tag_name);a.pause();callAPI(z,{data:params}).then(function(b,d,h){for(d=
b.length-1;0<=d;d--)k.optional.pinned&&!b[d].pinned||a.echo(makeStatus(b[d]),{raw:!0,flush:!1});a.resume();a.flush()});"home"===monitor?(h=new WebSocket(m),h.onmessage=function(d){d=JSON.parse(d.data);"delete"===d.event&&b["delete"]?(d=d.payload,a.error("deleted ID:"+d),$("[name=id_"+d+"]").addClass("status_deleted")):"notification"===d.event?(d=JSON.parse(d.payload),a.echo(make_notification(d,b),{raw:!0}),beep_buf&&(d=context.createBufferSource(),d.buffer=beep_buf,d.connect(context.destination),
d.start(0))):"update"===d.event&&(d=JSON.parse(d.payload),d=makeStatus(d),a.echo(d,{raw:!0}));reduce_status()},h.onopen=function(){a.echo("Home Streaming start.")},h.onerror=function(b){a.error("Home Streaming error. closed.");console.log(b)},h.onclose=function(){a.echo("Home Streaming closed.")},ws.push(h)):(m=new WebSocket(m),h&&(m.onmessage=function(d){d=JSON.parse(d.data);"notification"===d.event&&(d=JSON.parse(d.payload),a.echo(make_notification(d,b),{raw:!0}))},m.onopen=function(){a.echo("Notification Streaming start.")},
m.onerror=function(a){console.warn(a)},m.onclose=function(){a.echo("Notification Streaming closed.")},ws.push(m)),m="wss://"+instances[instance_name].domain+"/api/v1/streaming?access_token="+instances[instance_name].access_token+("local"===monitor?"&stream=public:local":"public"===monitor?"&stream=public":"&stream=hashtag&tag="+monitor),m=new WebSocket(m),m.onmessage=function(d){d=JSON.parse(d.data);"delete"===d.event&&b["delete"]?(d=d.payload,a.error("deleted ID:"+d),$("[name=id_"+d+"]").addClass("status_deleted")):
"update"===d.event&&(d=JSON.parse(d.payload),d=makeStatus(d),a.echo(d,{raw:!0}));reduce_status()},m.onopen=function(){a.echo(monitor+" Streaming start.")},m.onerror=function(a){console.warn(a)},m.onclose=function(){a.echo(monitor+" Streaming closed.")},ws.push(m))}else if(!0===k.optional.no_monitor){for(h=0;h<ws.length;h++)ws[h].close(),ws[h]=void 0;ws=[]}};a.prototype.toot=function(a,k){var b="undefined"!==typeof k.line_parsed[1]?k.line_parsed[1].name:config.find("instances.visibility");"undefined"===
typeof b&&(b="public");$("#toot_visibility").val(b);$("#toot").slideDown("first");$("#toot_box").focus();a.focus(!1)};a.prototype.monitor=function(a,k){instances[instance_name].monitor="tag"===k.line_parsed[1].name?k.paramaters.hashtag:k.line_parsed[1].name;localStorage.setItem("instances",JSON.stringify(instances))};a.prototype.show_user=function(a,k){a.pause();("undefined"===typeof k.line_parsed[2]||"self"===k.line_parsed[2].name?callAPI("/api/v1/accounts/verify_credentials",{type:"GET"}):callAPI("/api/v1/accounts/"+
k.paramaters.userid,{type:"GET"})).then(function(b,h,k){h=new Date(b.created_at);k=parseInt((Date.now()-h.getTime())/6E4);var d=k%60,m=(k=(k-d)/60)%24,w=(k=(k-m)/24)%7,r=(k-w)/7;a.echo(b.display_name+" ID:"+b.id+(b.locked?" is locked":" is unlocked"),{flush:!1});a.echo("Username is "+b.username+", Fullname is "+b.acct,{flush:!1});a.echo("Created at "+h.toString(),{flush:!1});a.echo("Uptime is "+r+" weeks, "+w+" days, "+m+" hours, "+d+" minutes ("+k+" days have passed)",{flush:!1});a.echo(b.statuses_count+
" statuses posted, "+$("<a />").attr("name","cmd_following").attr("data-uid",b.id).text(b.following_count+" accounts are following").prop("outerHTML")+", "+$("<a />").attr("name","cmd_followers").attr("data-uid",b.id).text(b.followers_count+" accounts are followed").prop("outerHTML"),{raw:!0,flush:!1});a.echo("1 day toot rate "+parseInt(b.statuses_count/k)+" posts/day",{flush:!1});a.echo($.terminal.format("Note:"+b.note),{raw:!0,flush:!1});a.echo("URL: "+b.url,{raw:!1,flush:!1});return callAPI("/api/v1/accounts/"+
b.id+"/statuses",{data:{pinned:!0}})},function(b,h,k){console.log(b);JSON.parse(b.responseText);a.echo("Getting user data failed.("+b+")");a.resume()}).then(function(b,h,k){if(0<b.length&&b[0].pinned)for(a.echo("<br />",{raw:!0,flush:!1}),a.echo("[[ub;;]Pinned statuses]",{flush:!1}),h=0;h<b.length;h++)if(2<h){b=$("<a />").attr("name","cmd_status_pinned").attr("data-uid",b[h].account.id).text("... and more pinned status");a.echo(b.prop("outerHTML"),{raw:!0,flush:!1});break}else a.echo(makeStatus(b[h]),
{raw:!0,flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},function(b,h,k){console.log(b);JSON.parse(b.responseText);a.resume()})};a.prototype.search_query=function(a,k){a.pause();callAPI("/api/v1/search",{type:"GET",data:{q:k.paramaters.query}}).then(function(b,h,k){h=15;for(k=0;k<b.accounts.length;k++)h<b.accounts[k].acct.length&&(h=b.accounts[k].acct.length);h+=7;for(k="---------------";k.length<h;k+="-");k+="----------------------------";k=["Accounts:","| display name".addTab("| account name",
h).addTab("id",9),k];for(var d=0;d<b.accounts.length;d++)k.push(("| "+b.accounts[d].display_name).addTab("| @"+b.accounts[d].acct,h).addTab(b.accounts[d].id,9));k.push("----------------------------------------------------------");k.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.accounts.length+"\u4ef6");k.push("");k.push("Hash tags:");k.push("-----------------------------------");for(h=0;h<b.hashtags.length;h++)k.push("#"+b.hashtags[h]);k.push("-----------------------------------");k.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+
b.hashtags.length+"\u4ef6");a.echo(k.join("\n"));a.resume()},function(b,h,k){a.error("Search request is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_instance=function(a,k){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){console.log(b);a.echo("======== API Information ========",{flush:!1});a.echo("Instance name: "+b.title,{flush:!1});a.echo("Version: "+b.version,{flush:!1});a.echo("Description: "+b.description,{flush:!1});a.echo("E-mail: "+b.email,{flush:!1});
a.echo("URI: "+b.uri,{flush:!1});b.hasOwnProperty("stats")&&(a.echo("Connection instances: "+b.stats.domain_count,{flush:!1}),a.echo("Posted toots: "+b.stats.status_count,{flush:!1}),a.echo("Registed users: "+b.stats.user_count,{flush:!1}));a.echo("Streaming uri: "+b.urls.streaming_api,{flush:!1});a.echo("[OK]",{flush:!1});a.flush();a.resume()},function(b,h,k){a.error("Getting instance data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_authentication=function(a,k){a.pause();
callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,k){console.log(b);a.resume()})};a.prototype.exit=function(a,k){a.pop()};a.prototype.show_statuses=function(a,k){a.pause();var b="undefined"!==typeof k.paramaters.post_limits&&0<k.paramaters.post_limits?k.paramaters.post_limits:config.find(["instances","terminal","length"]);b=0<b?b:20;if("timeline"===k.line_parsed[1].name){var h="undefined"===typeof k.line_parsed[2]?"local":
k.line_parsed[2].name;var m="/api/v1/timelines/"+("local"===h?"public":h);var x={};"local"===h?x.local=!0:"tag"===h&&(m+="/"+k.paramaters.tag_name)}else if("user"===k.line_parsed[1].name)if(h=2===k.line_parsed.length||"self"===k.line_parsed[2].name?instances[instance_name].user.id:"id"===k.line_parsed[2].name?k.paramaters.userid:-1,0<h)x={limit:b},k.optional.hasOwnProperty("pinned")&&(x.pinned=!0),m="/api/v1/accounts/"+h+"/statuses";else{a.error("no login.");return}if("undefined"===typeof m)a.error("show status error.");
else{var z=[],w=0;a.push(function(a,b){},{name:"more",prompt:"--More-- ",onStart:function(a){a.pause();callAPI(m,{type:"GET",data:x}).then(function(d,h,m){z=[];for(h=0;h<d.length;h++)if(!k.optional.pinned||d[h].pinned)a.echo(makeStatus(d[h]),{raw:!0,flush:!1}),w=d[h].id;a.resume();a.flush();d.length<b&&a.pop()},function(b,d,h){a.error("Failed to getting statsues.");a.resume()})},onExit:function(a){setTimeout(function(){a.set_command("")},10)},keydown:function(a,d){function h(a){if(0<a){a=z.length<
a?z.length:a;for(var b=0;b<a;b++){var h=z.shift();d.echo(h,{raw:!0,flush:!1})}d.flush()}}switch(a.keyCode){case 27:case 81:d.pop();d.set_command("");break;default:d.pause();var r=13===a.keyCode?1:b;x.limit=100;0<w&&(x.max_id=w-1);0<z.length?(h(r),d.resume()):callAPI(m,{type:"GET",data:x}).then(function(a,b,m){if(0===a.length)d.pop();else{z=[];for(b=0;b<a.length;b++)if(!k.optional.pinned||a[b].pinned)z.push(makeStatus(a[b])),w=a[b].id;h(r);d.resume()}},function(a,b,h){d.error("Failed to getting statsues.")})}setTimeout(function(){d.set_command("")},
10);return!0}})}};a.prototype.show_status_id=function(a,k){a.pause();var b=k.paramaters.status_id,h;callAPI("/api/v1/statuses/"+b,{type:"GET"}).then(function(a,d,k){h=makeStatus(a)+a.favourites_count+" account favourited, "+a.reblogs_count+" account reblogged. <br />";return callAPI("/api/v1/statuses/"+b+"/context",{type:"GET"})}).then(function(b,d,k){for(k=0;k<b.ancestors.length;k++)d=makeStatus(b.ancestors[k]),a.echo(d,{raw:!0,flush:!1});a.echo(h,{raw:!0,flush:!1});for(k=0;k<b.descendants.length;k++)d=
makeStatus(b.descendants[k]),a.echo(d,{raw:!0,flush:!1});a.flush();a.resume()},function(b,d,h){a.error("Getting statuses is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.show_follows=function(a,k){a.pause();if(2===k.line_parsed.length||"self"===k.line_parsed[2].name){var b=instances[instance_name].user.id;var h=k.line_parsed[3].name}else b=k.paramaters.userid,h=k.line_parsed[4].name;callAPI("/api/v1/accounts/"+b+"/"+h,{type:"GET"}).then(function(b,d,h){d=15;for(h=0;h<b.length;h++)d<
b[h].acct.length&&(d=b[h].acct.length);d+=7;for(h="---------------";h.length<d;h+="-");h+="----------------------------";for(var k=["Accounts:","| display name".addTab("| account name",d).addTab("id",9),h],m=0;m<b.length;m++)k.push(("| "+b[m].display_name).addTab("| @"+b[m].acct,d).addTab(b[m].id,9));k.push(h);k.push("  \u8a72\u5f53\u4ef6\u6570\uff1a"+b.length+"\u4ef6");k.push("");a.echo(k.join("\n"));a.resume()},function(b,d,h){a.error("Getting account data is failed.("+b.status+")");console.log(b);
a.resume()})};a.prototype.show_notifications=function(a,k){a.pause();var b={},h=config_notify();k.paramaters.post_limits&&(b.limit=k.paramaters.post_limits);callAPI("/api/v1/notifications",{type:"GET",data:b}).then(function(b,d,k){for(d=b.length-1;0<=d;d--)a.echo(make_notification(b[d],h),{raw:!0});a.resume()},function(b,d,h){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.set_filter=function(a,k){"no"===k.line_parsed[0].name?delete instances[instance_name].filter:
instances[instance_name].filter=k.paramaters.regular_expression;localStorage.setItem("instances",JSON.stringify(instances));return!0};a.prototype.template=function(a,k){a.pause();callAPI("/api/v1/instance",{type:"GET"}).then(function(b,h,k){b=JSON.stringify(b,null,"    ");a.echo(b);a.resume()},function(b,h,k){a.error("Getting data is failed.("+b.status+")");console.log(b);a.resume()})};a.prototype.clear=function(a,k){a.clear();return!0};return a}();
function config_notify(){var a=config.find(["instances","terminal","logging"]);url_params.hasOwnProperty("notification")?(a=url_params.notification.split(","),a={"delete":0<=a.indexOf("del"),favourite:0<=a.indexOf("fav"),reblog:0<=a.indexOf("reb"),mention:0<=a.indexOf("men"),following:0<=a.indexOf("fol")}):a="object"===typeof a?{"delete":!1!==a&&!0===a["delete"],favourite:!1!==a&&!1!==a.favourite,reblog:!1!==a&&!1!==a.reblog,mention:!1!==a&&!1!==a.mention,following:!1!==a&&!1!==a.following}:{"delete":!1,
favourite:!0,reblog:!0,mention:!0,following:!0};return a};